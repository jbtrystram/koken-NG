{"version":3,"sources":["jquery.min.js","jquery-migrate.min.js","jquery-ui.min.js","moment.min.js","ace/ace.js","ace/mode-css.js","ace/mode-html.js","ace/theme-koken.js","ace/theme-kokenlight.js","animationframe.js","inflection.js","jquery-ui-timepicker-addon.js","jquery.bbq.js","jquery.easing.1.3.js","jquery.fitvids.js","jquery.mousewheel.min.js","jquery.zclip.min.js","knockout.min.js","koken-core.js","mediaelement-and-player.min.js","moment-timezone.min.js","piecon.js","plupload.min.js","redactor.js","spectrum.js"],"names":["exportAce","ns","require","module","callback","_require","root","global","define","packaged","_define","original","ACE_NAMESPACE","this","requirejs","deps","payload","apply","window","arguments","console","error","trace","length","modules","payloads","parentId","Object","prototype","toString","call","params","i","l","dep","lookup","push","normalizeModule","moduleName","indexOf","chunks","split","charAt","base","slice","join","previous","replace","exports","mod","id","uri","req","returnValue","dom","event","Editor","EditSession","UndoManager","Renderer","VirtualRenderer","MultiSelect","config","edit","el","_id","document","getElementById","Error","env","editor","doc","createEditSession","getInnerText","innerHTML","setSession","onResize","resize","bind","addListener","on","removeListener","text","mode","setUndoManager","Behaviour","$behaviours","add","name","action","undefined","addBehaviours","behaviours","key","remove","inherit","filter","getBehaviours","ret","addUnicodePackage","pack","codePoint","packages","L","Ll","Lu","Lt","Lm","Lo","M","Mn","Mc","Me","N","Nd","Nl","No","P","Pd","Ps","Pe","Pi","Pf","Pc","Po","S","Sm","Sc","Sk","So","Z","Zs","Zl","Zp","C","Cc","Cf","Co","Cs","Cn","TokenIterator","session","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","token","getTokenAt","$tokenIndex","index","stepBackward","stepForward","rowCount","getLength","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","column","start","value","lang","TextHighlightRules","$rules","regex","defaultToken","addRules","rules","prefix","state","rule","next","nextState","getRules","embedRules","HighlightRules","escapeRules","states","append","Array","deepCopy","$embeds","getEmbeds","pushState","currentState","stack","unshift","popState","shift","normalizeRules","processState","processed","end","isArray","stateName","r","include","includeName","toInsert","args","concat","noEscape","x","splice","keywordMap","createKeywordMapper","caseInsensitive","keys","forEach","map","ignoreCase","splitChar","keywords","create","className","a","toLowerCase","list","getPrototypeOf","__proto__","$keywordList","getKeywords","$keywords","oop","EventEmitter","Anchor","row","$onChange","onChange","attach","setPosition","implement","getPosition","$clipPositionToDocument","getDocument","$insertRight","e","delta","data","range","Math","max","noClip","pos","old","_signal","detach","removeEventListener","getLine","min","BackgroundTokenizer","tokenizer","running","lines","currentLine","self","$worker","workerStart","Date","endLine","startLine","len","processedLines","$tokenizeRow","setTimeout","fireUpdateEvent","setTokenizer","setDocument","stop","firstRow","lastRow","first","last","startRow","scheduleStart","$updateOnChange","clearTimeout","getState","line","getLineTokens","tokens","Range","SearchHighlight","regExp","clazz","type","setRegexp","MAX_RANGES","cache","update","html","markerLayer","ranges","getMatchOffsets","match","offset","j","drawSingleLineMarker","toScreenRange","Folding","getFoldAt","side","foldLine","getFoldLine","folds","fold","contains","isEnd","isStart","getFoldsInRange","foldLines","$foldData","foundFolds","cmp","compareRange","getFoldsInRangeList","getAllFolds","getFoldStringAt","trim","str","lastFold","compareEnd","substring","docRow","startFoldLine","foldData","getNextFoldLine","getFoldedRowCount","$addFoldLine","sort","b","addFold","placeholder","added","Fold","collapseChildren","$clipRangeToDocument","startColumn","endRow","endColumn","startFold","endFold","addSubFold","removeFolds","subFold","sameRow","foldLineNext","merge","FoldLine","$useWrapMode","$updateWrapData","$updateRowLengthCache","$modified","_emit","addFolds","removeFold","pop","newFoldLine","$updating","cloneFolds","expandFold","subFolds","restoreRange","foldAll","expandFolds","unfold","location","expandInner","fromPoints","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","walk","lastColumn","getDisplayLine","$cloneFoldData","fd","clone","toggleFold","tryToUnfold","bracketPos","selection","getRange","isEmpty","cursor","findMatchingBracket","comparePoint","getCommentFoldRange","isMultiLine","getTextRange","dir","iterator","test","re","RegExp","depth","foldWidgets","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","style","$foldMode","$setFolding","foldMode","$updateFoldWidgets","updateFoldWidgets","getParentFoldRangeData","ignoreCurrent","fw","firstRange","c","onFoldWidgetClick","domEvent","options","children","shiftKey","all","ctrlKey","metaKey","siblings","altKey","$toggleFoldWidget","target","srcElement","isEqual","toggleFoldWidget","getCursor","setFoldLine","shiftRow","compareStart","containsRow","comp","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","log","foldBefore","idxToPosition","idx","lastFoldEndColumn","MAX_TOKEN_COUNT","Tokenizer","regExps","matchMappings","ruleRegExps","matchTotal","mapping","flag","splitterRurles","adjustedregex","matchcount","exec","tokenArray","onMatch","$arrayTokens","$applyToken","digit","parseInt","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","m","values","types","src","y","inChClass","lastCapture","esc","parenOpen","parenClose","square","substr","startState","lastIndex","skipped","consumePoint","point","anchor","consumeRange","restorePoint","RangeList","inherits","containsRange","compare","afterStart","unicode","Mode","$behaviour","tokenRe","nonTokenRe","getTokenizer","$tokenizer","$highlightRules","lineCommentStart","blockComment","toggleCommentLines","iter","fun","ignoreBlankLines","shouldRemove","minIndent","Infinity","tabSize","getTabSize","insertAtTabStop","regexpStart","escapeRegExp","getUseSoftTabs","uncomment","shouldInsertSpace","removeInLine","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","minEmptyLength","indent","search","floor","toggleBlockComment","colDiff","initialRange","toOrientedRange","startRange","endRange","insert","fromOrientedRange","getNextLineIndent","$getIndent","checkOutdent","autoOutdent","createWorker","createModeDelegates","$modes","delegations","scope","functionName","defaultHandler","$delegator","method","transformAction","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","meta","$id","comparePoints","pointIndex","excludeEdges","startIndex","cmpEnd","cmpStart","endIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipRows","clipped","removeAll","changeRange","lineDif","n","p1","p2","p","intersects","setStart","setEnd","inside","insideStart","insideEnd","compareInside","extend","collapseRows","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","BracketMatch","position","chr","charBeforeCursor","$findClosingBracket","$findOpeningBracket","getBracketRange","$brackets",")","(","]","[","{","}","bracket","typeRe","openBracket","valueIndex","closingBracket","valueLength","Selection","clearSelection","lead","selectionLead","createAnchor","selectionAnchor","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","setSelectionAnchor","getSelectionAnchor","getSelectionLead","shiftSelection","columns","moveCursorTo","isBackwards","$moveSelection","selectAll","setRange","setSelectionRange","reverse","selectTo","mover","selectToPosition","moveCursorToPosition","moveTo","moveToPosition","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","getWordRange","selectWord","selectAWord","getAWordRange","getLineRange","excludeLastChar","rowEnd","rowStart","selectLine","moveCursorBy","isTabStop","screenRow","documentToScreenRow","firstColumnPosition","screenToDocumentPosition","beforeCursor","leadingSpace","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","moveCursorLongWordRight","rightOfCursor","moveCursorLongWordLeft","leftOfCursor","stringReverse","$shortWordEndIndex","ch","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","chars","screenPos","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","toJSON","rangeCount","r1","fromJSON","rangeList","toSingleRange","addRange","Search","$options","set","mixin","getOptions","copyObject","setOptions","find","$matchIterator","findAll","needle","$assembleRegExp","getLines","getAllLines","$isMultiLine","prevRange","maxRow","outer","matches","input","replacement","preserveCase","toUpperCase","backwards","matchIterator","Number","MAX_VALUE","_callback","$lineIterator","$disableFakeMultiline","wholeWord","modifier","caseSensitive","$assembleMultilineRegExp","parts","skipCurrent","wrap","TextMode","Document","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","onChangeFold","resetOptions","setMode","isFullWidth","bgTokenizer","resetCaches","$resetRowCache","$docRowCache","$screenRowCache","$getRowCacheIndex","cacheArray","val","low","hi","mid","$wrapData","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","ignore","$deltasDoc","$deltasFold","$informUndoManager","schedule","setValue","$deltas","getUndoManager","reset","getValue","getSelection","undoManager","cancel","$syncInformUndoManager","group","deltas","execute","mergeUndoDeltas","delayedCall","markUndoGroup","$defaultUndoManager","undo","redo","getTabString","stringRepeat","setUseSoftTabs","setOption","$useSoftTabs","$mode","$indentWithTabs","setTabSize","$tabSize","$overwrite","setOverwrite","overwrite","getOverwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","addMarker","inFront","marker","renderer","addDynamicMarker","removeMarker","markerId","markers","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","$annotations","getAnnotations","clearAnnotations","$detectNewLine","$autoNewLine","inToken","wordRange","setNewLineMode","newLineMode","getNewLineMode","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","cb","$onChangeMode","path","loadModule","$isPlaceholder","$stopWorker","$startWorker","addEventListener","_self","wrapMethod","$wrapMethod","foldingRules","terminate","Worker","noWorker","getMode","$scrollTop","setScrollTop","scrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","scrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","width","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","lastUndoRange","revertDeltas","$getUndoSelection","foldDelta","redoChanges","applyDeltas","setUndoSelect","enable","isUndo","isInsert","lastDeltaIsInsert","moveText","fromRange","toPosition","copy","toRange","rowDiff","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","size","$moveLines","diff","$clipRowToDocument","removeLines","insertLines","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","arr","abs","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","CHAR","CHAR_EXT","PUNCTUATION","SPACE","TAB","TAB_SPACE","addSplit","displayed","lastSplit","lastDocSplit","splits","displayLength","isCode","$wrapAsCode","minSplit","charCodeAt","getScreenTabSize","maxScreenColumn","screenColumn","getRowLength","h","getRowLineCount","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","rowCache","doCache","splitIndex","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","defineOptions","$wrap","col","get","handlesSet","initialValue","firstLineNumber","useSoftTabs","HashHandler","CommandManager","platform","commands","byName","setDefaultHandler","command","$readOnly","readOnly","retvalue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","getKeyboardHandler","$callKeyboardHandlers","hashId","keyString","keyCode","toExecute","success","passEvent","stopEvent","onCommandKey","keyCodeToString","onTextInput","useragent","isMac","commandKeyBinding","__defineGetter__","__defineSetter__","warned","warn","commmandKeyBinding","addCommands","addCommand","removeCommand","bindKey","_buildKeyHash","ckb","keyPart","binding","parseKeys","removeCommands","bindKeys","keyList","FUNCTION_KEYS","KEY_MODS","findKeyCommand","ckbr","FoldHandler","getDocumentPosition","getAccelKey","gutterRegion","$gutterLayer","getRegion","isFocused","focus","scrollCursorIntoView","win","mac","init","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","prompt","gotoLine","getAllRanges","findNext","findPrevious","multiSelectAction","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","scrollBy","layerConfig","lineHeight","jumpToMatching","getSelectionRange","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","once","newCallback","handlers","_disabled_","disabled","removeDefaultHandler","capturing","off","removeAllListeners","$doc","hasUndo","dirtyCounter","$undoStack","$redoStack","NaN","undoSelectionRange","redoSelectionRange","hasRedo","markClean","isClean","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","head","getDocumentHead","s","createElement","appendChild","onload","_","isAbort","GutterLayer","Gutter","MarkerLayer","Marker","TextLayer","Text","CursorLayer","Cursor","HScrollBar","VScrollBar","RenderLoop","FontMetrics","editorCss","importCssString","container","theme","$keepTextAreaAtCursor","addCssClass","setTheme","$gutter","scroller","content","onGutterResize","$markerBack","textLayer","$textLayer","canvas","element","$markerFront","$cursorLayer","$horizScroll","$vScroll","scrollBar","scrollBarV","scrollBarH","$scrollAnimation","scrollMargin","top","left","cursorPos","$fontMetrics","updateCharacterSize","gutterWidth","$size","height","scrollerHeight","scrollerWidth","$dirty","padding","firstRowScreen","characterWidth","minHeight","maxHeight","gutterOffset","right","bottom","v","$loop","$renderChanges","ownerDocument","defaultView","CHANGE_FULL","setPadding","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_GUTTER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","allowBoldFonts","$allowBoldFonts","setStyle","getCharacterWidth","getLineHeight","$updatePrintMargin","onChangeNewLineMode","updateLines","$changedLines","$updateEolChar","onChangeTabSize","updateText","updateFull","updateFontSize","checkForSizeChanges","$changes","$updateSizeAsync","pending","resizing","clientHeight","scrollHeight","clientWidth","scrollWidth","changes","$updateCachedSize","$padding","$extraHeight","oldSize","getHeight","$showGutter","offsetWidth","getWidth","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","setAnimatedScroll","shouldAnimate","getAnimatedScroll","$animatedScroll","setShowInvisibles","showInvisibles","getShowInvisibles","getOption","getDisplayIndentGuides","setDisplayIndentGuides","display","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","getShowGutter","setShowGutter","show","getFadeFoldWidgets","setFadeFoldWidgets","setHighlightGutterLine","shouldHighlight","getHighlightGutterLine","$updateGutterLineHighlight","$pixelPos","getPixelPosition","$gutterLineHighlight","$printMarginEl","containerEl","insertBefore","firstChild","visibility","getContainerElement","getMouseEventTarget","getTextAreaContainer","$moveTextAreaToCursor","posTop","posLeft","$composition","textarea","getFirstVisibleRow","getFirstFullyVisibleRow","getLastFullyVisibleRow","flint","getLastVisibleRow","setScrollMargin","sm","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","setScrollHeight","$updateScrollBarH","setScrollWidth","$frozen","freeze","unfreeze","marginTop","marginLeft","$highlightGutterLine","scrollLines","$updateLines","$autosize","$maxLines","desiredHeight","$minLines","vScroll","setVisible","$gutterWidth","hideScrollbars","screenLines","longestLine","$getLongestLine","horizScroll","hScrollChanged","$scrollPastEnd","$vScrollBarAlwaysVisible","vScrollChanged","firstRowHeight","lineCount","ceil","round","charCount","updateFrontMarkers","setMarkers","updateBackMarkers","updateBreakpoints","updateCursor","hideCursor","showCursor","scrollSelectionIntoView","$viewMargin","topMargin","bottomMargin","getScrollTopRow","getScrollBottomRow","scrollToRow","alignCursor","alignment","STEPS","$calcSteps","fromValue","toValue","steps","func","t","x_min","dx","pow","scrollToLine","center","animate","initialScroll","animateScrolling","oldSteps","from","to","clearInterval","$timer","setInterval","scrollToY","scrollToX","scrollTo","deltaX","deltaY","isScrollableBy","pixelToScreenCoordinates","canvasPos","getBoundingClientRect","screenToTextCoordinates","textToScreenCoordinates","pageX","pageY","visualizeFocus","visualizeBlur","removeCssClass","showComposition","keepTextAreaAtCursor","cssText","setCompositionText","hideComposition","afterLoad","$themeId","cssClass","$theme","setCssClass","isDark","getTheme","unsetStyle","setCursorStyle","setMouseCursor","cursorStyle","destroy","animatedScroll","printMarginColumn","printMargin","showGutter","fadeFoldWidgets","showFoldWidgets","setShowFoldWidgets","showLineNumbers","setShowLineNumbers","displayIndentGuides","highlightGutterLine","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","fontSize","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","$fixedWidth","scriptOptions","scriptUrl","scripts","getElementsByTagName","script","getAttribute","attributes","attr","deHyphenate","basePath","workerPath","modePath","themePath","m1","net","suffix","$moduleUrls","hasOwnProperty","moduleUrl","component","sep","setModuleUrl","subst","$loading","onLoad","moduleType","optionsProvider","optList","optionNames","result","opt","forwardTo","defaultOptions","obj","setDefaultValue","opts","setDefaultValues","optionHash","parentEl","$showFoldWidgets","$updateAnnotations","$cells","annotation","rowInfo","annoText","escapeHTML","breakpoints","decorations","$firstLineNumber","lastLineNumber","gutterRenderer","$renderer","cell","removeChild","textNode","foldWidget","createTextNode","getText","$computePadding","$showLineNumbers","getShowLineNumbers","getShowFoldWidgets","computedStyle","paddingLeft","paddingRight","rect","DragdropHandler","mouseHandler","prevCursor","now","vMovement","hMovement","cursorMovedTime","$blockScrolling","cursorPointOnCaretMoved","distance","calcDistance","SCROLL_CURSOR_HYSTERESIS","SCROLL_CURSOR_DELAY","autoScroll","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","hScroll","autoScrollStartTime","AUTOSCROLL_DELAY","onDragInterval","dragCursor","addDragMarker","dragSelectionMarker","getSelectionStyle","setBlinking","timerId","counter","onMouseMove","clearDragMarker","isInternal","getReadOnly","onMouseMoveTimer","canAccept","dataTransfer","some","getDropEffect","copyAllowed","moveAllowed","copyModifierState","effectAllowed","dropEffect","blankImage","isOpera","onMouseDown","dragOperation","mouseTarget","onDragStart","cancelDrag","draggable","startSelect","captureMouse","_top","offsetTop","setDragImage","clearData","setData","setState","onDragEnd","onDragEnter","onDragOver","clientX","clientY","onDragLeave","onDrop","dropData","getData","ax","ay","bx","by","sqrt","dragWait","interval","mousedownEvent","time","getDragDelay","startDrag","dragWaitEnd","selectEnd","dragReadyEnd","onMouseDrag","isIE","dragDrop","$dragEnabled","inSelection","button","getButton","clickCount","detail","inMultiSelectMode","getShiftKey","eventTarget","unselectable","isWebKit","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","setInnerHtml","stringBuilder","extraStyle","lineRange","extraLength","MouseEvent","$pos","$inSelection","selectionRange","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getNewLineCharacter","$characterSize","measure","$pollSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","$indentGuideRe","spaceContent","tabContent","lineElements","childNodes","lineElementsIdx","lineElement","$renderLine","$useLineGroups","oldConfig","lastChild","fragment","$renderLinesFragment","createDocumentFragment","$textToken","rparen","lparen","$renderToken","replaceReg","replaceFunc","tabIdx","classToUse","space","output","classes","renderIndentGuide","cols","$renderWrappedLine","onlyContents","splitChars","$renderSimpleLine","$getFoldLineTokens","addTokens","renderTokens","$measureNode","parentNode","Tooltip","isOpen","$element","$parentNode","$init","getElement","setText","setInnerText","setHtml","setClassName","hide","offsetHeight","IE8","isVisible","isBlinking","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateVisibility","$updateOpacity","opacity","blinking","restartTimer","setBlinkInterval","setSmoothBlinking","removeCursor","intervalId","timeoutId","blink","onScreen","cursorLeft","cursorTop","selections","$selectionMarkers","cursorIndex","pixelPos","$setOverwrite","GutterHandler","showTooltip","mouseEvent","gutter","hideTooltip","tooltipAnnotation","tooltip","$tooltipFollowsMouse","moveTooltip","gutterElement","tooltipTimeout","GutterTooltip","$clickSelection","hasCssClass","isMousePressed","windowWidth","innerWidth","documentElement","windowHeight","innerHeight","ScrollBar","parent","classSuffix","inner","skipEvent","onScroll","$scrollbarWidth","scrollbarWidth","setHeight","setInnerHeight","setWidth","setInnerWidth","ScrollBarV","ScrollBarH","DefaultHandlers","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","DRAG_OFFSET","ev","selectionEmpty","textInput","onContextMenu","$focusTimout","shiftPressed","setCapture","select","orientedRange","unitName","selectAllEnd","selectByWordsEnd","selectByLinesEnd","releaseCapture","focusWait","wheelY","wheelX","timeStamp","dt","$lastScrollTime","isScrolable","speed","onRender","change","nextFrame","DefaultGutterHandler","MouseHandler","onMouseEvent","addMultiMouseDownListener","addMouseWheelListener","gutterEl","mousemove","$scrollSpeed","mouseMoveHandler","$mouseMoved","onCaptureEnd","onCaptureInterval","$onCaptureMouseMove","releaseMouse","isOldIE","capture","scrollSpeed","dragDelay","dragEnabled","focusTimout","tooltipFollowsMouse","CHAR_COUNT","$setMeasureNodeStyles","$main","$testFractionalRect","textContent","isRoot","whiteSpace","font","overflow","$measureSizes","fontWeight","boldSize","charSizes","setPolling","$measureCharWidth","BROKEN_SETDATA","isChrome","TextInput","host","resetSelection","inComposition","inputHandler","selectionStart","selectionEnd","resetValue","PLACEHOLDER","syncValue","onContextMenuClose","tempStyle","isTouchPad","setAttribute","autocorrect","autocapitalize","spellcheck","cut","copied","pasted","isSelectionEmpty","activeElement","onBlur","onFocus","blur","syncSelection","isAllSelected","createTextRange","collapse","moveStart","moveEnd","createRange","parentElement","inPropertyChange","onPropertyChange","syncProperty","sendText","keytable",13,27,"onCompositionEnd","onCompositionUpdate","onCompositionStart","onSelect","setInputHandler","getInputHandler","afterContextMenu","onPaste","execCommand","source","onInput","onCut","getCopyText","clipboardData","supported","onCopy","addCommandKeyListener","lastValue","timer","syncComposition","isGecko","setReadOnly","borderTopWidth","borderLeftWidth","maxTop","move","isWin","string","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyArray","array","cons","constructor","arrayToMap","createMap","props","arrayRemove","deferredCall","fcn","deferred","timeout","isPending","defaultTimeout","delay","isSamePoint","$multiselectOnSessionChange","$onAddRange","$onRemoveRange","$onMultiSelect","$onSingleSelect","onSessionChange","defaultCommands","addAltCursorListeners","altCursor","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","oldRange","mergeOverlappingRanges","lastRange","$initRangeList","splitIntoLines","rectSel","toggleBlockSelection","rectangularRangeBlock","screenCursor","screenAnchor","includeEmptyLines","xBackwards","yBackwards","docEnd","updateSelectionMarkers","addSelectionMarker","selectionMarkerCount","removeSelectionMarker","removeSelectionMarkers","markerList","keyBinding","keyboardHandler","$onMultiSelectExec","multiSelect","inVirtualMode","forEachSelection","exitMultiSelectMode","cmd","$byLines","inVirtualSelectionMode","reg","tmpSel","cmdResult","anim","onCursorChange","onSelectionChange","getSelectedText","buf","nl","additive","$search","selectMoreLines","skip","screenLead","newRange","toRemove","sel","tmp","words","selectMore","alignCursors","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","d","fr","lr","guessRange","$reAlignText","forceLeft","alignLeft","startW","textW","endW","alignRight","unAlign","isLeftAligned","isRightAligned","oldSession","enableMultiselect","$mouseHandler","$historyTracker","$initOperationListeners","_$emitInputEvent","startOperation","prev","prevOp","lastFileJumpPos","curOp","selectionChanged","endOperation","$opResetTimer","docChanged","commadEvent","previousCommand","$mergeUndoDeltas","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","handler","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onScrollTopChange","onScrollLeftChange","oldEditor","getSession","getFontSize","setFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getCursorPosition","getMatching","$isFocused","$cursorChange","$updateHighlightActiveLine","$highlightActiveLine","$selectionStyle","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","startOuter","endOuter","lineCols","getBehavioursEnabled","transform","$mergeNextCommand","lineState","shouldOutdent","isNewLine","lineIndent","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","getHighlightActiveLine","setHighlightSelectedWord","getHighlightSelectedWord","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","getWrapBehavioursEnabled","fade","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","number","amount","charRange","parseFloat","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","endPoint","linesMoved","rangeIndex","isRowVisible","isRowFullyVisible","$getVisibleRowCount","$moveByPage","getCursorPositionScreen","preventScroll","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","$resetCursorStyle","$cursorStyle","cursorLayer","selectionStyle","highlightActiveLine","highlightSelectedWord","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","foldStyle","alt","ctrl","isMultiSelect","mouseX","mouseY","onMouseSelection","blockSelect","newCursor","onMouseSelectionEnd","onSelectionInterval","OS","LINUX","MAC","WINDOWS","getOS","isLinux","navigator","os","ua","userAgent","appName","isMozilla","controllers","product","isOldGecko","opera","isAIR","isIPad","readonly","isAvailable","ctor","superCtor","super_","enumerable","writable","configurable","proto","WorkerClient","topLevelNamespaces","classname","workerUrl","$sendDeltaQueue","changeListener","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","DOMException","blob","$workerBlob","URL","webkitURL","blobURL","createObjectURL","revokeObjectURL","postMessage","callbackId","callbacks","onmessage","msg","protocol","pathname","deltaQueue","emit","ex","attachToDocument","q","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","blobBuilder","getBlob","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","Keys","MODIFIER_KEYS",16,17,18,224,"option","super",8,9,19,32,33,34,35,36,37,38,39,40,44,45,46,96,97,98,99,100,101,102,103,104,105,"-13",112,113,114,115,116,117,118,119,120,121,122,123,144,145,"PRINTABLE_KEYS",48,49,50,51,52,53,54,55,56,57,59,61,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,107,109,110,188,190,191,192,219,220,221,222,"enter","escape","del","mods","String","fromCharCode","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","lengthDiff","distanceFromStart","otherPos","newPos","undosRequired","normalizeCommandKeys","getModifierHash","pressedKeys","altGr","keyLocation","ts","elem","attachEvent","wrapper","_wrapper","detachEvent","cancelBubble",1,2,4,"eventHandler","releaseCaptureHandler","onMouseUp","factor","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","timeouts","callbackName","startX","startY","clicks","eventNames",3,"isNewClick","getModifierString","lastKeyDownKeyCode","lastDefaultPrevented","postMessageId","nextTick","messageName","listener","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","level","openingBracketBlock","closingBracketBlock","XHTML_NS","tag","createElementNS","toggleCssClass","node","hasCssString","sheets","createStyleSheet","styleSheets","owningElement","importCssStylsheet","link","rel","href","getInnerWidth","getInnerHeight","pageYOffset","getPageScrollTop","getPageScrollLeft","pageXOffset","body","getComputedStyle","currentStyle","minWidth","noScrollbar","withScrollbar","innerHtml","cloneNode","replaceChild","innerText","getParentWindow","parentWindow","Empty","doesDefinePropertyWork","object","defineProperty","exception","toInteger","Function","that","TypeError","bound","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","__lookupGetter__","__lookupSetter__","makeArray","lengthBefore","array_splice","deleteCount","removeCount","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","boxedString","splitString","toObject","thisp","every","reduce","reduceRight","sought","lastIndexOf","getOwnPropertyDescriptor","ERR_NON_OBJECT","property","descriptor","getter","setter","getOwnPropertyNames","createEmpty","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","hasDontEnumBug","dontEnums","dontEnumsLength","ii","dontEnum","getTime","ws","o","getNativeFlags","multiline","extended","sticky","item","real","compliantExecNpcg","compliantLastIndexIncrement","r2","_xregexp","captureNames","binarySearch","comparator","findAnnotations","matched","LineWidgets","widgetManager","oldWidget","gutterAnno","sc","fixedWidth","coverGutter","arrow","removeLineWidget","addLineWidget","onmousedown","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","_inDocument","$updateRows","noWidgets","zIndex","pixelHeight","onWidgetChanged","changedWidgets","coverLine","$lines","_insertLines","$split","$newLineMode","$clipPosition","firstLine","lastLine","insertNewLine","firstFullRow","lastFullRow","_removeLines","removeNewLine","newLine","secondLine","indexToPosition","newlineLength","positionToIndex","ace","CssHighlightRules","MatchingBraceOutdent","CssBehaviour","CStyleFoldMode","$outdent","tab","worker","supportType","supportFunction","supportConstant","supportConstantColor","supportConstantFonts","numRe","pseudoElements","pseudoClasses","keywordMapper","support.function","support.constant","support.type","support.constant.color","support.constant.fonts","media","ruleset","openBracePos","CstyleBehaviour","rightChar","selected","context","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","initContext","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","isSaneInsertion","recordAutoInsert","recordMaybeInsert","matching","isAutoInsertedClosing","popAutoInsertedClosing","closing","isMaybeInsertedClosing","clearMaybeInsertedClosing","next_indent","quote","leftChar","quotepos","$matchTokenType","iterator2","BaseFoldMode","commentRegex","forceMultiline","getSectionRange","startIndent","subRange","JavaScriptMode","CssMode","HtmlHighlightRules","HtmlBehaviour","HtmlFoldMode","HtmlCompletions","fragmentContext","$completer","js-","css-","JavaScriptHighlightRules","XmlHighlightRules","tagMap","form","img","label","table","tbody","td","tfoot","th","tr","start_tag_stuff","end_tag_stuff","embedTagRules","xml_declaration","instruction","doctype","declarations","cdata","reference","qstring_inner","qqstring_inner","multiLineString","hasType","tokenTypes","XmlBehaviour","voidElements","atCursor","rightChars","MixedFoldMode","XmlFoldMode","area","br","embed","hr","keygen","param","track","wbr","li","dd","rt","rp","optgroup","colgroup","DocCommentHighlightRules","getStartRule","getEndRule","defaultMode","subModes","$getMode","$tryMode","variable.language","keyword","storage.type","constant.language","constant.language.boolean","kwBeforeRe","identifierRe","escapedRe","no_regex","regex_character_class","function_arguments","comment_regex_allowed","line_comment_regex_allowed","line_comment","qqstring","qstring","_getFirstTagInLine","tagName","selfClosing","_parseTag","tagRe","_readTagForward","_readTagBackward","_pop","firstTag","isBackward","tokenizedLine","endState","results","findTagName","commonAttributes","eventAttributes","globalAttributes","attributeMap","title","noscript","section","nav","article","aside","h1","h2","h3","h4","h5","h6","header","footer","address","pre","blockquote","ol","ul","dl","figure","figcaption","div","em","strong","small","cite","dfn","abbr","code","var","samp","kbd","sub","sup","u","mark","ruby","bdi","bdo","span","ins","iframe","video","audio","svg","math","caption","thead","fieldset","legend","datalist","progress","meter","details","summary","menu","dialog","allElements","getTagCompletions","getAttributeCompetions","elements","attribute","snippet","currTime","timeToCall","lastTime","vendors","cancelAnimationFrame","InflectionJS","uncountable_words","plural_rules","singular_rules","non_titlecased_words","id_suffix","underbar","space_or_underbar","uppercase","underbar_prefix","apply_rules","override","fromIndex","compareFunc","_uncountable_words","_plural_rules","_singular_rules","_non_titlecased_words","pluralize","plural","singularize","singular","camelize","lowFirstLetter","str_path","str_arr","initX","underscore","humanize","capitalize","dasherize","titleize","demodulize","tableize","classify","foreign_key","dropIdUbar","ordinalize","ltd","ld","suf","$","ui","timepicker","version","Timepicker","regional","currentText","closeText","amNames","pmNames","timeFormat","timeSuffix","timeOnlyTitle","timeText","hourText","minuteText","secondText","millisecText","microsecText","timezoneText","isRTL","_defaults","showButtonPanel","timeOnly","timeOnlyShowDate","showHour","showMinute","showSecond","showMillisec","showMicrosec","showTimezone","showTime","stepHour","stepMinute","stepSecond","stepMillisec","stepMicrosec","hour","minute","second","millisec","microsec","timezone","hourMin","minuteMin","secondMin","millisecMin","microsecMin","hourMax","minuteMax","secondMax","millisecMax","microsecMax","minDateTime","maxDateTime","maxTime","minTime","hourGrid","minuteGrid","secondGrid","millisecGrid","microsecGrid","alwaysSetTime","separator","altFieldTimeOnly","altTimeFormat","altSeparator","altTimeSuffix","pickerTimeFormat","pickerTimeSuffix","showTimepicker","timezoneList","addSliderAccess","sliderAccessArgs","controlType","defaultValue","parse","$input","$altInput","$timeObj","inst","hour_slider","minute_slider","second_slider","millisec_slider","microsec_slider","timezone_select","hourMinOriginal","minuteMinOriginal","secondMinOriginal","millisecMinOriginal","microsecMinOriginal","hourMaxOriginal","minuteMaxOriginal","secondMaxOriginal","millisecMaxOriginal","microsecMaxOriginal","ampm","formattedDate","formattedTime","formattedDateTime","units","support","control","setDefaults","settings","extendRemove","_newInst","tp_inst","inlineSettings","fns","overrides","attrName","attrValue","eval","err","beforeShow","dp_inst","isFunction","evnts","onChangeMonthYear","year","month","_updateDateTime","onClose","dateText","timeDefined","detectSupport","_controls","tzl","tzi","tzv","timezoneOffsetString","iso8601","timezoneOffsetNumber","getTimezoneOffset","altField","css","trigger","minDate","maxDate","_onFocus","_addTimePicker","currDT","_parseTime","_limitMinMaxDateTime","_injectTimePicker","timeString","withDate","datepicker","_getInst","dp_dateFormat","_get","parseRes","parseDateTimeInternal","_getFormatConfig","timeObj","parseTime","$dp","dpDiv","litem","uitem","gridSize","noDisplay","tmph","formatTime","showTz","$tp","prepend","marginRight","borderCollapse","click","$t","ap","f","_onTimeChange","_onSelectHandler","textAlign","fn","local_timezone","selectedYear","selectedMonth","selectedDay","selectLocalTimezone","$buttonPanel","rtl","sliderAccess","sliderAccessWidth","outerWidth","each","$g","oldWidth","oldMarginLeft","newWidth","newMarginLeft","adjustSliders","dp_date","minDateTimeDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getMicroseconds","maxDateTimeDate","tempMinTime","tempMaxTime","minMax","secMax","step","hasChanged","inArray","inputEl","dtTmp","currentYear","currentMonth","currentDay","_daylightSavingAdjust","dateFmt","formatCfg","timeAvailable","formatDate","lastVal","altFormattedDateTime","altFormat","_updateDatepicker","slider","unit","prop","orientation","slide","format","appendTo","tmp_args","datetimepicker","parseDateTime","dateFormat","dateTimeString","dateSettings","timeSettings","date","setHours","setMicroseconds","strictParse","treg","getPatternAmpm","getFormatPositions","finds","orders","z","regstr","ml","order","resTime","looseParse","err2","tmptime","ampmName","convert24to12","_base_selectDate","_selectDate","dateStr","inline","stay_open","_notifyChange","_base_updateDatepicker","_curInst","_datepickerShowing","_lastInput","_base_doKeyPress","_doKeyPress","tz","dateChars","_possibleChars","datetimeChars","charCode","_base_updateAlternate","_updateAlternate","_getDate","_base_doKeyUp","_doKeyUp","_base_gotoToday","_gotoToday","_setTime","_disableTimepickerDatepicker","_enableTimepickerDatepicker","defaults","_setTimeDatepicker","_setDateFromField","tp_date","_base_setDateDatepicker","_setDateDatepicker","timezoneAdjust","_base_getDateDatepicker","_getDateDatepicker","noDefault","_base_parseDate","parseDate","_base_formatDate","_formatDate","_base_optionDatepicker","_optionDatepicker","name_clone","onselect","isEmptyObject","tf","isIn","computeEffectiveSetting","splitDateTime","timeParts","timePartsLen","allParts","allPartsLen","dateString","parsedTime","tzMinutes","minutes","hours","iso","tzString","normalized","toTimezone","toTz","setMinutes","timeRange","startTime","endTime","handleRange","datetimeRange","dateRange","checkDates","changed","startdt","enddt","changeddt","setMilliseconds","minInterval","maxInterval","_util","_extendRemove","_isEmptyObject","_convert24to12","_detectSupport","_selectLocalTimezone","_computeEffectiveSetting","_splitDateTime","_parseDateTimeInternal","microseconds","jQuery","is_string","arg","curry","aps","get_fragment","re_fragment","get_querystring","jq_param_sub","is_fragment","get_func","merge_mode","qs","url_params","hash","re_params_fragment","re_params_querystring","jq_deparam","str_fragment","str_querystring","jq_param_sorted","re_no_escape","decode","fragment_prefix","jq_deparam_sub","url_or_params","coerce","jq_param","jq_fn_sub","force_attr","jq_elemUrlAttr","nodeName","jq_param_fragment","jq_deparam_fragment","jq_bbq_pushState","jq_bbq_getState","ajax_crawlable","decodeURIComponent","jq_bbq","bbq","special","str_hashchange","str_elemUrlAttr","str_href","str_src","elemUrlAttr_cache","sorted","traditional","key_obj","encodeURIComponent","ajaxCrawlable","deparam","coerce_types","true","false","null","cur","keys_last","has_args","removeState","handleObj","new_handler","old_handler","fake_onhashchange","doc_mode","documentMode","supports_onhashchange","teardown","poll","history_hash","history_get","last_hash","history_set","timeout_id","fn_retval","easing","def","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","fitVids","customSelector","selectors","ignoreList","$allVideos","not","$this","parents","aspectRatio","videoID","random","removeAttr","Zepto","admin_path","base_path","has","localstorage","localStorage","retina","devicePixelRatio","matchMedia","paths","admin","base_relative","store","fallback_previews","image","plugin_paths","reserved","uploader","dragging","dragTimeout","currentFile","runtimes","flash_swf_url","browse_button_hover","browse_button_active","headers","X-KOKEN-AUTH","helpers","parse_tag_input","multis","tags","bool","clean","file_ext","file","ext","distinctArray","filtered","grep","k","guid","outside","closest","rtrim","charlist","strcon","haystack","stristr","unique","temp","uniqueObjects","dupe","JSON","stringify","viewport_area","midOff","midWidth","midHeight","total","framework","internalcache","_current","scroll","observers","interfaces","cookie","expire","expires","setTime","toGMTString","rebuildInheritance","alteredSubclass","subclass","app","GUI","sync","request","finished","active","pubsub","models","views","events","router","exit","ko","subscribable","obs","_Koken","construct","klass","intface","orig","observer","exclude","recur","observableArray","observable","notify","note","txt","template","K","messages","vsprintf","removeClass","addClass","is","fadeIn","fadeOut","wait","namespace","_subs","subscribe","unbind","queue","items","async","counts","max_async","max_sync","system","max_parallel_requests","verifyData","status","rerun","putIntoQueue","runQueue","_run","_item","_method","_success","_error","dataType","ajax","done","fail","always","clonedItems","newRequest","modal","hasKeepCancel","cancelId","_data","channels","channel","doesMatch","regx","target_interface","local","hasChanges","c_leave","k_leave","unsaved_changes","pluginCleanup","plugins","plugin","rendered","routes","route","_interface","koken","_path","_context","_routes","view","pluginPath","lastLocal","_session","store_api","uuid","post","proxy","persist","protect","setItem","removeItem","getItem","F","res","run","_ctxt","getResponseHeader","unmap","unwrapped","extract","utils","unwrapObservable","__k","__Koken","_guid","user_plugins","kguid","setting","_internalTemplate","selector","existingElement","_vm","_element","_obj","dataFor","templateId","appendAfter","insertAfter","applyBindings","_hook","hooks","_args","_route","interface","modified_route","which","activeInterface","album","_channel","_kproto","_change","_event","_type","_validate","valid","form_validation","_internalKokenTemplates","koken.library.albumSidebar","library","sidebar","asset","save","instant","album_type","koken.library.sidebar","spectrum","showInput","koken.library.multiSidebar","get_asset_by_id","koken.library.navigation","set_current_nav","koken.sheet.section","koken.settings.edit.top","koken.settings.edit.bottom","_reloadLibraryContent","api_url","_render","_renderedElement","_template","_selector","__selector__","_toAppend","_scrollbar","scrollbar","_save","updated","arrayFirst","_sync","_sheet","sheet","toggle_sheet","hasTemplate","_cb","__callback","hook","render","reloadLibraryContent","utilities","validate","__init","templates","_update","doesHaveTemplates","reinit","bindingHandlers","valueAccessor","allBindingsAccessor","unwrap","sliderOptions","data-send-as","send_as","data-default-value","default","ErrorHandlingBindingProvider","bindingProvider","nodeHasBindings","getBindings","bindingContext","bindingsError","keepId","keepFn","clear","reload","current","message","groupCollapsed","groupEnd","instance","selectRange","apiError","apiErrorMessage","apiMaintenance","http","tests","browserSupported","logout","Piecon","color","background","shadow","fallback","resizeInt","ms","lastClickedElement","lastHash","firstRun","sortToDrag","itemsBeingSortedDragged","tagsHasBeenEdited","lastFocused","resizeHandlers","hasClass","contain","margin-top","margin-left","lazy_album_sheet","ratio","lastpos","calcs","wrapInner","bar","loopy","outerHeight","cache_key","bar_p","pause","show_tick","listen","order_by","suppress","scroll_overlay","lazy","mid_scroll_finish","isError","getErrorMessageElement","email","_el","isSheet","canBeValidated","handlersBound","validations","bindings","validateBtn","validateBtnActv","validationsVisible","isAlreadyValid","initial_value","editorWindow","autosave","rangeTimer","autosaveInterval","changeToSlider","rangeEl","appendToElement","triggerElement","autocomplete","term","tid","canClose","allowClose","canClickOutside","closeFn","cancelFn","percent","firstLoad","uploaderIsBeingInitialized","evt","match_album_visibility","fromVisibility","toVisibility","viz_type_reset","viz_type_current","viz_type_new","page_to_edit","unpublish_essay","page_type","leave_edit","delete_tag","site","do_revert","do_revert_settings","category_actions","delete_category","init_draft","draft_exists","switch_draft","publish","delete_text","delete_draft","reset_nav","assign_cover","about","load_tree","fetch_themes","init_copiers","init_triggers","real_base_path","load_categories","migrations_running","load","urls","url_data","has_urls","process_plugin_data","reset_settings","has_toured","tour","getJSON","update_count","products","disable_auto_updates","update_available","update_available_version","update_url","migrations","run_migrations","handle","_didFindPluginEvent","_plugin","uploading_default_license","ob","uploading_default_license_clean","bits","user","destroyEditor","moment","fromNow","delete_tag_confirm","zclip","afterCopy","ids","alteredcategories","_inp","hasCheck","tempcategories","categories","catsChecked","replaceAlteredCategories","ac","tot","_cats","tag_actions","parsed_tags","noobs","recent","_t","temptags","close_sidebar_drawer","drawerOpen","tagBeingDeleted","removing","didChange","nextPage","links","currentLink","eq","prevPage","update_slug","slug","existingSlug","validateRegex","timestamp_actions","utc","site_timezone","onunload","andSelf","toggle_dropdown","dropdowns","wedge","_ob","cleanNode","toggle_visibility","scroll_top","toggle","toggleClass","ignore_release","migrate","install_release","update_failed","requirements","update_compat_fail","required","update_recovered","themes","toggle_plugin","activated","page","pages","mid_multi","loadklass","load_image","load_content","file_modified_on","presets","drag","multiselect","prevUntil","_li","nextUntil","load_to","subscription","dispose","_filename","filename","show_error","last_upload","load_page","is_loading","pages_loaded","total_pages","content_per_page","_url","fragments","create_node","duration","filters","extensions","browse_button","drop_element","plupload","Uploader","uploaded","__koken","up","features","max_file_size","parseSize","chunk_size","upload_limit","multipart_params","thumb","files","parseJSON","response","update_item","plugin_upload","basename","text_upload","shortcode_upload","refresh","upload","cleanup","isUploading","starttime","updateStatus","failed","close","slideUp","toAlbum","albumParams","toAlbumId","unbindAll","update_album_counts","public","update_summary","bars","dragdrop","loaded","bytesPerSec","setProgress","shouldUploadToAlbum","uploading_default_visibility","startUpload","upload_session_start","import_content","license","max_download","uploading_default_max_download_size","slideDown","itemsQueuedElement","currentItemsQueued","load_albums_full","albums","albums_full","events_init","flat","albums_flat","unlisted_albums","private_albums","noob","catDoesntExist","category","create_collection","image_processing_library","image_processing_libraries","site_url","__site_url_has_changed","image_use_defaults","use_default_labels_links","site_time_format","site_date_format","favorite","feature","essay","timeline","home","hashchange","default_links","pulse_transitions_that_ease","user_shortcodes","user_pulse_plugins","user_pulse_transitions","user_pulse_transitions_settings","user_oembeds","user_oembed_thumbs","user_shortcodes_icons","user_custom_sources","essays","user_custom_sources_keys","decodeUrl","allAlbums","hasPlugin","postLoad","tmpl","class","uCaseWords","$1","truncate","format_date","fmt","apply_timezone","isNumeric","form_site_link","rewrite_enabled","inArrayTags","searchIn","found","user_transitions","user_transitions_settings","custom_sources","info","shortcodes","internal","media_row_icon","icon","oembeds","has_thumbnail","pulse","transitions","supports_easing","ident","plugin_enabler","control_first","__plugin","multi_in_array","needles","get_album_cover","covers","tiny","cropped","get_preset_url","preset","make_url_safe","foreign_characters","||","|","","","","","||||||||||||||||||||||||","|||||||||||||||||||||||||","","","||||","||||","","","|||","|||","|||||||||||||||||||||","|||||||||||||||||||||","","","|||||","|||||","|","|","||||||||||||||||||","||||||||||||||||||","","","||","||","||||||","||||||","","","|||||","||||||","|||||||||||||||||||||||||||","||||||||||||||||||||||||||||","","","||||","||||","||||||","||||||||","|||||","||||","|||||||||||||||||||||||","|||||||||||||||||||||||||","|||||||||","||||||","","","","","||||","||||","|","","","","","","","","","","","","","","","","","","","","","","","","","","","order_by_string","sync_order_by","order_string","album_id","is_set","load_text","change_order_by","direction","change_order_direction","slug_is_editable","asset_resize","show_cover","timestamp","modified_on","_items","ulCopy","ulCopyData","sortable","hasBeenUpdated","helper","tolerance","cursorAt","itemSortDrag","isBeingDropped","is_quick_collection","remainder","quick_collection","itemID","replaceWith","beforeStop","__koken__","revert","originalPosition","fadeTo","badge","rewrite_hash","disableSelection","trash","search_filter","assets","_asset_type","raw","description","recursiveTitleChange","isMultiAlbum","content_loading","loading","selected_type","asset_single_view","thumbnail_scale","scale_thumbnails","desc","drawer","common","multiselection_categories","mixed","collection","itemId","hasgeo","asset_multi_view","get_selected_asset_categories","multi","isContent","tagsCommonAcrossAll","selectionHasTags","tagsToShow","actual","licenses","visibilities","downloads","visible","download","is_orderable","url_parts","php_class_name","is_sortable","upload_match_url","is_uploadable","final_url","non_api","order_direction","load_until","order_defined","order_direction_defined","is_quick","trashRestoreDisabled","default_sort","passengers","next_page","enable_plugin_import","toggle_focal","focal_point","sort_year","sort_month","setup_keyboard_bindings","setup_drawer_events","gear_hovering","load_quick_collection","bypass","new_index","prev_item","next_item","select_all","search_filter_change","badges","Event","_asset","asset_type","save_asset","recursive_search","shouldShowModal","labels","albumShouldMatchVsibility","multiHistory","_years","years","_months","months","_days","days","_hours","_mins","apiStr","itemData","captured_on","raw_dt","unix","multiedit","maxdl","singleHistory","overall","images","in_album","row_index","trashed","arrayForEach","share","_lat","geolocation","latitude","_long","longitude","formatted_address","google","maps","Map","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","animation","Animation","DROP","toggle_share_modal_option","share_modal_link","inp","cache_path","extension","share_modal_link_custom","constrain_ratio","aspect_ratio","edit_menu","atag","fav","feat","quick","remove_from_mid","newContentArr","cover","_ids","updates","upd_type","is_collection","itemRemovedIndex","nextId","_covers","refreshTree","degree","relative_url","reverse_manual","save_changes","btn","isTrigger","toggle_gear_popout","gear_popout","koData","featured","selectedAlbum","_syncAPI","tag_search","category_search","title_search","reset_filter","setup_sidebar_pickers","reset_secret_link","open_sidebar_drawer","origText","more_properties","_finish","validated","moreData","toggle_license","album-visibility","arrow_toggle","open_sets","arrow_toggle_date","sidebar_callback","coversHeight","allCovers","exists","cover_draggable","primary","containment","dblclick","cover_droppable","droppable","hoverClass","accept","over","out","drop","alreadyDropped","album_draggable","root_droppable","parent_viz","equal","listed","url_match","album_set","shouldBeNotified","isInPublic","remove_from_set","change_listed","_albumIds","_reqs","side_droppable","getContentById","droppableContext","hasBeenAdded","wasSupposedToBeAdded","numNotAdded","revertDuration","album_droppable","greedy","__ids","imagesBeingMoved","private","unlisted","get_selected_asset_albums","_added","album_set_droppable","droppableId","isParent","parentsUntil","_totalDrops","_clone","dropVisibility","trash_droppable","collect","ndex","isSingle","thumCSS","listHW","lis","show_root_site_links","plugin_sel","$li","$a","focal_draggable","rewrite_ui","uploaded_on","datetime","frag","valueHasMutated","buildUploader","disableBrowse","cover_ids","ttl","published","published_on","modified","created","created_on","wr","captured","medium","restart","loaded_from_cache","loadstamp","_parts","hasUploadedContent","firstTime","album_fan","stacks","finish","imgs","idsToSend","catsToAdd","catsToDelete","selection_categories","allCategory","selectedCategory","updatedData","hasBeenEdited","toBeAdded","toBeRemoved","toBeDetermined","sidebarTags","toBeAddedClone","hidden","complete","file_type","vid","mediaelementplayer","videoWidth","videoHeight","flashName","asset_position_focal","wrap_offset","img_offset","dims","mid_single","mid_div","prependTo","enableAutosize","asset_dimensions","mid_w","mid_h","mid_aspect","aspect","rmId","cov","cookies","multiTagsBeingPushed","getNow","collections","videos","sets","content_type","album_class","selection_albums","commonCats","cat","has_tag","is_closed","check","isChild","child","left_id","is_cover","in_array","exif_label","exif","fields","uploading_default_album_visibility","add_tag","remove_tag","lastSelected","initUpload","_selected","setSelected","php","bttn","stamp","login","message_state","change_state","message_interval","new_state","retrieve_password","back_to_login","serialize","slider_number_toggle","preview","edit_plugin_data","dependencies","strict","evaluate","pass","conditions","condition","equals","console_url","base_url","view_clean","originalEvent","quality_defaults","medium_large","large","xlarge","huge","sharpening_defaults","_zones","zone","offset_label","timezones","applications","clear_image_cache","clear_system_cache","build_image_cache","_n","_next","pct","create_api_token","new_api_token","role","deny_app_access","application_request","revoke_app_access","grant_app_access","send_test_email","delivery_address","email_delivery_address","email_handler","save_plugin","new_data","edit_plugin","edit_plugin_error","save_user","new_pwd","confirm_pwd","save_password","help","commons_change","(console|administrator|importing|publishing|photos|applications|plugins|email|system|cache|advanced)(/(.*))?","disable_system_info","guids","purchase","koken_store_guid","install_plugin","history","replaceState","doesNotHaveValidations","validation","jsdate","formatChrCb","formatChr","_pad","txt_words","D","getDay","Y","W","A","B","H","getUTCHours","getUTCMinutes","getUTCSeconds","g","G","I","UTC","O","tzo","T","U","date_options","time_options","nonce","date_is_custom","time_is_custom","custom_time_change","time_change","custom","custom_date_change","date_change","remove_selected","settings_visibility","skip_deps","els","check_dependencies","$div","loaded_page","greater_than","less_than","shortcuts","panel","run_expand","isNavBeingDragged","contentDocument","pulses","gear","settings_panel","sitepanel_pulse","$K","contentWindow","groups","override_pulse_settings","siteframe","updateloc","historycache","colorpicker","iframeFix","range_listen","settings_flat","live_updates","reload_preview","is_pulse","current_style_defaults","new_style_variables","styles","variables","styled_settings","el_val","current_style_default","alpha","alphaInput","settings_send","toRgbString","style_text","lb_style_text","field","lightbox","live_update_css","clean_v","_v","pulse_settings_group","pulse_settings_send","checked","refresh_site_data","load_theme_previews","parse_draft_data","source_filter","index_route","frame","shade","spriteCoords","coords","expand","custom_css","editor_type","rel_path","navigation","front","source_label","loaded_route","is_sub_archive","current_page_nav","available","edit_nav","navigation_draft","special_paths","has_page_template","supported_archives","templates_grouped","indexes","specials","lb","intId","parse_filters","toggle_css_editor","mid_col","toggle_editor_theme","kokentheme","kokenlighttheme","check_for_custom_styling","custom_style","manage_filter_tag","add_filter_tag","apply_filters","new_route","_manage_link","allow_label","auto","url_data_send","day","is_album","filterTmp","filterObj","push_route","save_nav","filter_current","members","update_state","gear_menu","ref","edit_link","selectedLabel","navigation_sort","sortables","current_nav","new_nav","theme_view","page_view","iframe_loaded","nav_from_link","reset_link_form","link_to_edit","link_to_current","current_path","lbl","album_content","content_url","_magics","_p","match_data","update_link","is_new","add_custom_link","create_custom_link","edit_nav_group","used","used_albums","used_pages","used_sections","supported_sections","rss","profiles","internals","sections","toggle_link_specials","arrayFilter","_index","arrayIndexOf","refresh_destination","add_index_link","sheet_title","add_archive_link","toggle_link_sections","toggle_link_rss","toggle_link_profiles","service","service_key","twitter","toggle_link_pages","toggle_link_albums","valid_path","existing_paths","change_link_type","link_type","change_nav_filter","confirm_site_revert","revert_settings","confirm_site_revert_settings","published_theme","drafts","theme_change","draft_id","new_draft","site_loaded","draftExists","draft","reset_links","saved","settings_position","_h","_w","ph","pw","vdiff","hdiff","loadUrl","loc","subnavigation","ui_init","view_change","vis","site_inspector_scrollTop","left_col_vis","revertNote","revertCompleteMessage","only","main_menu","pulse_groups","register","update_link_filters","page_select","single","themes/install/([^:]+):([a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12})(?:/(\\d+))?$","install_theme","themes/?(preview:([^/]+)/?)?","preview_obj","(draft|live)/?((theme|page)/?)?(url:(.*)$)?","settings_panel_docked","tagline","navigation_groups","author","draft_history","create_link_template","create_link","edit_link_data","current_page_link","custom_source_keys","tag_option","order_set","order_type","left_col","right_col","add_link","fwd","top_content","top_essay","set_val","refs","can_link_to_album","link_to","page_data_label","selected_options","mailbox","current_iframe_src","resetContext","moving","entries","store_url","php_version","image_processing","image_processing_support","pinged","update_products","redirect","navigate","init_url","notification","refresh_themes","refresh_plugins","update_products_fail","cart_count","updates_count","username","support_link","end_autosave","trip_sheet_resize","current_shortcode_data","parse_shortcode","media_type","controls","preload","content_html","dataUrl","autostart","Pulse","endpoint","shortcode_collection","favorites","shortcode_media","editing","insert_link","__featured_image","Image","setup_custom_shortcode_sort","current_shortcode","to_replace","info_clone","unescape_code","isreplacing","cp","libUrl","loadOverridden","navItems","urlToLoad","sheet_media_chosen","secondary","fetch_drafts","load_edit","last_edit","excerpt_timer","excerpt","firstPageLoad","draft_title","start_autosave","old_title","scrollOffset","setSelection","tgt","$el","newData","shortData","featured_from_oembed","large_thumbnail_url","thumbnail_url","save_feature","featured_order","escape_code","autosave_timeout_id","autosave_text_id","getCatsTopics","calendar_data","dates","text_wrap","shortcode_keys","shortcode_wrap","param_arr","oembed","text_unwrap","_map_page_to_edit","__loaded","create_text","wasCreated","_airButtons","_buttonsCustom","save_selection","anchorNode","media_sheet","album_sheet","selected_text","upload_sheet","_reset","saveSelection","custom_sheet","shortcode_custom","essays_only","pages_only","shortcode","styleEl","styleOut","insert_shortcode","klink","new_window","existing","redactor","shim_paragraph","observeImages","air","convertDivs","airButtons","buttonsCustom","image_regex","update_editor","shortcode_remove_field","shortcode_add_field","filler","undo_draft","open_in_site","internal_id","delete_from_list","list_index_to_delete","toggle_featured","_editor","toggle_html","toggle_editor","editor_on","text_edit_full","toggle_editor_view","toggle_theme","browser_valid","toggle_expand","toggle_grid","grid","toggle_topic","is_topic","get_selected_topics","narr","open_year","clear_filters","canLeave","leave","edit_shortcode_media","edit_shortcode","title_alt","description_alt","shortcode_edit","custom_url","remove_shortcode","unpublish","text_live","is_autosaving","silent","featured_image","dindex","toggle_internal_link","insert_collection","insert_custom","media_row_label","setFocusNode","update_shortcode","insert_upload","restoreSelection","insert_media","currRow","assign_feature","delete_feature","clear_link","inp_val","getSelectedHtml","insertHtml","edit_page","selected_cats","get_selected_cats","curr_cats","cc","save_and_close","this_year","this_month","isalbumset","lastexeccommand","getSelectSpacing","_spacer","_out","selection_info","isTopic","selected_topics","year_open","hasEditedItems","hasEdits","topics","__topic_str","__topic_ids","sheet_loaded","isediting","embed_item","add_topic","hasBeenAltered","Koken","currentFavicon","originalFavicon","originalTitle","agent","browser","ie","chrome","webkit","safari","mozilla","getFaviconTag","removeFaviconTag","setFaviconTag","getCanvas","drawFavicon","percentage","getContext","faviconImage","clearRect","beginPath","arc","fillStyle","fill","lineTo","toDataURL","crossOrigin","updateTitle","_0xf6db","RELANG","RLANG","link_insert","unlink","formatting","paragraph","header1","header2","header3","header4","bold","italic","fontcolor","backcolor","unorderedlist","orderedlist","outdent","_delete","insert_table","insert_row_above","insert_row_below","insert_column_left","insert_column_right","delete_column","delete_row","delete_table","add_head","delete_head","image_position","none","image_web_link","mailto","web","video_html_code","choose","or_choose","drop_file_here","align_left","align_center","align_right","align_justify","horizontalrule","deleted","link_new_tab","$obj","Redactor","keyupCallback","keydownCallback","execCommandCallback","tabindex","autoresize","fixed","fixedTop","fixedBox","mobile","wym","paragraphy","convertLinks","autosaveCallback","imageGetJson","imageUpload","imageUploadCallback","fileUpload","fileUploadCallback","uploadCrossDomain","uploadFields","overlay","allowedTags","buttonsAdd","buttons","colors","allEmptyHtml","mozillaEmptyHtml","buffer","visual","modal_file","modal_image_edit","modal_image","modal_link","modal_table","modal_video","toolbar","dropdown","separator_drop1","separator_drop2","separator_drop3","alignleft","aligncenter","alignright","justify","isMobile","build","enableAir","buildToolbar","oldsafari","setBuffer","saveScroll","pasteCleanUp","extractContent","pastedFrag","getFragmentHtml","keyup","keydown","autoSave","observeTables","observeScroll","formatEmpty","formatNewLine","linkify","syncCode","getParentNode","getBuffer","insertNodeAtCaret","safariShiftKeyEnter","$box","textareamode","showAir","setCode","getCode","msie","resizeImage","tableObserver","scrolltop","boxtop","$toolbar","pasteHTML","parent2","oldIE","getCurrentNode","newElement","nodehtml","X","R","blocks","m0","m2","m3","stripTags","allowed","$0","formattingRemove","prebuffer","formattingIndenting","formattingEmptyTags","etags","bbb","formattingAddBefore","btags","eee","formattingAddAfter","atags","aaa","setBtnActive","setBtnInactive","buildButton","buildColorPicker","buildDropdown","hdlHideDropDown","hideDropDown","hdlShowDropDown","showDropDown","drop_a","swatch","backgroundColor","elnone","setBackgroundNone","setColorNone","getBtn","hideAllDropDown","air_top","showedDropDown","cloned","savedSel","savedSelObj","getOrigin","getFocus","getRangeAt","startContainer","selectNodeContents","insertNode","cloneRange","removeAllRanges","nodeType","outerHTML","textRange","markerSpan","moveToElementText","cloneContents","htmlText","start_x","start_y","clicked","clicker","min_w","min_h","hover","mousedown","mouseup","imageEdit","mouse_y","div_h","new_h","new_w","showTable","modalInit","insertTable","table_box","tableid","modalClose","$table","$table_tr","$table_td","$tbody","$thead","$current_td","$current_tr","deleteTable","deleteRow","deleteColumn","cellIndex","addHead","deleteHead","insertRowAbove","insertRow","insertRowBelow","insertColumnLeft","insertColumn","insertColumnRight","new_tr","showVideo","insertVideo","imageDelete","imageSave","floating","float","margin","showImage","folders","folder","folderclass","thumbtitle","folderkey","imageSetThumb","onchangeFunc","dragupload","uploadInit","tabs","imageUploadCallbackLink","endCallback","_imageSet","json","filelink","showLink","insert_link_node","turl","setModalTab","insertLink","tab_selected","_insertLink","showFile","hdlModalClose","modalSaveBodyOveflow","num","uploadOptions","element_action","submit","uploadSubmit","uploadForm","uploadFrame","uploadLoaded","formId","fileId","oldElement","frames","rawString","jsonString","alert","normalize","ipad","getEditor","getSelected","removeData","setFocus","Construct","atext","droparea","dropareabox","dropalternative","ondrag","ondragleave","uploadProgress","ajaxSettings","provider","ondrop","FormData","contentType","processData","url1","url2","linkifyThis","nodeValue","textselect","textunselect","handlerKey","hideAll","spectrums","instanceOptions","callbackContext","defaultOpts","initialize","palletElementClick","IE","showButtons","showPalette","showPaletteOnly","showInitial","shouldReplace","boundElement","replacer","offsetElement","setFromTextInput","cancelButton","chooseButton","dragX","dragY","currentHue","slideHeight","dragStart","dragStop","dragger","currentSaturation","dragWidth","currentValue","dragHeight","initialColor","addSelectionToPalette","palette","setPalette","paletteContainer","delegate","initialColorContainer","isInitialized","paletteLookup","hex","tinycolor","toHexString","maxPaletteSize","drawPalette","paletteTemplate","drawInitial","initial","colorOnShow","activeIndex","reflow","draggingClass","updateUI","realColor","changeOnMove","updateOriginalInput","newColor","newHsv","toHsv","updateHelperLocations","flatColor","realHex","previewElement","isInput","dragHelperHeight","dragHelper","slideY","slideHelper","slideHelperHeight","slideWidth","slideHelperHelperHeight","getOffset","spect","throttle","markup","replaceInput","picker","extraY","dpWidth","dpHeight","inputHeight","docElem","viewWidth","viewHeight","noop","onmove","onstart","onstop","prevent","touches","maxWidth","hasTouch","rightclick","duringDragEvents","debounce","throttler","gradientFix","dataID","extra","loadOpts","skipRatio","ok","_tc_id","toHsvString","toHsl","toHslString","toHex","toRgb","toName","toFilter","rgb","rgba","hsl","hsla","hsv","hex6","hex3","desaturate","saturate","greyscale","lighten","darken","complement","triad","tetrad","splitcomplement","analogous","monochromatic","readable","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],"mappings":"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mG,QAAUnmG,OAAO+tG;AClF5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/FA,WAEC,GAAIC,YAAahuG,OAAO+V,SAASgzD,SAASlnE,QAAQ,mBAAoB,IACrEosG,UAAYD,WAAWnsG,QAAQ,cAAe,OAC9C6vD,KAAO1xD,OAAO+V,SAAS+yD,SAAW,KAAO9oE,OAAO+V,SAAS27C,KAE1Dw8C,KACCC,aAAc,gBAAkBnuG,SAAkC,OAAxBA,OAAOouG,cAGlDxrG,QAECyrG,OAAS,oBAAsBruG,SAAUsuG,iBAAmB,GAAO,cAAgBtuG,SAAUuuG,WAAW,2BAA2BzhF,QAEnI7b,OAAO,EAEP65F,OAAQ,iBAER0D,OACCC,MAAO/8C,KAAOs8C,WACdvsG,KAAMiwD,KAAOu8C,UACbS,cAAeT,UACfU,OAAO,GAGRC,mBACCC,MAAO,wBACP3iB,MAAO,yBAGR4iB,aAAc,KAEdC,UAAW,MAAM,UAAU,SAAS,OAAO,OAAO,WAAW,UAAU,QAAQ,SAE/EC,UAECC,UAAU,EAEVC,YAAa,KAEbC,YAAa,KAEbx0B,YACCy0B,SAAc,cACdC,cAAkB,eAClBC,oBAAuB,QACv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AAK,IACVv2E,KAAKovJ,YAAW,KAGlB6F,WACC/hD,OAAQO,GAAGY,YAAW,GACtBhyG,GAAIoxG,GAAGY,WAAW,aAClB7rE,OAAQ,SAAS21E,GAChB,GAAI9uG,GAAOrP,KACVk1J,GAAiB,CAElB/2C,GACE3xF,KAAK,gCACLqa,IAAI,SACJ1iC,GAAG,aAAc,WACjB+wJ,GAAiB,IAGnB/2C,EACE3xF,KAAK,kCACLqa,IAAI,SACJ1iC,GAAG,aAAc,WACb+wJ,GAAkB7lJ,EAAK8iG,UAAU4T,aAAamoB,aAAa7+H,EAAKilG,SAASl0E,QAAQ,IAAM/wB,EAAK8iG,UAAU4T,aAAan8B,QAAU,gCAexIowB,IAAMpG,SAENvzG,OAAO80J,MAAQl7C;ACnnpBhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"console_0.22.5.min.js","sourcesContent":["/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m=\"2.1.1\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return\"object\"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,\"isPrototypeOf\")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=l.createElement(\"script\"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C=\"undefined\",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",O=N.replace(\"w\",\"w#\"),P=\"\\\\[\"+M+\"*(\"+N+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+O+\"))|)\"+M+\"*\\\\]\",Q=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+P+\")*)|.*)\\\\)|)\",R=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),S=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),T=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),V=new RegExp(Q),W=new RegExp(\"^\"+O+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+P),PSEUDO:new RegExp(\"^\"+Q),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+L+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ab=/[+~]/,bb=/'|\\\\/g,cb=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),db=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||\"string\"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&\"object\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\"id\"))?s=r.replace(bb,\"\\\\$&\"):b.setAttribute(\"id\",s),s=\"[id='\"+s+\"'] \",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(\",\")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\"id\")}}}return i(a.replace(R,\"$1\"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener(\"unload\",function(){m()},!1):g.attachEvent&&g.attachEvent(\"onunload\",function(){m()})),c.attributes=ib(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML=\"<div class='a'></div><div class='a i'></div>\",a.firstChild.className=\"i\",2===a.getElementsByClassName(\"i\").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML=\"<select msallowclip=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowclip^='']\").length&&q.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+M+\"*(?:value|\"+L+\")\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\")}),ib(function(a){var b=e.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+M+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",Q)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\"='$1']\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||\"\").replace(cb,db),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+M+\")\"+a+\"(\"+M+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,\"$1\"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||\"\")||fb.error(\"unsupported lang: \"+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(R,\"$1\"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\"0\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\"*\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ib(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||jb(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||jb(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute(\"disabled\")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^.[^:#\\[\\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,\"string\"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?\"undefined\"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?\"string\"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return n.dir(a,\"parentNode\",c)},next:function(a){return D(a,\"nextSibling\")},prev:function(a){return D(a,\"previousSibling\")},nextAll:function(a){return n.dir(a,\"nextSibling\")},prevAll:function(a){return n.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return n.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return n.dir(a,\"previousSibling\",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler(\"ready\"),n(l).off(\"ready\"))))}});function I(){l.removeEventListener(\"DOMContentLoaded\",I,!1),a.removeEventListener(\"load\",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),\"complete\"===l.readyState?setTimeout(n.ready):(l.addEventListener(\"DOMContentLoaded\",I,!1),a.addEventListener(\"load\",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if(\"string\"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(O,\"-$1\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)\n},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf(\"-\")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){L.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=L.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,R=[\"Top\",\"Right\",\"Bottom\",\"Left\"],S=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement(\"div\")),c=l.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U=\"undefined\";k.focusinBubbles=\"onfocusin\"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,\"type\")?b.type:b,r=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(\".\")>=0&&(r=q.split(\".\"),q=r.shift(),r.sort()),k=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,\"events\")||{})[b.type]&&L.get(g,\"handle\"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||\"click\"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bb=/<([\\w:]+)/,cb=/<|&#?\\w+;/,db=/<(?:script|style|link)/i,eb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,fb=/^$|\\/(?:java|ecma)script/i,gb=/^true\\/(.*)/,hb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ib={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function kb(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],\"globalEval\",!b||L.get(b[c],\"globalEval\"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&T.test(a.type)?b.checked=a.checked:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,\"script\"),g.length>0&&mb(g,!i&&ob(a,\"script\")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if(\"object\"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement(\"div\")),g=(bb.exec(e)||[\"\",\"\"])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,\"<$1></$2>\")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=\"\"}else l.push(b.createTextNode(e));k.textContent=\"\",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),\"script\"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||\"\")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(ab,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&\"string\"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,\"script\"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,\"script\"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||\"\")&&!L.access(h,\"globalEval\")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,\"\")))}return this}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],\"display\");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),\"none\"!==c&&c||(qb=(qb||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp(\"^(\"+Q+\")(?!px)[a-z%]+$\",\"i\"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(\"\"!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+\"\":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement(\"div\"),f=l.createElement(\"div\");if(f.style){f.style.backgroundClip=\"content-box\",f.cloneNode(!0).style.backgroundClip=\"\",k.clearCloneStyle=\"content-box\"===f.style.backgroundClip,e.style.cssText=\"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute\",e.appendChild(f);function g(){f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\",f.innerHTML=\"\",d.appendChild(e);var g=a.getComputedStyle(f,null);b=\"1%\"!==g.top,c=\"4px\"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement(\"div\"));return c.style.cssText=f.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",f.style.width=\"1px\",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp(\"^(\"+Q+\")(.*)$\",\"i\"),Bb=new RegExp(\"^([+-])=(\"+Q+\")\",\"i\"),Cb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Db={letterSpacing:\"0\",fontWeight:\"400\"},Eb=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Hb(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+R[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+R[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+R[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+R[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+R[f]+\"Width\",!0,e)));return g}function Ib(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&S(d)&&(f[g]=L.access(d,\"olddisplay\",tb(d.nodeName)))):(e=S(d),\"none\"===c&&e||L.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||n.cssNumber[h]||(c+=\"px\"),k.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),\"normal\"===e&&b in Db&&(e=Db[b]),\"\"===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,\"display\"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:\"inline-block\"},xb,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp(\"^(?:([+-])=|)(\"+Q+\")([a-z%]*)$\",\"i\"),Pb=/queueHooks$/,Qb=[Vb],Rb={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?\"\":\"px\"),g=(n.cssNumber[a]||\"px\"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?L.get(a,\"olddisplay\")||tb(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?tb(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=L.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=L.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb(\"show\"),slideUp:Tb(\"hide\"),slideToggle:Tb(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement(\"input\"),b=l.createElement(\"select\"),c=b.appendChild(l.createElement(\"option\"));a.type=\"checkbox\",k.checkOn=\"\"!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",k.radioValue=\"t\"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void n.removeAttr(a,b))\n},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute(\"tabindex\")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\\t\\r\\n\\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?n.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||\"boolean\"===c)&&(this.className&&L.set(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":L.get(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(ac,\" \").indexOf(b)>=0)return!0;return!1}});var bc=/\\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(bc,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var cc=n.now(),dc=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(a){var b,c;if(!a||\"string\"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,\"text/xml\")}catch(d){b=void 0}return(!b||b.getElementsByTagName(\"parsererror\").length)&&n.error(\"Invalid XML: \"+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\\/\\//,mc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,nc={},oc={},pc=\"*/\".concat(\"*\");try{fc=location.href}catch(qc){fc=l.createElement(\"a\"),fc.href=\"\",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:\"GET\",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":pc,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+\"\").replace(gc,\"\").replace(lc,ec[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||\"*\").toLowerCase().match(E)||[\"\"],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||(\"http:\"===h[1]?\"80\":\"443\"))===(ec[3]||(\"http:\"===ec[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,\"$1_=\"+cc++):d+(dc.test(d)?\"&\":\"?\")+\"_=\"+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader(\"If-Modified-Since\",n.lastModified[d]),n.etag[d]&&v.setRequestHeader(\"If-None-Match\",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+pc+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[d]=w),w=v.getResponseHeader(\"etag\"),w&&(n.etag[d]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger(\"ajaxComplete\",[v,k]),--n.active||n.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\\[\\]$/,yc=/\\r?\\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Bc(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join(\"&\").replace(wc,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,\"\\r\\n\")}}):{name:b.name,value:c.replace(yc,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on(\"unload\",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&\"withCredentials\"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,\"abort\"===a?f.abort():\"error\"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,\"string\"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b(\"error\"),b=Dc[g]=b(\"abort\");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n(\"<script>\").prop({async:!0,charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&e(\"error\"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Gc.pop()||n.expando+\"_\"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Hc.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,\"$1\"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e,dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,\"html\")&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(b,c){var d=\"pageYOffset\"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});","/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */\njQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn(\"JQMIGRATE: \"+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log(\"JQMIGRATE: Logging is active\"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},\"BackCompat\"===document.compatMode&&r(\"jQuery is not compatible with Quirks Mode\");var o=e(\"<input/>\",{size:1}).attr(\"size\")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,\"attrFn\",o||{},\"jQuery.attrFn is deprecated\"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r(\"jQuery.fn.attr( props, pass ) is deprecated\"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):(\"type\"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r(\"Can't change the 'type' of an input or button in IE 6/7/8\"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||\"boolean\"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r(\"jQuery.fn.attr('\"+c+\"') may use property instead of attribute\")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||\"\").toLowerCase();return\"button\"===n?u.apply(this,arguments):(\"input\"!==n&&\"option\"!==n&&r(\"jQuery.fn.attr('value') no longer gets properties\"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||\"\").toLowerCase();return\"button\"===a?c.apply(this,arguments):(\"input\"!==a&&\"option\"!==a&&r(\"jQuery.fn.attr('value', val) no longer sets properties\"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\\w\\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&\"string\"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&(\"<\"!==t.charAt(0)&&r(\"$(html) HTML strings must start with '<' character\"),i[3]&&r(\"$(html) HTML text after last tag is ignored\"),\"#\"===i[0].charAt(0)&&(r(\"HTML string cannot start with a '#' character\"),e.error(\"JQMIGRATE: Invalid selector string (XSS)\")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r(\"jQuery.parseJSON requires a valid JSON string\"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||0>e.indexOf(\"compatible\")&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\"\",version:t[2]||\"0\"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,\"browser\",e.browser,\"jQuery.browser is deprecated\"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r(\"jQuery.sub() is deprecated\"),t},e.ajaxSetup({converters:{\"text json\":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||\"events\"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r(\"Use of jQuery.fn.data('events') is deprecated\"),i)};var j=/\\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r(\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r(\"jQuery.clean() is deprecated\");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,\"script\")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName(\"script\")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S=\"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\",C=RegExp(\"\\\\b(?:\"+S+\")\\\\b\"),H=/(?:^|\\s)hover(\\.\\S+|)\\b/,A=function(t){return\"string\"!=typeof t||e.event.special.hover?t:(H.test(t)&&r(\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\"),t&&t.replace(H,\"mouseenter$1 mouseleave$1\"))};e.event.props&&\"attrChange\"!==e.event.props[0]&&e.event.props.unshift(\"attrChange\",\"attrName\",\"relatedNode\",\"srcElement\"),e.event.dispatch&&a(e.event,\"handle\",e.event.dispatch,\"jQuery.event.handle is undocumented and deprecated\"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r(\"AJAX events should be attached to document: \"+t),Q.call(this,e,A(t||\"\"),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||\"\",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r(\"jQuery.fn.error() is deprecated\"),e.splice(0,0,\"error\"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r(\"jQuery.fn.toggle(handler, handler...) is deprecated\");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,\"lastToggle\"+t.guid)||0)%o;return e._data(this,\"lastToggle\"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r(\"jQuery.fn.live() is deprecated\"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r(\"jQuery.fn.die() is deprecated\"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||\"**\",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r(\"Global events are undocumented and deprecated\"),k.call(this,e,t,n||document,a)},e.each(S.split(\"|\"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+\".\"+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+\".\"+e._data(this,n)),!1}}})}(jQuery,window);","/*! jQuery UI - v1.10.4 - 2014-06-26\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.autocomplete.js, jquery.ui.datepicker.js, jquery.ui.menu.js, jquery.ui.slider.js\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n\n(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return\"area\"===r?(s=t.parentNode,a=s.name,t.href&&a&&\"map\"===s.nodeName.toLowerCase()?(o=e(\"img[usemap=#\"+a+\"]\")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:\"a\"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\"hidden\"===e.css(this,\"visibility\")}).length}var s=0,a=/^ui-id-\\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:\"1.10.4\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return\"number\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css(\"position\"))||/absolute/.test(this.css(\"position\"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,\"position\"))&&/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0),/fixed/.test(this.css(\"position\"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css(\"zIndex\",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css(\"position\"),(\"absolute\"===n||\"relative\"===n||\"fixed\"===n)&&(s=parseInt(a.css(\"zIndex\"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr(\"id\")})}}),e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,\"tabindex\")))},tabbable:function(t){var n=e.attr(t,\"tabindex\"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(\"<a>\").outerWidth(1).jquery||e.each([\"Width\",\"Height\"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,\"padding\"+this))||0,n&&(i-=parseFloat(e.css(t,\"border\"+this+\"Width\"))||0),s&&(i-=parseFloat(e.css(t,\"margin\"+this))||0)}),i}var a=\"Width\"===n?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\"inner\"+n]=function(i){return i===t?r[\"inner\"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+\"px\")})},e.fn[\"outer\"+n]=function(t,i){return\"number\"!=typeof t?r[\"outer\"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+\"px\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart=\"onselectstart\"in document.createElement(\"div\"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?\"selectstart\":\"mousedown\")+\".ui-disableSelection\",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(\".ui-disableSelection\")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if(\"hidden\"===e(t).css(\"overflow\"))return!1;var n=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler(\"remove\")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(\".\")[0];i=i.split(\".\")[1],o=c+\"-\"+i,n||(n=s,s=t.Widget),t.expr[\":\"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+\".\"+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r=\"string\"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&\"_\"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error(\"no such method '\"+a+\"' for \"+i+\" widget instance\"):t.error(\"cannot call methods on \"+i+\" prior to initialization; \"+\"attempted to call method '\"+a+\"'\")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName+\"-disabled \"+\"ui-state-disabled\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof i)if(r={},n=i.split(\".\"),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,\"disabled\"===t&&(this.widget().toggleClass(this.widgetFullName+\"-disabled ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")),this},enable:function(){return this._setOption(\"disabled\",!1)},disable:function(){return this._setOption(\"disabled\",!0)},_on:function(i,s,n){var o,a=this;\"boolean\"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass(\"ui-state-disabled\")?(\"string\"==typeof r?a[r]:r).apply(a,arguments):e}\"string\"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\\w+)\\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(\"string\"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(\"ui-state-hover\")},mouseleave:function(e){t(e.currentTarget).removeClass(\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(\"ui-state-focus\")},focusout:function(e){t(e.currentTarget).removeClass(\"ui-state-focus\")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(s,n,o){\"string\"==typeof n&&(n={effect:n});var a,r=n?n===!0||\"number\"==typeof n?i:n.effect||i:e;n=n||{},\"number\"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget(\"ui.mouse\",{version:\"1.10.4\",options:{cancel:\"input,textarea,button,select,option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).bind(\"click.\"+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+\".preventClickEvent\")?(t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName),this._mouseMoveDelegate&&t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a=\"string\"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+\".preventClickEvent\")&&t.removeData(i.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,d=/^\\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),o=n.children()[0];return t(\"body\").append(n),i=o.offsetWidth,n.css(\"overflow\",\"scroll\"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-x\"),s=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-y\"),n=\"scroll\"===i||\"auto\"===i&&e.width<e.element[0].scrollWidth,a=\"scroll\"===s||\"auto\"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||\"flip\").split(\" \"),D={};return _=n(b),b[0].preventDefault&&(e.at=\"left top\"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each([\"my\",\"at\"],function(){var t,i,s=(e[this]||\"\").split(\" \");1===s.length&&(s=h.test(s[0])?s.concat([\"center\"]):c.test(s[0])?[\"center\"].concat(s):[\"center\",\"center\"]),s[0]=h.test(s[0])?s[0]:\"center\",s[1]=c.test(s[1])?s[1]:\"center\",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),\"right\"===e.at[0]?v.left+=p:\"center\"===e.at[0]&&(v.left+=p/2),\"bottom\"===e.at[1]?v.top+=g:\"center\"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,\"marginLeft\"),_=s(this,\"marginTop\"),x=u+f+s(this,\"marginRight\")+k.width,C=d+_+s(this,\"marginBottom\")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());\"right\"===e.my[0]?M.left-=u:\"center\"===e.my[0]&&(M.left-=u/2),\"bottom\"===e.my[1]?M.top-=d:\"center\"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each([\"left\",\"top\"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?\"left\":i>0?\"right\":\"center\",vertical:0>a?\"top\":n>0?\"bottom\":\"middle\"};u>p&&p>r(i+s)&&(l.horizontal=\"center\"),d>g&&g>r(n+a)&&(l.vertical=\"middle\"),l.important=o(r(i),r(s))>o(r(n),r(a))?\"horizontal\":\"vertical\",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d=\"left\"===e.my[0]?-e.elemWidth:\"right\"===e.my[0]?e.elemWidth:0,p=\"left\"===e.at[0]?e.targetWidth:\"right\"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d=\"top\"===e.my[1],p=d?-e.elemHeight:\"bottom\"===e.my[1]?e.elemHeight:0,f=\"top\"===e.at[1]?e.targetHeight:\"bottom\"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName(\"body\")[0],r=document.createElement(\"div\");e=document.createElement(o?\"div\":\"body\"),s={visibility:\"hidden\",width:0,height:0,border:0,margin:0,background:\"none\"},o&&t.extend(s,{position:\"absolute\",left:\"-1000px\",top:\"-1000px\"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText=\"position: absolute; left: 10.7432222px;\",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML=\"\",i.removeChild(e)}()})(jQuery);(function(t){t.widget(\"ui.draggable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\"),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._mouseInit()},_destroy:function(){this.element.removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(\".ui-resizable-handle\").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?\"iframe\":i.iframeFix).each(function(){t(\"<div class='ui-draggable-iframeFix' style='background: #fff;'></div>\").css({width:this.offsetWidth+\"px\",height:this.offsetHeight+\"px\",position:\"absolute\",opacity:\"0.001\",zIndex:1e3}).css(t(this).offset()).appendTo(\"body\")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass(\"ui-draggable-dragging\"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css(\"position\"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\"start\",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(\"fixed\"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var s=this._uiHash();if(this._trigger(\"drag\",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),\"original\"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?(\"invalid\"===this.options.revert&&!s||\"valid\"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\"stop\",e)!==!1&&i._clear()}):this._trigger(\"stop\",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t(\"div.ui-draggable-iframeFix\").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return s.parents(\"body\").length||s.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css(\"position\"))||s.css(\"position\",\"absolute\"),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?\"window\"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):\"document\"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):(\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=\"hidden\"!==i.css(\"overflow\"),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),\"drag\"===e&&(this.positionAbs=this._convertPositionTo(\"absolute\")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(e,i){var s=t(this).data(\"ui-draggable\"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,\"ui-sortable\");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger(\"activate\",e,a))})},stop:function(e,i){var s=t(this).data(\"ui-draggable\"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,\"original\"===s.options.helper&&this.instance.currentItem.css({top:\"auto\",left:\"auto\"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger(\"deactivate\",e,n))})},drag:function(e,i){var s=t(this).data(\"ui-draggable\"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr(\"id\").appendTo(this.instance.element).data(\"ui-sortable-item\",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger(\"toSortable\",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(\"out\",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger(\"fromSortable\",e),s.dropped=!1)})}}),t.ui.plugin.add(\"draggable\",\"cursor\",{start:function(){var e=t(\"body\"),i=t(this).data(\"ui-draggable\").options;e.css(\"cursor\")&&(i._cursor=e.css(\"cursor\")),e.css(\"cursor\",i.cursor)},stop:function(){var e=t(this).data(\"ui-draggable\").options;e._cursor&&t(\"body\").css(\"cursor\",e._cursor)}}),t.ui.plugin.add(\"draggable\",\"opacity\",{start:function(e,i){var s=t(i.helper),n=t(this).data(\"ui-draggable\").options;s.css(\"opacity\")&&(n._opacity=s.css(\"opacity\")),s.css(\"opacity\",n.opacity)},stop:function(e,i){var s=t(this).data(\"ui-draggable\").options;s._opacity&&t(i.helper).css(\"opacity\",s._opacity)}}),t.ui.plugin.add(\"draggable\",\"scroll\",{start:function(){var e=t(this).data(\"ui-draggable\");e.scrollParent[0]!==document&&\"HTML\"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data(\"ui-draggable\"),s=i.options,n=!1;i.scrollParent[0]!==document&&\"HTML\"!==i.scrollParent[0].tagName?(s.axis&&\"x\"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&\"y\"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&\"x\"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&\"y\"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add(\"draggable\",\"snap\",{start:function(){var e=t(this).data(\"ui-draggable\"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||\":data(ui-draggable)\":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data(\"ui-draggable\"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):(\"inner\"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo(\"relative\",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo(\"relative\",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,\"outer\"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo(\"relative\",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo(\"relative\",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add(\"draggable\",\"stack\",{start:function(){var e,i=this.data(\"ui-draggable\").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css(\"zIndex\"),10)||0)-(parseInt(t(i).css(\"zIndex\"),10)||0)});s.length&&(e=parseInt(t(s[0]).css(\"zIndex\"),10)||0,t(s).each(function(i){t(this).css(\"zIndex\",e+i)}),this.css(\"zIndex\",e+s.length))}}),t.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(e,i){var s=t(i.helper),n=t(this).data(\"ui-draggable\").options;s.css(\"zIndex\")&&(n._zIndex=s.css(\"zIndex\")),s.css(\"zIndex\",n.zIndex)},stop:function(e,i){var s=t(this).data(\"ui-draggable\").options;s._zIndex&&t(i.helper).css(\"zIndex\",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget(\"ui.droppable\",{version:\"1.10.4\",widgetEventPrefix:\"drop\",options:{accept:\"*\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass(\"ui-droppable\")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass(\"ui-droppable ui-droppable-disabled\")},_setOption:function(e,i){\"accept\"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\"activate\",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\"deactivate\",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\"over\",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"out\",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var e=t.data(this,\"ui-droppable\");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"drop\",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case\"fit\":return o>=c&&d>=l&&r>=u&&p>=h;case\"intersect\":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case\"pointer\":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case\"touch\":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(\":data(ui-droppable)\").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible=\"none\"!==a[s].element.css(\"display\"),a[s].visible&&(\"mousedown\"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil(\"body\").bind(\"scroll.droppable\",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?\"isout\":o&&!this.isover?\"isover\":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(\":data(ui-droppable)\").filter(function(){return t.data(this,\"ui-droppable\").options.scope===n}),a.length&&(s=t.data(a[0],\"ui-droppable\"),s.greedyChild=\"isover\"===r)),s&&\"isover\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\"isout\"===r?\"isover\":\"isout\"]=!1,this[\"isover\"===r?\"_over\":\"_out\"].call(this,i),s&&\"isout\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil(\"body\").unbind(\"scroll.droppable\"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget(\"ui.resizable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass(\"ui-resizable\"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.data(\"ui-resizable\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=r.handles||(t(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),e=this.handles.split(\",\"),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a=\"ui-resizable-\"+s,n=t(\"<div class='ui-resizable-handle \"+a+\"'></div>\"),n.css({zIndex:r.zIndex}),\"se\"===s&&n.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[s]=\".ui-resizable-\"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(\".ui-resizable-handle\",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:\"se\")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass(\"ui-resizable-autohide\").mouseenter(function(){r.disabled||(t(this).removeClass(\"ui-resizable-autohide\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass(\"ui-resizable-autohide\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")}).insertAfter(e),e.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css(\"position\"))?h.css({position:\"absolute\",top:h.css(\"top\"),left:h.css(\"left\")}):h.is(\".ui-draggable\")&&h.css({position:\"absolute\",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css(\"left\")),n=e(this.helper.css(\"top\")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio=\"number\"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(\".ui-resizable-\"+this.axis).css(\"cursor\"),t(\"body\").css(\"cursor\",\"auto\"===a?this.axis+\"-resize\":a),h.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(\"resize\",e),this.position.top!==r&&(n.top=this.position.top+\"px\"),this.position.left!==h&&(n.left=this.position.left+\"px\"),this.size.width!==l&&(n.width=this.size.width+\"px\"),this.size.height!==c&&(n.height=this.size.height+\"px\"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger(\"resize\",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],\"left\")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css(\"left\"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css(\"top\"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),\"sw\"===n&&(t.left=e.left+(s.width-t.width),t.top=null),\"nw\"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css(\"borderTopWidth\"),n.css(\"borderRightWidth\"),n.css(\"borderBottomWidth\"),n.css(\"borderLeftWidth\")],s=[n.css(\"paddingTop\"),n.css(\"paddingRight\"),n.css(\"paddingBottom\"),n.css(\"paddingLeft\")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(\"<div style='overflow:hidden;'></div>\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),\"resize\"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(\"resizable\",\"animate\",{stop:function(e){var i=t(this).data(\"ui-resizable\"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],\"left\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css(\"left\"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css(\"top\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(\"width\"),10),height:parseInt(i.element.css(\"height\"),10),top:parseInt(i.element.css(\"top\"),10),left:parseInt(i.element.css(\"left\"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\"resize\",e)}})}}),t.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var i,s,n,a,o,r,h,l=t(this).data(\"ui-resizable\"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(t,n){s[t]=e(i.css(\"padding\"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,\"left\")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data(\"ui-resizable\"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css(\"position\"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\"position\")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data(\"ui-resizable-alsoresize\",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css(\"left\"),10),top:parseInt(e.css(\"top\"),10)})})};\"object\"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data(\"ui-resizable\"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data(\"ui-resizable-alsoresize\"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};\"object\"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData(\"resizable-alsoresize\")}}),t.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(\"string\"==typeof i.ghost?i.ghost:\"\"),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data(\"ui-resizable\");e.ghost&&e.ghost.css({position:\"relative\",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data(\"ui-resizable\");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r=\"number\"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget(\"ui.selectable\",t.ui.mouse,{version:\"1.10.4\",options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass(\"ui-selectable\"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass(\"ui-selectee\"),e.each(function(){var e=t(this),i=e.offset();t.data(this,\"selectable-item\",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass(\"ui-selected\"),selecting:e.hasClass(\"ui-selecting\"),unselecting:e.hasClass(\"ui-unselecting\")})})},this.refresh(),this.selectees=e.addClass(\"ui-selectee\"),this._mouseInit(),this.helper=t(\"<div class='ui-selectable-helper'></div>\")},_destroy:function(){this.selectees.removeClass(\"ui-selectee\").removeData(\"selectable-item\"),this.element.removeClass(\"ui-selectable ui-selectable-disabled\"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger(\"start\",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each(function(){var s=t.data(this,\"selectable-item\");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass(\"ui-selected\"),s.selected=!1,s.$element.addClass(\"ui-unselecting\"),s.unselecting=!0,i._trigger(\"unselecting\",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,\"selectable-item\");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass(\"ui-selected\"),n.$element.removeClass(s?\"ui-unselecting\":\"ui-selected\").addClass(s?\"ui-selecting\":\"ui-unselecting\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\"selecting\",e,{selecting:n.element}):i._trigger(\"unselecting\",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,\"selectable-item\"),h=!1;i&&i.element!==s.element[0]&&(\"touch\"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):\"fit\"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass(\"ui-selected\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\"ui-unselecting\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\"ui-selecting\"),i.selecting=!0,s._trigger(\"selecting\",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.$element.addClass(\"ui-selected\"),i.selected=!0):(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0),s._trigger(\"unselecting\",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass(\"ui-selected\"),i.selected=!1,i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0,s._trigger(\"unselecting\",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(\".ui-unselecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-unselecting\"),s.unselecting=!1,s.startselected=!1,i._trigger(\"unselected\",e,{unselected:s.element})}),t(\".ui-selecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-selecting\").addClass(\"ui-selected\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\"selected\",e,{selected:s.element})}),this._trigger(\"stop\",e),this.helper.remove(),!1}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css(\"float\"))||/inline|table-cell/.test(t.css(\"display\"))}t.widget(\"ui.sortable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.floating=this.items.length?\"x\"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+\"-item\");return this},_setOption:function(e,i){\"disabled\"===e?(this.options[e]=i,this.widget().toggleClass(\"ui-sortable-disabled\",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||\"static\"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+\"-item\")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+\"-item\")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find(\"*\").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&\"auto\"!==a.cursor&&(o=this.document.find(\"body\"),this.storedCursor=o.css(\"cursor\"),o.css(\"cursor\",a.cursor),this.storedStylesheet=t(\"<style>*{ cursor: \"+a.cursor+\" !important; }</style>\").appendTo(o)),a.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",a.opacity)),a.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",a.zIndex)),this.scrollParent[0]!==document&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\"activate\",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?\"next\":\"prev\"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&(\"semi-dynamic\"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger(\"change\",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger(\"sort\",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&\"x\"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&\"y\"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\"original\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||\"id\")||\"\").match(e.expression||/(.+)[\\-=_](.+)/);i&&s.push((e.key||i[1]+\"[]\")+\"=\"+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+\"=\"),s.join(\"&\")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||\"id\")||\"\")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u=\"x\"===this.options.axis||s+l>r&&h>s+l,d=\"y\"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>t[this.floating?\"width\":\"height\"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i=\"x\"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s=\"y\"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&\"right\"===a||\"down\"===o?2:1:o&&(\"down\"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?\"right\"===o&&s||\"left\"===o&&!s:n&&(\"down\"===n&&i||\"up\"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?\"right\":\"left\")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+\"-item\",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t(\"<\"+s+\">\",e.document[0]).addClass(i||e.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\");return\"tr\"===s?e.currentItem.children().each(function(){t(\"<td>&#160;</td>\",e.document[0]).attr(\"colspan\",t(this).attr(\"colspan\")||1).appendTo(n)}):\"img\"===s&&n.attr(\"src\",e.currentItem.attr(\"src\")),i||n.css(\"visibility\",\"hidden\"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css(\"paddingTop\")||0,10)-parseInt(e.currentItem.css(\"paddingBottom\")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css(\"paddingLeft\")||0,10)-parseInt(e.currentItem.css(\"paddingRight\")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger(\"out\",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger(\"over\",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?\"left\":\"top\",l=p?\"width\":\"height\",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?\"up\":\"down\"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger(\"change\",s,this._uiHash()),this.containers[g]._trigger(\"change\",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger(\"over\",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\"body\").length||t(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),(\"document\"===n.containment||\"window\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(\"document\"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t(\"document\"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s=\"hidden\"!==t(e).css(\"overflow\"),this.containment=[i.left+(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)+(parseInt(t(e).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css(\"borderTopWidth\"),10)||0)+(parseInt(t(e).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)-(parseInt(t(e).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css(\"borderTopWidth\"),10)||0)-(parseInt(t(e).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\"auto\"===this._storedCSS[s]||\"static\"===this._storedCSS[s])&&(this._storedCSS[s]=\"\");this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger(\"receive\",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger(\"update\",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger(\"remove\",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger(\"receive\",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger(\"update\",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i(\"deactivate\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\"out\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger(\"beforeStop\",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger(\"beforeStop\",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(e){e.widget(\"ui.autocomplete\",{version:\"1.10.4\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a=\"textarea\"===n,o=\"input\"===n;this.isMultiLine=a?!0:o?!1:this.element.prop(\"isContentEditable\"),this.valueMethod=this.element[a||o?\"val\":\"text\"],this.isNewMenu=!0,this.element.addClass(\"ui-autocomplete-input\").attr(\"autocomplete\",\"off\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\"readOnly\"))return t=!0,s=!0,i=!0,undefined;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move(\"previousPage\",n);break;case a.PAGE_DOWN:t=!0,this._move(\"nextPage\",n);break;case a.UP:t=!0,this._keyEvent(\"previous\",n);break;case a.DOWN:t=!0,this._keyEvent(\"next\",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(\":visible\")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(\":visible\"))&&s.preventDefault(),undefined;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\"previousPage\",s);break;case n.PAGE_DOWN:this._move(\"nextPage\",s);break;case n.UP:this._keyEvent(\"previous\",s);break;case n.DOWN:this._keyEvent(\"next\",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e(\"<ul>\").addClass(\"ui-autocomplete ui-front\").appendTo(this._appendTo()).menu({role:null}).hide().data(\"ui-menu\"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(\".ui-menu-item\").length||this._delay(function(){var t=this;this.document.one(\"mousedown\",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one(\"mousemove\",function(){e(t.target).trigger(t.originalEvent)}),undefined;var s=i.item.data(\"ui-autocomplete-item\");!1!==this._trigger(\"focus\",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data(\"ui-autocomplete-item\"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger(\"select\",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e(\"<span>\",{role:\"status\",\"aria-live\":\"polite\"}).addClass(\"ui-helper-hidden-accessible\").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass(\"ui-autocomplete-input\").removeAttr(\"autocomplete\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),\"source\"===e&&this._initSource(),\"appendTo\"===e&&this.menu.element.appendTo(this._appendTo()),\"disabled\"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(\".ui-front\")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):\"string\"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:\"json\",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger(\"search\",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass(\"ui-autocomplete-loading\"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass(\"ui-autocomplete-loading\")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger(\"response\",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger(\"open\")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\"close\",e))},_change:function(e){this.previous!==this._value()&&this._trigger(\"change\",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return\"string\"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\"ui-autocomplete-item\",t)},_renderItem:function(t,i){return e(\"<li>\").append(e(\"<a>\").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(\":visible\")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(\":visible\"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),\"i\");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget(\"ui.autocomplete\",e.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function(e){return e+(e>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\"}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\"\"]),this.dpDiv=a(e(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function a(t){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return t.delegate(i,\"mouseout\",function(){e(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).removeClass(\"ui-datepicker-next-hover\")}).delegate(i,\"mouseover\",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),e(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).addClass(\"ui-datepicker-next-hover\"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:\"1.10.4\"}});var n,r=\"datepicker\";e.extend(i.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s=\"div\"===a||\"span\"===a,t.id||(this.uuid+=1,t.id=\"dp\"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),\"input\"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,\"appendText\"),o=this._get(i,\"isRTL\");i.append&&i.append.remove(),r&&(i.append=e(\"<span class='\"+this._appendClass+\"'>\"+r+\"</span>\"),t[o?\"before\":\"after\"](i.append)),t.unbind(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,\"showOn\"),(\"focus\"===a||\"both\"===a)&&t.focus(this._showDatepicker),(\"button\"===a||\"both\"===a)&&(s=this._get(i,\"buttonText\"),n=this._get(i,\"buttonImage\"),i.trigger=e(this._get(i,\"buttonImageOnly\")?e(\"<img/>\").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e(\"<button type='button'></button>\").addClass(this._triggerClass).html(n?e(\"<img/>\").attr({src:n,alt:s,title:s}):s)),t[o?\"before\":\"after\"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,\"autoSize\")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,\"dateFormat\");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),n.setDate(t(this._get(e,r.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-n.getDay())),e.input.attr(\"size\",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u=\"dp\"+this.uuid,this._dialogInput=e(\"<input type='text' id='\"+u+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.keydown(this._doKeyDown),e(\"body\").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),\"input\"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress).unbind(\"keyup\",this._doKeyUp)):(\"div\"===i||\"span\"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!1,n.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):(\"div\"===i||\"span\"===i)&&(a=s.children(\".\"+this._inlineClass),a.children().removeClass(\"ui-state-disabled\"),a.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!0,n.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):(\"div\"===i||\"span\"===i)&&(a=s.children(\".\"+this._inlineClass),a.children().addClass(\"ui-state-disabled\"),a.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&\"string\"==typeof a?\"defaults\"===a?e.extend({},e.datepicker._defaults):h?\"all\"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},\"string\"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,\"min\"),c=this._getMinMaxDate(h,\"max\"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),\"disabled\"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(\".ui-datepicker-rtl\");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e(\"td.\"+e.datepicker._dayOverClass+\":not(.\"+e.datepicker._currentClass+\")\",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,\"onSelect\"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\"D\"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\"D\"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,\"constrainInput\")?(a=e.datepicker._possibleChars(e.datepicker._get(n,\"dateFormat\")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||\" \">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,\"dateFormat\"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,\"input\"!==t.nodeName.toLowerCase()&&(t=e(\"input\",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,\"beforeShow\"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\"\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|=\"fixed\"===e(this).css(\"position\"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\"static\":r?\"fixed\":\"absolute\",display:\"none\",left:o.left+\"px\",top:o.top+\"px\"}),i.inline||(u=e.datepicker._get(i,\"showAnim\"),c=e.datepicker._get(i,\"duration\"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,\"showOptions\"),c):i.dpDiv[u||\"show\"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find(\".\"+this._dayOverClass+\" a\").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),s>1&&t.dpDiv.addClass(\"ui-datepicker-multi-\"+s).css(\"width\",r*s+\"em\"),t.dpDiv[(1!==a[0]||1!==a[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),t.dpDiv[(this._get(t,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\":visible\")&&!e.input.is(\":disabled\")&&!e.input.is(\":focus\")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,\"isRTL\")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,\"isRTL\");t&&(\"hidden\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?\"previousSibling\":\"nextSibling\"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,\"showAnim\"),a=this._get(o,\"duration\"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,\"showOptions\"),a,s):o.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,\"onClose\"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():\"\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),e.blockUI&&(e.unblockUI(),e(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents(\"#\"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest(\".\"+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+(\"M\"===a?this._get(n,\"showCurrentAtPos\"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,\"gotoCurrent\")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n[\"selected\"+(\"M\"===a?\"Month\":\"Year\")]=n[\"draw\"+(\"M\"===a?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e(\"a\",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\"\")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,\"onSelect\"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger(\"change\"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],\"object\"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,\"altField\");n&&(i=this._get(t,\"altFormat\")||this._get(t,\"dateFormat\"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,\"\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw\"Invalid arguments\";if(a=\"object\"==typeof a?\"\"+a:a+\"\",\"\"===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=\"string\"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i=\"@\"===e?14:\"!\"===e?20:\"y\"===e&&t?4:\"o\"===e?3:2,s=RegExp(\"^\\\\d{1,\"+i+\"}\"),n=a.substring(c).match(s);if(!n)throw\"Missing number at position \"+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw\"Unknown name at position \"+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw\"Unexpected literal at position \"+c;c++};for(n=0;i.length>n;n++)if(y)\"'\"!==i.charAt(n)||b(\"'\")?M():y=!1;else switch(i.charAt(n)){case\"d\":v=D(\"d\");break;case\"D\":w(\"D\",d,p);break;case\"o\":k=D(\"o\");break;case\"m\":_=D(\"m\");break;case\"M\":_=w(\"M\",g,m);break;case\"y\":f=D(\"y\");break;case\"@\":u=new Date(D(\"@\")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case\"!\":u=new Date((D(\"!\")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case\"'\":b(\"'\")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\\s+/.test(o)))throw\"Extra/unparsed characters found in date: \"+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw\"Invalid date\";return u},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return\"\";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=\"\"+t;if(u(e))for(;i>a.length;)a=\"0\"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l=\"\",d=!1;if(t)for(a=0;e.length>a;a++)if(d)\"'\"!==e.charAt(a)||u(\"'\")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case\"d\":l+=c(\"d\",t.getDate(),2);break;case\"D\":l+=h(\"D\",t.getDay(),s,n);break;case\"o\":l+=c(\"o\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":l+=c(\"m\",t.getMonth()+1,2);break;case\"M\":l+=h(\"M\",t.getMonth(),r,o);break;case\"y\":l+=u(\"y\")?t.getFullYear():(10>t.getYear()%100?\"0\":\"\")+t.getYear()%100;break;case\"@\":l+=t.getTime();break;case\"!\":l+=1e4*t.getTime()+this._ticksTo1970;break;case\"'\":u(\"'\")?l+=\"'\":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i=\"\",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)\"'\"!==e.charAt(t)||s(\"'\")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":s(\"'\")?i+=\"'\":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\"dateFormat\"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?\"\":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\"defaultDate\"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\"dateFormat\"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||\"d\"){case\"d\":case\"D\":o+=parseInt(c[1],10);break;case\"w\":case\"W\":o+=7*parseInt(c[1],10);break;case\"m\":case\"M\":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case\"y\":case\"Y\":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||\"\"===i?a:\"string\"==typeof i?n(i):\"number\"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&\"Invalid Date\"==\"\"+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?\"\":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&\"\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,\"stepMonths\"),a=\"#\"+t.id.replace(/\\\\\\\\/g,\"\\\\\");t.dpDiv.find(\"[data-handler]\").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,\"M\")},next:function(){e.datepicker._adjustDate(a,+i,\"M\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,\"M\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,\"Y\"),!1}};e(this).bind(this.getAttribute(\"data-event\"),t[this.getAttribute(\"data-handler\")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,\"isRTL\"),U=this._get(e,\"showButtonPanel\"),B=this._get(e,\"hideIfNoPrevNext\"),z=this._get(e,\"navigationAsDateFormat\"),q=this._getNumberOfMonths(e),G=this._get(e,\"showCurrentAtPos\"),J=this._get(e,\"stepMonths\"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,\"min\"),X=this._getMinMaxDate(e,\"max\"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,\"prevText\"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",s=this._get(e,\"nextText\"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"w\":\"e\")+\"'>\"+s+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"w\":\"e\")+\"'>\"+s+\"</span></a>\",r=this._get(e,\"currentText\"),o=this._get(e,\"gotoCurrent\")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(e,\"closeText\")+\"</button>\",c=U?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(L?u:\"\")+(this._isInRange(e,o)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+r+\"</button>\":\"\")+(L?\"\":u)+\"</div>\":\"\",h=parseInt(this._get(e,\"firstDay\"),10),h=isNaN(h)?0:h,l=this._get(e,\"showWeek\"),d=this._get(e,\"dayNames\"),p=this._get(e,\"dayNamesMin\"),g=this._get(e,\"monthNames\"),m=this._get(e,\"monthNamesShort\"),f=this._get(e,\"beforeShowDay\"),_=this._get(e,\"showOtherMonths\"),v=this._get(e,\"selectOtherMonths\"),k=this._getDefaultDate(e),y=\"\",D=0;q[0]>D;D++){for(w=\"\",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=\" ui-corner-all\",I=\"\",Q){if(I+=\"<div class='ui-datepicker-group\",q[1]>1)switch(M){case 0:I+=\" ui-datepicker-group-first\",x=\" ui-corner-\"+(L?\"right\":\"left\");break;case q[1]-1:I+=\" ui-datepicker-group-last\",x=\" ui-corner-\"+(L?\"left\":\"right\");break;default:I+=\" ui-datepicker-group-middle\",x=\"\"}I+=\"'>\"}for(I+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+x+\"'>\"+(/all|left/.test(x)&&0===D?L?n:a:\"\")+(/all|right/.test(x)&&0===D?L?a:n:\"\")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\",N=l?\"<th class='ui-datepicker-week-col'>\"+this._get(e,\"weekHeader\")+\"</th>\":\"\",b=0;7>b;b++)T=(b+h)%7,N+=\"<th\"+((b+h+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+d[T]+\"'>\"+p[T]+\"</span></th>\";for(I+=N+\"</tr></thead><tbody>\",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+=\"<tr>\",O=l?\"<td class='ui-datepicker-week-col'>\"+this._get(e,\"calculateWeek\")(F)+\"</td>\":\"\",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,\"\"],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+=\"<td class='\"+((b+h+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(K?\" ui-datepicker-other-month\":\"\")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?\" \"+this._dayOverClass:\"\")+(R?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(K&&!_?\"\":\" \"+j[1]+(F.getTime()===V.getTime()?\" \"+this._currentClass:\"\")+(F.getTime()===W.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(K&&!_||!j[2]?\"\":\" title='\"+j[2].replace(/'/g,\"&#39;\")+\"'\")+(R?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+F.getMonth()+\"' data-year='\"+F.getFullYear()+\"'\")+\">\"+(K&&!_?\"&#xa0;\":R?\"<span class='ui-state-default'>\"+F.getDate()+\"</span>\":\"<a class='ui-state-default\"+(F.getTime()===W.getTime()?\" ui-state-highlight\":\"\")+(F.getTime()===V.getTime()?\" ui-state-active\":\"\")+(K?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+F.getDate()+\"</a>\")+\"</td>\",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+\"</tr>\"}Z++,Z>11&&(Z=0,et++),I+=\"</tbody></table>\"+(Q?\"</div>\"+(q[0]>0&&M===q[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\"),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,\"changeMonth\"),_=this._get(e,\"changeYear\"),v=this._get(e,\"showMonthAfterYear\"),k=\"<div class='ui-datepicker-title'>\",y=\"\";if(n||!f)y+=\"<span class='ui-datepicker-month'>\"+r[t]+\"</span>\";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+=\"<option value='\"+h+\"'\"+(h===t?\" selected='selected'\":\"\")+\">\"+o[h]+\"</option>\");y+=\"</select>\"}if(v||(k+=y+(!n&&f&&_?\"\":\"&#xa0;\")),!e.yearshtml)if(e.yearshtml=\"\",n||!_)k+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(l=this._get(e,\"yearRange\").split(\":\"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\-].*/)?d+parseInt(e,10):parseInt(e,10);\nreturn isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||\"\")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";m>=g;g++)e.yearshtml+=\"<option value='\"+g+\"'\"+(g===i?\" selected='selected'\":\"\")+\">\"+g+\"</option>\";e.yearshtml+=\"</select>\",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,\"yearSuffix\"),v&&(k+=(!n&&f&&_?\"\":\"&#xa0;\")+y),k+=\"</div>\"},_adjustInstDate:function(e,t,i){var a=e.drawYear+(\"Y\"===i?t:0),s=e.drawMonth+(\"M\"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+(\"D\"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),(\"M\"===i||\"Y\"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\"min\"),a=this._getMinMaxDate(e,\"max\"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,\"onChangeMonthYear\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\"numberOfMonths\");return null==t?[1,1]:\"number\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\"Date\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,\"min\"),n=this._getMinMaxDate(e,\"max\"),r=null,o=null,u=this._get(e,\"yearRange\");return u&&(i=u.split(\":\"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(r+=a),i[1].match(/[+\\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,\"shortYearCutoff\");return t=\"string\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,\"dayNamesShort\"),dayNames:this._get(e,\"dayNames\"),monthNamesShort:this._get(e,\"monthNamesShort\"),monthNames:this._get(e,\"monthNames\")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?\"object\"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\"dateFormat\"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\"#\"+e.datepicker._mainDivId).length&&e(\"body\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof t||\"isDisabled\"!==t&&\"getDate\"!==t&&\"widget\"!==t?\"option\"===t&&2===arguments.length&&\"string\"==typeof arguments[1]?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){\"string\"==typeof t?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\"1.10.4\"})(jQuery);(function(t){t.widget(\"ui.menu\",{version:\"1.10.4\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-carat-1-e\"},menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\").toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length).attr({role:this.options.role,tabIndex:0}).bind(\"click\"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass(\"ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this._on({\"mousedown .ui-menu-item > a\":function(t){t.preventDefault()},\"click .ui-state-disabled > a\":function(t){t.preventDefault()},\"click .ui-menu-item:has(a)\":function(e){var i=t(e.target).closest(\".ui-menu-item\");!this.mouseHandled&&i.not(\".ui-state-disabled\").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(\".ui-menu\").length?this.expand(e):!this.element.is(\":focus\")&&t(this.document[0].activeElement).closest(\".ui-menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".ui-menu\").length&&clearTimeout(this.timer)))},\"mouseenter .ui-menu-item\":function(e){var i=t(e.currentTarget);i.siblings().children(\".ui-state-active\").removeClass(\"ui-state-active\"),this.focus(e,i)},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(t,e){var i=this.active||this.element.children(\".ui-menu-item\").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:\"_keydown\"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(\".ui-menu\").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeClass(\"ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons\").removeAttr(\"role\").removeAttr(\"tabIndex\").removeAttr(\"aria-labelledby\").removeAttr(\"aria-expanded\").removeAttr(\"aria-hidden\").removeAttr(\"aria-disabled\").removeUniqueId().show(),this.element.find(\".ui-menu-item\").removeClass(\"ui-menu-item\").removeAttr(\"role\").removeAttr(\"aria-disabled\").children(\"a\").removeUniqueId().removeClass(\"ui-corner-all ui-state-hover\").removeAttr(\"tabIndex\").removeAttr(\"role\").removeAttr(\"aria-haspopup\").children().each(function(){var e=t(this);e.data(\"ui-menu-submenu-carat\")&&e.remove()}),this.element.find(\".ui-menu-divider\").removeClass(\"ui-menu-divider ui-widget-content\")},_keydown:function(e){function i(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move(\"first\",\"first\",e);break;case t.ui.keyCode.END:this._move(\"last\",\"last\",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(\".ui-state-disabled\")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||\"\",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp(\"^\"+i(a),\"i\"),s=this.activeMenu.children(\".ui-menu-item\").filter(function(){return r.test(t(this).children(\"a\").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(\".ui-menu-item\"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp(\"^\"+i(a),\"i\"),s=this.activeMenu.children(\".ui-menu-item\").filter(function(){return r.test(t(this).children(\"a\").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(\".ui-state-disabled\")||(this.active.children(\"a[aria-haspopup='true']\").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length),s.filter(\":not(.ui-menu)\").addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var e=t(this),s=e.prev(\"a\"),n=t(\"<span>\").addClass(\"ui-menu-icon ui-icon \"+i).data(\"ui-menu-submenu-carat\",!0);s.attr(\"aria-haspopup\",\"true\").prepend(n),e.attr(\"aria-labelledby\",s.attr(\"id\"))}),e=s.add(this.element),e.children(\":not(.ui-menu-item):has(a)\").addClass(\"ui-menu-item\").attr(\"role\",\"presentation\").children(\"a\").uniqueId().addClass(\"ui-corner-all\").attr({tabIndex:-1,role:this._itemRole()}),e.children(\":not(.ui-menu-item)\").each(function(){var e=t(this);/[^\\-\\u2014\\u2013\\s]/.test(e.text())||e.addClass(\"ui-widget-content ui-menu-divider\")}),e.children(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]},_setOption:function(t,e){\"icons\"===t&&this.element.find(\".ui-menu-icon\").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&\"focus\"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(\"a\").addClass(\"ui-state-focus\"),this.options.role&&this.element.attr(\"aria-activedescendant\",s.attr(\"id\")),this.active.parent().closest(\".ui-menu-item\").children(\"a:first\").addClass(\"ui-state-active\"),t&&\"keydown\"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(\".ui-menu\"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger(\"focus\",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],\"borderTopWidth\"))||0,s=parseFloat(t.css(this.activeMenu[0],\"paddingTop\"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children(\"a\").removeClass(\"ui-state-focus\"),this.active=null,this._trigger(\"blur\",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),\"true\"===t.attr(\"aria-hidden\")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(e.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),e.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(\".ui-menu\"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\").end().find(\"a.ui-state-active\").removeClass(\"ui-state-active\")},collapse:function(t){var e=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(\".ui-menu \").children(\".ui-menu-item\").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move(\"next\",\"first\",t)},previous:function(t){this._move(\"prev\",\"last\",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(t,e,i){var s;this.active&&(s=\"first\"===t||\"last\"===t?this.active[\"first\"===t?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[t+\"All\"](\".ui-menu-item\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(\".ui-menu-item\")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\".ui-menu-item\").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(\".ui-menu-item\")[this.active?\"last\":\"first\"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\".ui-menu-item\").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(\".ui-menu-item\").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")},select:function(e){this.active=this.active||t(e.target).closest(\".ui-menu-item\");var i={item:this.active};this.active.has(\".ui-menu\").length||this.collapseAll(e,!0),this._trigger(\"select\",e,i)}})})(jQuery);(function(t){var e=5;t.widget(\"ui.slider\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"slide\",options:{animate:!1,distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(\"ui-slider ui-slider-\"+this.orientation+\" ui-widget\"+\" ui-widget-content\"+\" ui-corner-all\"),this._refresh(),this._setOption(\"disabled\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(\".ui-slider-handle\").addClass(\"ui-state-default ui-corner-all\"),a=\"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join(\"\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data(\"ui-slider-handle-index\",e)})},_createRange:function(){var e=this.options,i=\"\";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\"ui-slider-range-min ui-slider-range-max\").css({left:\"\",bottom:\"\"}):(this.range=t(\"<div></div>\").appendTo(this.element),i=\"ui-slider-range ui-widget-header ui-corner-all\"),this.range.addClass(i+(\"min\"===e.range||\"max\"===e.range?\" ui-slider-range-\"+e.range:\"\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter(\"a\");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\"ui-state-active\").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css(\"borderTopWidth\"),10)||0)-(parseInt(a.css(\"borderBottomWidth\"),10)||0)+(parseInt(a.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass(\"ui-state-active\"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(t){var e,i,s,n,a;return\"horizontal\"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),\"vertical\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"start\",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"stop\",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger(\"change\",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(\"range\"===e&&this.options.range===!0&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case\"orientation\":this._detectOrientation(),this.element.removeClass(\"ui-slider-horizontal ui-slider-vertical\").addClass(\"ui-slider-\"+this.orientation),this._refreshValue();break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\"min\":case\"max\":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u[\"horizontal\"===l.orientation?\"left\":\"bottom\"]=i+\"%\",t(this).stop(1,1)[h?\"animate\":\"css\"](u,r.animate),l.options.range===!0&&(\"horizontal\"===l.orientation?(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({width:i-e+\"%\"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({height:i-e+\"%\"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[h?\"animate\":\"css\"](u,r.animate),\"min\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===o&&\"horizontal\"===this.orientation&&this.range[h?\"animate\":\"css\"]({width:100-i+\"%\"},{queue:!1,duration:r.animate}),\"min\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===o&&\"vertical\"===this.orientation&&this.range[h?\"animate\":\"css\"]({height:100-i+\"%\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data(\"ui-slider-handle-index\");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass(\"ui-state-active\"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass(\"ui-state-active\"))}}})})(jQuery);","//! moment.js\n//! version : 2.7.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error(\"Implement me\")}}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(a,b){function c(){mb.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+a)}var d=!0;return j(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function e(a,b){return function(c){return m(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function g(){}function h(a){z(a),j(this,a)}function i(a){var b=s(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),b.hasOwnProperty(\"valueOf\")&&(a.valueOf=b.valueOf),a}function k(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&Ab.hasOwnProperty(b)&&(c[b]=a[b]);return c}function l(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function n(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&hb(a,\"Date\",gb(a,\"Date\")+f*c),g&&fb(a,gb(a,\"Month\")+g*c),d&&mb.updateOffset(a,f||g)}function o(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function p(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function r(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,\"$1\");a=bc[a]||cc[b]||b}return a}function s(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=r(c),b&&(d[b]=a[c]));return d}function t(b){var c,d;if(0===b.indexOf(\"week\"))c=7,d=\"day\";else{if(0!==b.indexOf(\"month\"))return;c=12,d=\"month\"}mb[b]=function(e,f){var g,h,i=mb.fn._lang[b],j=[];if(\"number\"==typeof e&&(f=e,e=a),h=function(a){var b=mb().utc().set(d,a);return i.call(mb.fn._lang,b,e||\"\")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function v(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function w(a,b,c){return bb(mb([a,11,31+b-c]),b,c).week}function x(a){return y(a)?366:365}function y(a){return a%4===0&&a%100!==0||a%400===0}function z(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[tb]<0||a._a[tb]>11?tb:a._a[ub]<1||a._a[ub]>v(a._a[sb],a._a[tb])?ub:a._a[vb]<0||a._a[vb]>23?vb:a._a[wb]<0||a._a[wb]>59?wb:a._a[xb]<0||a._a[xb]>59?xb:a._a[yb]<0||a._a[yb]>999?yb:-1,a._pf._overflowDayOfYear&&(sb>b||b>ub)&&(b=ub),a._pf.overflow=b)}function A(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function B(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function C(a,b){return b._isUTC?mb(a).zone(b._offset||0):mb(a).local()}function D(a,b){return b.abbr=a,zb[a]||(zb[a]=new g),zb[a].set(b),zb[a]}function E(a){delete zb[a]}function F(a){var b,c,d,e,f=0,g=function(a){if(!zb[a]&&Bb)try{require(\"./lang/\"+a)}catch(b){}return zb[a]};if(!a)return mb.fn._lang;if(!o(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=B(a[f]).split(\"-\"),b=e.length,d=B(a[f+1]),d=d?d.split(\"-\"):null;b>0;){if(c=g(e.slice(0,b).join(\"-\")))return c;if(d&&d.length>=b&&q(e,d,!0)>=b-1)break;b--}f++}return mb.fn._lang}function G(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function H(a){var b,c,d=a.match(Fb);for(b=0,c=d.length;c>b;b++)d[b]=hc[d[b]]?hc[d[b]]:G(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.lang()),dc[b]||(dc[b]=H(b)),dc[b](a)):a.lang().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Gb.lastIndex=0;d>=0&&Gb.test(a);)a=a.replace(Gb,c),Gb.lastIndex=0,d-=1;return a}function K(a,b){var c,d=b._strict;switch(a){case\"Q\":return Rb;case\"DDDD\":return Tb;case\"YYYY\":case\"GGGG\":case\"gggg\":return d?Ub:Jb;case\"Y\":case\"G\":case\"g\":return Wb;case\"YYYYYY\":case\"YYYYY\":case\"GGGGG\":case\"ggggg\":return d?Vb:Kb;case\"S\":if(d)return Rb;case\"SS\":if(d)return Sb;case\"SSS\":if(d)return Tb;case\"DDD\":return Ib;case\"MMM\":case\"MMMM\":case\"dd\":case\"ddd\":case\"dddd\":return Mb;case\"a\":case\"A\":return F(b._l)._meridiemParse;case\"X\":return Pb;case\"Z\":case\"ZZ\":return Nb;case\"T\":return Ob;case\"SSSS\":return Lb;case\"MM\":case\"DD\":case\"YY\":case\"GG\":case\"gg\":case\"HH\":case\"hh\":case\"mm\":case\"ss\":case\"ww\":case\"WW\":return d?Sb:Hb;case\"M\":case\"D\":case\"d\":case\"H\":case\"h\":case\"m\":case\"s\":case\"w\":case\"W\":case\"e\":case\"E\":return Hb;case\"Do\":return Qb;default:return c=new RegExp(T(S(a.replace(\"\\\\\",\"\")),\"i\"))}}function L(a){a=a||\"\";var b=a.match(Nb)||[],c=b[b.length-1]||[],d=(c+\"\").match(_b)||[\"-\",0,0],e=+(60*d[1])+u(d[2]);return\"+\"===d[0]?-e:e}function M(a,b,c){var d,e=c._a;switch(a){case\"Q\":null!=b&&(e[tb]=3*(u(b)-1));break;case\"M\":case\"MM\":null!=b&&(e[tb]=u(b)-1);break;case\"MMM\":case\"MMMM\":d=F(c._l).monthsParse(b),null!=d?e[tb]=d:c._pf.invalidMonth=b;break;case\"D\":case\"DD\":null!=b&&(e[ub]=u(b));break;case\"Do\":null!=b&&(e[ub]=u(parseInt(b,10)));break;case\"DDD\":case\"DDDD\":null!=b&&(c._dayOfYear=u(b));break;case\"YY\":e[sb]=mb.parseTwoDigitYear(b);break;case\"YYYY\":case\"YYYYY\":case\"YYYYYY\":e[sb]=u(b);break;case\"a\":case\"A\":c._isPm=F(c._l).isPM(b);break;case\"H\":case\"HH\":case\"h\":case\"hh\":e[vb]=u(b);break;case\"m\":case\"mm\":e[wb]=u(b);break;case\"s\":case\"ss\":e[xb]=u(b);break;case\"S\":case\"SS\":case\"SSS\":case\"SSSS\":e[yb]=u(1e3*(\"0.\"+b));break;case\"X\":c._d=new Date(1e3*parseFloat(b));break;case\"Z\":case\"ZZ\":c._useUTC=!0,c._tzm=L(b);break;case\"dd\":case\"ddd\":case\"dddd\":d=F(c._l).weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case\"w\":case\"ww\":case\"W\":case\"WW\":case\"d\":case\"e\":case\"E\":a=a.substr(0,1);case\"gggg\":case\"GGGG\":case\"GGGGG\":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=u(b));break;case\"gg\":case\"GG\":c._w=c._w||{},c._w[a]=mb.parseTwoDigitYear(b)}}function N(a){var c,d,e,f,g,h,i,j;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[sb],bb(mb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(j=F(a._l),g=j._week.dow,h=j._week.doy,d=b(c.gg,a._a[sb],bb(mb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=cb(d,e,f,h,g),a._a[sb]=i.year,a._dayOfYear=i.dayOfYear}function O(a){var c,d,e,f,g=[];if(!a._d){for(e=Q(a),a._w&&null==a._a[ub]&&null==a._a[tb]&&N(a),a._dayOfYear&&(f=b(a._a[sb],e[sb]),a._dayOfYear>x(f)&&(a._pf._overflowDayOfYear=!0),d=Z(f,0,a._dayOfYear),a._a[tb]=d.getUTCMonth(),a._a[ub]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?Z:Y).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function P(a){var b;a._d||(b=s(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],O(a))}function Q(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function R(a){if(a._f===mb.ISO_8601)return void V(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=F(a._l),h=\"\"+a._i,i=h.length,j=0;for(d=J(a._f,g).match(Fb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(K(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),hc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),M(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[vb]<12&&(a._a[vb]+=12),a._isPm===!1&&12===a._a[vb]&&(a._a[vb]=0),O(a),z(a)}function S(a){return a.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function T(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function U(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=j({},a),b._pf=c(),b._f=a._f[f],R(b),A(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));j(a,d||b)}function V(a){var b,c,d=a._i,e=Xb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Zb.length;c>b;b++)if(Zb[b][1].exec(d)){a._f=Zb[b][0]+(e[6]||\" \");break}for(b=0,c=$b.length;c>b;b++)if($b[b][1].exec(d)){a._f+=$b[b][0];break}d.match(Nb)&&(a._f+=\"Z\"),R(a)}else a._isValid=!1}function W(a){V(a),a._isValid===!1&&(delete a._isValid,mb.createFromInputFallback(a))}function X(b){var c=b._i,d=Cb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):\"string\"==typeof c?W(b):o(c)?(b._a=c.slice(0),O(b)):p(c)?b._d=new Date(+c):\"object\"==typeof c?P(b):\"number\"==typeof c?b._d=new Date(c):mb.createFromInputFallback(b)}function Y(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function Z(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function $(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function _(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ab(a,b,c){var d=rb(Math.abs(a)/1e3),e=rb(d/60),f=rb(e/60),g=rb(f/24),h=rb(g/365),i=d<ec.s&&[\"s\",d]||1===e&&[\"m\"]||e<ec.m&&[\"mm\",e]||1===f&&[\"h\"]||f<ec.h&&[\"hh\",f]||1===g&&[\"d\"]||g<=ec.dd&&[\"dd\",g]||g<=ec.dm&&[\"M\"]||g<ec.dy&&[\"MM\",rb(g/30)]||1===h&&[\"y\"]||[\"yy\",h];return i[2]=b,i[3]=a>0,i[4]=c,_.apply({},i)}function bb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=mb(a).add(\"d\",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function cb(a,b,c,d,e){var f,g,h=Z(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:x(a-1)+g}}function db(b){var c=b._i,d=b._f;return null===c||d===a&&\"\"===c?mb.invalid({nullInput:!0}):(\"string\"==typeof c&&(b._i=c=F().preparse(c)),mb.isMoment(c)?(b=k(c),b._d=new Date(+c._d)):d?o(d)?U(b):R(b):X(b),new h(b))}function eb(a,b){var c,d;if(1===b.length&&o(b[0])&&(b=b[0]),!b.length)return mb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function fb(a,b){var c;return\"string\"==typeof b&&(b=a.lang().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),v(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function gb(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function hb(a,b,c){return\"Month\"===b?fb(a,c):a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function ib(a,b){return function(c){return null!=c?(hb(this,a,c),mb.updateOffset(this,b),this):gb(this,a)}}function jb(a){mb.duration.fn[a]=function(){return this._data[a]}}function kb(a,b){mb.duration.fn[\"as\"+a]=function(){return+this/b}}function lb(a){\"undefined\"==typeof ender&&(nb=qb.moment,qb.moment=a?d(\"Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.\",mb):mb)}for(var mb,nb,ob,pb=\"2.7.0\",qb=\"undefined\"!=typeof global?global:this,rb=Math.round,sb=0,tb=1,ub=2,vb=3,wb=4,xb=5,yb=6,zb={},Ab={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Bb=\"undefined\"!=typeof module&&module.exports,Cb=/^\\/?Date\\((\\-?\\d+)/i,Db=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,Eb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Fb=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Gb=/(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,Hb=/\\d\\d?/,Ib=/\\d{1,3}/,Jb=/\\d{1,4}/,Kb=/[+\\-]?\\d{1,6}/,Lb=/\\d+/,Mb=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Nb=/Z|[\\+\\-]\\d\\d:?\\d\\d/gi,Ob=/T/i,Pb=/[\\+\\-]?\\d+(\\.\\d{1,3})?/,Qb=/\\d{1,2}/,Rb=/\\d/,Sb=/\\d\\d/,Tb=/\\d{3}/,Ub=/\\d{4}/,Vb=/[+-]?\\d{6}/,Wb=/[+-]?\\d+/,Xb=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Yb=\"YYYY-MM-DDTHH:mm:ssZ\",Zb=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],$b=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],_b=/([\\+\\-]|\\d\\d)/gi,ac=(\"Date|Hours|Minutes|Seconds|Milliseconds\".split(\"|\"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),bc={ms:\"millisecond\",s:\"second\",m:\"minute\",h:\"hour\",d:\"day\",D:\"date\",w:\"week\",W:\"isoWeek\",M:\"month\",Q:\"quarter\",y:\"year\",DDD:\"dayOfYear\",e:\"weekday\",E:\"isoWeekday\",gg:\"weekYear\",GG:\"isoWeekYear\"},cc={dayofyear:\"dayOfYear\",isoweekday:\"isoWeekday\",isoweek:\"isoWeek\",weekyear:\"weekYear\",isoweekyear:\"isoWeekYear\"},dc={},ec={s:45,m:45,h:22,dd:25,dm:45,dy:345},fc=\"DDD w W M D d\".split(\" \"),gc=\"M D H h m s w W\".split(\" \"),hc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?\"+\":\"-\";return b+m(Math.abs(a),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return m(u(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+m(u(a/60),2)+\":\"+m(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+m(u(a/60),2)+m(u(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ic=[\"months\",\"monthsShort\",\"weekdays\",\"weekdaysShort\",\"weekdaysMin\"];fc.length;)ob=fc.pop(),hc[ob+\"o\"]=f(hc[ob],ob);for(;gc.length;)ob=gc.pop(),hc[ob+ob]=e(hc[ob],2);for(hc.DDDD=e(hc.DDD,3),j(g.prototype,{set:function(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b},_months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),months:function(a){return this._months[a.month()]},_monthsShort:\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=mb.utc([2e3,b]),d=\"^\"+this.months(c,\"\")+\"|^\"+this.monthsShort(c,\"\"),this._monthsParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._monthsParse[b].test(a))return b},_weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=mb([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D YYYY\",LLL:\"MMMM D YYYY LT\",LLLL:\"dddd, MMMM D YYYY LT\"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)},_meridiemParse:/[ap]\\.?m?\\.?/i,meridiem:function(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"},_calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},calendar:function(a,b){var c=this._calendar[a];return\"function\"==typeof c?c.apply(b):c},_relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace(\"%d\",a)},_ordinal:\"%d\",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return bb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:\"Invalid date\",invalidDate:function(){return this._invalidDate}}),mb=function(b,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=c(),db(g)},mb.suppressDeprecationWarnings=!1,mb.createFromInputFallback=d(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i)}),mb.min=function(){var a=[].slice.call(arguments,0);return eb(\"isBefore\",a)},mb.max=function(){var a=[].slice.call(arguments,0);return eb(\"isAfter\",a)},mb.utc=function(b,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=d,g._strict=f,g._pf=c(),db(g).utc()},mb.unix=function(a){return mb(1e3*a)},mb.duration=function(a,b){var c,d,e,f=a,g=null;return mb.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Db.exec(a))?(c=\"-\"===g[1]?-1:1,f={y:0,d:u(g[ub])*c,h:u(g[vb])*c,m:u(g[wb])*c,s:u(g[xb])*c,ms:u(g[yb])*c}):(g=Eb.exec(a))&&(c=\"-\"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new i(f),mb.isDuration(a)&&a.hasOwnProperty(\"_lang\")&&(d._lang=a._lang),d},mb.version=pb,mb.defaultFormat=Yb,mb.ISO_8601=function(){},mb.momentProperties=Ab,mb.updateOffset=function(){},mb.relativeTimeThreshold=function(b,c){return ec[b]===a?!1:(ec[b]=c,!0)},mb.lang=function(a,b){var c;return a?(b?D(B(a),b):null===b?(E(a),a=\"en\"):zb[a]||F(a),c=mb.duration.fn._lang=mb.fn._lang=F(a),c._abbr):mb.fn._lang._abbr},mb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),F(a)},mb.isMoment=function(a){return a instanceof h||null!=a&&a.hasOwnProperty(\"_isAMomentObject\")},mb.isDuration=function(a){return a instanceof i},ob=ic.length-1;ob>=0;--ob)t(ic[ob]);mb.normalizeUnits=function(a){return r(a)},mb.invalid=function(a){var b=mb.utc(0/0);return null!=a?j(b._pf,a):b._pf.userInvalidated=!0,b},mb.parseZone=function(){return mb.apply(null,arguments).parseZone()},mb.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)},j(mb.fn=h.prototype,{clone:function(){return mb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=mb(this).utc();return 0<a.year()&&a.year()<=9999?I(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):I(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&q(this._a,(this._isUTC?mb.utc(this._a):mb(this._a)).toArray())>0:!1},parsingFlags:function(){return j({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=I(this,a||mb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c=\"string\"==typeof a&&\"string\"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):\"string\"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,1),this},subtract:function(a,b){var c;return c=\"string\"==typeof a&&\"string\"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):\"string\"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,-1),this},diff:function(a,b,c){var d,e,f=C(a,this),g=6e4*(this.zone()-f.zone());return b=r(b),\"year\"===b||\"month\"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-mb(this).startOf(\"month\")-(f-mb(f).startOf(\"month\")))/d,e-=6e4*(this.zone()-mb(this).startOf(\"month\").zone()-(f.zone()-mb(f).startOf(\"month\").zone()))/d,\"year\"===b&&(e/=12)):(d=this-f,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-g)/864e5:\"week\"===b?(d-g)/6048e5:d),c?e:l(e)},from:function(a,b){return mb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(mb(),a)},calendar:function(a){var b=a||mb(),c=C(b,this).startOf(\"day\"),d=this.diff(c,\"days\",!0),e=-6>d?\"sameElse\":-1>d?\"lastWeek\":0>d?\"lastDay\":1>d?\"sameDay\":2>d?\"nextDay\":7>d?\"nextWeek\":\"sameElse\";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){return y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=$(a,this.lang()),this.add({d:a-b})):b},month:ib(\"Month\",!0),startOf:function(a){switch(a=r(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a?this.weekday(0):\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=r(a),this.startOf(a).add(\"isoWeek\"===a?\"week\":a,1).subtract(\"ms\",1)},isAfter:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)>+mb(a).startOf(b)},isBefore:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)<+mb(a).startOf(b)},isSame:function(a,b){return b=b||\"ms\",+this.clone().startOf(b)===+C(a,this).startOf(b)},min:d(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(a){return a=mb.apply(null,arguments),this>a?this:a}),max:d(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(a){return a=mb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():(\"string\"==typeof a&&(a=L(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?n(this,mb.duration(c-a,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,mb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?\"UTC\":\"\"},zoneName:function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},parseZone:function(){return this._tzm?this.zone(this._tzm):\"string\"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?mb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(a){var b=rb((mb(this).startOf(\"day\")-mb(this).startOf(\"year\"))/864e5)+1;return null==a?b:this.add(\"d\",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=bb(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add(\"y\",a-b)},isoWeekYear:function(a){var b=bb(this,1,4).year;return null==a?b:this.add(\"y\",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add(\"d\",7*(a-b))},isoWeek:function(a){var b=bb(this,1,4).week;return null==a?b:this.add(\"d\",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add(\"d\",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return w(this.year(),a.dow,a.doy)},get:function(a){return a=r(a),this[a]()},set:function(a,b){return a=r(a),\"function\"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=F(b),this)}}),mb.fn.millisecond=mb.fn.milliseconds=ib(\"Milliseconds\",!1),mb.fn.second=mb.fn.seconds=ib(\"Seconds\",!1),mb.fn.minute=mb.fn.minutes=ib(\"Minutes\",!1),mb.fn.hour=mb.fn.hours=ib(\"Hours\",!0),mb.fn.date=ib(\"Date\",!0),mb.fn.dates=d(\"dates accessor is deprecated. Use date instead.\",ib(\"Date\",!0)),mb.fn.year=ib(\"FullYear\",!0),mb.fn.years=d(\"years accessor is deprecated. Use year instead.\",ib(\"FullYear\",!0)),mb.fn.days=mb.fn.day,mb.fn.months=mb.fn.month,mb.fn.weeks=mb.fn.week,mb.fn.isoWeeks=mb.fn.isoWeek,mb.fn.quarters=mb.fn.quarter,mb.fn.toJSON=mb.fn.toISOString,j(mb.duration.fn=i.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=l(e/1e3),h.seconds=a%60,b=l(a/60),h.minutes=b%60,c=l(b/60),h.hours=c%24,f+=l(c/24),h.days=f%30,g+=l(f/30),h.months=g%12,d=l(g/12),h.years=d},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)},humanize:function(a){var b=+this,c=ab(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=mb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=mb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=r(a),this[a.toLowerCase()+\"s\"]()},as:function(a){return a=r(a),this[\"as\"+a.charAt(0).toUpperCase()+a.slice(1)+\"s\"]()},lang:mb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"}});for(ob in ac)ac.hasOwnProperty(ob)&&(kb(ob,ac[ob]),jb(ob.toLowerCase()));kb(\"Weeks\",6048e5),mb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},mb.lang(\"en\",{ordinal:function(a){var b=a%10,c=1===u(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),Bb?module.exports=mb:\"function\"==typeof define&&define.amd?(define(\"moment\",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(qb.moment=nb),mb}),lb(!0)):lb()}).call(this);","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n(function() {\n\nvar ACE_NAMESPACE = \"\";\n\nvar global = (function() {\n    return this;\n})();\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar _define = function(module, deps, payload) {\n    if (typeof module !== 'string') {\n        if (_define.original)\n            _define.original.apply(window, arguments);\n        else {\n            console.error('dropping module because define wasn\\'t a string.');\n            console.trace();\n        }\n        return;\n    }\n\n    if (arguments.length == 2)\n        payload = deps;\n\n    if (!_define.modules) {\n        _define.modules = {};\n        _define.payloads = {};\n    }\n    \n    _define.payloads[module] = payload;\n    _define.modules[module] = null;\n};\nvar _require = function(parentId, module, callback) {\n    if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (!dep && _require.original)\n                return _require.original.apply(window, arguments);\n            params.push(dep);\n        }\n        if (callback) {\n            callback.apply(null, params);\n        }\n    }\n    else if (typeof module === 'string') {\n        var payload = lookup(parentId, module);\n        if (!payload && _require.original)\n            return _require.original.apply(window, arguments);\n\n        if (callback) {\n            callback();\n        }\n\n        return payload;\n    }\n    else {\n        if (_require.original)\n            return _require.original.apply(window, arguments);\n    }\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n\n    return moduleName;\n};\nvar lookup = function(parentId, moduleName) {\n\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = _define.modules[moduleName];\n    if (!module) {\n        module = _define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            _define.modules[moduleName] = exports;\n            delete _define.payloads[moduleName];\n        }\n        module = _define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var require = function(module, callback) {\n        return _require(\"\", module, callback);\n    };    \n\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        _define.original = root.define;\n        root.define = _define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        _require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\ndefine('ace/ace', ['require', 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/dom', 'ace/lib/event', 'ace/editor', 'ace/edit_session', 'ace/undomanager', 'ace/virtual_renderer', 'ace/multi_select', 'ace/worker/worker_client', 'ace/keyboard/hash_handler', 'ace/placeholder', 'ace/mode/folding/fold_mode', 'ace/theme/textmate', 'ace/ext/error_marker', 'ace/config'], function(require, exports, module) {\n\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar MultiSelect = require(\"./multi_select\").MultiSelect;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\nexports.edit = function(el) {\n    if (typeof(el) == \"string\") {\n        var _id = el;\n        var el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var doc = exports.createEditSession(dom.getInnerText(el));\n    el.innerHTML = '';\n\n    var editor = new Editor(new Renderer(el));\n    new MultiSelect(editor);\n    editor.setSession(doc);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n    });\n    el.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n}\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\n});\n\ndefine('ace/mode/behaviour', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    }\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    }\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    }\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    }\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {}\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    }\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\ndefine('ace/unicode', ['require', 'exports', 'module' ], function(require, exports, module) {\nexports.packages = {};\n\naddUnicodePackage({\n    L:  \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n    Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n    Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n    Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n    Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    M:  \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n    Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n    Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n    Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n    N:  \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n    No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n    P:  \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n    Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n    Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n    Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n    Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n    Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n    Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n    Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n    S:  \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n    Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n    Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n    Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n    So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n    Z:  \"002000A01680180E2000-200A20282029202F205F3000\",\n    Zs: \"002000A01680180E2000-200A202F205F3000\",\n    Zl: \"2028\",\n    Zp: \"2029\",\n    C:  \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n    Cc: \"0000-001F007F-009F\",\n    Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n    Co: \"E000-F8FF\",\n    Cs: \"D800-DFFF\",\n    Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n});\n\nfunction addUnicodePackage (pack) {\n    var codePoint = /\\w{4}/g;\n    for (var name in pack)\n        exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n};\n\n});\n\ndefine('ace/token_iterator', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n            \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\ndefine('ace/mode/text_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next) {\n                    if (typeof rule.next != \"string\") {\n                        if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                            rule.nextState = prefix + rule.nextState;\n                    } else {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                if (rule.include || typeof rule == \"string\") {\n                    var includeName = rule.include || rule;\n                    var toInsert = rules[includeName];\n                } else if (Array.isArray(rule))\n                    toInsert = rule;\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                    toInsert = null\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        };\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            if (ignoreCase)\n                a = a.toLowerCase();\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; )\n                keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n            keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken }\n            : function(value) {return keywords[value] || defaultToken };\n    }\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\ndefine('ace/anchor', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n\n        if (range.start.row == range.end.row && range.start.row != this.row)\n            return;\n\n        if (range.start.row > this.row)\n            return;\n\n        if (range.start.row == this.row && range.start.column > this.column)\n            return;\n\n        var row = this.row;\n        var column = this.column;\n        var start = range.start;\n        var end = range.end;\n\n        if (delta.action === \"insertText\") {\n            if (start.row === row && start.column <= column) {\n                if (start.column === column && this.$insertRight) {\n                } else if (start.row === end.row) {\n                    column += end.column - start.column;\n                } else {\n                    column -= start.column;\n                    row += end.row - start.row;\n                }\n            } else if (start.row !== end.row && start.row < row) {\n                row += end.row - start.row;\n            }\n        } else if (delta.action === \"insertLines\") {\n            if (start.row <= row) {\n                row += end.row - start.row;\n            }\n        } else if (delta.action === \"removeText\") {\n            if (start.row === row && start.column < column) {\n                if (end.column >= column)\n                    column = start.column;\n                else\n                    column = Math.max(0, column - (end.column - start.column));\n\n            } else if (start.row !== end.row && start.row < row) {\n                if (end.row === row)\n                    column = Math.max(0, column - end.column) + start.column;\n                row -= (end.row - start.row);\n            } else if (end.row === row) {\n                row -= end.row - start.row;\n                column = Math.max(0, column - end.column) + start.column;\n            }\n        } else if (delta.action == \"removeLines\") {\n            if (start.row <= row) {\n                if (end.row <= row)\n                    row -= end.row - start.row;\n                else {\n                    row = start.row;\n                    column = 0;\n                }\n            }\n        }\n\n        this.setPosition(row, column, true);\n    };\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\ndefine('ace/background_tokenizer', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        while (self.lines[currentLine])\n            currentLine++;\n\n        var startLine = currentLine;\n\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 == 0) && (new Date() - workerStart) > 20) {                \n                self.running = setTimeout(self.$worker, 20);\n                self.currentLine = currentLine;\n                return;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    }\n\n    this.$updateOnChange = function(delta) {\n        var range = delta.range;\n        var startRow = range.start.row;\n        var len = range.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\ndefine('ace/search_highlight', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(require, exports, module) {\n\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\ndefine('ace/edit_session/folding', ['require', 'exports', 'module' , 'ace/range', 'ace/edit_session/fold_line', 'ace/edit_session/fold', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var fold = folds[i];\n            if (fold.range.contains(row, column)) {\n                if (side == 1 && fold.range.isEnd(row, column)) {\n                    continue;\n                } else if (side == -1 && fold.range.isStart(row, column)) {\n                    continue;\n                }\n                return fold;\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    }\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if(start < last) {\n                    if(start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0;//in one fold\n                }\n                break;\n            } else if(end >= first){\n                if (start >= first) //fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        if (!(startRow < endRow || \n            startRow == endRow && startColumn <= endColumn - 2))\n            throw new Error(\"The range has to be at least 2 characters width\");\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (\n            (startFold && !startFold.range.isStart(startRow, startColumn))\n            || (endFold && !endFold.range.isEnd(endRow, endColumn))\n        ) {\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + startFold.range);\n        }\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            folds.forEach(function(subFold) {\n                fold.addSubFold(subFold);\n            });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n            this.removeFolds(folds);\n        } else {\n            var subFolds = folds;\n            while (subFolds.length) {\n                this.expandFolds(subFolds);\n                subFolds = this.getFoldsInRangeList(range);\n            }\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null) {\n            startRow = foldLine.start.row;\n            startColumn = 0;\n        }\n\n        if (endRow == null) {\n            endRow = foldLine.end.row;\n            endColumn = this.getLine(endRow).length;\n        }\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if(placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        if (token && /^comment|string/.test(token.type)) {\n            var range = new Range();\n            var re = new RegExp(token.type.replace(/\\..*/, \"\\\\.\"));\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while(token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                do {\n                    token = iterator.stepForward();\n                } while(token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold)\n                        fold.collapseChildren = depth;\n                } catch(e) {}\n            }\n        }\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.removeListener('change', this.$updateFoldWidgets);\n        this._emit(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        \n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    }\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement)\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, range.end.row, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n        var firstRow = range.start.row;\n        var len = range.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n\n}\n\nexports.Folding = Folding;\n\n});\n\ndefine('ace/edit_session/fold_line', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1]\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    }\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    }\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    }\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            comp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            comp = fold.range.compareStart(endRow, endColumn);\n            if (comp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || comp == 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    }\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp == 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                }\n            }\n        }\n        return null;\n    }\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i == 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    }\n\n    this.split = function(row, column) {\n        var fold = this.getNextFoldTo(row, column).fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n\n        if (!fold)\n            return null;\n\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    }\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    }\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\")\n        return ret.join(\"\\n\");\n    }\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n        var fold;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    }\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\ndefine('ace/tokenizer', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar MAX_TOKEN_COUNT = 1000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    throw new Error(\"number of classes and regexp groups in '\" + \n                        rule.token + \"'\\n'\" + rule.regex +  \"' doesn't match\\n\"\n                        + (matchcount - 1) + \"!=\" + rule.token.length);\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n            rule.__proto__ = null;\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    },\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\")\n                        currentState = rule.next;\n                    else\n                        currentState = rule.next(currentState, stack);\n\n                    state = this.states[currentState];\n                    if (!state) {\n                        window.console && console.error && console.error(currentState, \"doesn't exist\");\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                break;\n            }\n\n            if (value) {\n                if (typeof type == \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (tokens.length > MAX_TOKEN_COUNT) {\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 2000),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n\n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\ndefine('ace/edit_session/fold', ['require', 'exports', 'module' , 'ace/range', 'ace/range_list', 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\")\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n\n        if (!this.range.containsRange(fold))\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n\n        if (cmp == 0)\n            return afterStart.addSubFold(fold);\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterEnd = this.subFolds[j];\n\n        if (cmp == 0)\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\ndefine('ace/mode/text', ['require', 'exports', 'module' , 'ace/tokenizer', 'ace/mode/text_highlight_rules', 'ace/mode/behaviour', 'ace/unicode', 'ace/lib/lang', 'ace/token_iterator', 'ace/range'], function(require, exports, module) {\n\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar Behaviour = require(\"./behaviour\").Behaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n    this.$behaviour = new Behaviour();\n};\n\n(function() {\n\n    this.tokenRe = new RegExp(\"^[\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]+\", \"g\"\n    );\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\"\n    );\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = new this.HighlightRules();\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === 'comment')\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n                return true;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                this.$embeds.push(i);\n                this.$modes[i] = new mapping[i]();\n            }\n        }\n\n        var delegations = ['toggleBlockComment', 'toggleCommentLines', 'getNextLineIndent', \n            'checkOutdent', 'autoOutdent', 'transformAction', 'getCompletions'];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            } (this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0];\n        if (typeof state != \"string\")\n            state = state[0];\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/range_list', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.call(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(e) {\n        var changeRange = e.data.range;\n        if (e.data.action[0] == \"i\"){\n            var start = changeRange.start;\n            var end = changeRange.end;\n        } else {\n            var end = changeRange.start;\n            var start = changeRange.end;\n        }\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n\n        var colDiff = -start.column + end.column;\n        var ranges = this.ranges;\n\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row < startRow)\n                continue;\n            if (r.start.row > startRow)\n                break;\n\n            if (r.start.row == startRow && r.start.column >= start.column ) {\n                if (r.start.column == start.column && this.$insertRight) {\n                } else {\n                    r.start.column += colDiff;\n                    r.start.row += lineDif;\n                }\n            }\n            if (r.end.row == startRow && r.end.column >= start.column) {\n                if (r.end.column == start.column && this.$insertRight) {\n                    continue;\n                }\n                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                \n                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                        r.end.column -= colDiff;\n                }\n                r.end.column += colDiff;\n                r.end.row += lineDif;\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\ndefine('ace/range', ['require', 'exports', 'module' ], function(require, exports, module) {\n\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            };\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0)\n        else\n            return new Range(this.start.row, 0, this.end.row, 0)\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\ndefine('ace/edit_session/bracket_match', ['require', 'exports', 'module' , 'ace/token_iterator', 'ace/range'], function(require, exports, module) {\n\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column-1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\ndefine('ace/selection', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter', 'ace/range'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n\n    var self = this;\n    this.lead.on(\"change\", function(e) {\n        self._emit(\"changeCursor\");\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.selectionAnchor.on(\"change\", function() {\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return (this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        ));\n    };\n    this.isMultiLine = function() {\n        if (this.isEmpty()) {\n            return false;\n        }\n\n        return this.getRange().isMultiLine();\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.anchor.setPosition(row, column);\n\n        if (this.$isEmpty) {\n            this.$isEmpty = false;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead()\n        else\n            return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.shiftSelection = function(columns) {\n        if (this.$isEmpty) {\n            this.moveCursorTo(this.lead.row, this.lead.column + columns);\n            return;\n        };\n\n        var anchor = this.getSelectionAnchor();\n        var lead = this.getSelectionLead();\n\n        var isBackwards = this.isBackwards();\n\n        if (!isBackwards || anchor.column !== 0)\n            this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n        if (isBackwards || lead.column !== 0) {\n            this.$moveSelection(function() {\n                this.moveCursorTo(lead.row, lead.column + columns);\n            });\n        }\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.isEmpty())\n            return Range.fromPoints(lead, lead);\n\n        if (this.isBackwards()) {\n            return Range.fromPoints(lead, anchor);\n        }\n        else {\n            return Range.fromPoints(anchor, lead);\n        }\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        var lastRow = this.doc.getLength() - 1;\n        this.setSelectionAnchor(0, 0);\n        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        if (reverse) {\n            this.setSelectionAnchor(range.end.row, range.end.column);\n            this.selectTo(range.start.row, range.start.column);\n        } else {\n            this.setSelectionAnchor(range.start.row, range.start.column);\n            this.selectTo(range.end.row, range.end.column);\n        }\n        if (this.getRange().isEmpty())\n            this.$isEmpty = true;\n        this.$desiredColumn = null;\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column == 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column-tabSize, cursor.column).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, -tabSize);\n            else\n                this.moveCursorBy(0, -1);\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column, cursor.column+tabSize).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, tabSize);\n            else\n                this.moveCursorBy(0, 1);\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column)\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var match, index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row)\n            } while (row < l && /^\\s*$/.test(rightOfCursor))\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\"\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column == 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line))\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\"\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        if (chars === 0) {\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row])\n                docPos.row++;\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    }\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    }\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    }\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data.isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else\n                data = data[0];\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false\n        }\n        return true;\n    }\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\ndefine('ace/search', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(require, exports, module) {\n\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var iterator = this.$matchIterator(session, this.$options);\n\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(range, row, offset) {\n            if (!range.start) {\n                var column = range.offset + (offset || 0);\n                firstRange = new Range(row, column, row, column+range.length);\n            } else\n                firstRange = range;\n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n\n        var self = this, callback, backwards = options.backwards;\n\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var matchIterator = function(line, row, offset) {\n                var startIndex = line.search(re[0]);\n                if (startIndex == -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(row + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n\n                var endIndex = line.match(re[len - 1])[0].length;\n\n                var range = new Range(row, startIndex, row + len - 1, endIndex);\n                if (re.offset == 1) {\n                    range.start.row--;\n                    range.start.column = Number.MAX_VALUE;\n                } else if (offset)\n                    range.start.column += offset;\n\n                if (callback(range))\n                    return true;\n            };\n        } else if (backwards) {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = matches.length-1; i >= 0; i--)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        } else {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = 0; i < matches.length; i++)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        }\n\n        return {\n            forEach: function(_callback) {\n                callback = _callback;\n                self.$lineIterator(session, options).forEach(matchIterator);\n            }\n        };\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = \"\\\\b\" + needle + \"\\\\b\";\n\n        var modifier = options.caseSensitive ? \"g\" : \"gi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        if (parts[0] == \"\") {\n            re.shift();\n            re.offset = 1;\n        } else {\n            re.offset = 0;\n        }\n        return re;\n    };\n\n    this.$lineIterator = function(session, options) {\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n\n        var forEach = backwards ? function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substring(0, start.column);\n                if (callback(line, row))\n                    return;\n\n                for (row--; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n            } : function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substr(start.column);\n                if (callback(line, row, start.column))\n                    return;\n\n                for (row = row+1; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n            };\n        \n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nexports.Search = Search;\n});\n\ndefine('ace/edit_session', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/config', 'ace/lib/event_emitter', 'ace/selection', 'ace/mode/text', 'ace/range', 'ace/document', 'ace/background_tokenizer', 'ace/search_highlight', 'ace/edit_session/folding', 'ace/edit_session/bracket_match'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    }\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(e) {\n        var delta = e.data;\n        this.$modified = true;\n\n        this.$resetRowCache(delta.range.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(e);\n        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n            this.$deltasDoc.push(delta);\n            if (removedFolds && removedFolds.length != 0) {\n                this.$deltasFold.push({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                });\n            }\n\n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", e);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n\n        if (undoManager) {\n            var self = this;\n\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n\n                if (self.$deltasFold.length) {\n                    self.$deltas.push({\n                        group: \"fold\",\n                        deltas: self.$deltasFold\n                    });\n                    self.$deltasFold = [];\n                }\n\n                if (self.$deltasDoc.length) {\n                    self.$deltas.push({\n                        group: \"doc\",\n                        deltas: self.$deltasDoc\n                    });\n                    self.$deltasDoc = [];\n                }\n\n                if (self.$deltas.length > 0) {\n                    undoManager.execute({\n                        action: \"aceupdate\",\n                        args: [self.$deltas, self],\n                        merge: self.mergeUndoDeltas\n                    });\n                }\n                self.mergeUndoDeltas = false;\n                self.$deltas = [];\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        reset: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        if (marker) {\n            delete (markers[markerId]);\n            this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n        }\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = {};\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options)\n                return this.$onChangeMode(this.$modes[path]);\n            if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n                cb && cb();\n            }\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.addEventListener !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.addEventListener(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\");\n        }\n    };\n\n\n    this.$stopWorker = function() {\n        if (this.$worker)\n            this.$worker.terminate();\n\n        this.$worker = null;\n    };\n\n    this.$startWorker = function() {\n        if (typeof Worker !== \"undefined\" && !require.noWorker) {\n            try {\n                this.$worker = this.$mode.createWorker(this);\n            } catch (e) {\n                console.log(\"Could not load worker\");\n                console.log(e);\n                this.$worker = null;\n            }\n        }\n        else\n            this.$worker = null;\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.revertDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n            } else {\n                delta.deltas.forEach(function(foldDelta) {\n                    this.addFolds(foldDelta.folds);\n                }, this);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.applyDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {\n        function isInsert(delta) {\n            var insert =\n                delta.action === \"insertText\" || delta.action === \"insertLines\";\n            return isUndo ? !insert : insert;\n        }\n\n        var delta = deltas[0];\n        var range, point;\n        var lastDeltaIsInsert = false;\n        if (isInsert(delta)) {\n            range = Range.fromPoints(delta.range.start, delta.range.end);\n            lastDeltaIsInsert = true;\n        } else {\n            range = Range.fromPoints(delta.range.start, delta.range.start);\n            lastDeltaIsInsert = false;\n        }\n\n        for (var i = 1; i < deltas.length; i++) {\n            delta = deltas[i];\n            if (isInsert(delta)) {\n                point = delta.range.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(delta.range.start);\n                }\n                point = delta.range.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(delta.range.end);\n                }\n                lastDeltaIsInsert = true;\n            } else {\n                point = delta.range.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range =\n                        Range.fromPoints(delta.range.start, delta.range.start);\n                }\n                lastDeltaIsInsert = false;\n            }\n        }\n        if (lastUndoRange != null) {\n            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n                lastUndoRange.start.column += range.end.column - range.start.column;\n                lastUndoRange.end.column += range.end.column - range.start.column;\n            }\n\n            var cmp = lastUndoRange.compareRange(range);\n            if (cmp == 1) {\n                range.setStart(lastUndoRange.start);\n            } else if (cmp == -1) {\n                range.setEnd(lastUndoRange.end);\n            }\n        }\n\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.insert({row: row, column:0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeLines(firstRow, lastRow);\n        this.doc.insertLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = {\n                min: min,\n                max: max\n            };\n            this.$modified = true;\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(e) {\n        var useWrapMode = this.$useWrapMode;\n        var len;\n        var action = e.data.action;\n        var firstRow = e.data.range.start.row;\n        var lastRow = e.data.range.end.row;\n        var start = e.data.range.start;\n        var end = e.data.range.end;\n        var removedFolds = null;\n\n        if (action.indexOf(\"Lines\") != -1) {\n            if (action == \"insertLines\") {\n                lastRow = firstRow + (e.data.lines.length);\n            } else {\n                lastRow = firstRow;\n            }\n            len = e.data.lines ? e.data.lines.length : lastRow - firstRow;\n        } else {\n            len = lastRow - firstRow;\n        }\n\n        this.$updating = true;\n        if (len != 0) {\n            if (action.indexOf(\"remove\") != -1) {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(e.data.range);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column)\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        foldLine.shiftRow(len);\n                        foldLine.addRemoveChars(\n                            lastRow, 0, end.column - start.column);\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(e.data.range.start.column - e.data.range.end.column);\n            if (action.indexOf(\"remove\") != -1) {\n                removedFolds = this.getFoldsInRange(e.data.range);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        function addSplit(screenPos) {\n            var displayed = tokens.slice(lastSplit, screenPos);\n            var len = displayed.length;\n            displayed.join(\"\").\n                replace(/12/g, function() {\n                    len -= 1;\n                }).\n                replace(/2/g, function() {\n                    len -= 1;\n                });\n\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n\n        while (displayLength - lastSplit > wrapLimit) {\n            var split = lastSplit + wrapLimit;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (isCode ? 10 : wrapLimit-(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            addSplit(split);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        if (this.lineWidgets)\n            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - screenColumn % this.$tabSize;\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            }\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                var splitIndex = Math.floor(screenRow - row);\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n            }\n        }\n\n        return {\n            row: screenRow,\n            column: this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n    }\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    };\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n            this.$wrap = value;\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$modified = true;\n                    this.$resetRowCache(0);\n                    this.$updateWrapData(0, this.getLength() - 1);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n            this.$modified = true;\n            this.$rowLengthCache = [];\n            this.$tabSize = tabSize;\n            this._signal(\"changeTabSize\");\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val)},\n        get: function() {return this.doc.getNewLineMode()},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val) },\n        get: function() { return this.$modeId }\n    }\n});\n\nexports.EditSession = EditSession;\n});\ndefine('ace/commands/command_manager', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/keyboard/hash_handler', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    HashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, HashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (typeof command === 'string')\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        var retvalue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return retvalue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\ndefine('ace/keyboard/keybinding', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/event'], function(require, exports, module) {\n\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n        this.$data = {editor: this.$editor};\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);                \n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        var success = this.$callKeyboardHandlers(-1, text);\n        if (!success)\n            this.$editor.commands.exec(\"insertstring\", this.$editor, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\ndefine('ace/keyboard/hash_handler', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    if (this.__defineGetter__ && this.__defineSetter__ && typeof console != \"undefined\" && console.error) {\n        var warned = false;\n        var warn = function() {\n            if (!warned) {\n                warned = true;\n                console.error(\"commmandKeyBinding has too many m's. use commandKeyBinding\");\n            }\n        };\n        this.__defineGetter__(\"commmandKeyBinding\", function() {\n            warn();\n            return this.commandKeyBinding;\n        });\n        this.__defineSetter__(\"commmandKeyBinding\", function(val) {\n            warn();\n            return this.commandKeyBinding = val;\n        });\n    } else {\n        this.commmandKeyBinding = this.commandKeyBinding;\n    }\n\n    this.addCommands(config);\n};\n\n(function() {\n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command) {\n        var name = (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var hashId in ckb) {\n            for (var key in ckb[hashId]) {\n                if (ckb[hashId][key] == command)\n                    delete ckb[hashId][key];\n            }\n        }\n    };\n\n    this.bindKey = function(key, command) {\n        if(!key)\n            return;\n        if (typeof command == \"function\") {\n            this.addCommand({exec: command, bindKey: key, name: command.name || key});\n            return;\n        }\n\n        var ckb = this.commandKeyBinding;\n        key.split(\"|\").forEach(function(keyPart) {\n            var binding = this.parseKeys(keyPart, command);\n            var hashId = binding.hashId;\n            (ckb[hashId] || (ckb[hashId] = {}))[binding.key] = command;\n        }, this);\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        var binding = command.bindKey;\n        if (!binding)\n            return;\n\n        var key = typeof binding == \"string\" ? binding: binding[this.platform];\n        this.bindKey(key, command);\n    };\n    this.parseKeys = function(keys) {\n        if (keys.indexOf(\" \") != -1)\n            keys = keys.split(/\\s+/).pop();\n\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var ckbr = this.commandKeyBinding;\n        return ckbr[hashId] && ckbr[hashId][keyString];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        return {\n            command: this.findKeyCommand(hashId, keyString)\n        };\n    };\n\n}).call(HashHandler.prototype)\n\nexports.HashHandler = HashHandler;\n});\n\ndefine('ace/mouse/fold_handler', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\ndefine('ace/commands/default_commands', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/config'], function(require, exports, module) {\n\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"Ctrl-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Ctrl-Shift-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor) {\n        var line = parseInt(prompt(\"Enter line number:\"), 10);\n        if (!isNaN(line)) {\n            editor.gotoLine(line);\n        }\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    bindKey: bindKey(\"Ctrl-Alt-0\", \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    bindKey: bindKey(\"ALt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor)});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    bindKey: bindKey(\"Ctrl-P\", \"Ctrl-Shift-P\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    bindKey: bindKey(\"Ctrl-Shift-P\", null),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, \n{\n    name: \"cut\",\n    exec: function(editor) {\n        var range = editor.getSelectionRange();\n        editor._emit(\"cut\", range);\n\n        if (!editor.selection.isEmpty()) {\n            editor.session.remove(range);\n            editor.clearSelection();\n        }\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"removeline\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true)});\n    }\n}, {\n    name: \"undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    bindKey: bindKey(\"Ctrl-T\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}];\n\n});\n\ndefine('ace/lib/event_emitter', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        var old = handlers[eventName];\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\ndefine('ace/undomanager', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar UndoManager = function() {\n    this.reset();\n};\n\n(function() {\n    this.execute = function(options) {\n        var deltas = options.args[0];\n        this.$doc  = options.args[1];\n        if (options.merge && this.hasUndo()){\n            this.dirtyCounter--;\n            deltas = this.$undoStack.pop().concat(deltas);\n        }\n        this.$undoStack.push(deltas);\n        this.$redoStack = [];\n\n        if (this.dirtyCounter < 0) {\n            this.dirtyCounter = NaN;\n        }\n        this.dirtyCounter++;\n    };\n    this.undo = function(dontSelect) {\n        var deltas = this.$undoStack.pop();\n        var undoSelectionRange = null;\n        if (deltas) {\n            undoSelectionRange =\n                this.$doc.undoChanges(deltas, dontSelect);\n            this.$redoStack.push(deltas);\n            this.dirtyCounter--;\n        }\n\n        return undoSelectionRange;\n    };\n    this.redo = function(dontSelect) {\n        var deltas = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltas) {\n            redoSelectionRange =\n                this.$doc.redoChanges(deltas, dontSelect);\n            this.$undoStack.push(deltas);\n            this.dirtyCounter++;\n        }\n\n        return redoSelectionRange;\n    };\n    this.reset = function() {\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.dirtyCounter = 0;\n    };\n    this.hasUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.hasRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.markClean = function() {\n        this.dirtyCounter = 0;\n    };\n    this.isClean = function() {\n        return this.dirtyCounter === 0;\n    };\n\n}).call(UndoManager.prototype);\n\nexports.UndoManager = UndoManager;\n});\ndefine('ace/lib/net', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\n\n});\n\ndefine('ace/virtual_renderer', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/config', 'ace/layer/gutter', 'ace/layer/marker', 'ace/layer/text', 'ace/layer/cursor', 'ace/scrollbar', 'ace/renderloop', 'ace/layer/font_metrics', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\nfont-size: 12px;\\\nline-height: normal;\\\ndirection: ltr;\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: text;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging, .ace_dragging * {\\\ncursor: move !important;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: #f8f8f8;\\\ncolor: #111;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n/* setting pointer-events: auto; on node under the mouse, which changes\\\nduring scroll, will break mouse wheel scrolling in Safari */\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0px;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-moz-transition: opacity 0.18s;\\\n-webkit-transition: opacity 0.18s;\\\n-o-transition: opacity 0.18s;\\\n-ms-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_editor.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\n-moz-border-radius: 2px;\\\n-webkit-border-radius: 2px;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\ndisplay: block;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n/**\\\n* Dark version for fold widgets\\\n*/\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-moz-transition: opacity 0.4s ease 0.05s;\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\n-o-transition: opacity 0.4s ease 0.05s;\\\n-ms-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-moz-transition: opacity 0.05s ease 0.05s;\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\n-o-transition: opacity 0.05s ease 0.05s;\\\n-ms-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n\";\n\ndom.importCssString(editorCss, \"ace_editor\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    this.$keepTextAreaAtCursor = true;\n\n    dom.addCssClass(this.container, \"ace_editor\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container, 500);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._emit(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (!session)\n            return;\n            \n        if (this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode()\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow ||\n            this.$changedLines.lastRow < this.layerConfig.firstRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            this.scrollBarH.element.style.left = \n            this.scroller.style.left = gutterWidth + \"px\";\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           \n            \n            this.scrollBarH.element.style.right = \n            this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n            this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)\n                changes |= this.CHANGE_FULL;\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function() {\n        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n            this.$loop.schedule(this.CHANGE_MARKER);\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\")\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updateGutterLineHighlight = function() {\n        var pos = this.$cursorLayer.$pixelPos;\n        var height = this.layerConfig.lineHeight;\n        if (this.session.getUseWrapMode()) {\n            var cursor = this.session.selection.getCursor();\n            cursor.column = 0;\n            pos = this.$cursorLayer.getPixelPosition(cursor, true);\n            height *= this.session.getRowLength(cursor.row);\n        }\n        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n        this.$gutterLineHighlight.style.height = height + \"px\";\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.content;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (!this.$keepTextAreaAtCursor)\n            return;\n        var config = this.layerConfig;\n        var posTop = this.$cursorLayer.$pixelPos.top;\n        var posLeft = this.$cursorLayer.$pixelPos.left;\n        posTop -= config.offset;\n\n        var h = this.lineHeight;\n        if (posTop < 0 || posTop > config.height - h)\n            return;\n\n        var w = this.characterWidth;\n        if (this.$composition) {\n            var val = this.textarea.value.replace(/^\\x01+/, \"\");\n            w *= (this.session.$getStringScreenWidth(val)[0]+2);\n            h += 2;\n            posTop -= 1;\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft -= this.scrollBar.width;\n\n        this.textarea.style.height = h + \"px\";\n        this.textarea.style.width = w + \"px\";\n        this.textarea.style.right = Math.max(0, this.$size.scrollerWidth - posLeft - w) + \"px\";\n        this.textarea.style.bottom = Math.max(0, this.$size.height - posTop - h) + \"px\";\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var flint = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);\n        return this.layerConfig.firstRow - 1 + flint;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        this.scrollBarV.setScrollHeight(this.layerConfig.maxHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\");\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig();\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            this.$gutterLayer.element.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.width = config.width + 2 * this.$padding + \"px\";\n            this.content.style.height = config.minHeight + \"px\";\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            this.content.style.marginLeft = -this.scrollLeft + \"px\";\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this._signal(\"afterRender\");\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\");\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\");\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.max(\n            (this.$minLines||1) * this.lineHeight,\n            Math.min(maxHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        var vScroll = height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var offset = this.scrollTop % this.lineHeight;\n        var minHeight = size.scrollerHeight + this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        \n        if (!this.$maxLines && this.$scrollPastEnd) {\n            if (this.scrollTop > maxHeight - size.scrollerHeight)\n                maxHeight += Math.min(\n                    (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd,\n                    this.scrollTop - maxHeight + size.scrollerHeight\n                );\n        }\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight < 0);\n        var vScrollChanged = this.$vScroll !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        \n        this.session.setScrollTop(Math.max(-this.scrollMargin.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + this.scrollMargin.bottom)));\n\n        this.session.setScrollLeft(Math.max(-this.scrollMargin.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + this.scrollMargin.right)));\n\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)),\n            height : this.$size.scrollerHeight\n        };\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight - (this.$size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var offset = (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var col = Math.round(\n            (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth\n        );\n\n        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0));\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + Math.round(pos.column * this.characterWidth);\n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(position) {\n        if (!this.$composition)\n            this.$composition = {\n                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n                cssText: this.textarea.style.cssText\n            };\n\n        this.$keepTextAreaAtCursor = true;\n        dom.addCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = \"\";\n        this.$moveTextAreaToCursor();\n    };\n    this.setCompositionText = function(text) {\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module.cssClass)\n                return;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container.ownerDocument\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        if (this.content.style.cursor != style)\n            this.content.style.cursor = style;\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        this.content.style.cursor = cursorStyle;\n    };\n    this.destroy = function() {\n        this.$textLayer.destroy();\n        this.$cursorLayer.destroy();\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show)},\n        initialValue: true\n    },\n    showLineNumbers: {\n        set: function(show) {\n            this.$gutterLayer.setShowLineNumbers(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            if (!this.$gutterLineHighlight) {\n                this.$gutterLineHighlight = dom.createElement(\"div\");\n                this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n                this.$gutter.appendChild(this.$gutterLineHighlight);\n                return;\n            }\n\n            this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n            if (this.$cursorLayer.$pixelPos)\n                this.$updateGutterLineHighlight();\n        },\n        initialValue: false,\n        value: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize:  {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val) },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\ndefine('ace/config', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/lib/net', 'ace/lib/event_emitter'], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar global = (function() {\n    return this;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {}\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    options[key] = value;\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\noop.implement(exports, EventEmitter);\n\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];    \n    if (sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n};\ninit(true);function init(packaged) {\n\n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    if (!global.document)\n        return \"\";\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n\n    var scripts = document.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n};\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            optionNames = Object.keys(this.$options);\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            if (typeof console != \"undefined\" && console.warn)\n                console.warn('misspelled option \"' + name + '\"');\n            return undefined;\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            if (typeof console != \"undefined\" && console.warn)\n                console.warn('misspelled option \"' + name + '\"');\n            return undefined;\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nvar defaultOptions = {};\nexports.defineOptions = function(obj, path, options) {\n    if (!obj.$options)\n        defaultOptions[path] = obj.$options = {};\n\n    Object.keys(options).forEach(function(key) {\n        var opt = options[key];\n        if (typeof opt == \"string\")\n            opt = {forwardTo: opt};\n\n        opt.name || (opt.name = key);\n        obj.$options[opt.name] = opt;\n        if (\"initialValue\" in opt)\n            obj[\"$\" + opt.name] = opt.initialValue;\n    });\n    oop.implement(obj, optionsProvider);\n\n    return this;\n};\n\nexports.resetOptions = function(obj) {\n    Object.keys(obj.$options).forEach(function(key) {\n        var opt = obj.$options[key];\n        if (\"value\" in opt)\n            obj.setOption(key, opt.value);\n    });\n};\n\nexports.setDefaultValue = function(path, name, value) {\n    var opts = defaultOptions[path] || (defaultOptions[path] = {});\n    if (opts[name]) {\n        if (opts.forwardTo)\n            exports.setDefaultValue(opts.forwardTo, name, value);\n        else\n            opts[name].value = value;\n    }\n};\n\nexports.setDefaultValues = function(path, optionHash) {\n    Object.keys(optionHash).forEach(function(key) {\n        exports.setDefaultValue(path, key, optionHash[key]);\n    });\n};\n\n});\n\ndefine('ace/layer/gutter', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n    this.$cells = [];\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (e) {\n        if (!this.$annotations.length)\n            return;\n        var delta = e.data;\n        var range = delta.range;\n        var firstRow = range.start.row;\n        var len = range.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineNumber = 0;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$cells.length > index + 1) {\n                    cell = this.$cells.pop();\n                    this.element.removeChild(cell.element);\n                }\n                break;\n            }\n\n            cell = this.$cells[++index];\n            if (!cell) {\n                cell = {element: null, textNode: null, foldWidget: null};\n                cell.element = dom.createElement(\"div\");\n                cell.textNode = document.createTextNode('');\n                cell.element.appendChild(cell.textNode);\n                this.element.appendChild(cell.element);\n                this.$cells[index] = cell;\n            }\n\n            var className = \"ace_gutter-cell \";\n            if (breakpoints[row])\n                className += breakpoints[row];\n            if (decorations[row])\n                className += decorations[row];\n            if (this.$annotations[row])\n                className += this.$annotations[row].className;\n            if (cell.element.className != className)\n                cell.element.className = className;\n\n            var height = session.getRowLength(row) * config.lineHeight + \"px\";\n            if (height != cell.element.style.height)\n                cell.element.style.height = height;\n\n            if (foldWidgets) {\n                var c = foldWidgets[row];\n                if (c == null)\n                    c = foldWidgets[row] = session.getFoldWidget(row);\n            }\n\n            if (c) {\n                if (!cell.foldWidget) {\n                    cell.foldWidget = dom.createElement(\"span\");\n                    cell.element.appendChild(cell.foldWidget);\n                }\n                var className = \"ace_fold-widget ace_\" + c;\n                if (c == \"start\" && row == foldStart && row < fold.end.row)\n                    className += \" ace_closed\";\n                else\n                    className += \" ace_open\";\n                if (cell.foldWidget.className != className)\n                    cell.foldWidget.className = className;\n\n                var height = config.lineHeight + \"px\";\n                if (cell.foldWidget.style.height != height)\n                    cell.foldWidget.style.height = height;\n            } else {\n                if (cell.foldWidget) {\n                    cell.element.removeChild(cell.foldWidget);\n                    cell.foldWidget = null;\n                }\n            }\n            \n            var text = lastLineNumber = gutterRenderer\n                ? gutterRenderer.getText(session, row)\n                : row + firstLineNumber;\n            if (text != cell.textNode.data)\n                cell.textNode.data = text;\n\n            row++;\n        }\n\n        this.element.style.height = config.minHeight + \"px\";\n\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineNumber = session.getLength() + firstLineNumber;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineNumber, config)\n            : lastLineNumber.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._emit(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return \"\"},\n            getText: function() {return \"\"}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n        this.$padding.right = parseInt(style.paddingRight) || 0;\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nexports.Gutter = Gutter;\n\n});\n\ndefine('ace/mouse/dragdrop_handler', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage._top = blankImage.offsetTop;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.renderer.$cursorLayer.setBlinking(true);\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        x = e.clientX;\n        y = e.clientY;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragSelectionMarker)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.$blockScrolling += 1;\n            editor.moveCursorToPosition(cursor);\n            editor.$blockScrolling -= 1;\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.$blockScrolling += 1;\n        editor.selection.fromOrientedRange(range);\n        editor.$blockScrolling -= 1;\n        if (editor.isFocused() && !isInternal)\n            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n        range = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var target = this.editor.container;\n        target.draggable = true;\n        this.editor.renderer.$cursorLayer.setBlinking(false);\n        this.editor.setStyle(\"ace_dragging\");\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\ndefine('ace/layer/marker', ['require', 'exports', 'module' , 'ace/range', 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n\n    this.update = function(config) {\n        var config = config || this.config;\n        if (!config)\n            return;\n\n        this.config = config;\n\n\n        var html = [];\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\", config);\n            }\n        }\n        this.element = dom.setInnerHtml(this.element, html.join(\"\"));\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var row = range.start.row;\n\n        var lineRange = new Range(\n            row, range.start.column,\n            row, this.session.getScreenLastRowColumn(row)\n        );\n        this.drawSingleLineMarker(stringBuilder, lineRange, clazz + \" ace_start\", layerConfig, 1, extraStyle);\n        row = range.end.row;\n        lineRange = new Range(row, 0, row, range.end.column);\n        this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 0, extraStyle);\n\n        for (row = range.start.row + 1; row < range.end.row; row++) {\n            lineRange.start.row = row;\n            lineRange.end.row = row;\n            lineRange.end.column = this.session.getScreenLastRowColumn(row);\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \" ace_start' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle, \"'></div>\"\n        );\n        top = this.$getTop(range.end.row, config);\n        var width = range.end.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height < 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\ndefine('ace/mouse/mouse_event', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\ndefine('ace/layer/text', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2192\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n\n    this.$updateEolChar = function() {\n        var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\"\n           ? this.EOL_CHAR_LF\n           : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    }\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.padding = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    }\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showInvisibles) {\n                tabStr.push(\"<span class='ace_invisible'>\"\n                    + this.TAB_CHAR\n                    + lang.stringRepeat(\"\\xa0\", i - 1)\n                    + \"</span>\");\n            } else {\n                tabStr.push(lang.stringRepeat(\"\\xa0\", i));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            if (this.showInvisibles) {\n                className += \" ace_invisible\";\n                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                var tabContent = this.TAB_CHAR + lang.stringRepeat(\"\\xa0\", this.tabSize - 1);\n            } else{\n                var spaceContent = lang.stringRepeat(\"\\xa0\", this.tabSize);\n                var tabContent = spaceContent;\n            }\n\n            this.$tabStrings[\" \"] = \"<span class='\" + className + \"'>\" + spaceContent + \"</span>\";\n            this.$tabStrings[\"\\t\"] = \"<span class='\" + className + \"'>\" + tabContent + \"</span>\";\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            this.scrollLines(config);\n        }\n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                var html = [];\n                this.$renderLine(\n                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false\n                );\n                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                dom.setInnerHtml(lineElement, html.join(\"\"));\n            }\n            row++;\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        var el = this.element;\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                el.removeChild(el.firstChild);\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                el.removeChild(el.lastChild);\n\n        if (config.firstRow < oldConfig.firstRow) {\n            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n            if (el.firstChild)\n                el.insertBefore(fragment, el.firstChild);\n            else\n                el.appendChild(fragment);\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n            el.appendChild(fragment);\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = this.element.ownerDocument.createDocumentFragment();\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var container = dom.createElement(\"div\");\n\n            var html = [];\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n            container.innerHTML = html.join(\"\");\n            if (this.$useLineGroups()) {\n                container.className = 'ace_line_group';\n                fragment.appendChild(container);\n                container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n            } else {\n                while(container.firstChild)\n                    fragment.appendChild(container.firstChild);\n            }\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var html = [];\n        var firstRow = config.firstRow, lastRow = config.lastRow;\n\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            if (this.$useLineGroups())\n                html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight*this.session.getRowLength(row), \"px'>\")\n\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups())\n                html.push(\"</div>\"); // end the line group\n\n            row++;\n        }\n        this.element = dom.setInnerHtml(this.element, html.join(\"\"));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(stringBuilder, screenColumn, token, value) {\n        var self = this;\n        var replaceReg = /\\t|&|<|( +)|([\\x00-\\x1f\\x80-\\xa0\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]/g;\n        var replaceFunc = function(c, a, b, tabIdx, idx4) {\n            if (a) {\n                return self.showInvisibles ?\n                    \"<span class='ace_invisible'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\" :\n                    lang.stringRepeat(\"\\xa0\", c.length);\n            } else if (c == \"&\") {\n                return \"&#38;\";\n            } else if (c == \"<\") {\n                return \"&#60;\";\n            } else if (c == \"\\t\") {\n                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n                screenColumn += tabSize - 1;\n                return self.$tabStrings[tabSize];\n            } else if (c == \"\\u3000\") {\n                var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible\" : \"ace_cjk\";\n                var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n                screenColumn += 1;\n                return \"<span class='\" + classToUse + \"' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + space + \"</span>\";\n            } else if (b) {\n                return \"<span class='ace_invisible ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n            } else {\n                screenColumn += 1;\n                return \"<span class='ace_cjk' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + c + \"</span>\";\n            }\n        };\n\n        var output = value.replace(replaceReg, replaceFunc);\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var style = \"\";\n            if (token.type == \"fold\")\n                style = \" style='width:\" + (token.value.length * this.config.characterWidth) + \"px;' \";\n            stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n        }\n        else {\n            stringBuilder.push(output);\n        }\n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(stringBuilder, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols/this.tabSize));\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(stringBuilder, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    if (!onlyContents) {\n                        stringBuilder.push(\"</div>\",\n                            \"<div class='ace_line' style='height:\",\n                            this.config.lineHeight, \"px'>\"\n                        );\n                    }\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn, token, value\n                    );\n                }\n            }\n        }\n    };\n\n    this.$renderSimpleLine = function(stringBuilder, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(stringBuilder, value);\n        if (value)\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        }\n    };\n    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n\n        if (!onlyContents) {\n            stringBuilder.push(\n                \"<div class='ace_line' style='height:\", \n                    this.config.lineHeight * (\n                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)\n                    ), \"px'>\"\n            );\n        }\n\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length)\n                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);\n            else\n                this.$renderSimpleLine(stringBuilder, tokens);\n        }\n\n        if (this.showInvisibles) {\n            if (foldLine)\n                row = foldLine.end.row\n\n            stringBuilder.push(\n                \"<span class='ace_invisible'>\",\n                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,\n                \"</span>\"\n            );\n        }\n        if (!onlyContents)\n            stringBuilder.push(\"</div>\");\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$measureNode)\n            this.$measureNode.parentNode.removeChild(this.$measureNode);\n        delete this.$measureNode;\n    };\n\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\ndefine('ace/tooltip', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        dom.setInnerText(this.getElement(), text);\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\ndefine('ace/layer/cursor', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar IE8;\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    if (IE8 === undefined)\n        IE8 = \"opacity\" in this.element;\n\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateVisibility.bind(this);\n};\n\n(function() {\n    \n    this.$updateVisibility = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.visibility = val ? \"\" : \"hidden\";\n    };\n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.opacity = val ? \"\" : \"0\";\n    };\n    \n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking){\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval){\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking && !IE8) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.$updateCursors = (smoothBlinking \n                ? this.$updateOpacity\n                : this.$updateVisibility).bind(this);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)\n            return;\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        var blink = function(){\n            this.timeoutId = setTimeout(function() {\n                update(false);\n            }, 0.6 * this.blinkInterval);\n        }.bind(this);\n\n        this.intervalId = setInterval(function() {\n            update(true);\n            blink();\n        }, this.blinkInterval);\n\n        blink();\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + pos.column * this.config.characterWidth;\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n\n            style.left = pixelPos.left + \"px\";\n            style.top = pixelPos.top + \"px\";\n            style.width = config.characterWidth + \"px\";\n            style.height = config.lineHeight + \"px\";\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\ndefine('ace/mouse/default_gutter_handler', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/oop', 'ace/lib/event', 'ace/tooltip'], function(require, exports, module) {\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = gutter.$cells[row].element;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    });\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\ndefine('ace/scrollbar', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/event', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return this.isVisible ? this.width : 0;\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = this.element.scrollTop = scrollTop;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\ndefine('ace/mouse/default_handlers', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n\n            if (selectionEmpty) {\n                editor.selection.moveToPosition(pos);\n            }\n            editor.textInput.onContextMenu(ev.domEvent);\n            return; // stopping event here breaks contextmenu on ff mac\n        }\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.mousedownEvent.time = Date.now();\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        if (!inSelection || this.$clickSelection || ev.getShiftKey() || editor.inMultiSelectMode) {\n            this.startSelect(pos);\n        } else if (inSelection) {\n            this.mousedownEvent.time = Date.now();\n            this.startSelect(pos);\n        }\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        var shiftPressed = this.mousedownEvent.getShiftKey();\n        if (shiftPressed) {\n            editor.selection.selectToPosition(pos);\n        }\n        else if (!this.$clickSelection) {\n            editor.selection.moveToPosition(pos);\n        }\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this[this.state] && this[this.state](ev);\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        this.$clickSelection = editor.selection.getLineRange(pos.row);\n        this[this.state] && this[this.state](ev);\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n\n        var t = ev.domEvent.timeStamp;\n        var dt = t - (this.$lastScrollTime||0);\n        \n        var editor = this.editor;\n        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        if (isScrolable || dt < 200) {\n            this.$lastScrollTime = t;\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\ndefine('ace/renderloop', ['require', 'exports', 'module' , 'ace/lib/event'], function(require, exports, module) {\n\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.window = win || window;\n};\n\n(function() {\n\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (!this.pending && this.changes) {\n            this.pending = true;\n            var _self = this;\n            event.nextFrame(function() {\n                _self.pending = false;\n                var changes;\n                while (changes = _self.changes) {\n                    _self.changes = 0;\n                    _self.onRender(changes);\n                }\n            }, this.window);\n        }\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\ndefine('ace/mouse/mouse_handler', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/mouse/default_handlers', 'ace/mouse/default_gutter_handler', 'ace/mouse/mouse_event', 'ace/mouse/dragdrop_handler', 'ace/config'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener(mouseTarget, [300, 300, 250], this, \"onMouseEvent\");\n    if (editor.renderer.scrollBarV) {\n        event.addMultiMouseDownListener(editor.renderer.scrollBarV.inner, [300, 300, 250], this, \"onMouseEvent\");\n        event.addMultiMouseDownListener(editor.renderer.scrollBarH.inner, [300, 300, 250], this, \"onMouseEvent\");\n    }\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n    event.addListener(mouseTarget, \"mousedown\", function(e) {\n        editor.focus();\n    });\n\n    event.addListener(gutterEl, \"mousedown\", function(e) {\n        editor.focus();\n        return event.preventDefault(e);\n    });\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var renderer = this.editor.renderer;\n        if (renderer.$keepTextAreaAtCursor)\n            renderer.$keepTextAreaAtCursor = null;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.$clickSelection = null;\n            if (renderer.$keepTextAreaAtCursor == null) {\n                renderer.$keepTextAreaAtCursor = true;\n                renderer.$moveTextAreaToCursor();\n            }\n            self.isMousePressed = false;\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            self.onMouseEvent(\"mouseup\", e);\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: 150},\n    dragEnabled: {initialValue: true},\n    focusTimout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\ndefine('ace/layer/font_metrics', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/event_emitter'], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 0;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl, interval) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    if (!CHAR_COUNT)\n        this.$testFractionalRect();\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$testFractionalRect = function() {\n        var el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(el.style);\n        el.style.width = \"0.2px\";\n        document.documentElement.appendChild(el);\n        var w = el.getBoundingClientRect().width;\n        if (w > 0 && w < 1)\n            CHAR_COUNT = 1;\n        else\n            CHAR_COUNT = 100;\n        el.parentNode.removeChild(el);\n    };\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"-100px\";\n        style.visibility = \"hidden\";\n        style.position = \"fixed\";\n        style.whiteSpace = \"pre\";\n        style.font = \"inherit\";\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function() {\n        var size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = setInterval(function() {\n            self.checkForSizeChanges();\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else {\n            if (this.$pollSizeChangesTimer)\n                this.$pollSizeChangesTimer;\n        }\n    };\n\n    this.$measureSizes = function() {\n        var rect = this.$measureNode.getBoundingClientRect();\n        var size = {\n            height: rect.height,\n            width: rect.width / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n}).call(FontMetrics.prototype);\n\n});\n\ndefine('ace/keyboard/textinput', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/lib/dom', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    if (useragent.isTouchPad)\n        text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n    text.wrap = \"off\";\n    text.autocorrect = \"off\";\n    text.autocapitalize = \"off\";\n    text.spellcheck = false;\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var PLACEHOLDER = \"\\x01\\x01\";\n\n    var cut = false;\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function() {\n        host.onBlur();\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function() {\n        isFocused = true;\n        host.onFocus();\n        resetSelection();\n    });\n    this.focus = function() { text.focus(); };\n    this.blur = function() { text.blur(); };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function() {\n         if (!inComposition) {\n            text.value = PLACEHOLDER;\n            isFocused && resetSelection();\n         }\n    });\n\n    function resetSelection(isEmpty) {\n        if (inComposition)\n            return;\n        if (inputHandler) {\n            selectionStart = 0;\n            selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n            var selectionStart = isEmpty ? 2 : 1;\n            var selectionEnd = 2;\n        }\n        try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        } catch(e){}\n    }\n\n    function resetValue() {\n        if (inComposition)\n            return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit)\n            syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function() {\n        if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n        }\n    });\n\n    resetValue();\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n    if (!text.setSelectionRange && text.createTextRange) {\n        text.setSelectionRange = function(selectionStart, selectionEnd) {\n            var range = this.createTextRange();\n            range.collapse(true);\n            range.moveStart('character', selectionStart);\n            range.moveEnd('character', selectionEnd);\n            range.select();\n        };\n        isAllSelected = function(text) {\n            try {\n                var range = text.ownerDocument.selection.createRange();\n            }catch(e) {}\n            if (!range || range.parentElement() != text) return false;\n                return range.text == text.value;\n        }\n    }\n    if (useragent.isOldIE) {\n        var inPropertyChange = false;\n        var onPropertyChange = function(e){\n            if (inPropertyChange)\n                return;\n            var data = text.value;\n            if (inComposition || !data || data == PLACEHOLDER)\n                return;\n            if (e && data == PLACEHOLDER[0])\n                return syncProperty.schedule();\n\n            sendText(data);\n            inPropertyChange = true;\n            resetValue();\n            inPropertyChange = false;\n        };\n        var syncProperty = lang.delayedCall(onPropertyChange);\n        event.addListener(text, \"propertychange\", onPropertyChange);\n\n        var keytable = { 13:1, 27:1 };\n        event.addListener(text, \"keyup\", function (e) {\n            if (inComposition && (!text.value || keytable[e.keyCode]))\n                setTimeout(onCompositionEnd, 0);\n            if ((text.value.charCodeAt(0)||0) < 129) {\n                return syncProperty.call();\n            }\n            inComposition ? onCompositionUpdate() : onCompositionStart();\n        });\n        event.addListener(text, \"keydown\", function (e) {\n            syncProperty.schedule(50);\n        });\n    }\n\n    var onSelect = function(e) {\n        if (cut) {\n            cut = false;\n        } else if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (inputHandler) {\n            resetSelection(host.selection.isEmpty());\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb};\n    this.getInputHandler = function() {return inputHandler};\n    var afterContextMenu = false;\n    \n    var sendText = function(data) {\n        if (inputHandler) {\n            data = inputHandler(data);\n            inputHandler = null;\n        }\n        if (pasted) {\n            resetSelection();\n            if (data)\n                host.onPaste(data);\n            pasted = false;\n        } else if (data == PLACEHOLDER.charAt(0)) {\n            if (afterContextMenu)\n                host.execCommand(\"del\", {source: \"ace\"});\n            else // some versions of android do not fire keydown when pressing backspace\n                host.execCommand(\"backspace\", {source: \"ace\"});\n        } else {\n            if (data.substring(0, 2) == PLACEHOLDER)\n                data = data.substr(2);\n            else if (data.charAt(0) == PLACEHOLDER.charAt(0))\n                data = data.substr(1);\n            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            \n            if (data)\n                host.onTextInput(data);\n        }\n        if (afterContextMenu)\n            afterContextMenu = false;\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n    };\n\n    var onCut = function(e) {\n        var data = host.getCopyText();\n        if (!data) {\n            event.preventDefault(e);\n            return;\n        }\n\n        var clipboardData = e.clipboardData || window.clipboardData;\n\n        if (clipboardData && !BROKEN_SETDATA) {\n            var supported = clipboardData.setData(\"Text\", data);\n            if (supported) {\n                host.onCut();\n                event.preventDefault(e);\n            }\n        }\n\n        if (!supported) {\n            cut = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                cut = false;\n                resetValue();\n                resetSelection();\n                host.onCut();\n            });\n        }\n    };\n\n    var onCopy = function(e) {\n        var data = host.getCopyText();\n        if (!data) {\n            event.preventDefault(e);\n            return;\n        }\n\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (clipboardData && !BROKEN_SETDATA) {\n            var supported = clipboardData.setData(\"Text\", data);\n            if (supported) {\n                host.onCopy();\n                event.preventDefault(e);\n            }\n        }\n        if (!supported) {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetValue();\n                resetSelection();\n                host.onCopy();\n            });\n        }\n    };\n\n    var onPaste = function(e) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n\n        if (clipboardData) {\n            var data = clipboardData.getData(\"Text\");\n            if (data)\n                host.onPaste(data);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)){\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n            return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        });\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart) return;\n        inComposition = {};\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (!host.selection.isEmpty()) {\n            host.insert(\"\");\n            host.session.markUndoGroup();\n            host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate) return;\n        var val = text.value.replace(/\\x01/g, \"\");\n        if (inComposition.lastValue === val) return;\n        \n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue)\n            host.undo();\n        inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n            var r = host.selection.getRange();\n            host.insert(inComposition.lastValue);\n            host.session.markUndoGroup();\n            inComposition.range = host.selection.getRange();\n            host.selection.setRange(r);\n            host.selection.clearSelection();\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n            timer = null;\n            var str = text.value.replace(/\\x01/g, \"\");\n            if (inComposition)\n                return\n            else if (str == c.lastValue)\n                resetValue();\n            else if (!c.lastValue && str) {\n                resetValue();\n                sendText(str);\n            }\n        });\n        inputHandler = function compositionInputHandler(str) {\n            if (timer)\n                clearTimeout(timer);\n            str = str.replace(/\\x01/g, \"\");\n            if (str == c.lastValue)\n                return \"\";\n            if (c.lastValue && timer)\n                host.undo();\n            return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n            host.selection.setRange(c.range);\n        }\n    };\n    \n    \n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    if (useragent.isGecko) {\n        event.addListener(text, \"text\", function(){syncComposition.schedule()});\n    } else {\n        event.addListener(text, \"keyup\", function(){syncComposition.schedule()});\n        event.addListener(text, \"keydown\", function(){syncComposition.schedule()});\n    }\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n\n    this.setReadOnly = function(readOnly) {\n       text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n\n        text.style.cssText = \"z-index:100000;\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight;\n        var move = function(e) {\n            text.style.left = e.clientX - left - 2 + \"px\";\n            text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n            host.renderer.$keepTextAreaAtCursor = null;\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    function onContextMenuClose() {\n        setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            if (host.renderer.$keepTextAreaAtCursor == null) {\n                host.renderer.$keepTextAreaAtCursor = true;\n                host.renderer.$moveTextAreaToCursor();\n            }\n        }, 0);\n    }\n    if (!useragent.isGecko || useragent.isMac) {\n        var onContextMenu = function(e) {\n            host.textInput.onContextMenu(e);\n            onContextMenuClose();\n        };\n        event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n        event.addListener(text, \"contextmenu\", onContextMenu);\n    }\n};\n\nexports.TextInput = TextInput;\n});\n\ndefine('ace/lib/lang', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject( array[i] );\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function (obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var cons = obj.constructor;\n    if (cons === RegExp)\n        return obj;\n    \n    var copy = cons();\n    for (var key in obj) {\n        if (typeof obj[key] === \"object\") {\n            copy[key] = exports.deepCopy(obj[key]);\n        } else {\n            copy[key] = obj[key];\n        }\n    }\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\ndefine('ace/multi_select', ['require', 'exports', 'module' , 'ace/range_list', 'ace/range', 'ace/selection', 'ace/mouse/multi_select_handler', 'ace/lib/event', 'ace/lib/lang', 'ace/commands/multi_select_commands', 'ace/search', 'ace/edit_session', 'ace/editor', 'ace/config'], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount == 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        else if(this.ranges[0])\n            this.fromOrientedRange(this.ranges[0]);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount == 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var range = this.getRange();\n            var isBackwards = this.isBackwards();\n            var startRow = range.start.row;\n            var endRow = range.end.row;\n            if (startRow == endRow) {\n                if (isBackwards)\n                    var start = range.end, end = range.start;\n                else\n                    var start = range.start, end = range.end;\n                \n                this.addRange(Range.fromPoints(end, end));\n                this.addRange(Range.fromPoints(start, start));\n                return;\n            }\n\n            var rectSel = [];\n            var r = this.getLineRange(startRow, true);\n            r.start.column = range.start.column;\n            rectSel.push(r);\n\n            for (var i = startRow + 1; i < endRow; i++)\n                rectSel.push(this.getLineRange(i, true));\n\n            r = this.getLineRange(endRow, true);\n            r.end.column = range.end.column;\n            rectSel.push(r);\n\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.selectionLead);\n            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn),\n                this.session.screenToDocumentPosition(row, endColumn)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                var docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, $byLines) {\n        if (this.inVirtualSelectionMode)\n            return;\n\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var result;\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = rangeList.ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && rangeList.ranges[i].start.row == rangeList.ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(rangeList.ranges[i]);\n            tmpSel.id = rangeList.ranges[i].marker;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec(this, args || {});\n            if (result !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(rangeList.ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.onPaste = function(text) {\n        if (this.$readOnly)\n            return;\n\n\n        var e = {text: text};\n        this._signal(\"paste\", e);\n        text = e.text;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return this.insert(text);\n\n        var lines = text.split(/\\r\\n|\\r|\\n/);\n        var ranges = this.selection.rangeList.ranges;\n\n        if (lines.length > ranges.length || lines.length < 2 || !lines[1])\n            return this.commands.exec(\"insertstring\", this, text);\n\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.isEmpty())\n                this.session.remove(range);\n\n            this.session.insert(range.start, lines[i]);\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        this.$search.set(options);\n\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        this.$blockScrolling += 1;\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n\n        this.$blockScrolling -= 1;\n\n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n    };\n    this.selectMore = function(dir, skip) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.$blockScrolling += 1;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.$blockScrolling -= 1;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n\n        if (!ranges.length) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.doc.removeLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.doc.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            var row = -1;\n            var sameRowRanges = ranges.filter(function(r) {\n                if (r.cursor.row == row)\n                    return true;\n                row = r.cursor.row;\n            });\n            sel.$onRemoveRange(sameRowRanges);\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW, \" \")\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n    }\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (!session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.removeEventListener(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.removeEventListener(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.removeEventListener(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.removeEventListener(\"singleSelect\", this.$onSingleSelect);\n    }\n\n    session.multiSelect.on(\"addRange\", this.$onAddRange);\n    session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n    session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n    session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n\n    if (this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        if (e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey)) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    });\n\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    }\n})\n\n\n\n});\n\ndefine('ace/editor', ['require', 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/keyboard/textinput', 'ace/mouse/mouse_handler', 'ace/mouse/fold_handler', 'ace/keyboard/keybinding', 'ace/edit_session', 'ace/search', 'ace/range', 'ace/lib/event_emitter', 'ace/commands/command_manager', 'ace/commands/default_commands', 'ace/config'], function(require, exports, module) {\n\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar Editor = function(renderer, session) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);\n    this.renderer.textarea = this.textInput.getElement();\n    this.keyBinding = new KeyBinding(this);\n    this.$mouseHandler = new MouseHandler(this);\n    new FoldHandler(this);\n\n    this.$blockScrolling = 0;\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || new EditSession(\"\"));\n    config.resetOptions(this);\n    config._signal(\"editor\", this);\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        function last(a) {return a[a.length - 1]}\n\n        this.selections = [];\n        this.commands.on(\"exec\", function(e) {\n            this.startOperation(e);\n\n            var command = e.command;\n            if (command.aceCommandGroup == \"fileJump\") {\n                var prev = this.prevOp;\n                if (!prev || prev.command.aceCommandGroup != \"fileJump\") {\n                    this.lastFileJumpPos = last(this.selections);\n                }\n            } else {\n                this.lastFileJumpPos = null;\n            }\n        }.bind(this), true);\n\n        this.commands.on(\"afterExec\", function(e) {\n            var command = e.command;\n\n            if (command.aceCommandGroup == \"fileJump\") {\n                if (this.lastFileJumpPos && !this.curOp.selectionChanged) {\n                    this.selection.fromJSON(this.lastFileJumpPos);\n                }\n            }\n            this.endOperation(e);\n        }.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n\n        this.on(\"change\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n\n        this.on(\"changeSelection\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commadEvent) {\n        if (this.curOp) {\n            if (!commadEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commadEvent) {\n            this.previousCommand = null;\n            commadEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = {\n            command: commadEvent.command || {},\n            args: commadEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        \n        var command = this.curOp.command;\n        if (command && command.scrollIntoView)\n            this.$blockScrolling++;\n\n        this.selections.push(this.selection.toJSON());\n    };\n\n    this.endOperation = function() {\n        if (this.curOp) {\n            var command = this.curOp.command;\n            if (command && command.scrollIntoView) {\n                this.$blockScrolling--;\n                switch (command.scrollIntoView) {\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (command.scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            \n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n\n        var prev = this.prevOp;\n        var mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler) {\n        if (!keyboardHandler) {\n            this.keyBinding.setKeyboardHandler(null);\n        } else if (typeof keyboardHandler === \"string\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.removeEventListener(\"change\", this.$onDocumentChange);\n            this.session.removeEventListener(\"changeMode\", this.$onChangeMode);\n            this.session.removeEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.removeEventListener(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.removeEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.removeEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.removeEventListener(\"onChangeFold\", this.$onChangeFold);\n            this.session.removeEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.removeEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.removeEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.removeEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.removeEventListener(\"changeOverwrite\", this.$onCursorChange);\n            this.session.removeEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.removeEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n            selection.removeEventListener(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.addEventListener(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.addEventListener(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.addEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.addEventListener(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.addEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.addEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.addEventListener(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.addEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.addEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.addEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.addEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.addEventListener(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.addEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.addEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.addEventListener(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.addEventListener(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.$blockScrolling += 1;\n            this.onCursorChange();\n            this.$blockScrolling -= 1;\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container, \"fontSize\");\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.session.$bracketHighlight) {\n            this.session.removeMarker(this.session.$bracketHighlight);\n            this.session.$bracketHighlight = null;\n        }\n\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function() {\n            self.$highlightPending = false;\n\n            var pos = self.session.findMatchingBracket(self.getCursorPosition());\n            if (pos) {\n                var range = new Range(pos.row, pos.column, pos.row, pos.column+1);\n            } else if (self.session.$mode.getMatching) {\n                var range = self.session.$mode.getMatching(self.session);\n            }\n            if (range)\n                self.session.$bracketHighlight = self.session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function() {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\");\n    };\n    this.onBlur = function() {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\");\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n    };\n    this.onDocumentChange = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n        var lastRow;\n\n        if (range.start.row == range.end.row && delta.action != \"insertLines\" && delta.action != \"removeLines\")\n            lastRow = range.end.row;\n        else\n            lastRow = Infinity;\n        this.renderer.updateLines(range.start.row, lastRow);\n\n        this._signal(\"change\", e);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n\n        if (!this.$blockScrolling) {\n            this.renderer.scrollCursorIntoView();\n        }\n\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if ((this.$selectionStyle != \"line\" || !this.selection.isMultiLine()))\n                highlight = this.getCursorPosition();\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startOuter = selection.start.column - 1;\n        var endOuter = selection.end.column + 1;\n        var line = session.getLine(selection.start.row);\n        var lineCols = line.length;\n        var needle = line.substring(Math.max(startOuter, 0),\n                                    Math.min(endOuter, lineCols));\n        if ((startOuter >= 0 && /^[\\w\\d]/.test(needle)) ||\n            (endOuter <= lineCols && /[\\w\\d]$/.test(needle)))\n            return;\n\n        needle = line.substring(selection.start.column, selection.end.column);\n        if (!/^[\\w\\d]+$/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n\n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        this._signal(\"copy\", text);\n        return text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text) {\n        if (this.$readOnly)\n            return;\n        var e = {text: text};\n        this._signal(\"paste\", e);\n        this.insert(e.text, true);\n    };\n\n\n    this.execCommand = function(command, args) {\n        this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    this.session.mergeUndoDeltas = false;\n                    this.$mergeNextCommand = false;\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite()) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        var end = session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n            session.insert({row: cursor.row+1, column: 0}, lineIndent);\n        }\n        if (shouldOutdent)\n            mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function(text) {\n        this.keyBinding.onTextInput(text);\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        var range;\n        if (rows.first === 0 || rows.last+1 < this.session.getLength())\n            range = new Range(rows.first, 0, rows.last+1, 0);\n        else\n            range = new Range(\n                rows.first-1, this.session.getLine(rows.first-1).length,\n                rows.last, this.session.getLine(rows.last).length\n            );\n        this.session.remove(range);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.moveLinesDown(firstRow, lastRow);\n        });\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.moveLinesUp(firstRow, lastRow);\n        });\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            this.session.duplicateLines(firstRow, lastRow);\n            return 0;\n        });\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.duplicateLines(firstRow, lastRow);\n        });\n    };\n    this.$moveLines = function(mover) {\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            var rows = this.$getSelectedRows(range);\n            var linesMoved = mover.call(this, rows.first, rows.last);\n            range.moveBy(linesMoved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n\n            for (var i = ranges.length; i--; ) {\n                var rangeIndex = i;\n                var rows = ranges[i].collapseRows();\n                var last = rows.end.row;\n                var first = rows.start.row;\n                while (i--) {\n                    rows = ranges[i].collapseRows();\n                    if (first - rows.end.row <= 1)\n                        first = rows.end.row;\n                    else\n                        break;\n                }\n                i++;\n\n                var linesMoved = mover.call(this, first, last);\n                while (rangeIndex >= i) {\n                    ranges[rangeIndex].moveBy(linesMoved, 0);\n                    rangeIndex--;\n                }\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n        }\n    };\n    this.$getSelectedRows = function() {\n        var range = this.getSelectionRange().collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(text) {\n        this.renderer.showComposition(this.getCursorPosition());\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        this.$blockScrolling++;\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        this.$blockScrolling--;\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.$blockScrolling += 1;\n        this.selection.selectAll();\n        this.$blockScrolling -= 1;\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select) {\n        var cursor = this.getCursorPosition();\n\n        var range = this.session.getBracketRange(cursor);\n        if (!range) {\n            range = this.find({\n                needle: /[{}()\\[\\]]/g,\n                preventScroll:true,\n                start: {row: cursor.row, column: cursor.column - 1}\n            });\n            if (!range)\n                return;\n            var pos = range.start;\n            if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                range = this.session.getBracketRange(pos);\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && range.isEqual(this.getSelectionRange()))\n                    this.clearSelection();\n                else\n                    this.selection.selectTo(pos.row, pos.column);\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n\n        this.$blockScrolling += 1;\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        this.$blockScrolling -= 1;\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        if (range !== null) {\n            this.selection.setSelectionRange(range);\n            this.renderer.scrollSelectionIntoView(range.start, range.end);\n        }\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        this.$blockScrolling += 1;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n        this.$blockScrolling -= 1;\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.$blockScrolling += 1;\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        this.$blockScrolling -= 1;\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().undo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().redo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && self.isFocused()) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.removeEventListener(\"changeSelection\", onChangeSelection);\n            this.renderer.removeEventListener(\"afterRender\", onAfterRender);\n            this.renderer.removeEventListener(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(style == \"smooth\");\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly); \n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val)}\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    showLineNumbers: \"renderer\",\n    showGutter: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\nexports.Editor = Editor;\n});\n\ndefine('ace/mouse/multi_select_handler', ['require', 'exports', 'module' , 'ace/lib/event'], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = e.getAccelKey();\n    var button = e.getButton();\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n\n    var blockSelect = function() {\n        var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n        var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column);\n\n        if (isSamePoint(screenCursor, newCursor)\n            && isSamePoint(cursor, selection.selectionLead))\n            return;\n        screenCursor = newCursor;\n\n        editor.selection.moveToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n\n        editor.removeSelectionMarkers(rectSel);\n        rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n        rectSel.forEach(editor.addSelectionMarker, editor);\n        editor.updateSelectionMarkers();\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n\n    \n\n    if (ctrl && !alt && !shift && button === 0) {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.$blockScrolling++;\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.$blockScrolling--;\n        });\n\n    } else if (alt && button === 0) {\n        e.stop();\n\n        if (isMultiSelect && !ctrl)\n            selection.toSingleRange();\n        else if (!isMultiSelect && ctrl)\n            selection.addRange();\n\n        var rectSel = [];\n        if (shift) {\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n            blockSelect();\n        } else {\n            selection.moveToPosition(pos);\n        }\n\n\n        var onMouseSelectionEnd = function(e) {\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\ndefine('ace/lib/useragent', ['require', 'exports', 'module' ], function(require, exports, module) {\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nif (typeof navigator != \"object\")\n    return;\n\nvar os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\nvar ua = navigator.userAgent;\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0)\n    && parseFloat(navigator.userAgent.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:|MSIE )([0-9]+[\\.0-9]+)/)[1]);\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = window.controllers && window.navigator.product === \"Gecko\";\nexports.isOldGecko = exports.isGecko && parseInt((navigator.userAgent.match(/rv\\:(\\d+)/)||[])[1], 10) < 4;\nexports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\nexports.isTouchPad = ua.indexOf(\"TouchPad\") >= 0;\n\n});\n\ndefine('ace/commands/multi_select_commands', ['require', 'exports', 'module' , 'ace/keyboard/hash_handler'], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    readonly: true\n}, {\n    name: \"addCursorBelow\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    readonly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    readonly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    readonly: true\n}, {\n    name: \"selectMoreBefore\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    readonly: true\n}, {\n    name: \"selectMoreAfter\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    readonly: true\n}, {\n    name: \"selectNextBefore\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    readonly: true\n}, {\n    name: \"selectNextAfter\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    readonly: true\n}, {\n    name: \"splitIntoLines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readonly: true\n}, {\n    name: \"alignCursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"}\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    readonly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\ndefine('ace/lib/oop', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\ndefine('ace/worker/worker_client', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/config'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nvar WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    if (require.nameToUrl && !require.toUrl)\n        require.toUrl = require.nameToUrl;\n    \n    if (config.get(\"packaged\") || !require.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n    } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n        var tlns = {};\n        topLevelNamespaces.forEach(function(ns) {\n            tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n        });\n    }\n\n    try {\n        this.$worker = new Worker(workerUrl);\n    } catch(e) {\n        if (e instanceof window.DOMException) {\n            var blob = this.$workerBlob(workerUrl);\n            var URL = window.URL || window.webkitURL;\n            var blobURL = URL.createObjectURL(blob);\n\n            this.$worker = new Worker(blobURL);\n            URL.revokeObjectURL(blobURL);\n        } else {\n            throw e;\n        }\n    }\n    this.$worker.postMessage({\n        init : true,\n        tlns : tlns,\n        module : mod,\n        classname : classname\n    });\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch(msg.type) {\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n        }\n    };\n\n    this.$normalizePath = function(path) {\n        if (!location.host) // needed for file:// protocol\n            return path;\n        path = path.replace(/^[a-z]+:\\/\\/[^\\/]+/, \"\"); // Remove domain name and rebuild it\n        path = location.protocol + \"//\" + location.host\n            + (path.charAt(0) == \"/\" ? \"\" : location.pathname.replace(/\\/[^\\/]*$/, \"\"))\n            + \"/\" + path.replace(/^[\\/]+/, \"\");\n        return path;\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        this.$doc.removeEventListener(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {}\n    };\n\n    this.attachToDocument = function(doc) {\n        if(this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(e) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [e.data];\n            setTimeout(this.$sendDeltaQueue, 0);\n        } else\n            this.deltaQueue.push(e.data);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 20 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n    this.$workerBlob = function(workerUrl) {\n        var script = \"importScripts('\" + workerUrl + \"');\";\n        try {\n            return new Blob([script], {\"type\": \"application/javascript\"});\n        } catch (e) { // Backwards-compatibility\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n            var blobBuilder = new BlobBuilder();\n            blobBuilder.append(script);\n            return blobBuilder.getBlob(\"application/javascript\");\n        }\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.messageBuffer = [];\n\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n    var _self = this;\n\n    this.$worker = {};\n    this.$worker.terminate = function() {};\n    this.$worker.postMessage = function(e) {\n        _self.messageBuffer.push(e);\n        if (main) {\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    };\n    this.setEmitSync = function(val) { emitSync = val };\n\n    var processNext = function() {\n        var msg = _self.messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        _self.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (_self.messageBuffer.length)\n            processNext();\n    });\n};\n\nUIWorkerClient.prototype = WorkerClient.prototype;\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\n\n});\n\ndefine('ace/lib/keys', ['require', 'exports', 'module' , 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          188: ',', 190: '.', 191: '/', 192: '`', 219: '[', 220: '\\\\',\n          221: ']', 222: '\\''\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    return (Keys[keyCode] || String.fromCharCode(keyCode)).toLowerCase();\n};\n\n});\ndefine('ace/placeholder', ['require', 'exports', 'module' , 'ace/range', 'ace/lib/event_emitter', 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth =  undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        var pos = this.$pos;\n\n        this.pos = doc.createAnchor(pos.row, pos.column);\n        this.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.pos.on(\"change\", function(event) {\n            session.removeMarker(_self.markerId);\n            _self.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.mainClass, null, false);\n        });\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if(this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n            anchor.on(\"change\", function(event) {\n                session.removeMarker(anchor.markerId);\n                anchor.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.othersClass, null, false);\n            });\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if(!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(event) {\n        var delta = event.data;\n        var range = delta.range;\n        if(range.start.row !== range.end.row) return;\n        if(range.start.row !== this.pos.row) return;\n        if (this.$updating) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insertText\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        \n        if(range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1) {\n            var distanceFromStart = range.start.column - this.pos.column;\n            this.length += lengthDiff;\n            if(!this.session.$fromUndo) {\n                if(delta.action === \"insertText\") {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.insert(newPos, delta.text);\n                    }\n                } else if(delta.action === \"removeText\") {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                    }\n                }\n                if(range.start.column === this.pos.column && delta.action === \"insertText\") {\n                    setTimeout(function() {\n                        this.pos.setPosition(this.pos.row, this.pos.column - lengthDiff);\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            var newPos = {row: other.row, column: other.column - lengthDiff};\n                            if(other.row === range.start.row && range.start.column < other.column)\n                                newPos.column += lengthDiff;\n                            other.setPosition(newPos.row, newPos.column);\n                        }\n                    }.bind(this), 0);\n                }\n                else if(range.start.column === this.pos.column && delta.action === \"removeText\") {\n                    setTimeout(function() {\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            if(other.row === range.start.row && range.start.column < other.column) {\n                                other.setPosition(other.row, other.column - lengthDiff);\n                            }\n                        }\n                    }.bind(this), 0);\n                }\n            }\n            this.pos._emit(\"change\", {value: this.pos});\n            for (var i = 0; i < this.others.length; i++) {\n                this.others[i]._emit(\"change\", {value: this.others[i]});\n            }\n        }\n        this.$updating = false;\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating) return;\n        var pos = this.session.selection.getCursor();\n        if(pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n        this.pos.detach();\n        for (var i = 0; i < this.others.length; i++) {\n            this.others[i].detach();\n        }\n        this.session.setUndoSelect(true);\n    };\n    this.cancel = function() {\n        if(this.$undoStackDepth === -1)\n            throw Error(\"Canceling placeholders only supported with undo manager attached to session.\");\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(true);\n        }\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\ndefine('ace/lib/event', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nexports.addListener = function(elem, type, callback) {\n    if (elem.addEventListener) {\n        return elem.addEventListener(type, callback, false);\n    }\n    if (elem.attachEvent) {\n        var wrapper = function() {\n            callback.call(elem, window.event);\n        };\n        callback._wrapper = wrapper;\n        elem.attachEvent(\"on\" + type, wrapper);\n    }\n};\n\nexports.removeListener = function(elem, type, callback) {\n    if (elem.removeEventListener) {\n        return elem.removeEventListener(type, callback, false);\n    }\n    if (elem.detachEvent) {\n        elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n    }\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n    else\n        e.cancelBubble = true;\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n    else\n        e.returnValue = false;\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (e.ctrlKey && useragent.isMac))\n        return 2;\n    if (e.preventDefault) {\n        return e.button;\n    }\n    else {\n        return {1:0, 2:2, 4:1}[e.button];\n    }\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback) {\n    if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        });\n    } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        });\n    } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        });\n    }\n};\n\nexports.addMultiMouseDownListener = function(el, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    exports.addListener(el, \"mousedown\", function(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (isNewClick) {\n                clicks = 1;\n            }\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    });\n\n    if (useragent.isOldIE) {\n        exports.addListener(el, \"dblclick\", function(e) {\n            clicks = 2;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);\n            eventHandler[callbackName](\"mousedown\", e);\n            eventHandler[callbackName](eventNames[clicks], e);\n        });\n    }\n};\n\nvar getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window)\n    ? function(e) {\n        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n    }\n    : function(e) {\n        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n    };\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (pressedKeys[91] || pressedKeys[92])\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = e.location || e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = -ts;\n                ts = e.timeStamp;\n                dt += ts;\n                if (dt < 3)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        switch (keys.MODIFIER_KEYS[keyCode]) {\n            case \"Alt\":\n                hashId = 2;\n                break;\n            case \"Shift\":\n                hashId = 4;\n                break;\n            case \"Ctrl\":\n                hashId = 1;\n                break;\n            default:\n                hashId = 8;\n                break;\n        }\n        keyCode = -1;\n    }\n\n    if (hashId & 8 && (keyCode === 91 || keyCode === 93)) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        if (e.location || e.keyLocation === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\nvar pressedKeys = null;\nvar ts = 0;\nexports.addCommandKeyListener = function(el, callback) {\n    var addListener = exports.addListener;\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = true;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n            pressedKeys = Object.create(null);\n            addListener(window, \"focus\", function(e) {\n                pressedKeys = Object.create(null);\n            });\n        }\n    }\n};\n\nif (window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + postMessageId;\n        exports.addListener(win, \"message\", function listener(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                exports.removeListener(win, \"message\", listener);\n                callback();\n            }\n        });\n        win.postMessage(messageName, \"*\");\n    };\n}\n\n\nexports.nextFrame = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    window.oRequestAnimationFrame;\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\ndefine('ace/mode/folding/fold_mode', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel)\n                break;\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/lib/dom', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nif (typeof document == \"undefined\")\n    return;\n\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n}\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if(add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n\n    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n        while (index < sheets.length)\n            if (sheets[index++].owningElement.id === id) return true;\n    } else if ((sheets = doc.getElementsByTagName(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id) return true;\n    }\n\n    return false;\n};\n\nexports.importCssString = function importCssString(cssText, id, doc) {\n    doc = doc || document;\n    if (id && exports.hasCssString(id, doc))\n        return null;\n    \n    var style;\n    \n    if (doc.createStyleSheet) {\n        style = doc.createStyleSheet();\n        style.cssText = cssText;\n        if (id)\n            style.owningElement.id = id;\n    } else {\n        style = doc.createElementNS\n            ? doc.createElementNS(XHTML_NS, \"style\")\n            : doc.createElement(\"style\");\n\n        style.appendChild(doc.createTextNode(cssText));\n        if (id)\n            style.id = id;\n\n        exports.getDocumentHead(doc).appendChild(style);\n    }\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    if (doc.createStyleSheet) {\n        doc.createStyleSheet(uri);\n    } else {\n        var link = exports.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = uri;\n\n        exports.getDocumentHead(doc).appendChild(link);\n    }\n};\n\nexports.getInnerWidth = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + \n        element.clientWidth\n    );\n};\n\nexports.getInnerHeight = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingTop\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) +\n        element.clientHeight\n    );\n};\n\nif (window.pageYOffset !== undefined) {\n    exports.getPageScrollTop = function() {\n        return window.pageYOffset;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return window.pageXOffset;\n    };\n}\nelse {\n    exports.getPageScrollTop = function() {\n        return document.body.scrollTop;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return document.body.scrollLeft;\n    };\n}\n\nif (window.getComputedStyle)\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n        return window.getComputedStyle(element, \"\") || {};\n    };\nelse\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return element.currentStyle[style];\n        return element.currentStyle;\n    };\n\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\nexports.setInnerHtml = function(el, innerHtml) {\n    var element = el.cloneNode(false);//document.createElement(\"div\");\n    element.innerHTML = innerHtml;\n    el.parentNode.replaceChild(element, el);\n    return element;\n};\n\nif (\"textContent\" in document.documentElement) {\n    exports.setInnerText = function(el, innerText) {\n        el.textContent = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.textContent;\n    };\n}\nelse {\n    exports.setInnerText = function(el, innerText) {\n        el.innerText = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.innerText;\n    };\n}\n\nexports.getParentWindow = function(document) {\n    return document.defaultView || document.parentWindow;\n};\n\n});\n\ndefine('ace/theme/textmate', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\nborder-radius: 2px;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\ndefine('ace/lib/es5-shim', ['require', 'exports', 'module' ], function(require, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n \ndefine('ace/lib/regexp', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n    var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n        },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n        compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n        }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg)\n        return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name, r2;\n        if ( typeof(str) == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined)\n                            match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name)\n                       match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags (regex) {\n        return (regex.global     ? \"g\" : \"\") +\n               (regex.ignoreCase ? \"i\" : \"\") +\n               (regex.multiline  ? \"m\" : \"\") +\n               (regex.extended   ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n               (regex.sticky     ? \"y\" : \"\");\n    }\n\n    function indexOf (array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item)\n                return i;\n        }\n        return -1;\n    }\n\n});\n\ndefine('ace/ext/error_marker', ['require', 'exports', 'module' , 'ace/line_widgets', 'ace/lib/dom', 'ace/range'], function(require, exports, module) {\n\nvar LineWidgets = require(\"ace/line_widgets\").LineWidgets;\nvar dom = require(\"ace/lib/dom\");\nvar Range = require(\"ace/range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length - 1)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.lineWidgets && session.lineWidgets[row];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\")\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});// vim:set ts=4 sts=4 sw=4 st:\n\ndefine('ace/lib/fixoldbrowsers', ['require', 'exports', 'module' , 'ace/lib/regexp', 'ace/lib/es5-shim'], function(require, exports, module) {\n\n\nrequire(\"./regexp\");\nrequire(\"./es5-shim\");\n\n});\n\ndefine('ace/line_widgets', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/range'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar Range = require(\"./range\").Range;\n\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.detach = this.detach.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount)\n                screenRows +=w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.attach = function(editor) {\n        if (editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        this.editor.on(\"changeSession\", this.detach);\n        \n        editor.widgetManager = this;\n\n        editor.setOption(\"enableLineWidgets\", true);\n        editor.renderer.on(\"beforeRender\", this.measureWidgets);\n        editor.renderer.on(\"afterRender\", this.renderWidgets);\n    };\n    this.detach = function(e) {\n        if (e && e.session == this.session)\n            return; // sometimes attach can be called before setSession\n        var editor = this.editor;\n        if (!editor)\n            return;\n\n        editor.off(\"changeSession\", this.detach);\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnChange = function(e) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n            \n        var delta = e.data;\n        var range = delta.range;\n        var startRow = range.start.row;\n        var len = range.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.addLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        this.session.lineWidgets[w.row] = w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n        }\n        \n        if (!w.coverGutter) {\n            w.el.style.zIndex = 3;\n        }\n        if (!w.pixelHeight) {\n            w.pixelHeight = w.el.offsetHeight;\n        }\n        if (w.rowCount == null)\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets)\n            this.session.lineWidgets[w.row] = undefined;\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\ndefine('ace/document', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/range', 'ace/anchor'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(text) {\n    this.$lines = [];\n    if (text.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(text)) {\n        this._insertLines(0, text);\n    } else {\n        this.insert({row: 0, column:0}, text);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength();\n        this.remove(new Range(0, 0, len, this.getLine(len-1).length));\n        this.insert({row: 0, column:0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0)\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    else\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        if (range.start.row == range.end.row) {\n            return this.getLine(range.start.row)\n                .substring(range.start.column, range.end.column);\n        }\n        var lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l)\n            lines[l] = lines[l].substring(0, range.end.column);\n        return lines.join(this.getNewLineCharacter());\n    };\n\n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length-1).length;\n        } else if (position.row < 0)\n            position.row = 0;\n        return position;\n    };\n    this.insert = function(position, text) {\n        if (!text || text.length === 0)\n            return position;\n\n        position = this.$clipPosition(position);\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n\n        var lines = this.$split(text);\n        var firstLine = lines.splice(0, 1)[0];\n        var lastLine = lines.length == 0 ? null : lines.splice(lines.length - 1, 1)[0];\n\n        position = this.insertInLine(position, firstLine);\n        if (lastLine !== null) {\n            position = this.insertNewLine(position); // terminate first line\n            position = this._insertLines(position.row, lines);\n            position = this.insertInLine(position, lastLine || \"\");\n        }\n        return position;\n    };\n    this.insertLines = function(row, lines) {\n        if (row >= this.getLength())\n            return this.insert({row: row, column: 0}, \"\\n\" + lines.join(\"\\n\"));\n        return this._insertLines(Math.max(row, 0), lines);\n    };\n    this._insertLines = function(row, lines) {\n        if (lines.length == 0)\n            return {row: row, column: 0};\n        while (lines.length > 0xF000) {\n            var end = this._insertLines(row, lines.slice(0, 0xF000));\n            lines = lines.slice(0xF000);\n            row = end.row;\n        }\n\n        var args = [row, 0];\n        args.push.apply(args, lines);\n        this.$lines.splice.apply(this.$lines, args);\n\n        var range = new Range(row, 0, row + lines.length, 0);\n        var delta = {\n            action: \"insertLines\",\n            range: range,\n            lines: lines\n        };\n        this._signal(\"change\", { data: delta });\n        return range.end;\n    };\n    this.insertNewLine = function(position) {\n        position = this.$clipPosition(position);\n        var line = this.$lines[position.row] || \"\";\n\n        this.$lines[position.row] = line.substring(0, position.column);\n        this.$lines.splice(position.row + 1, 0, line.substring(position.column, line.length));\n\n        var end = {\n            row : position.row + 1,\n            column : 0\n        };\n\n        var delta = {\n            action: \"insertText\",\n            range: Range.fromPoints(position, end),\n            text: this.getNewLineCharacter()\n        };\n        this._signal(\"change\", { data: delta });\n\n        return end;\n    };\n    this.insertInLine = function(position, text) {\n        if (text.length == 0)\n            return position;\n\n        var line = this.$lines[position.row] || \"\";\n\n        this.$lines[position.row] = line.substring(0, position.column) + text\n                + line.substring(position.column);\n\n        var end = {\n            row : position.row,\n            column : position.column + text.length\n        };\n\n        var delta = {\n            action: \"insertText\",\n            range: Range.fromPoints(position, end),\n            text: text\n        };\n        this._signal(\"change\", { data: delta });\n\n        return end;\n    };\n    this.remove = function(range) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        range.start = this.$clipPosition(range.start);\n        range.end = this.$clipPosition(range.end);\n\n        if (range.isEmpty())\n            return range.start;\n\n        var firstRow = range.start.row;\n        var lastRow = range.end.row;\n\n        if (range.isMultiLine()) {\n            var firstFullRow = range.start.column == 0 ? firstRow : firstRow + 1;\n            var lastFullRow = lastRow - 1;\n\n            if (range.end.column > 0)\n                this.removeInLine(lastRow, 0, range.end.column);\n\n            if (lastFullRow >= firstFullRow)\n                this._removeLines(firstFullRow, lastFullRow);\n\n            if (firstFullRow != firstRow) {\n                this.removeInLine(firstRow, range.start.column, this.getLine(firstRow).length);\n                this.removeNewLine(range.start.row);\n            }\n        }\n        else {\n            this.removeInLine(firstRow, range.start.column, range.end.column);\n        }\n        return range.start;\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        if (startColumn == endColumn)\n            return;\n\n        var range = new Range(row, startColumn, row, endColumn);\n        var line = this.getLine(row);\n        var removed = line.substring(startColumn, endColumn);\n        var newLine = line.substring(0, startColumn) + line.substring(endColumn, line.length);\n        this.$lines.splice(row, 1, newLine);\n\n        var delta = {\n            action: \"removeText\",\n            range: range,\n            text: removed\n        };\n        this._signal(\"change\", { data: delta });\n        return range.start;\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        if (firstRow < 0 || lastRow >= this.getLength())\n            return this.remove(new Range(firstRow, 0, lastRow + 1, 0));\n        return this._removeLines(firstRow, lastRow);\n    };\n\n    this._removeLines = function(firstRow, lastRow) {\n        var range = new Range(firstRow, 0, lastRow + 1, 0);\n        var removed = this.$lines.splice(firstRow, lastRow - firstRow + 1);\n\n        var delta = {\n            action: \"removeLines\",\n            range: range,\n            nl: this.getNewLineCharacter(),\n            lines: removed\n        };\n        this._signal(\"change\", { data: delta });\n        return removed;\n    };\n    this.removeNewLine = function(row) {\n        var firstLine = this.getLine(row);\n        var secondLine = this.getLine(row+1);\n\n        var range = new Range(row, firstLine.length, row+1, 0);\n        var line = firstLine + secondLine;\n\n        this.$lines.splice(row, 2, line);\n\n        var delta = {\n            action: \"removeText\",\n            range: range,\n            text: this.getNewLineCharacter()\n        };\n        this._signal(\"change\", { data: delta });\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length == 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        if (text) {\n            var end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n\n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            var delta = deltas[i];\n            var range = Range.fromPoints(delta.range.start, delta.range.end);\n\n            if (delta.action == \"insertLines\")\n                this.insertLines(range.start.row, delta.lines);\n            else if (delta.action == \"insertText\")\n                this.insert(range.start, delta.text);\n            else if (delta.action == \"removeLines\")\n                this._removeLines(range.start.row, range.end.row - 1);\n            else if (delta.action == \"removeText\")\n                this.remove(range);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            var delta = deltas[i];\n\n            var range = Range.fromPoints(delta.range.start, delta.range.end);\n\n            if (delta.action == \"insertLines\")\n                this._removeLines(range.start.row, range.end.row - 1);\n            else if (delta.action == \"insertText\")\n                this.remove(range);\n            else if (delta.action == \"removeLines\")\n                this._insertLines(range.start.row, delta.lines);\n            else if (delta.action == \"removeText\")\n                this.insert(range.start, delta.text);\n        }\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: lines[l-1].length};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n;\n            (function() {\n                window.require([\"ace/ace\"], function(a) {\n                    a && a.config.init(true);\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        ace[key] = a[key];\n                });\n            })();\n        ","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/mode/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/css_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/worker/worker_client', 'ace/mode/behaviour/css', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CssBehaviour = require(\"./behaviour/css\").CssBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = CssHighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CssBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.foldingRules = \"cStyle\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        var match = line.match(/^.*\\{\\s*$/);\n        if (match) {\n            indent += tab;\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/css_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"csslint\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/css\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\ndefine('ace/mode/css_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar supportType = exports.supportType = \"animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index\";\nvar supportFunction = exports.supportFunction = \"rgb|rgba|url|attr|counter|counters\";\nvar supportConstant = exports.supportConstant = \"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero\";\nvar supportConstantColor = exports.supportConstantColor = \"aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow\";\nvar supportConstantFonts = exports.supportConstantFonts = \"arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\";\n\nvar numRe = exports.numRe = \"\\\\-?(?:(?:[0-9]+)|(?:[0-9]*\\\\.[0-9]+))\";\nvar pseudoElements = exports.pseudoElements = \"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\";\nvar pseudoClasses  = exports.pseudoClasses =  \"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\";\n\nvar CssHighlightRules = function() {\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": supportFunction,\n        \"support.constant\": supportConstant,\n        \"support.type\": supportType,\n        \"support.constant.color\": supportConstantColor,\n        \"support.constant.fonts\": supportConstantFonts\n    }, \"text\", true);\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"@.*?{\",\n            push:  \"media\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"media\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"\\\\}\",\n            next:  \"pop\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"comment\" : [{\n            token : \"comment\",\n            regex : \"\\\\*\\\\/\",\n            next : \"pop\"\n        }, {\n            defaultToken : \"comment\"\n        }],\n\n        \"ruleset\" : [\n        {\n            token : \"paren.rparen\",\n            regex : \"\\\\}\",\n            next:   \"pop\"\n        }, {\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token : \"string\", // single line\n            regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]'\n        }, {\n            token : \"string\", // single line\n            regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n        }, {\n            token : [\"constant.numeric\", \"keyword\"],\n            regex : \"(\" + numRe + \")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\"\n        }, {\n            token : \"constant.numeric\",\n            regex : numRe\n        }, {\n            token : \"constant.numeric\",  // hex6 color\n            regex : \"#[a-f0-9]{6}\"\n        }, {\n            token : \"constant.numeric\", // hex3 color\n            regex : \"#[a-f0-9]{3}\"\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-element.css\"],\n            regex : pseudoElements\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-class.css\"],\n            regex : pseudoClasses\n        }, {\n            token : [\"support.function\", \"string\", \"support.function\"],\n            regex : \"(url\\\\()(.*)(\\\\))\"\n        }, {\n            token : keywordMapper,\n            regex : \"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"\n        }, {\n            caseInsensitive: true\n        }]\n    };\n\n    this.normalizeRules();\n};\n\noop.inherits(CssHighlightRules, TextHighlightRules);\n\nexports.CssHighlightRules = CssHighlightRules;\n\n});\n\ndefine('ace/mode/matching_brace_outdent', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\ndefine('ace/mode/behaviour/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n\ndefine('ace/mode/behaviour/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {}\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.id;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar CstyleBehaviour = function() {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '{' + selected + '}',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '(' + selected + ')',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '[' + selected + ']',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: quote + selected + quote,\n                    selection: false\n                };\n            } else {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                if (leftChar == '\\\\') {\n                    return null;\n                }\n                var tokens = session.getTokens(selection.start.row);\n                var col = 0, token;\n                var quotepos = -1; // Track whether we're inside an open quote.\n\n                for (var x = 0; x < tokens.length; x++) {\n                    token = tokens[x];\n                    if (token.type == \"string\") {\n                      quotepos = -1;\n                    } else if (quotepos < 0) {\n                      quotepos = token.value.indexOf(quote);\n                    }\n                    if ((token.value.length + col) > selection.start.column) {\n                        break;\n                    }\n                    col += tokens[x].value.length;\n                }\n                if (!token || (quotepos < 0 && token.type !== \"comment\" && (token.type !== \"string\" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {\n                    if (!CstyleBehaviour.isSaneInsertion(editor, session))\n                        return;\n                    return {\n                        text: quote + quote,\n                        selection: [1,1]\n                    };\n                } else if (token && token.type === \"string\") {\n                    var rightChar = line.substring(cursor.column, cursor.column + 1);\n                    if (rightChar == quote) {\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine('ace/mode/folding/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.foldingStartMarker = /(\\{|\\[)[^\\}\\]]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{]*(\\}|\\])|^[\\s\\*]*(\\*\\/)/;\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/mode/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/mode/javascript', 'ace/mode/css', 'ace/tokenizer', 'ace/mode/html_highlight_rules', 'ace/mode/behaviour/html', 'ace/mode/folding/html', 'ace/mode/html_completions', 'ace/worker/worker_client'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar CssMode = require(\"./css\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar HtmlBehaviour = require(\"./behaviour/html\").HtmlBehaviour;\nvar HtmlFoldMode = require(\"./folding/html\").FoldMode;\nvar HtmlCompletions = require(\"./html_completions\").HtmlCompletions;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\n\nvar Mode = function(options) {\n    this.fragmentContext = options && options.fragmentContext;\n    this.HighlightRules = HtmlHighlightRules;\n    this.$behaviour = new HtmlBehaviour();\n    this.$completer = new HtmlCompletions();\n    \n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"css-\": CssMode\n    });\n    \n    this.foldingRules = new HtmlFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        return this.$completer.getCompletions(state, session, pos, prefix);\n    };\n\n    this.createWorker = function(session) {\n        if (this.constructor != Mode)\n            return;\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/html_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        if (this.fragmentContext)\n            worker.call(\"setOptions\", [{context: this.fragmentContext}]);\n\n        worker.on(\"error\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/html\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/mode/folding/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.foldingStartMarker = /(\\{|\\[)[^\\}\\]]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{]*(\\}|\\])|^[\\s\\*]*(\\*\\/)/;\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/css_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/worker/worker_client', 'ace/mode/behaviour/css', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CssBehaviour = require(\"./behaviour/css\").CssBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = CssHighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CssBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.foldingRules = \"cStyle\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        var match = line.match(/^.*\\{\\s*$/);\n        if (match) {\n            indent += tab;\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/css_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"csslint\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/css\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\ndefine('ace/mode/css_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar supportType = exports.supportType = \"animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index\";\nvar supportFunction = exports.supportFunction = \"rgb|rgba|url|attr|counter|counters\";\nvar supportConstant = exports.supportConstant = \"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero\";\nvar supportConstantColor = exports.supportConstantColor = \"aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow\";\nvar supportConstantFonts = exports.supportConstantFonts = \"arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\";\n\nvar numRe = exports.numRe = \"\\\\-?(?:(?:[0-9]+)|(?:[0-9]*\\\\.[0-9]+))\";\nvar pseudoElements = exports.pseudoElements = \"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\";\nvar pseudoClasses  = exports.pseudoClasses =  \"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\";\n\nvar CssHighlightRules = function() {\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": supportFunction,\n        \"support.constant\": supportConstant,\n        \"support.type\": supportType,\n        \"support.constant.color\": supportConstantColor,\n        \"support.constant.fonts\": supportConstantFonts\n    }, \"text\", true);\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"@.*?{\",\n            push:  \"media\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"media\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"\\\\}\",\n            next:  \"pop\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"comment\" : [{\n            token : \"comment\",\n            regex : \"\\\\*\\\\/\",\n            next : \"pop\"\n        }, {\n            defaultToken : \"comment\"\n        }],\n\n        \"ruleset\" : [\n        {\n            token : \"paren.rparen\",\n            regex : \"\\\\}\",\n            next:   \"pop\"\n        }, {\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token : \"string\", // single line\n            regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]'\n        }, {\n            token : \"string\", // single line\n            regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n        }, {\n            token : [\"constant.numeric\", \"keyword\"],\n            regex : \"(\" + numRe + \")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\"\n        }, {\n            token : \"constant.numeric\",\n            regex : numRe\n        }, {\n            token : \"constant.numeric\",  // hex6 color\n            regex : \"#[a-f0-9]{6}\"\n        }, {\n            token : \"constant.numeric\", // hex3 color\n            regex : \"#[a-f0-9]{3}\"\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-element.css\"],\n            regex : pseudoElements\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-class.css\"],\n            regex : pseudoClasses\n        }, {\n            token : [\"support.function\", \"string\", \"support.function\"],\n            regex : \"(url\\\\()(.*)(\\\\))\"\n        }, {\n            token : keywordMapper,\n            regex : \"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"\n        }, {\n            caseInsensitive: true\n        }]\n    };\n\n    this.normalizeRules();\n};\n\noop.inherits(CssHighlightRules, TextHighlightRules);\n\nexports.CssHighlightRules = CssHighlightRules;\n\n});\n\ndefine('ace/mode/behaviour/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {}\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.id;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar CstyleBehaviour = function() {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '{' + selected + '}',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '(' + selected + ')',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '[' + selected + ']',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: quote + selected + quote,\n                    selection: false\n                };\n            } else {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                if (leftChar == '\\\\') {\n                    return null;\n                }\n                var tokens = session.getTokens(selection.start.row);\n                var col = 0, token;\n                var quotepos = -1; // Track whether we're inside an open quote.\n\n                for (var x = 0; x < tokens.length; x++) {\n                    token = tokens[x];\n                    if (token.type == \"string\") {\n                      quotepos = -1;\n                    } else if (quotepos < 0) {\n                      quotepos = token.value.indexOf(quote);\n                    }\n                    if ((token.value.length + col) > selection.start.column) {\n                        break;\n                    }\n                    col += tokens[x].value.length;\n                }\n                if (!token || (quotepos < 0 && token.type !== \"comment\" && (token.type !== \"string\" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {\n                    if (!CstyleBehaviour.isSaneInsertion(editor, session))\n                        return;\n                    return {\n                        text: quote + quote,\n                        selection: [1,1]\n                    };\n                } else if (token && token.type === \"string\") {\n                    var rightChar = line.substring(cursor.column, cursor.column + 1);\n                    if (rightChar == quote) {\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine('ace/mode/html_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/css_highlight_rules', 'ace/mode/javascript_highlight_rules', 'ace/mode/xml_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar XmlHighlightRules = require(\"./xml_highlight_rules\").XmlHighlightRules;\n\nvar tagMap = lang.createMap({\n    a           : 'anchor',\n    button \t    : 'form',\n    form        : 'form',\n    img         : 'image',\n    input       : 'form',\n    label       : 'form',\n    option      : 'form',\n    script      : 'script',\n    select      : 'form',\n    textarea    : 'form',\n    style       : 'style',\n    table       : 'table',\n    tbody       : 'table',\n    td          : 'table',\n    tfoot       : 'table',\n    th          : 'table',\n    tr          : 'table'\n});\n\nvar HtmlHighlightRules = function() {\n    XmlHighlightRules.call(this);\n\n    this.addRules({\n        attributes: [{\n            include : \"space\"\n        }, {\n            token : \"entity.other.attribute-name\",\n            regex : \"[-_a-zA-Z0-9:]+\"\n        }, {\n            token : \"keyword.operator.separator\",\n            regex : \"=\",\n            push : [{\n                include: \"space\"\n            }, {\n                token : \"string\",\n                regex : \"[^<>='\\\"`\\\\s]+\",\n                next : \"pop\"\n            }, {\n                token : \"empty\",\n                regex : \"\",\n                next : \"pop\"\n            }]\n        }, {\n            include : \"string\"\n        }],\n        tag: [{\n            token : function(start, tag) {\n                var group = tagMap[tag];\n                return [\"meta.tag.punctuation.begin\",\n                    \"meta.tag.name\" + (group ? \".\" + group : \"\")];\n            },\n            regex : \"(<)([-_a-zA-Z0-9:]+)\",\n            next: \"start_tag_stuff\"\n        }, {\n            token : function(start, tag) {\n                var group = tagMap[tag];\n                return [\"meta.tag.punctuation.begin\",\n                    \"meta.tag.name\" + (group ? \".\" + group : \"\")];\n            },\n            regex : \"(</)([-_a-zA-Z0-9:]+)\",\n            next: \"end_tag_stuff\"\n        }],\n        start_tag_stuff: [\n            {include : \"attributes\"},\n            {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : \"start\"}\n        ],\n        end_tag_stuff: [\n            {include : \"space\"},\n            {token : \"meta.tag.punctuation.end\", regex : \">\", next : \"start\"}\n        ]\n    });\n\n    this.embedTagRules(CssHighlightRules, \"css-\", \"style\");\n    this.embedTagRules(JavaScriptHighlightRules, \"js-\", \"script\");\n\n    if (this.constructor === HtmlHighlightRules)\n        this.normalizeRules();\n};\n\noop.inherits(HtmlHighlightRules, XmlHighlightRules);\n\nexports.HtmlHighlightRules = HtmlHighlightRules;\n});\n\ndefine('ace/mode/xml_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/xml_util', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar xmlUtil = require(\"./xml_util\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar XmlHighlightRules = function(normalize) {\n    this.$rules = {\n        start : [\n            {token : \"punctuation.string.begin\", regex : \"<\\\\!\\\\[CDATA\\\\[\", next : \"cdata\"},\n            {\n                token : [\"punctuation.instruction.begin\", \"keyword.instruction\"],\n                regex : \"(<\\\\?)(xml)(?=[\\\\s])\", next : \"xml_declaration\"\n            },\n            {\n                token : [\"punctuation.instruction.begin\", \"keyword.instruction\"],\n                regex : \"(<\\\\?)([-_a-zA-Z0-9]+)\", next : \"instruction\"\n            },\n            {token : \"comment\", regex : \"<\\\\!--\", next : \"comment\"},\n            {\n                token : [\"punctuation.doctype.begin\", \"meta.tag.doctype\"],\n                regex : \"(<\\\\!)(DOCTYPE)(?=[\\\\s])\", next : \"doctype\"\n            },\n            {include : \"tag\"},\n            {include : \"reference\"}\n        ],\n\n        xml_declaration : [\n            {include : \"attributes\"},\n            {include : \"instruction\"}\n        ],\n\n        instruction : [\n            {token : \"punctuation.instruction.end\", regex : \"\\\\?>\", next : \"start\"}\n        ],\n\n        doctype : [\n            {include : \"space\"},\n            {include : \"string\"},\n            {token : \"punctuation.doctype.end\", regex : \">\", next : \"start\"},\n            {token : \"xml-pe\", regex : \"[-_a-zA-Z0-9:]+\"},\n            {token : \"punctuation.begin\", regex : \"\\\\[\", push : \"declarations\"}\n        ],\n\n        declarations : [{\n            token : \"text\",\n            regex : \"\\\\s+\"\n        }, {\n            token: \"punctuation.end\",\n            regex: \"]\",\n            next: \"pop\"\n        }, {\n            token : [\"punctuation.begin\", \"keyword\"],\n            regex : \"(<\\\\!)([-_a-zA-Z0-9]+)\",\n            push : [{\n                token : \"text\",\n                regex : \"\\\\s+\"\n            },\n            {\n                token : \"punctuation.end\",\n                regex : \">\",\n                next : \"pop\"\n            },\n            {include : \"string\"}]\n        }],\n\n        cdata : [\n            {token : \"string.end\", regex : \"\\\\]\\\\]>\", next : \"start\"},\n            {token : \"text\", regex : \"\\\\s+\"},\n            {token : \"text\", regex : \"(?:[^\\\\]]|\\\\](?!\\\\]>))+\"}\n        ],\n\n        comment : [\n            {token : \"comment\", regex : \"-->\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n\n        tag : [{\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name\"],\n            regex : \"(<)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)\",\n            next: [\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : \"start\"}\n            ]\n        }, {\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name\"],\n            regex : \"(</)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)\",\n            next: [\n                {include : \"space\"},\n                {token : \"meta.tag.punctuation.end\", regex : \">\", next : \"start\"}\n            ]\n        }],\n\n        space : [\n            {token : \"text\", regex : \"\\\\s+\"}\n        ],\n\n        reference : [{\n            token : \"constant.language.escape\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"\n        }, {\n            token : \"text\", regex : \"&\"\n        }],\n\n        string: [{\n            token : \"string\",\n            regex : \"'\",\n            push : \"qstring_inner\"\n        }, {\n            token : \"string\",\n            regex : '\"',\n            push : \"qqstring_inner\"\n        }],\n\n        qstring_inner: [\n            {token : \"string\", regex: \"'\", next: \"pop\"},\n            {include : \"reference\"},\n            {defaultToken : \"string\"}\n        ],\n\n        qqstring_inner: [\n            {token : \"string\", regex: '\"', next: \"pop\"},\n            {include : \"reference\"},\n            {defaultToken : \"string\"}\n        ],\n\n        attributes: [{\n            token : \"entity.other.attribute-name\",\n            regex : \"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+\"\n        }, {\n            token : \"keyword.operator.separator\",\n            regex : \"=\"\n        }, {\n            include : \"space\"\n        }, {\n            include : \"string\"\n        }]\n    };\n\n    if (this.constructor === XmlHighlightRules)\n        this.normalizeRules();\n};\n\n\n(function() {\n\n    this.embedTagRules = function(HighlightRules, prefix, tag){\n        this.$rules.tag.unshift({\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name.\" + tag],\n            regex : \"(<)(\" + tag + \")\",\n            next: [\n                {include : \"space\"},\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : prefix + \"start\"}\n            ]\n        });\n\n        this.$rules[tag + \"-end\"] = [\n            {include : \"space\"},\n            {token : \"meta.tag.punctuation.end\", regex : \">\",  next: \"start\",\n                onMatch : function(value, currentState, stack) {\n                    stack.splice(0);\n                    return this.token;\n            }}\n        ]\n\n        this.embedRules(HighlightRules, prefix, [{\n            token: [\"meta.tag.punctuation.begin\", \"meta.tag.name.\" + tag],\n            regex : \"(</)(\" + tag + \")\",\n            next: tag + \"-end\"\n        }, {\n            token: \"string.begin\",\n            regex : \"<\\\\!\\\\[CDATA\\\\[\"\n        }, {\n            token: \"string.end\",\n            regex : \"\\\\]\\\\]>\"\n        }]);\n    };\n\n}).call(TextHighlightRules.prototype);\n\noop.inherits(XmlHighlightRules, TextHighlightRules);\n\nexports.XmlHighlightRules = XmlHighlightRules;\n});\n\ndefine('ace/mode/xml_util', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nfunction string(state) {\n    return [{\n        token : \"string\",\n        regex : '\"',\n        next : state + \"_qqstring\"\n    }, {\n        token : \"string\",\n        regex : \"'\",\n        next : state + \"_qstring\"\n    }];\n}\n\nfunction multiLineString(quote, state) {\n    return [\n        {token : \"string\", regex : quote, next : state},\n        {\n            token : \"constant.language.escape\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\" \n        },\n        {defaultToken : \"string\"}\n    ];\n}\n\nexports.tag = function(states, name, nextState, tagMap) {\n    states[name] = [{\n        token : \"text\",\n        regex : \"\\\\s+\"\n    }, {\n        \n    token : !tagMap ? \"meta.tag.tag-name\" : function(value) {\n            if (tagMap[value])\n                return \"meta.tag.tag-name.\" + tagMap[value];\n            else\n                return \"meta.tag.tag-name\";\n        },\n        regex : \"[-_a-zA-Z0-9:]+\",\n        next : name + \"_embed_attribute_list\" \n    }, {\n        token: \"empty\",\n        regex: \"\",\n        next : name + \"_embed_attribute_list\"\n    }];\n\n    states[name + \"_qstring\"] = multiLineString(\"'\", name + \"_embed_attribute_list\");\n    states[name + \"_qqstring\"] = multiLineString(\"\\\"\", name + \"_embed_attribute_list\");\n    \n    states[name + \"_embed_attribute_list\"] = [{\n        token : \"meta.tag.r\",\n        regex : \"/?>\",\n        next : nextState\n    }, {\n        token : \"keyword.operator\",\n        regex : \"=\"\n    }, {\n        token : \"entity.other.attribute-name\",\n        regex : \"[-_a-zA-Z0-9:]+\"\n    }, {\n        token : \"constant.numeric\", // float\n        regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n    }, {\n        token : \"text\",\n        regex : \"\\\\s+\"\n    }].concat(string(name));\n};\n\n});\n\ndefine('ace/mode/behaviour/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour/xml', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar XmlBehaviour = require(\"../behaviour/xml\").XmlBehaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar voidElements = ['area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'];\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n    return hasType;\n}\n\nvar HtmlBehaviour = function () {\n\n    this.inherit(XmlBehaviour); // Get xml behaviour\n    \n    this.add(\"autoclosing\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '>') {\n            var position = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, position.row, position.column);\n            var token = iterator.getCurrentToken();\n\n            if (token && hasType(token, 'string') && iterator.getCurrentTokenColumn() + token.value.length > position.column)\n                return;\n            var atCursor = false;\n            if (!token || !hasType(token, 'meta.tag') && !(hasType(token, 'text') && token.value.match('/'))){\n                do {\n                    token = iterator.stepBackward();\n                } while (token && (hasType(token, 'string') || hasType(token, 'keyword.operator') || hasType(token, 'entity.attribute-name') || hasType(token, 'text')));\n            } else {\n                atCursor = true;\n            }\n            if (!token || !hasType(token, 'meta.tag.name') || iterator.stepBackward().value.match('/')) {\n                return;\n            }\n            var element = token.value;\n            if (atCursor){\n                var element = element.substring(0, position.column - token.start);\n            }\n            if (voidElements.indexOf(element) !== -1){\n                return;\n            }\n            return {\n               text: '>' + '</' + element + '>',\n               selection: [1, 1]\n            }\n        }\n    });\n}\noop.inherits(HtmlBehaviour, XmlBehaviour);\n\nexports.HtmlBehaviour = HtmlBehaviour;\n});\n\ndefine('ace/mode/behaviour/xml', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n    return hasType;\n}\n\nvar XmlBehaviour = function () {\n    \n    this.inherit(CstyleBehaviour, [\"string_dquotes\"]); // Get string behaviour\n    \n    this.add(\"autoclosing\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '>') {\n            var position = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, position.row, position.column);\n            var token = iterator.getCurrentToken();\n\n            if (token && hasType(token, 'string') && iterator.getCurrentTokenColumn() + token.value.length > position.column)\n                return;\n            var atCursor = false;\n            if (!token || !hasType(token, 'meta.tag') && !(hasType(token, 'text') && token.value.match('/'))){\n                do {\n                    token = iterator.stepBackward();\n                } while (token && (hasType(token, 'string') || hasType(token, 'keyword.operator') || hasType(token, 'entity.attribute-name') || hasType(token, 'text')));\n            } else {\n                atCursor = true;\n            }\n            if (!token || !hasType(token, 'meta.tag.name') || iterator.stepBackward().value.match('/')) {\n                return;\n            }\n            var tag = token.value;\n            if (atCursor){\n                var tag = tag.substring(0, position.column - token.start);\n            }\n\n            return {\n               text: '>' + '</' + tag + '>',\n               selection: [1, 1]\n            }\n        }\n    });\n\n    this.add('autoindent', 'insertion', function (state, action, editor, session, text) {\n        if (text == \"\\n\") {\n            var cursor = editor.getCursorPosition();\n            var line = session.getLine(cursor.row);\n            var rightChars = line.substring(cursor.column, cursor.column + 2);\n            if (rightChars == '</') {\n                var next_indent = this.$getIndent(line);\n                var indent = next_indent + session.getTabString();\n\n                return {\n                    text: '\\n' + indent + '\\n' + next_indent,\n                    selection: [1, indent.length, 1, indent.length]\n                }\n            }\n        }\n    });\n    \n}\noop.inherits(XmlBehaviour, Behaviour);\n\nexports.XmlBehaviour = XmlBehaviour;\n});\n\ndefine('ace/mode/matching_brace_outdent', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\ndefine('ace/mode/folding/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/mixed', 'ace/mode/folding/xml', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar MixedFoldMode = require(\"./mixed\").FoldMode;\nvar XmlFoldMode = require(\"./xml\").FoldMode;\nvar CStyleFoldMode = require(\"./cstyle\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function() {\n    MixedFoldMode.call(this, new XmlFoldMode({\n        \"area\": 1,\n        \"base\": 1,\n        \"br\": 1,\n        \"col\": 1,\n        \"command\": 1,\n        \"embed\": 1,\n        \"hr\": 1,\n        \"img\": 1,\n        \"input\": 1,\n        \"keygen\": 1,\n        \"link\": 1,\n        \"meta\": 1,\n        \"param\": 1,\n        \"source\": 1,\n        \"track\": 1,\n        \"wbr\": 1,\n        \"li\": 1,\n        \"dt\": 1,\n        \"dd\": 1,\n        \"p\": 1,\n        \"rt\": 1,\n        \"rp\": 1,\n        \"optgroup\": 1,\n        \"option\": 1,\n        \"colgroup\": 1,\n        \"td\": 1,\n        \"th\": 1\n    }), {\n        \"js-\": new CStyleFoldMode(),\n        \"css-\": new CStyleFoldMode()\n    });\n};\n\noop.inherits(FoldMode, MixedFoldMode);\n\n});\n\ndefine('ace/mode/doc_comment_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar DocCommentHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [ {\n            token : \"comment.doc.tag\",\n            regex : \"@[\\\\w\\\\d_]+\" // TODO: fix email addresses\n        }, {\n            token : \"comment.doc.tag\",\n            regex : \"\\\\bTODO\\\\b\"\n        }, {\n            defaultToken : \"comment.doc\"\n        }]\n    };\n};\n\noop.inherits(DocCommentHighlightRules, TextHighlightRules);\n\nDocCommentHighlightRules.getStartRule = function(start) {\n    return {\n        token : \"comment.doc\", // doc comment\n        regex : \"\\\\/\\\\*(?=\\\\*)\",\n        next  : start\n    };\n};\n\nDocCommentHighlightRules.getEndRule = function (start) {\n    return {\n        token : \"comment.doc\", // closing comment\n        regex : \"\\\\*\\\\/\",\n        next  : start\n    };\n};\n\n\nexports.DocCommentHighlightRules = DocCommentHighlightRules;\n\n});\n\ndefine('ace/mode/folding/mixed', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(defaultMode, subModes) {\n    this.defaultMode = defaultMode;\n    this.subModes = subModes;\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n\n    this.$getMode = function(state) {\n        if (typeof state != \"string\") \n            state = state[0];\n        for (var key in this.subModes) {\n            if (state.indexOf(key) === 0)\n                return this.subModes[key];\n        }\n        return null;\n    };\n    \n    this.$tryMode = function(state, session, foldStyle, row) {\n        var mode = this.$getMode(state);\n        return (mode ? mode.getFoldWidget(session, foldStyle, row) : \"\");\n    };\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        return (\n            this.$tryMode(session.getState(row-1), session, foldStyle, row) ||\n            this.$tryMode(session.getState(row), session, foldStyle, row) ||\n            this.defaultMode.getFoldWidget(session, foldStyle, row)\n        );\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var mode = this.$getMode(session.getState(row-1));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.$getMode(session.getState(row));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.defaultMode;\n        \n        return mode.getFoldWidgetRange(session, foldStyle, row);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/javascript_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/doc_comment_highlight_rules', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar DocCommentHighlightRules = require(\"./doc_comment_highlight_rules\").DocCommentHighlightRules;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar JavaScriptHighlightRules = function() {\n    var keywordMapper = this.createKeywordMapper({\n        \"variable.language\":\n            \"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|\"  + // Constructors\n            \"Namespace|QName|XML|XMLList|\"                                             + // E4X\n            \"ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|\"   +\n            \"Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|\"                    +\n            \"Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|\"   + // Errors\n            \"SyntaxError|TypeError|URIError|\"                                          +\n            \"decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|\" + // Non-constructor functions\n            \"isNaN|parseFloat|parseInt|\"                                               +\n            \"JSON|Math|\"                                                               + // Other\n            \"this|arguments|prototype|window|document\"                                 , // Pseudo\n        \"keyword\":\n            \"const|yield|import|get|set|\" +\n            \"break|case|catch|continue|default|delete|do|else|finally|for|function|\" +\n            \"if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|\" +\n            \"__parent__|__count__|escape|unescape|with|__proto__|\" +\n            \"class|enum|extends|super|export|implements|private|public|interface|package|protected|static\",\n        \"storage.type\":\n            \"const|let|var|function\",\n        \"constant.language\":\n            \"null|Infinity|NaN|undefined\",\n        \"support.function\":\n            \"alert\",\n        \"constant.language.boolean\": \"true|false\"\n    }, \"identifier\");\n    var kwBeforeRe = \"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\";\n    var identifierRe = \"[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*\\\\b\";\n\n    var escapedRe = \"\\\\\\\\(?:x[0-9a-fA-F]{2}|\" + // hex\n        \"u[0-9a-fA-F]{4}|\" + // unicode\n        \"[0-2][0-7]{0,2}|\" + // oct\n        \"3[0-6][0-7]?|\" + // oct\n        \"37[0-7]?|\" + // oct\n        \"[4-7][0-7]?|\" + //oct\n        \".)\";\n\n    this.$rules = {\n        \"no_regex\" : [\n            {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment\"\n            },\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : /\\/\\*/,\n                next : \"comment\"\n            }, {\n                token : \"string\",\n                regex : \"'(?=.)\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : '\"(?=.)',\n                next  : \"qqstring\"\n            }, {\n                token : \"constant.numeric\", // hex\n                regex : /0[xX][0-9a-fA-F]+\\b/\n            }, {\n                token : \"constant.numeric\", // float\n                regex : /[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b/\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"support.function\",\n                    \"punctuation.operator\", \"entity.name.function\", \"text\",\"keyword.operator\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(prototype)(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"keyword.operator\", \"text\", \"storage.type\",\n                    \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\",\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(function)(\\\\s+)(\" + identifierRe + \")(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"punctuation.operator\",\n                    \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\s*)(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"text\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : \"keyword\",\n                regex : \"(?:\" + kwBeforeRe + \")\\\\b\",\n                next : \"start\"\n            }, {\n                token : [\"punctuation.operator\", \"support.function\"],\n                regex : /(\\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.function.dom\"],\n                regex : /(\\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.constant\"],\n                regex : /(\\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n            }, {\n                token : [\"storage.type\", \"punctuation.operator\", \"support.function.firebug\"],\n                regex : /(console)(\\.)(warn|info|log|error|time|timeEnd|assert)\\b/\n            }, {\n                token : keywordMapper,\n                regex : identifierRe\n            }, {\n                token : \"keyword.operator\",\n                regex : /--|\\+\\+|[!$%&*+\\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=/,\n                next  : \"start\"\n            }, {\n                token : \"punctuation.operator\",\n                regex : /\\?|\\:|\\,|\\;|\\./,\n                next  : \"start\"\n            }, {\n                token : \"paren.lparen\",\n                regex : /[\\[({]/,\n                next  : \"start\"\n            }, {\n                token : \"paren.rparen\",\n                regex : /[\\])}]/\n            }, {\n                token : \"keyword.operator\",\n                regex : /\\/=?/,\n                next  : \"start\"\n            }, {\n                token: \"comment\",\n                regex: /^#!.*$/\n            }\n        ],\n        \"start\": [\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : \"\\\\/\\\\*\",\n                next : \"comment_regex_allowed\"\n            }, {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment_regex_allowed\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"\\\\/\",\n                next: \"regex\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+|^$\",\n                next : \"start\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"regex\": [\n            {\n                token: \"regexp.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"/[sxngimy]*\",\n                next: \"no_regex\"\n            }, {\n                token : \"invalid\",\n                regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n            }, {\n                token : \"constant.language.escape\",\n                regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n            }, {\n                token : \"constant.language.delimiter\",\n                regex: /\\|/\n            }, {\n                token: \"constant.language.escape\",\n                regex: /\\[\\^?/,\n                next: \"regex_character_class\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp\"\n            }\n        ],\n        \"regex_character_class\": [\n            {\n                token: \"regexp.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"]\",\n                next: \"regex\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"-\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp.charachterclass\"\n            }\n        ],\n        \"function_arguments\": [\n            {\n                token: \"variable.parameter\",\n                regex: identifierRe\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"[, ]+\"\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"$\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"comment_regex_allowed\" : [\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"comment\" : [\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"no_regex\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"line_comment_regex_allowed\" : [\n            {token : \"comment\", regex : \"$|^\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"line_comment\" : [\n            {token : \"comment\", regex : \"$|^\", next : \"no_regex\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"qqstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qqstring\"\n            }, {\n                token : \"string\",\n                regex : '\"|$',\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ],\n        \"qstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : \"'|$\",\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ]\n    };\n\n    this.embedRules(DocCommentHighlightRules, \"doc-\",\n        [ DocCommentHighlightRules.getEndRule(\"no_regex\") ]);\n};\n\noop.inherits(JavaScriptHighlightRules, TextHighlightRules);\n\nexports.JavaScriptHighlightRules = JavaScriptHighlightRules;\n});\n\ndefine('ace/mode/folding/xml', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/range', 'ace/mode/folding/fold_mode', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar lang = require(\"../../lib/lang\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar FoldMode = exports.FoldMode = function(voidElements) {\n    BaseFoldMode.call(this);\n    this.voidElements = voidElements || {};\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var tag = this._getFirstTagInLine(session, row);\n\n        if (tag.closing)\n            return foldStyle == \"markbeginend\" ? \"end\" : \"\";\n\n        if (!tag.tagName || this.voidElements[tag.tagName.toLowerCase()])\n            return \"\";\n\n        if (tag.selfClosing)\n            return \"\";\n\n        if (tag.value.indexOf(\"/\" + tag.tagName) !== -1)\n            return \"\";\n\n        return \"start\";\n    };\n    \n    this._getFirstTagInLine = function(session, row) {\n        var tokens = session.getTokens(row);\n        var value = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0)\n                value += token.value;\n            else\n                value += lang.stringRepeat(\" \", token.value.length);\n        }\n        \n        return this._parseTag(value);\n    };\n\n    this.tagRe = /^(\\s*)(<?(\\/?)([-_a-zA-Z0-9:!]*)\\s*(\\/?)>?)/;\n    this._parseTag = function(tag) {\n        \n        var match = tag.match(this.tagRe);\n        var column = 0;\n\n        return {\n            value: tag,\n            match: match ? match[2] : \"\",\n            closing: match ? !!match[3] : false,\n            selfClosing: match ? !!match[5] || match[2] == \"/>\" : false,\n            tagName: match ? match[4] : \"\",\n            column: match[1] ? column + match[1].length : column\n        };\n    };\n    this._readTagForward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n            \n        var value = \"\";\n        var start;\n        \n        do {\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0) {\n                if (!start) {\n                    var start = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn()\n                    };\n                }\n                value += token.value;\n                if (value.indexOf(\">\") !== -1) {\n                    var tag = this._parseTag(value);\n                    tag.start = start;\n                    tag.end = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn() + token.value.length\n                    };\n                    iterator.stepForward();\n                    return tag;\n                }\n            }\n        } while(token = iterator.stepForward());\n        \n        return null;\n    };\n    \n    this._readTagBackward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n            \n        var value = \"\";\n        var end;\n\n        do {\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0) {\n                if (!end) {\n                    end = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn() + token.value.length\n                    };\n                }\n                value = token.value + value;\n                if (value.indexOf(\"<\") !== -1) {\n                    var tag = this._parseTag(value);\n                    tag.end = end;\n                    tag.start = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn()\n                    };\n                    iterator.stepBackward();\n                    return tag;\n                }\n            }\n        } while(token = iterator.stepBackward());\n        \n        return null;\n    };\n    \n    this._pop = function(stack, tag) {\n        while (stack.length) {\n            \n            var top = stack[stack.length-1];\n            if (!tag || top.tagName == tag.tagName) {\n                return stack.pop();\n            }\n            else if (this.voidElements[tag.tagName]) {\n                return;\n            }\n            else if (this.voidElements[top.tagName]) {\n                stack.pop();\n                continue;\n            } else {\n                return null;\n            }\n        }\n    };\n    \n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var firstTag = this._getFirstTagInLine(session, row);\n        \n        if (!firstTag.match)\n            return null;\n        \n        var isBackward = firstTag.closing || firstTag.selfClosing;\n        var stack = [];\n        var tag;\n        \n        if (!isBackward) {\n            var iterator = new TokenIterator(session, row, firstTag.column);\n            var start = {\n                row: row,\n                column: firstTag.column + firstTag.tagName.length + 2\n            };\n            while (tag = this._readTagForward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0)\n                        return Range.fromPoints(start, tag.start);\n                }\n                else {\n                    stack.push(tag)\n                }\n            }\n        }\n        else {\n            var iterator = new TokenIterator(session, row, firstTag.column + firstTag.match.length);\n            var end = {\n                row: row,\n                column: firstTag.column\n            };\n            \n            while (tag = this._readTagBackward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (!tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0) {\n                        tag.start.column += tag.tagName.length + 2;\n                        return Range.fromPoints(tag.start, end);\n                    }\n                }\n                else {\n                    stack.push(tag)\n                }\n            }\n        }\n        \n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/javascript', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/javascript_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/range', 'ace/worker/worker_client', 'ace/mode/behaviour/cstyle', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar Range = require(\"../range\").Range;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = JavaScriptHighlightRules;\n    \n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CstyleBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.lineCommentStart = \"//\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n\n        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);\n        var tokens = tokenizedLine.tokens;\n        var endState = tokenizedLine.state;\n\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        if (state == \"start\" || state == \"no_regex\") {\n            var match = line.match(/^.*(?:\\bcase\\b.*\\:|[\\{\\(\\[])\\s*$/);\n            if (match) {\n                indent += tab;\n            }\n        } else if (state == \"doc-start\") {\n            if (endState == \"start\" || endState == \"no_regex\") {\n                return \"\";\n            }\n            var match = line.match(/^\\s*(\\/?)\\*/);\n            if (match) {\n                if (match[1]) {\n                    indent += \" \";\n                }\n                indent += \"* \";\n            }\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/javascript_worker\", \"JavaScriptWorker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"jslint\", function(results) {\n            session.setAnnotations(results.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/javascript\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/mode/html_completions', ['require', 'exports', 'module' , 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nvar commonAttributes = [\n    \"accesskey\",\n    \"class\",\n    \"contenteditable\",\n    \"contextmenu\",\n    \"dir\",\n    \"draggable\",\n    \"dropzone\",\n    \"hidden\",\n    \"id\",\n    \"lang\",\n    \"spellcheck\",\n    \"style\",\n    \"tabindex\",\n    \"title\",\n    \"translate\"\n];\n\nvar eventAttributes = [\n    \"onabort\",\n    \"onblur\",\n    \"oncancel\",\n    \"oncanplay\",\n    \"oncanplaythrough\",\n    \"onchange\",\n    \"onclick\",\n    \"onclose\",\n    \"oncontextmenu\",\n    \"oncuechange\",\n    \"ondblclick\",\n    \"ondrag\",\n    \"ondragend\",\n    \"ondragenter\",\n    \"ondragleave\",\n    \"ondragover\",\n    \"ondragstart\",\n    \"ondrop\",\n    \"ondurationchange\",\n    \"onemptied\",\n    \"onended\",\n    \"onerror\",\n    \"onfocus\",\n    \"oninput\",\n    \"oninvalid\",\n    \"onkeydown\",\n    \"onkeypress\",\n    \"onkeyup\",\n    \"onload\",\n    \"onloadeddata\",\n    \"onloadedmetadata\",\n    \"onloadstart\",\n    \"onmousedown\",\n    \"onmousemove\",\n    \"onmouseout\",\n    \"onmouseover\",\n    \"onmouseup\",\n    \"onmousewheel\",\n    \"onpause\",\n    \"onplay\",\n    \"onplaying\",\n    \"onprogress\",\n    \"onratechange\",\n    \"onreset\",\n    \"onscroll\",\n    \"onseeked\",\n    \"onseeking\",\n    \"onselect\",\n    \"onshow\",\n    \"onstalled\",\n    \"onsubmit\",\n    \"onsuspend\",\n    \"ontimeupdate\",\n    \"onvolumechange\",\n    \"onwaiting\"\n];\n\nvar globalAttributes = commonAttributes.concat(eventAttributes);\n\nvar attributeMap = {\n    \"html\": [\"manifest\"],\n    \"head\": [],\n    \"title\": [],\n    \"base\": [\"href\", \"target\"],\n    \"link\": [\"href\", \"hreflang\", \"rel\", \"media\", \"type\", \"sizes\"],\n    \"meta\": [\"http-equiv\", \"name\", \"content\", \"charset\"],\n    \"style\": [\"type\", \"media\", \"scoped\"],\n    \"script\": [\"charset\", \"type\", \"src\", \"defer\", \"async\"],\n    \"noscript\": [\"href\"],\n    \"body\": [\"onafterprint\", \"onbeforeprint\", \"onbeforeunload\", \"onhashchange\", \"onmessage\", \"onoffline\", \"onpopstate\", \"onredo\", \"onresize\", \"onstorage\", \"onundo\", \"onunload\"],\n    \"section\": [],\n    \"nav\": [],\n    \"article\": [\"pubdate\"],\n    \"aside\": [],\n    \"h1\": [],\n    \"h2\": [],\n    \"h3\": [],\n    \"h4\": [],\n    \"h5\": [],\n    \"h6\": [],\n    \"header\": [],\n    \"footer\": [],\n    \"address\": [],\n    \"main\": [],\n    \"p\": [],\n    \"hr\": [],\n    \"pre\": [],\n    \"blockquote\": [\"cite\"],\n    \"ol\": [\"start\", \"reversed\"],\n    \"ul\": [],\n    \"li\": [\"value\"],\n    \"dl\": [],\n    \"dt\": [],\n    \"dd\": [],\n    \"figure\": [],\n    \"figcaption\": [],\n    \"div\": [],\n    \"a\": [\"href\", \"target\", \"ping\", \"rel\", \"media\", \"hreflang\", \"type\"],\n    \"em\": [],\n    \"strong\": [],\n    \"small\": [],\n    \"s\": [],\n    \"cite\": [],\n    \"q\": [\"cite\"],\n    \"dfn\": [],\n    \"abbr\": [],\n    \"data\": [],\n    \"time\": [\"datetime\"],\n    \"code\": [],\n    \"var\": [],\n    \"samp\": [],\n    \"kbd\": [],\n    \"sub\": [],\n    \"sup\": [],\n    \"i\": [],\n    \"b\": [],\n    \"u\": [],\n    \"mark\": [],\n    \"ruby\": [],\n    \"rt\": [],\n    \"rp\": [],\n    \"bdi\": [],\n    \"bdo\": [],\n    \"span\": [],\n    \"br\": [],\n    \"wbr\": [],\n    \"ins\": [\"cite\", \"datetime\"],\n    \"del\": [\"cite\", \"datetime\"],\n    \"img\": [\"alt\", \"src\", \"height\", \"width\", \"usemap\", \"ismap\"],\n    \"iframe\": [\"name\", \"src\", \"height\", \"width\", \"sandbox\", \"seamless\"],\n    \"embed\": [\"src\", \"height\", \"width\", \"type\"],\n    \"object\": [\"param\", \"data\", \"type\", \"height\" , \"width\", \"usemap\", \"name\", \"form\", \"classid\"],\n    \"param\": [\"name\", \"value\"],\n    \"video\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\", \"width\", \"height\", \"poster\"],\n    \"audio\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\"],\n    \"source\": [\"src\", \"type\", \"media\"],\n    \"track\": [\"kind\", \"src\", \"srclang\", \"label\", \"default\"],\n    \"canvas\": [\"width\", \"height\"],\n    \"map\": [\"name\"],\n    \"area\": [\"shape\", \"coords\", \"href\", \"hreflang\", \"alt\", \"target\", \"media\", \"rel\", \"ping\", \"type\"],\n    \"svg\": [],\n    \"math\": [],\n    \"table\": [\"summary\"],\n    \"caption\": [],\n    \"colgroup\": [\"span\"],\n    \"col\": [\"span\"],\n    \"tbody\": [],\n    \"thead\": [],\n    \"tfoot\": [],\n    \"tr\": [],\n    \"td\": [\"headers\", \"rowspan\", \"colspan\"],\n    \"th\": [\"headers\", \"rowspan\", \"colspan\", \"scope\"],\n    \"form\": [\"accept-charset\", \"action\", \"autocomplete\", \"enctype\", \"method\", \"name\", \"novalidate\", \"target\"],\n    \"fieldset\": [\"disabled\", \"form\", \"name\"],\n    \"legend\": [],\n    \"label\": [\"form\", \"for\"],\n    \"input\": [\"type\", \"accept\", \"alt\", \"autocomplete\", \"checked\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"height\", \"list\", \"max\", \"maxlength\", \"min\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"size\", \"src\", \"step\", \"width\", \"files\", \"value\"],\n    \"button\": [\"autofocus\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"name\", \"value\", \"type\"],\n    \"select\": [\"autofocus\", \"disabled\", \"form\", \"multiple\", \"name\", \"size\"],\n    \"datalist\": [],\n    \"optgroup\": [\"disabled\", \"label\"],\n    \"option\": [\"disabled\", \"selected\", \"label\", \"value\"],\n    \"textarea\": [\"autofocus\", \"disabled\", \"form\", \"maxlength\", \"name\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"cols\", \"wrap\"],\n    \"keygen\": [\"autofocus\", \"challenge\", \"disabled\", \"form\", \"keytype\", \"name\"],\n    \"output\": [\"for\", \"form\", \"name\"],\n    \"progress\": [\"value\", \"max\"],\n    \"meter\": [\"value\", \"min\", \"max\", \"low\", \"high\", \"optimum\"],\n    \"details\": [\"open\"],\n    \"summary\": [],\n    \"command\": [\"type\", \"label\", \"icon\", \"disabled\", \"checked\", \"radiogroup\", \"command\"],\n    \"menu\": [\"type\", \"label\"],\n    \"dialog\": [\"open\"]\n};\n\nvar allElements = Object.keys(attributeMap);\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n}\n\nfunction findTagName(session, pos) {\n    var iterator = new TokenIterator(session, pos.row, pos.column);\n    var token = iterator.getCurrentToken();\n    if (!token || !hasType(token, 'tag') && !(hasType(token, 'text') && token.value.match('/'))){\n        do {\n            token = iterator.stepBackward();\n        } while (token && (hasType(token, 'string') || hasType(token, 'operator') || hasType(token, 'attribute-name') || hasType(token, 'text')));\n    }\n    if (token && hasType(token, 'tag-name') && !iterator.stepBackward().value.match('/'))\n        return token.value;\n}\n\nvar HtmlCompletions = function() {\n\n};\n\n(function() {\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var token = session.getTokenAt(pos.row, pos.column);\n\n        if (!token)\n            return [];\n        if (hasType(token, \"tag-name\") || (token.value == '<' && hasType(token, \"text\")))\n            return this.getTagCompletions(state, session, pos, prefix);\n        if (hasType(token, 'text') || hasType(token, 'attribute-name'))\n            return this.getAttributeCompetions(state, session, pos, prefix);\n\n        return [];\n    };\n\n    this.getTagCompletions = function(state, session, pos, prefix) {\n        var elements = allElements;\n        if (prefix) {\n            elements = elements.filter(function(element){\n                return element.indexOf(prefix) === 0;\n            });\n        }\n        return elements.map(function(element){\n            return {\n                value: element,\n                meta: \"tag\"\n            };\n        });\n    };\n\n    this.getAttributeCompetions = function(state, session, pos, prefix) {\n        var tagName = findTagName(session, pos);\n        if (!tagName)\n            return [];\n        var attributes = globalAttributes;\n        if (tagName in attributeMap) {\n            attributes = attributes.concat(attributeMap[tagName]);\n        }\n        if (prefix) {\n            attributes = attributes.filter(function(attribute){\n                return attribute.indexOf(prefix) === 0;\n            });\n        }\n        return attributes.map(function(attribute){\n            return {\n                caption: attribute,\n                snippet: attribute + '=\"$0\"',\n                meta: \"attribute\"\n            };\n        });\n    };\n\n}).call(HtmlCompletions.prototype);\n\nexports.HtmlCompletions = HtmlCompletions;\n});\n\ndefine('ace/mode/behaviour/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/theme/koken', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\nexports.isDark = true;\nexports.cssClass = \"ace-koken\";\nexports.cssText = \".ace-koken .ace_gutter {\\\nbackground: #1a1a1a;\\\ncolor: #707070\\\n}\\\n.ace-koken .ace_fold-widget:hover {\\\nborder-color:#080808;\\\nbox-shadow:0 1px 0 rgba(255,255,255,0.1)\\\n}\\\n.ace-koken {\\\nfont-size:12px !important;\\\n}\\\n.ace-koken .ace_print-margin {\\\ndisplay:none;\\\nwidth: 1px;\\\nbackground: #232323\\\n}\\\n.ace_scrollbar {\\\nbackground:#141414;\\\n}\\\n.ace-koken .ace_scroller {\\\nbackground-color: #141414\\\n}\\\n.ace-koken .ace_text-layer {\\\ncolor: #bbb\\\n}\\\n.ace-koken .ace_cursor {\\\nborder-left: 2px solid #A7A7A7\\\n}\\\n.ace-koken .ace_overwrite-cursors .ace_cursor {\\\nborder-left: 0px;\\\nborder-bottom: 1px solid #A7A7A7\\\n}\\\n.ace-koken .ace_marker-layer .ace_selection {\\\nbackground: rgba(80, 80, 80, 0.3)\\\n}\\\n.ace-koken.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px #141414\\\nborder-radius: 2px\\\n}\\\n.ace-koken .ace_marker-layer .ace_step {\\\nbackground: rgb(102, 82, 0)\\\n}\\\n.ace-koken .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgba(255, 255, 255, 0.25)\\\n}\\\n.ace-koken .ace_marker-layer .ace_active-line {\\\nbackground: rgba(255, 255, 255, 0.001)\\\n}\\\n.ace-koken .ace_gutter-active-line {\\\nbackground-color: rgba(255, 255, 255, 0.05)\\\n}\\\n.ace-koken .ace_marker-layer .ace_selected-word {\\\nborder: 1px solid rgba(255, 255, 255, 0.20)\\\n}\\\n.ace-koken .ace_invisible {\\\ncolor: rgba(255, 255, 255, 0.25)\\\n}\\\n.ace-koken .ace_keyword,\\\n.ace-koken .ace_meta {\\\ncolor: #CDA869\\\n}\\\n.ace-koken .ace_constant,\\\n.ace-koken .ace_constant.ace_character,\\\n.ace-koken .ace_constant.ace_character.ace_escape,\\\n.ace-koken .ace_constant.ace_other,\\\n.ace-koken .ace_markup.ace_heading,\\\n.ace-koken .ace_support.ace_constant,\\\n.ace-koken .ace_shortcode {\\\ncolor: #ff6e00\\\n}\\\n.ace-koken .ace_invalid.ace_illegal {\\\ncolor: #aaa;\\\nbackground-color: rgba(86, 45, 86, 0.75)\\\n}\\\n.ace-koken .ace_invalid.ace_deprecated {\\\ntext-decoration: underline;\\\nfont-style: italic;\\\ncolor: #D2A8A1\\\n}\\\n.ace-koken .ace_support {\\\ncolor: #9B859D\\\n}\\\n.ace-koken .ace_fold {\\\nbackground-color: #AC885B;\\\nborder-color: #aaa\\\n}\\\n.ace-koken .ace_support.ace_function {\\\ncolor: #DAD085\\\n}\\\n.ace-koken .ace_markup.ace_list,\\\n.ace-koken .ace_storage {\\\ncolor: #F9EE98\\\n}\\\n.ace-koken .ace_entity.ace_name.ace_function,\\\n.ace-koken .ace_variable {\\\ncolor: #ff6e00\\\n}\\\n.ace-koken .ace_string {\\\ncolor: #7faace\\\n}\\\n.ace-koken .ace_string.ace_regexp {\\\ncolor: #E9C062\\\n}\\\n.ace-koken .ace_comment {\\\nfont-style: italic;\\\ncolor: #5F5A60\\\n}\\\n.ace-koken .ace_variable {\\\ncolor: #7587A6\\\n}\\\n.ace-koken .ace_xml-pe {\\\ncolor: #494949\\\n}\\\n.ace-koken .ace_markup.ace_underline {\\\ntext-decoration: underline\\\n}\\\n.ace-koken .ace_attribute-name {\\\ncolor:#ff6600\\\n}\\\n.ace-koken .ace_meta.ace_tag {\\\ncolor:#cc5200\\\n}\\\n.ace-koken .ace_shortcode {\\\ncolor:#fff\\\n}\\\n.ace-koken .ace_meta.ace_tag-name {\\\ncolor:#ff6600\\\n}\\\n.ace-koken .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERH5zzBz5sz/AA5EBAYqeZXWAAAAAElFTkSuQmCC) right repeat-y\\\n}\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/theme/kokenlight', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #fafafa;\\\ncolor: #999;\\\n}\\\n.ace-tm {\\\ntext-shadow:none;\\\nfont-size:12px !important;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace_scrollbar {\\\nbackground:#FFFFFF;\\\n}\\\n.ace-tm .ace_scroller {\\\nbackground-color: #FFFFFF;\\\n}\\\n.ace-tm .ace_cursor {\\\nborder-left: 2px solid black;\\\n}\\\n.ace-tm .ace_text-layer {\\\ncolor: #303030\\\n}\\\n.ace-tm .ace_overwrite-cursors .ace_cursor {\\\nborder-left: 0px;\\\nborder-bottom: 1px solid black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: #2f85ce\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_markup.ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_markup.ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(240, 240, 240);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: none;\\\nborder-radius: 2px\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(255, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #ededed\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 250);\\\nborder: 1px solid rgb(200, 200, 200);\\\n}\\\n.ace-tm .ace_attribute-name {\\\ncolor:#ff6600\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:#cc5200\\\n}\\\n.ace-tm .ace_shortcode {\\\ncolor:#111\\\n}\\\n.ace-tm .ace_meta.ace_tag-name {\\\ncolor:#ff6600\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n","(function() {\n    var lastTime = 0,\n        vendors = ['ms', 'moz', 'webkit', 'o'],\n        x,\n        length,\n        currTime,\n        timeToCall;\n\n    for(x = 0, length = vendors.length; x < length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = \n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            currTime = new Date().getTime();\n            timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            lastTime = currTime + timeToCall;\n            return window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());","/*\nCopyright (c) 2010 Ryan Schuft (ryan.schuft@gmail.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\n/*\n  This code is based in part on the work done in Ruby to support\n  infection as part of Ruby on Rails in the ActiveSupport's Inflector\n  and Inflections classes.  It was initally ported to Javascript by\n  Ryan Schuft (ryan.schuft@gmail.com) in 2007.\n\n  The code is available at http://code.google.com/p/inflection-js/\n\n  The basic usage is:\n    1. Include this script on your web page.\n    2. Call functions on any String object in Javascript\n\n  Currently implemented functions:\n\n    String.pluralize(plural) == String\n      renders a singular English language noun into its plural form\n      normal results can be overridden by passing in an alternative\n\n    String.singularize(singular) == String\n      renders a plural English language noun into its singular form\n      normal results can be overridden by passing in an alterative\n\n    String.camelize(lowFirstLetter) == String\n      renders a lower case underscored word into camel case\n      the first letter of the result will be upper case unless you pass true\n      also translates \"/\" into \"::\" (underscore does the opposite)\n\n    String.underscore() == String\n      renders a camel cased word into words seperated by underscores\n      also translates \"::\" back into \"/\" (camelize does the opposite)\n\n    String.humanize(lowFirstLetter) == String\n      renders a lower case and underscored word into human readable form\n      defaults to making the first letter capitalized unless you pass true\n\n    String.capitalize() == String\n      renders all characters to lower case and then makes the first upper\n\n    String.dasherize() == String\n      renders all underbars and spaces as dashes\n\n    String.titleize() == String\n      renders words into title casing (as for book titles)\n\n    String.demodulize() == String\n      renders class names that are prepended by modules into just the class\n\n    String.tableize() == String\n      renders camel cased singular words into their underscored plural form\n\n    String.classify() == String\n      renders an underscored plural word into its camel cased singular form\n\n    String.foreign_key(dropIdUbar) == String\n      renders a class name (camel cased singular noun) into a foreign key\n      defaults to seperating the class from the id with an underbar unless\n      you pass true\n\n    String.ordinalize() == String\n      renders all numbers found in the string into their sequence like \"22nd\"\n*/\n\n/*\n  This sets up a container for some constants in its own namespace\n  We use the window (if available) to enable dynamic loading of this script\n  Window won't necessarily exist for non-browsers.\n*/\nif (window && !window.InflectionJS)\n{\n    window.InflectionJS = null;\n}\n\n/*\n  This sets up some constants for later use\n  This should use the window namespace variable if available\n*/\nInflectionJS =\n{\n    /*\n      This is a list of nouns that use the same form for both singular and plural.\n      This list should remain entirely in lower case to correctly match Strings.\n    */\n    uncountable_words: [\n        'equipment', 'information', 'rice', 'money', 'species', 'series',\n        'fish', 'sheep', 'moose', 'deer', 'news'\n    ],\n\n    /*\n      These rules translate from the singular form of a noun to its plural form.\n    */\n    plural_rules: [\n        [new RegExp('(m)an$', 'gi'),                 '$1en'],\n        [new RegExp('(pe)rson$', 'gi'),              '$1ople'],\n        [new RegExp('(child)$', 'gi'),               '$1ren'],\n        [new RegExp('^(ox)$', 'gi'),                 '$1en'],\n        [new RegExp('(ax|test)is$', 'gi'),           '$1es'],\n        [new RegExp('(octop|vir)us$', 'gi'),         '$1i'],\n        [new RegExp('(alias|status)$', 'gi'),        '$1es'],\n        [new RegExp('(bu)s$', 'gi'),                 '$1ses'],\n        [new RegExp('(buffal|tomat|potat)o$', 'gi'), '$1oes'],\n        [new RegExp('([ti])um$', 'gi'),              '$1a'],\n        [new RegExp('sis$', 'gi'),                   'ses'],\n        [new RegExp('(?:([^f])fe|([lr])f)$', 'gi'),  '$1$2ves'],\n        [new RegExp('(hive)$', 'gi'),                '$1s'],\n        [new RegExp('([^aeiouy]|qu)y$', 'gi'),       '$1ies'],\n        [new RegExp('(x|ch|ss|sh)$', 'gi'),          '$1es'],\n        [new RegExp('(matr|vert|ind)ix|ex$', 'gi'),  '$1ices'],\n        [new RegExp('([m|l])ouse$', 'gi'),           '$1ice'],\n        [new RegExp('(quiz)$', 'gi'),                '$1zes'],\n        [new RegExp('s$', 'gi'),                     's'],\n        [new RegExp('$', 'gi'),                      's']\n    ],\n\n    /*\n      These rules translate from the plural form of a noun to its singular form.\n    */\n    singular_rules: [\n        [new RegExp('(m)en$', 'gi'),                                                       '$1an'],\n        [new RegExp('(pe)ople$', 'gi'),                                                    '$1rson'],\n        [new RegExp('(child)ren$', 'gi'),                                                  '$1'],\n        [new RegExp('([ti])a$', 'gi'),                                                     '$1um'],\n        [new RegExp('((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$','gi'), '$1$2sis'],\n        [new RegExp('(hive)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(tive)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(curve)s$', 'gi'),                                                    '$1'],\n        [new RegExp('([lr])ves$', 'gi'),                                                   '$1f'],\n        [new RegExp('([^fo])ves$', 'gi'),                                                  '$1fe'],\n        [new RegExp('([^aeiouy]|qu)ies$', 'gi'),                                           '$1y'],\n        [new RegExp('(s)eries$', 'gi'),                                                    '$1eries'],\n        [new RegExp('(m)ovies$', 'gi'),                                                    '$1ovie'],\n        [new RegExp('(x|ch|ss|sh)es$', 'gi'),                                              '$1'],\n        [new RegExp('([m|l])ice$', 'gi'),                                                  '$1ouse'],\n        [new RegExp('(bus)es$', 'gi'),                                                     '$1'],\n        [new RegExp('(o)es$', 'gi'),                                                       '$1'],\n        [new RegExp('(shoe)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(cris|ax|test)es$', 'gi'),                                            '$1is'],\n        [new RegExp('(octop|vir)i$', 'gi'),                                                '$1us'],\n        [new RegExp('(alias|status)es$', 'gi'),                                            '$1'],\n        [new RegExp('^(ox)en', 'gi'),                                                      '$1'],\n        [new RegExp('(vert|ind)ices$', 'gi'),                                              '$1ex'],\n        [new RegExp('(matr)ices$', 'gi'),                                                  '$1ix'],\n        [new RegExp('(quiz)zes$', 'gi'),                                                   '$1'],\n        [new RegExp('s$', 'gi'),                                                           '']\n    ],\n\n    /*\n      This is a list of words that should not be capitalized for title case\n    */\n    non_titlecased_words: [\n        'and', 'or', 'nor', 'a', 'an', 'the', 'so', 'but', 'to', 'of', 'at',\n        'by', 'from', 'into', 'on', 'onto', 'off', 'out', 'in', 'over',\n        'with', 'for'\n    ],\n\n    /*\n      These are regular expressions used for converting between String formats\n    */\n    id_suffix: new RegExp('(_ids|_id)$', 'g'),\n    underbar: new RegExp('_', 'g'),\n    space_or_underbar: new RegExp('[\\ _]', 'g'),\n    uppercase: new RegExp('([A-Z])', 'g'),\n    underbar_prefix: new RegExp('^_'),\n\n    /*\n      This is a helper method that applies rules based replacement to a String\n      Signature:\n        InflectionJS.apply_rules(str, rules, skip, override) == String\n      Arguments:\n        str - String - String to modify and return based on the passed rules\n        rules - Array: [RegExp, String] - Regexp to match paired with String to use for replacement\n        skip - Array: [String] - Strings to skip if they match\n        override - String (optional) - String to return as though this method succeeded (used to conform to APIs)\n      Returns:\n        String - passed String modified by passed rules\n      Examples:\n        InflectionJS.apply_rules(\"cows\", InflectionJs.singular_rules) === 'cow'\n    */\n    apply_rules: function(str, rules, skip, override)\n    {\n        if (override)\n        {\n            str = override;\n        }\n        else\n        {\n            var ignore = (skip.indexOf(str.toLowerCase()) > -1);\n            if (!ignore)\n            {\n                for (var x = 0; x < rules.length; x++)\n                {\n                    if (str.match(rules[x][0]))\n                    {\n                        str = str.replace(rules[x][0], rules[x][1]);\n                        break;\n                    }\n                }\n            }\n        }\n        return str;\n    }\n};\n\n/*\n  This lets us detect if an Array contains a given element\n  Signature:\n    Array.indexOf(item, fromIndex, compareFunc) == Integer\n  Arguments:\n    item - Object - object to locate in the Array\n    fromIndex - Integer (optional) - starts checking from this position in the Array\n    compareFunc - Function (optional) - function used to compare Array item vs passed item\n  Returns:\n    Integer - index position in the Array of the passed item\n  Examples:\n    ['hi','there'].indexOf(\"guys\") === -1\n    ['hi','there'].indexOf(\"hi\") === 0\n*/\nif (!Array.prototype.indexOf)\n{\n    Array.prototype.indexOf = function(item, fromIndex, compareFunc)\n    {\n        if (!fromIndex)\n        {\n            fromIndex = -1;\n        }\n        var index = -1;\n        for (var i = fromIndex; i < this.length; i++)\n        {\n            if (this[i] === item || compareFunc && compareFunc(this[i], item))\n            {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._uncountable_words)\n{\n    String.prototype._uncountable_words = InflectionJS.uncountable_words;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._plural_rules)\n{\n    String.prototype._plural_rules = InflectionJS.plural_rules;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._singular_rules)\n{\n    String.prototype._singular_rules = InflectionJS.singular_rules;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._non_titlecased_words)\n{\n    String.prototype._non_titlecased_words = InflectionJS.non_titlecased_words;\n}\n\n/*\n  This function adds plurilization support to every String object\n    Signature:\n      String.pluralize(plural) == String\n    Arguments:\n      plural - String (optional) - overrides normal output with said String\n    Returns:\n      String - singular English language nouns are returned in plural form\n    Examples:\n      \"person\".pluralize() == \"people\"\n      \"octopus\".pluralize() == \"octopi\"\n      \"Hat\".pluralize() == \"Hats\"\n      \"person\".pluralize(\"guys\") == \"guys\"\n*/\nif (!String.prototype.pluralize)\n{\n    String.prototype.pluralize = function(plural)\n    {\n        return InflectionJS.apply_rules(\n            this,\n            this._plural_rules,\n            this._uncountable_words,\n            plural\n        );\n    };\n}\n\n/*\n  This function adds singularization support to every String object\n    Signature:\n      String.singularize(singular) == String\n    Arguments:\n      singular - String (optional) - overrides normal output with said String\n    Returns:\n      String - plural English language nouns are returned in singular form\n    Examples:\n      \"people\".singularize() == \"person\"\n      \"octopi\".singularize() == \"octopus\"\n      \"Hats\".singularize() == \"Hat\"\n      \"guys\".singularize(\"person\") == \"person\"\n*/\nif (!String.prototype.singularize)\n{\n    String.prototype.singularize = function(singular)\n    {\n        return InflectionJS.apply_rules(\n            this,\n            this._singular_rules,\n            this._uncountable_words,\n            singular\n        );\n    };\n}\n\n/*\n  This function adds camelization support to every String object\n    Signature:\n      String.camelize(lowFirstLetter) == String\n    Arguments:\n      lowFirstLetter - boolean (optional) - default is to capitalize the first\n        letter of the results... passing true will lowercase it\n    Returns:\n      String - lower case underscored words will be returned in camel case\n        additionally '/' is translated to '::'\n    Examples:\n      \"message_properties\".camelize() == \"MessageProperties\"\n      \"message_properties\".camelize(true) == \"messageProperties\"\n*/\nif (!String.prototype.camelize)\n{\n     String.prototype.camelize = function(lowFirstLetter)\n     {\n        var str = this.toLowerCase();\n        var str_path = str.split('/');\n        for (var i = 0; i < str_path.length; i++)\n        {\n            var str_arr = str_path[i].split('_');\n            var initX = ((lowFirstLetter && i + 1 === str_path.length) ? (1) : (0));\n            for (var x = initX; x < str_arr.length; x++)\n            {\n                str_arr[x] = str_arr[x].charAt(0).toUpperCase() + str_arr[x].substring(1);\n            }\n            str_path[i] = str_arr.join('');\n        }\n        str = str_path.join('::');\n        return str;\n    };\n}\n\n/*\n  This function adds underscore support to every String object\n    Signature:\n      String.underscore() == String\n    Arguments:\n      N/A\n    Returns:\n      String - camel cased words are returned as lower cased and underscored\n        additionally '::' is translated to '/'\n    Examples:\n      \"MessageProperties\".camelize() == \"message_properties\"\n      \"messageProperties\".underscore() == \"message_properties\"\n*/\nif (!String.prototype.underscore)\n{\n     String.prototype.underscore = function()\n     {\n        var str = this;\n        var str_path = str.split('::');\n        for (var i = 0; i < str_path.length; i++)\n        {\n            str_path[i] = str_path[i].replace(InflectionJS.uppercase, '_$1');\n            str_path[i] = str_path[i].replace(InflectionJS.underbar_prefix, '');\n        }\n        str = str_path.join('/').toLowerCase();\n        return str;\n    };\n}\n\n/*\n  This function adds humanize support to every String object\n    Signature:\n      String.humanize(lowFirstLetter) == String\n    Arguments:\n      lowFirstLetter - boolean (optional) - default is to capitalize the first\n        letter of the results... passing true will lowercase it\n    Returns:\n      String - lower case underscored words will be returned in humanized form\n    Examples:\n      \"message_properties\".humanize() == \"Message properties\"\n      \"message_properties\".humanize(true) == \"message properties\"\n*/\nif (!String.prototype.humanize)\n{\n    String.prototype.humanize = function(lowFirstLetter)\n    {\n        var str = this.toLowerCase();\n        str = str.replace(InflectionJS.id_suffix, '');\n        str = str.replace(InflectionJS.underbar, ' ');\n        if (!lowFirstLetter)\n        {\n            str = str.capitalize();\n        }\n        return str;\n    };\n}\n\n/*\n  This function adds capitalization support to every String object\n    Signature:\n      String.capitalize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - all characters will be lower case and the first will be upper\n    Examples:\n      \"message_properties\".capitalize() == \"Message_properties\"\n      \"message properties\".capitalize() == \"Message properties\"\n*/\nif (!String.prototype.capitalize)\n{\n    String.prototype.capitalize = function()\n    {\n        var str = this.toLowerCase();\n        str = str.substring(0, 1).toUpperCase() + str.substring(1);\n        return str;\n    };\n}\n\n/*\n  This function adds dasherization support to every String object\n    Signature:\n      String.dasherize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - replaces all spaces or underbars with dashes\n    Examples:\n      \"message_properties\".capitalize() == \"message-properties\"\n      \"Message Properties\".capitalize() == \"Message-Properties\"\n*/\nif (!String.prototype.dasherize)\n{\n    String.prototype.dasherize = function()\n    {\n        var str = this;\n        str = str.replace(InflectionJS.space_or_underbar, '-');\n        return str;\n    };\n}\n\n/*\n  This function adds titleize support to every String object\n    Signature:\n      String.titleize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - capitalizes words as you would for a book title\n    Examples:\n      \"message_properties\".titleize() == \"Message Properties\"\n      \"message properties to keep\".titleize() == \"Message Properties to Keep\"\n*/\nif (!String.prototype.titleize)\n{\n    String.prototype.titleize = function()\n    {\n        var str = this.toLowerCase();\n        str = str.replace(InflectionJS.underbar, ' ');\n        var str_arr = str.split(' ');\n        for (var x = 0; x < str_arr.length; x++)\n        {\n            var d = str_arr[x].split('-');\n            for (var i = 0; i < d.length; i++)\n            {\n                if (this._non_titlecased_words.indexOf(d[i].toLowerCase()) < 0)\n                {\n                    d[i] = d[i].capitalize();\n                }\n            }\n            str_arr[x] = d.join('-');\n        }\n        str = str_arr.join(' ');\n        str = str.substring(0, 1).toUpperCase() + str.substring(1);\n        return str;\n    };\n}\n\n/*\n  This function adds demodulize support to every String object\n    Signature:\n      String.demodulize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - removes module names leaving only class names (Ruby style)\n    Examples:\n      \"Message::Bus::Properties\".demodulize() == \"Properties\"\n*/\nif (!String.prototype.demodulize)\n{\n    String.prototype.demodulize = function()\n    {\n        var str = this;\n        var str_arr = str.split('::');\n        str = str_arr[str_arr.length - 1];\n        return str;\n    };\n}\n\n/*\n  This function adds tableize support to every String object\n    Signature:\n      String.tableize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - renders camel cased words into their underscored plural form\n    Examples:\n      \"MessageBusProperty\".tableize() == \"message_bus_properties\"\n*/\nif (!String.prototype.tableize)\n{\n    String.prototype.tableize = function()\n    {\n        var str = this;\n        str = str.underscore().pluralize();\n        return str;\n    };\n}\n\n/*\n  This function adds classification support to every String object\n    Signature:\n      String.classify() == String\n    Arguments:\n      N/A\n    Returns:\n      String - underscored plural nouns become the camel cased singular form\n    Examples:\n      \"message_bus_properties\".classify() == \"MessageBusProperty\"\n*/\nif (!String.prototype.classify)\n{\n    String.prototype.classify = function()\n    {\n        var str = this;\n        str = str.camelize().singularize();\n        return str;\n    };\n}\n\n/*\n  This function adds foreign key support to every String object\n    Signature:\n      String.foreign_key(dropIdUbar) == String\n    Arguments:\n      dropIdUbar - boolean (optional) - default is to seperate id with an\n        underbar at the end of the class name, you can pass true to skip it\n    Returns:\n      String - camel cased singular class names become underscored with id\n    Examples:\n      \"MessageBusProperty\".foreign_key() == \"message_bus_property_id\"\n      \"MessageBusProperty\".foreign_key(true) == \"message_bus_propertyid\"\n*/\nif (!String.prototype.foreign_key)\n{\n    String.prototype.foreign_key = function(dropIdUbar)\n    {\n        var str = this;\n        str = str.demodulize().underscore() + ((dropIdUbar) ? ('') : ('_')) + 'id';\n        return str;\n    };\n}\n\n/*\n  This function adds ordinalize support to every String object\n    Signature:\n      String.ordinalize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - renders all found numbers their sequence like \"22nd\"\n    Examples:\n      \"the 1 pitch\".ordinalize() == \"the 1st pitch\"\n*/\nif (!String.prototype.ordinalize)\n{\n    String.prototype.ordinalize = function()\n    {\n        var str = this;\n        var str_arr = str.split(' ');\n        for (var x = 0; x < str_arr.length; x++)\n        {\n            var i = parseInt(str_arr[x]);\n            if (i === NaN)\n            {\n                var ltd = str_arr[x].substring(str_arr[x].length - 2);\n                var ld = str_arr[x].substring(str_arr[x].length - 1);\n                var suf = \"th\";\n                if (ltd != \"11\" && ltd != \"12\" && ltd != \"13\")\n                {\n                    if (ld === \"1\")\n                    {\n                        suf = \"st\";\n                    }\n                    else if (ld === \"2\")\n                    {\n                        suf = \"nd\";\n                    }\n                    else if (ld === \"3\")\n                    {\n                        suf = \"rd\";\n                    }\n                }\n                str_arr[x] += suf;\n            }\n        }\n        str = str_arr.join(' ');\n        return str;\n    };\n}","/*! jQuery Timepicker Addon - v1.4.4 - 2014-03-29\n* http://trentrichardson.com/examples/timepicker\n* Copyright (c) 2014 Trent Richardson; Licensed MIT */\n(function ($) {\n\n\t/*\n\t* Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\n\t*/\n\t$.ui.timepicker = $.ui.timepicker || {};\n\tif ($.ui.timepicker.version) {\n\t\treturn;\n\t}\n\n\t/*\n\t* Extend jQueryUI, get it started with our version number\n\t*/\n\t$.extend($.ui, {\n\t\ttimepicker: {\n\t\t\tversion: \"1.4.4\"\n\t\t}\n\t});\n\n\t/*\n\t* Timepicker manager.\n\t* Use the singleton instance of this class, $.timepicker, to interact with the time picker.\n\t* Settings for (groups of) time pickers are maintained in an instance object,\n\t* allowing multiple different settings on the same page.\n\t*/\n\tvar Timepicker = function () {\n\t\tthis.regional = []; // Available regional settings, indexed by language code\n\t\tthis.regional[''] = { // Default regional settings\n\t\t\tcurrentText: 'Now',\n\t\t\tcloseText: 'Done',\n\t\t\tamNames: ['AM', 'A'],\n\t\t\tpmNames: ['PM', 'P'],\n\t\t\ttimeFormat: 'HH:mm',\n\t\t\ttimeSuffix: '',\n\t\t\ttimeOnlyTitle: 'Choose Time',\n\t\t\ttimeText: 'Time',\n\t\t\thourText: 'Hour',\n\t\t\tminuteText: 'Minute',\n\t\t\tsecondText: 'Second',\n\t\t\tmillisecText: 'Millisecond',\n\t\t\tmicrosecText: 'Microsecond',\n\t\t\ttimezoneText: 'Time Zone',\n\t\t\tisRTL: false\n\t\t};\n\t\tthis._defaults = { // Global defaults for all the datetime picker instances\n\t\t\tshowButtonPanel: true,\n\t\t\ttimeOnly: false,\n\t\t\ttimeOnlyShowDate: false,\n\t\t\tshowHour: null,\n\t\t\tshowMinute: null,\n\t\t\tshowSecond: null,\n\t\t\tshowMillisec: null,\n\t\t\tshowMicrosec: null,\n\t\t\tshowTimezone: null,\n\t\t\tshowTime: true,\n\t\t\tstepHour: 1,\n\t\t\tstepMinute: 1,\n\t\t\tstepSecond: 1,\n\t\t\tstepMillisec: 1,\n\t\t\tstepMicrosec: 1,\n\t\t\thour: 0,\n\t\t\tminute: 0,\n\t\t\tsecond: 0,\n\t\t\tmillisec: 0,\n\t\t\tmicrosec: 0,\n\t\t\ttimezone: null,\n\t\t\thourMin: 0,\n\t\t\tminuteMin: 0,\n\t\t\tsecondMin: 0,\n\t\t\tmillisecMin: 0,\n\t\t\tmicrosecMin: 0,\n\t\t\thourMax: 23,\n\t\t\tminuteMax: 59,\n\t\t\tsecondMax: 59,\n\t\t\tmillisecMax: 999,\n\t\t\tmicrosecMax: 999,\n\t\t\tminDateTime: null,\n\t\t\tmaxDateTime: null,\n\t\t\tmaxTime: null,\n\t\t\tminTime: null,\n\t\t\tonSelect: null,\n\t\t\thourGrid: 0,\n\t\t\tminuteGrid: 0,\n\t\t\tsecondGrid: 0,\n\t\t\tmillisecGrid: 0,\n\t\t\tmicrosecGrid: 0,\n\t\t\talwaysSetTime: true,\n\t\t\tseparator: ' ',\n\t\t\taltFieldTimeOnly: true,\n\t\t\taltTimeFormat: null,\n\t\t\taltSeparator: null,\n\t\t\taltTimeSuffix: null,\n\t\t\tpickerTimeFormat: null,\n\t\t\tpickerTimeSuffix: null,\n\t\t\tshowTimepicker: true,\n\t\t\ttimezoneList: null,\n\t\t\taddSliderAccess: false,\n\t\t\tsliderAccessArgs: null,\n\t\t\tcontrolType: 'slider',\n\t\t\tdefaultValue: null,\n\t\t\tparse: 'strict'\n\t\t};\n\t\t$.extend(this._defaults, this.regional['']);\n\t};\n\n\t$.extend(Timepicker.prototype, {\n\t\t$input: null,\n\t\t$altInput: null,\n\t\t$timeObj: null,\n\t\tinst: null,\n\t\thour_slider: null,\n\t\tminute_slider: null,\n\t\tsecond_slider: null,\n\t\tmillisec_slider: null,\n\t\tmicrosec_slider: null,\n\t\ttimezone_select: null,\n\t\tmaxTime: null,\n\t\tminTime: null,\n\t\thour: 0,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t\tmillisec: 0,\n\t\tmicrosec: 0,\n\t\ttimezone: null,\n\t\thourMinOriginal: null,\n\t\tminuteMinOriginal: null,\n\t\tsecondMinOriginal: null,\n\t\tmillisecMinOriginal: null,\n\t\tmicrosecMinOriginal: null,\n\t\thourMaxOriginal: null,\n\t\tminuteMaxOriginal: null,\n\t\tsecondMaxOriginal: null,\n\t\tmillisecMaxOriginal: null,\n\t\tmicrosecMaxOriginal: null,\n\t\tampm: '',\n\t\tformattedDate: '',\n\t\tformattedTime: '',\n\t\tformattedDateTime: '',\n\t\ttimezoneList: null,\n\t\tunits: ['hour', 'minute', 'second', 'millisec', 'microsec'],\n\t\tsupport: {},\n\t\tcontrol: null,\n\n\t\t/*\n\t\t* Override the default settings for all instances of the time picker.\n\t\t* @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\n\t\t* @return {Object} the manager object\n\t\t*/\n\t\tsetDefaults: function (settings) {\n\t\t\textendRemove(this._defaults, settings || {});\n\t\t\treturn this;\n\t\t},\n\n\t\t/*\n\t\t* Create a new Timepicker instance\n\t\t*/\n\t\t_newInst: function ($input, opts) {\n\t\t\tvar tp_inst = new Timepicker(),\n\t\t\t\tinlineSettings = {},\n\t\t\t\tfns = {},\n\t\t\t\toverrides, i;\n\n\t\t\tfor (var attrName in this._defaults) {\n\t\t\t\tif (this._defaults.hasOwnProperty(attrName)) {\n\t\t\t\t\tvar attrValue = $input.attr('time:' + attrName);\n\t\t\t\t\tif (attrValue) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tinlineSettings[attrName] = eval(attrValue);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tinlineSettings[attrName] = attrValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toverrides = {\n\t\t\t\tbeforeShow: function (input, dp_inst) {\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\n\t\t\t\t\t\treturn tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonChangeMonthYear: function (year, month, dp_inst) {\n\t\t\t\t\t// Update the time as well : this prevents the time from disappearing from the $input field.\n\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\n\t\t\t\t\t\ttp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonClose: function (dateText, dp_inst) {\n\t\t\t\t\tif (tp_inst.timeDefined === true && $input.val() !== '') {\n\t\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\n\t\t\t\t\t}\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onClose)) {\n\t\t\t\t\t\ttp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tfor (i in overrides) {\n\t\t\t\tif (overrides.hasOwnProperty(i)) {\n\t\t\t\t\tfns[i] = opts[i] || null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\n\t\t\t\tevnts: fns,\n\t\t\t\ttimepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\n\t\t\t});\n\t\t\ttp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t\t\ttp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\n\t\t\t// detect which units are supported\n\t\t\ttp_inst.support = detectSupport(\n\t\t\t\t\ttp_inst._defaults.timeFormat +\n\t\t\t\t\t(tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') +\n\t\t\t\t\t(tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\n\n\t\t\t// controlType is string - key to our this._controls\n\t\t\tif (typeof(tp_inst._defaults.controlType) === 'string') {\n\t\t\t\tif (tp_inst._defaults.controlType === 'slider' && typeof($.ui.slider) === 'undefined') {\n\t\t\t\t\ttp_inst._defaults.controlType = 'select';\n\t\t\t\t}\n\t\t\t\ttp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\n\t\t\t}\n\t\t\t// controlType is an object and must implement create, options, value methods\n\t\t\telse {\n\t\t\t\ttp_inst.control = tp_inst._defaults.controlType;\n\t\t\t}\n\n\t\t\t// prep the timezone options\n\t\t\tvar timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\n\t\t\t\t\t0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\n\t\t\tif (tp_inst._defaults.timezoneList !== null) {\n\t\t\t\ttimezoneList = tp_inst._defaults.timezoneList;\n\t\t\t}\n\t\t\tvar tzl = timezoneList.length, tzi = 0, tzv = null;\n\t\t\tif (tzl > 0 && typeof timezoneList[0] !== 'object') {\n\t\t\t\tfor (; tzi < tzl; tzi++) {\n\t\t\t\t\ttzv = timezoneList[tzi];\n\t\t\t\t\ttimezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\n\t\t\t\t}\n\t\t\t}\n\t\t\ttp_inst._defaults.timezoneList = timezoneList;\n\n\t\t\t// set the default units\n\t\t\ttp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\n\t\t\t\t\t\t\t((new Date()).getTimezoneOffset() * -1);\n\t\t\ttp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\n\t\t\t\t\t\t\ttp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\n\t\t\ttp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\n\t\t\t\t\t\t\ttp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\n\t\t\ttp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\n\t\t\t\t\t\t\ttp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\n\t\t\ttp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\n\t\t\t\t\t\t\ttp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\n\t\t\ttp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\n\t\t\t\t\t\t\ttp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\n\t\t\ttp_inst.ampm = '';\n\t\t\ttp_inst.$input = $input;\n\n\t\t\tif (tp_inst._defaults.altField) {\n\t\t\t\ttp_inst.$altInput = $(tp_inst._defaults.altField).css({\n\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t}).focus(function () {\n\t\t\t\t\t$input.trigger(\"focus\");\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\n\t\t\t\ttp_inst._defaults.minDate = new Date();\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\n\t\t\t\ttp_inst._defaults.maxDate = new Date();\n\t\t\t}\n\n\t\t\t// datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\n\t\t\tif (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\n\t\t\t\ttp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\n\t\t\t\ttp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\n\t\t\t\ttp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\n\t\t\t\ttp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\n\t\t\t}\n\t\t\ttp_inst.$input.bind('focus', function () {\n\t\t\t\ttp_inst._onFocus();\n\t\t\t});\n\n\t\t\treturn tp_inst;\n\t\t},\n\n\t\t/*\n\t\t* add our sliders to the calendar\n\t\t*/\n\t\t_addTimePicker: function (dp_inst) {\n\t\t\tvar currDT = (this.$altInput && this._defaults.altFieldTimeOnly) ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val();\n\n\t\t\tthis.timeDefined = this._parseTime(currDT);\n\t\t\tthis._limitMinMaxDateTime(dp_inst, false);\n\t\t\tthis._injectTimePicker();\n\t\t},\n\n\t\t/*\n\t\t* parse the time string from input value or _setTime\n\t\t*/\n\t\t_parseTime: function (timeString, withDate) {\n\t\t\tif (!this.inst) {\n\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\n\t\t\t}\n\n\t\t\tif (withDate || !this._defaults.timeOnly) {\n\t\t\t\tvar dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\n\t\t\t\ttry {\n\t\t\t\t\tvar parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\n\t\t\t\t\tif (!parseRes.timeObj) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$.extend(this, parseRes.timeObj);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t$.timepicker.log(\"Error parsing the date/time string: \" + err +\n\t\t\t\t\t\t\t\t\t\"\\ndate/time string = \" + timeString +\n\t\t\t\t\t\t\t\t\t\"\\ntimeFormat = \" + this._defaults.timeFormat +\n\t\t\t\t\t\t\t\t\t\"\\ndateFormat = \" + dp_dateFormat);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tvar timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\n\t\t\t\tif (!timeObj) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$.extend(this, timeObj);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* generate and inject html for timepicker into ui datepicker\n\t\t*/\n\t\t_injectTimePicker: function () {\n\t\t\tvar $dp = this.inst.dpDiv,\n\t\t\t\to = this.inst.settings,\n\t\t\t\ttp_inst = this,\n\t\t\t\tlitem = '',\n\t\t\t\tuitem = '',\n\t\t\t\tshow = null,\n\t\t\t\tmax = {},\n\t\t\t\tgridSize = {},\n\t\t\t\tsize = null,\n\t\t\t\ti = 0,\n\t\t\t\tl = 0;\n\n\t\t\t// Prevent displaying twice\n\t\t\tif ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\n\t\t\t\tvar noDisplay = ' style=\"display:none;\"',\n\t\t\t\t\thtml = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label\"' + ((o.showTime) ? '' : noDisplay) + '>' + o.timeText + '</dt>' +\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_time\"' + ((o.showTime) ? '' : noDisplay) + '></dd>';\n\n\t\t\t\t// Create the markup\n\t\t\t\tfor (i = 0, l = this.units.length; i < l; i++) {\n\t\t\t\t\tlitem = this.units[i];\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n\t\t\t\t\t// Added by Peter Medeiros:\n\t\t\t\t\t// - Figure out what the hour/minute/second max should be based on the step values.\n\t\t\t\t\t// - Example: if stepMinute is 15, then minMax is 45.\n\t\t\t\t\tmax[litem] = parseInt((o[litem + 'Max'] - ((o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem])), 10);\n\t\t\t\t\tgridSize[litem] = 0;\n\n\t\t\t\t\thtml += '<dt class=\"ui_tpicker_' + litem + '_label\"' + (show ? '' : noDisplay) + '>' + o[litem + 'Text'] + '</dt>' +\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_' + litem + '\"><div class=\"ui_tpicker_' + litem + '_slider\"' + (show ? '' : noDisplay) + '></div>';\n\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\n\t\t\t\t\t\thtml += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\n\n\t\t\t\t\t\tif (litem === 'hour') {\n\t\t\t\t\t\t\tfor (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\n\t\t\t\t\t\t\t\tgridSize[litem]++;\n\t\t\t\t\t\t\t\tvar tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', {hour: h}, o);\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tfor (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\n\t\t\t\t\t\t\t\tgridSize[litem]++;\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + ((m < 10) ? '0' : '') + m + '</td>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thtml += '</tr></table></div>';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '</dd>';\n\t\t\t\t}\n\n\t\t\t\t// Timezone\n\t\t\t\tvar showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\n\t\t\t\thtml += '<dt class=\"ui_tpicker_timezone_label\"' + (showTz ? '' : noDisplay) + '>' + o.timezoneText + '</dt>';\n\t\t\t\thtml += '<dd class=\"ui_tpicker_timezone\" ' + (showTz ? '' : noDisplay) + '></dd>';\n\n\t\t\t\t// Create the elements from string\n\t\t\t\thtml += '</dl></div>';\n\t\t\t\tvar $tp = $(html);\n\n\t\t\t\t// if we only want time picker...\n\t\t\t\tif (o.timeOnly === true) {\n\t\t\t\t\t$tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\n\t\t\t\t\t$dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\n\t\t\t\t}\n\n\t\t\t\t// add sliders, adjust grids, add events\n\t\t\t\tfor (i = 0, l = tp_inst.units.length; i < l; i++) {\n\t\t\t\t\tlitem = tp_inst.units[i];\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n\t\t\t\t\t// add the slider\n\t\t\t\t\ttp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\n\n\t\t\t\t\t// adjust the grid and add click event\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\n\t\t\t\t\t\tsize = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\n\t\t\t\t\t\t$tp.find('.ui_tpicker_' + litem + ' table').css({\n\t\t\t\t\t\t\twidth: size + \"%\",\n\t\t\t\t\t\t\tmarginLeft: o.isRTL ? '0' : ((size / (-2 * gridSize[litem])) + \"%\"),\n\t\t\t\t\t\t\tmarginRight: o.isRTL ? ((size / (-2 * gridSize[litem])) + \"%\") : '0',\n\t\t\t\t\t\t\tborderCollapse: 'collapse'\n\t\t\t\t\t\t}).find(\"td\").click(function (e) {\n\t\t\t\t\t\t\t\tvar $t = $(this),\n\t\t\t\t\t\t\t\t\th = $t.html(),\n\t\t\t\t\t\t\t\t\tn = parseInt(h.replace(/[^0-9]/g), 10),\n\t\t\t\t\t\t\t\t\tap = h.replace(/[^apm]/ig),\n\t\t\t\t\t\t\t\t\tf = $t.data('for'); // loses scope, so we use data-for\n\n\t\t\t\t\t\t\t\tif (f === 'hour') {\n\t\t\t\t\t\t\t\t\tif (ap.indexOf('p') !== -1 && n < 12) {\n\t\t\t\t\t\t\t\t\t\tn += 12;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif (ap.indexOf('a') !== -1 && n === 12) {\n\t\t\t\t\t\t\t\t\t\t\tn = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\n\n\t\t\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t\t\t}).css({\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\twidth: (100 / gridSize[litem]) + '%',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} // end if grid > 0\n\t\t\t\t} // end for loop\n\n\t\t\t\t// Add timezone options\n\t\t\t\tthis.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\n\t\t\t\t$.fn.append.apply(this.timezone_select,\n\t\t\t\t$.map(o.timezoneList, function (val, idx) {\n\t\t\t\t\treturn $(\"<option />\").val(typeof val === \"object\" ? val.value : val).text(typeof val === \"object\" ? val.label : val);\n\t\t\t\t}));\n\t\t\t\tif (typeof(this.timezone) !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\n\t\t\t\t\tvar local_timezone = (new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12)).getTimezoneOffset() * -1;\n\t\t\t\t\tif (local_timezone === this.timezone) {\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.timezone_select.val(this.timezone);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof(this.hour) !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\n\t\t\t\t\t\tthis.timezone_select.val(o.timezone);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.timezone_select.change(function () {\n\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t});\n\t\t\t\t// End timezone options\n\n\t\t\t\t// inject timepicker into datepicker\n\t\t\t\tvar $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\n\t\t\t\tif ($buttonPanel.length) {\n\t\t\t\t\t$buttonPanel.before($tp);\n\t\t\t\t} else {\n\t\t\t\t\t$dp.append($tp);\n\t\t\t\t}\n\n\t\t\t\tthis.$timeObj = $tp.find('.ui_tpicker_time');\n\n\t\t\t\tif (this.inst !== null) {\n\t\t\t\t\tvar timeDefined = this.timeDefined;\n\t\t\t\t\tthis._onTimeChange();\n\t\t\t\t\tthis.timeDefined = timeDefined;\n\t\t\t\t}\n\n\t\t\t\t// slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\n\t\t\t\tif (this._defaults.addSliderAccess) {\n\t\t\t\t\tvar sliderAccessArgs = this._defaults.sliderAccessArgs,\n\t\t\t\t\t\trtl = this._defaults.isRTL;\n\t\t\t\t\tsliderAccessArgs.isRTL = rtl;\n\n\t\t\t\t\tsetTimeout(function () { // fix for inline mode\n\t\t\t\t\t\tif ($tp.find('.ui-slider-access').length === 0) {\n\t\t\t\t\t\t\t$tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\n\n\t\t\t\t\t\t\t// fix any grids since sliders are shorter\n\t\t\t\t\t\t\tvar sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\n\t\t\t\t\t\t\tif (sliderAccessWidth) {\n\t\t\t\t\t\t\t\t$tp.find('table:visible').each(function () {\n\t\t\t\t\t\t\t\t\tvar $g = $(this),\n\t\t\t\t\t\t\t\t\t\toldWidth = $g.outerWidth(),\n\t\t\t\t\t\t\t\t\t\toldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\n\t\t\t\t\t\t\t\t\t\tnewWidth = oldWidth - sliderAccessWidth,\n\t\t\t\t\t\t\t\t\t\tnewMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%',\n\t\t\t\t\t\t\t\t\t\tcss = { width: newWidth, marginRight: 0, marginLeft: 0 };\n\t\t\t\t\t\t\t\t\tcss[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\n\t\t\t\t\t\t\t\t\t$g.css(css);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\t// end slideAccess integration\n\n\t\t\t\ttp_inst._limitMinMaxDateTime(this.inst, true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* This function tries to limit the ability to go outside the\n\t\t* min/max date range\n\t\t*/\n\t\t_limitMinMaxDateTime: function (dp_inst, adjustSliders) {\n\t\t\tvar o = this._defaults,\n\t\t\t\tdp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\n\n\t\t\tif (!this._defaults.showTimepicker) {\n\t\t\t\treturn;\n\t\t\t} // No time so nothing to check here\n\n\t\t\tif ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\n\t\t\t\tvar minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\n\t\t\t\t\tminDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\n\n\t\t\t\tif (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\n\t\t\t\t\tthis.hourMinOriginal = o.hourMin;\n\t\t\t\t\tthis.minuteMinOriginal = o.minuteMin;\n\t\t\t\t\tthis.secondMinOriginal = o.secondMin;\n\t\t\t\t\tthis.millisecMinOriginal = o.millisecMin;\n\t\t\t\t\tthis.microsecMinOriginal = o.microsecMin;\n\t\t\t\t}\n\n\t\t\t\tif (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\n\t\t\t\t\tthis._defaults.hourMin = minDateTime.getHours();\n\t\t\t\t\tif (this.hour <= this._defaults.hourMin) {\n\t\t\t\t\t\tthis.hour = this._defaults.hourMin;\n\t\t\t\t\t\tthis._defaults.minuteMin = minDateTime.getMinutes();\n\t\t\t\t\t\tif (this.minute <= this._defaults.minuteMin) {\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMin;\n\t\t\t\t\t\t\tthis._defaults.secondMin = minDateTime.getSeconds();\n\t\t\t\t\t\t\tif (this.second <= this._defaults.secondMin) {\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMin;\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = minDateTime.getMilliseconds();\n\t\t\t\t\t\t\t\tif (this.millisec <= this._defaults.millisecMin) {\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMin;\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = minDateTime.getMicroseconds();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (this.microsec < this._defaults.microsecMin) {\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMin;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\n\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._defaults.hourMin = this.hourMinOriginal;\n\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\n\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\n\t\t\t\tvar maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\n\t\t\t\t\tmaxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\n\n\t\t\t\tif (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\n\t\t\t\t\tthis.hourMaxOriginal = o.hourMax;\n\t\t\t\t\tthis.minuteMaxOriginal = o.minuteMax;\n\t\t\t\t\tthis.secondMaxOriginal = o.secondMax;\n\t\t\t\t\tthis.millisecMaxOriginal = o.millisecMax;\n\t\t\t\t\tthis.microsecMaxOriginal = o.microsecMax;\n\t\t\t\t}\n\n\t\t\t\tif (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\n\t\t\t\t\tthis._defaults.hourMax = maxDateTime.getHours();\n\t\t\t\t\tif (this.hour >= this._defaults.hourMax) {\n\t\t\t\t\t\tthis.hour = this._defaults.hourMax;\n\t\t\t\t\t\tthis._defaults.minuteMax = maxDateTime.getMinutes();\n\t\t\t\t\t\tif (this.minute >= this._defaults.minuteMax) {\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMax;\n\t\t\t\t\t\t\tthis._defaults.secondMax = maxDateTime.getSeconds();\n\t\t\t\t\t\t\tif (this.second >= this._defaults.secondMax) {\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMax;\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = maxDateTime.getMilliseconds();\n\t\t\t\t\t\t\t\tif (this.millisec >= this._defaults.millisecMax) {\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMax;\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = maxDateTime.getMicroseconds();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (this.microsec > this._defaults.microsecMax) {\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMax;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\n\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._defaults.hourMax = this.hourMaxOriginal;\n\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\n\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dp_inst.settings.minTime!==null) {\n\t\t\t\tvar tempMinTime=new Date(\"01/01/1970 \" + dp_inst.settings.minTime);\n\t\t\t\tif (this.hour<tempMinTime.getHours()) {\n\t\t\t\t\tthis.hour=this._defaults.hourMin=tempMinTime.getHours();\n\t\t\t\t\tthis.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t} else if (this.hour===tempMinTime.getHours() && this.minute<tempMinTime.getMinutes()) {\n\t\t\t\t\tthis.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t} else {\n\t\t\t\t\tif (this._defaults.hourMin<tempMinTime.getHours()) {\n\t\t\t\t\t\tthis._defaults.hourMin=tempMinTime.getHours();\n\t\t\t\t\t\tthis._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t\t} else if (this._defaults.hourMin===tempMinTime.getHours()===this.hour && this._defaults.minuteMin<tempMinTime.getMinutes()) {\n\t\t\t\t\t\tthis._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMin=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dp_inst.settings.maxTime!==null) {\n\t\t\t\tvar tempMaxTime=new Date(\"01/01/1970 \" + dp_inst.settings.maxTime);\n\t\t\t\tif (this.hour>tempMaxTime.getHours()) {\n\t\t\t\t\tthis.hour=this._defaults.hourMax=tempMaxTime.getHours();\n\t\t\t\t\tthis.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t} else if (this.hour===tempMaxTime.getHours() && this.minute>tempMaxTime.getMinutes()) {\n\t\t\t\t\tthis.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t} else {\n\t\t\t\t\tif (this._defaults.hourMax>tempMaxTime.getHours()) {\n\t\t\t\t\t\tthis._defaults.hourMax=tempMaxTime.getHours();\n\t\t\t\t\t\tthis._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t\t} else if (this._defaults.hourMax===tempMaxTime.getHours()===this.hour && this._defaults.minuteMax>tempMaxTime.getMinutes()) {\n\t\t\t\t\t\tthis._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMax=59;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (adjustSliders !== undefined && adjustSliders === true) {\n\t\t\t\tvar hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),\n\t\t\t\t\tminMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),\n\t\t\t\t\tsecMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),\n\t\t\t\t\tmillisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10),\n\t\t\t\t\tmicrosecMax = parseInt((this._defaults.microsecMax - ((this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec)), 10);\n\n\t\t\t\tif (this.hour_slider) {\n\t\t\t\t\tthis.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax, step: this._defaults.stepHour });\n\t\t\t\t\tthis.control.value(this, this.hour_slider, 'hour', this.hour - (this.hour % this._defaults.stepHour));\n\t\t\t\t}\n\t\t\t\tif (this.minute_slider) {\n\t\t\t\t\tthis.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax, step: this._defaults.stepMinute });\n\t\t\t\t\tthis.control.value(this, this.minute_slider, 'minute', this.minute - (this.minute % this._defaults.stepMinute));\n\t\t\t\t}\n\t\t\t\tif (this.second_slider) {\n\t\t\t\t\tthis.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax, step: this._defaults.stepSecond });\n\t\t\t\t\tthis.control.value(this, this.second_slider, 'second', this.second - (this.second % this._defaults.stepSecond));\n\t\t\t\t}\n\t\t\t\tif (this.millisec_slider) {\n\t\t\t\t\tthis.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax, step: this._defaults.stepMillisec });\n\t\t\t\t\tthis.control.value(this, this.millisec_slider, 'millisec', this.millisec - (this.millisec % this._defaults.stepMillisec));\n\t\t\t\t}\n\t\t\t\tif (this.microsec_slider) {\n\t\t\t\t\tthis.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax, step: this._defaults.stepMicrosec });\n\t\t\t\t\tthis.control.value(this, this.microsec_slider, 'microsec', this.microsec - (this.microsec % this._defaults.stepMicrosec));\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t* when a slider moves, set the internal time...\n\t\t* on time change is also called when the time is updated in the text field\n\t\t*/\n\t\t_onTimeChange: function () {\n\t\t\tif (!this._defaults.showTimepicker) {\n                                return;\n\t\t\t}\n\t\t\tvar hour = (this.hour_slider) ? this.control.value(this, this.hour_slider, 'hour') : false,\n\t\t\t\tminute = (this.minute_slider) ? this.control.value(this, this.minute_slider, 'minute') : false,\n\t\t\t\tsecond = (this.second_slider) ? this.control.value(this, this.second_slider, 'second') : false,\n\t\t\t\tmillisec = (this.millisec_slider) ? this.control.value(this, this.millisec_slider, 'millisec') : false,\n\t\t\t\tmicrosec = (this.microsec_slider) ? this.control.value(this, this.microsec_slider, 'microsec') : false,\n\t\t\t\ttimezone = (this.timezone_select) ? this.timezone_select.val() : false,\n\t\t\t\to = this._defaults,\n\t\t\t\tpickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\n\t\t\t\tpickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\n\n\t\t\tif (typeof(hour) === 'object') {\n\t\t\t\thour = false;\n\t\t\t}\n\t\t\tif (typeof(minute) === 'object') {\n\t\t\t\tminute = false;\n\t\t\t}\n\t\t\tif (typeof(second) === 'object') {\n\t\t\t\tsecond = false;\n\t\t\t}\n\t\t\tif (typeof(millisec) === 'object') {\n\t\t\t\tmillisec = false;\n\t\t\t}\n\t\t\tif (typeof(microsec) === 'object') {\n\t\t\t\tmicrosec = false;\n\t\t\t}\n\t\t\tif (typeof(timezone) === 'object') {\n\t\t\t\ttimezone = false;\n\t\t\t}\n\n\t\t\tif (hour !== false) {\n\t\t\t\thour = parseInt(hour, 10);\n\t\t\t}\n\t\t\tif (minute !== false) {\n\t\t\t\tminute = parseInt(minute, 10);\n\t\t\t}\n\t\t\tif (second !== false) {\n\t\t\t\tsecond = parseInt(second, 10);\n\t\t\t}\n\t\t\tif (millisec !== false) {\n\t\t\t\tmillisec = parseInt(millisec, 10);\n\t\t\t}\n\t\t\tif (microsec !== false) {\n\t\t\t\tmicrosec = parseInt(microsec, 10);\n\t\t\t}\n\t\t\tif (timezone !== false) {\n\t\t\t\ttimezone = timezone.toString();\n\t\t\t}\n\n\t\t\tvar ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\n\n\t\t\t// If the update was done in the input field, the input field should not be updated.\n\t\t\t// If the update was done using the sliders, update the input field.\n\t\t\tvar hasChanged = (\n\t\t\t\t\t\thour !== parseInt(this.hour,10) || // sliders should all be numeric\n\t\t\t\t\t\tminute !== parseInt(this.minute,10) ||\n\t\t\t\t\t\tsecond !== parseInt(this.second,10) ||\n\t\t\t\t\t\tmillisec !== parseInt(this.millisec,10) ||\n\t\t\t\t\t\tmicrosec !== parseInt(this.microsec,10) ||\n\t\t\t\t\t\t(this.ampm.length > 0 && (hour < 12) !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) ||\n\t\t\t\t\t\t(this.timezone !== null && timezone !== this.timezone.toString()) // could be numeric or \"EST\" format, so use toString()\n\t\t\t\t\t);\n\n\t\t\tif (hasChanged) {\n\n\t\t\t\tif (hour !== false) {\n\t\t\t\t\tthis.hour = hour;\n\t\t\t\t}\n\t\t\t\tif (minute !== false) {\n\t\t\t\t\tthis.minute = minute;\n\t\t\t\t}\n\t\t\t\tif (second !== false) {\n\t\t\t\t\tthis.second = second;\n\t\t\t\t}\n\t\t\t\tif (millisec !== false) {\n\t\t\t\t\tthis.millisec = millisec;\n\t\t\t\t}\n\t\t\t\tif (microsec !== false) {\n\t\t\t\t\tthis.microsec = microsec;\n\t\t\t\t}\n\t\t\t\tif (timezone !== false) {\n\t\t\t\t\tthis.timezone = timezone;\n\t\t\t\t}\n\n\t\t\t\tif (!this.inst) {\n\t\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\n\t\t\t\t}\n\n\t\t\t\tthis._limitMinMaxDateTime(this.inst, true);\n\t\t\t}\n\t\t\tif (this.support.ampm) {\n\t\t\t\tthis.ampm = ampm;\n\t\t\t}\n\n\t\t\t// Updates the time within the timepicker\n\t\t\tthis.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\n\t\t\tif (this.$timeObj) {\n\t\t\t\tif (pickerTimeFormat === o.timeFormat) {\n\t\t\t\t\tthis.$timeObj.text(this.formattedTime + pickerTimeSuffix);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.$timeObj.text($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.timeDefined = true;\n\t\t\tif (hasChanged) {\n\t\t\t\tthis._updateDateTime();\n\t\t\t\t//this.$input.focus(); // may automatically open the picker on setDate\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* call custom onSelect.\n\t\t* bind to sliders slidestop, and grid click.\n\t\t*/\n\t\t_onSelectHandler: function () {\n\t\t\tvar onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\n\t\t\tvar inputEl = this.$input ? this.$input[0] : null;\n\t\t\tif (onSelect && inputEl) {\n\t\t\t\tonSelect.apply(inputEl, [this.formattedDateTime, this]);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* update our input with the new date time..\n\t\t*/\n\t\t_updateDateTime: function (dp_inst) {\n\t\t\tdp_inst = this.inst || dp_inst;\n\t\t\tvar dtTmp = (dp_inst.currentYear > 0?\n\t\t\t\t\t\t\tnew Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) :\n\t\t\t\t\t\t\tnew Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n\t\t\t\tdt = $.datepicker._daylightSavingAdjust(dtTmp),\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\n\t\t\t\tdateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\n\t\t\t\tformatCfg = $.datepicker._getFormatConfig(dp_inst),\n\t\t\t\ttimeAvailable = dt !== null && this.timeDefined;\n\t\t\tthis.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);\n\t\t\tvar formattedDateTime = this.formattedDate;\n\n\t\t\t// if a slider was changed but datepicker doesn't have a value yet, set it\n\t\t\tif (dp_inst.lastVal === \"\") {\n                dp_inst.currentYear = dp_inst.selectedYear;\n                dp_inst.currentMonth = dp_inst.selectedMonth;\n                dp_inst.currentDay = dp_inst.selectedDay;\n            }\n\n\t\t\t/*\n\t\t\t* remove following lines to force every changes in date picker to change the input value\n\t\t\t* Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker.\n\t\t\t* If the user manually empty the value in the input field, the date picker will never change selected value.\n\t\t\t*/\n\t\t\t//if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\n\t\t\t//\treturn;\n\t\t\t//}\n\n\t\t\tif (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === false) {\n\t\t\t\tformattedDateTime = this.formattedTime;\n\t\t\t} else if ((this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) || (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === true)) {\n\t\t\t\tformattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\n\t\t\t}\n\n\t\t\tthis.formattedDateTime = formattedDateTime;\n\n\t\t\tif (!this._defaults.showTimepicker) {\n\t\t\t\tthis.$input.val(this.formattedDate);\n\t\t\t} else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\n\t\t\t\tthis.$altInput.val(this.formattedTime);\n\t\t\t\tthis.$input.val(this.formattedDate);\n\t\t\t} else if (this.$altInput) {\n\t\t\t\tthis.$input.val(formattedDateTime);\n\t\t\t\tvar altFormattedDateTime = '',\n\t\t\t\t\taltSeparator = this._defaults.altSeparator ? this._defaults.altSeparator : this._defaults.separator,\n\t\t\t\t\taltTimeSuffix = this._defaults.altTimeSuffix ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\n\n\t\t\t\tif (!this._defaults.timeOnly) {\n\t\t\t\t\tif (this._defaults.altFormat) {\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, (dt === null ? new Date() : dt), formatCfg);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\taltFormattedDateTime = this.formattedDate;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (altFormattedDateTime) {\n\t\t\t\t\t\taltFormattedDateTime += altSeparator;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._defaults.altTimeFormat) {\n\t\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\taltFormattedDateTime += this.formattedTime + altTimeSuffix;\n\t\t\t\t}\n\t\t\t\tthis.$altInput.val(altFormattedDateTime);\n\t\t\t} else {\n\t\t\t\tthis.$input.val(formattedDateTime);\n\t\t\t}\n\n\t\t\tthis.$input.trigger(\"change\");\n\t\t},\n\n\t\t_onFocus: function () {\n\t\t\tif (!this.$input.val() && this._defaults.defaultValue) {\n\t\t\t\tthis.$input.val(this._defaults.defaultValue);\n\t\t\t\tvar inst = $.datepicker._getInst(this.$input.get(0)),\n\t\t\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\t\t\t\tif (tp_inst) {\n\t\t\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$.datepicker._updateDatepicker(inst);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t$.timepicker.log(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* Small abstraction to control types\n\t\t* We can add more, just be sure to follow the pattern: create, options, value\n\t\t*/\n\t\t_controls: {\n\t\t\t// slider methods\n\t\t\tslider: {\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\n\t\t\t\t\tvar rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\n\t\t\t\t\treturn obj.prop('slide', null).slider({\n\t\t\t\t\t\torientation: \"horizontal\",\n\t\t\t\t\t\tvalue: rtl ? val * -1 : val,\n\t\t\t\t\t\tmin: rtl ? max * -1 : min,\n\t\t\t\t\t\tmax: rtl ? min * -1 : max,\n\t\t\t\t\t\tstep: step,\n\t\t\t\t\t\tslide: function (event, ui) {\n\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\n\t\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function (event, ui) {\n\t\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\n\t\t\t\t\t\tif (typeof(opts) === 'string') {\n\t\t\t\t\t\t\tif (opts === 'min' || opts === 'max') {\n\t\t\t\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\t\t\t\treturn obj.slider(opts, val * -1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn Math.abs(obj.slider(opts));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar min = opts.min,\n\t\t\t\t\t\t\tmax = opts.max;\n\t\t\t\t\t\topts.min = opts.max = null;\n\t\t\t\t\t\tif (min !== undefined) {\n\t\t\t\t\t\t\topts.max = min * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (max !== undefined) {\n\t\t\t\t\t\t\topts.min = max * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof(opts) === 'string' && val !== undefined) {\n\t\t\t\t\t\treturn obj.slider(opts, val);\n\t\t\t\t\t}\n\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t},\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\n\t\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\t\treturn obj.slider('value', val * -1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Math.abs(obj.slider('value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\treturn obj.slider('value', val);\n\t\t\t\t\t}\n\t\t\t\t\treturn obj.slider('value');\n\t\t\t\t}\n\t\t\t},\n\t\t\t// select methods\n\t\t\tselect: {\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\n\t\t\t\t\tvar sel = '<select class=\"ui-timepicker-select\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\n\t\t\t\t\t\tformat = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\n\n\t\t\t\t\tfor (var i = min; i <= max; i += step) {\n\t\t\t\t\t\tsel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\n\t\t\t\t\t\tif (unit === 'hour') {\n\t\t\t\t\t\t\tsel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), {hour: i}, tp_inst._defaults);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (unit === 'millisec' || unit === 'microsec' || i >= 10) { sel += i; }\n\t\t\t\t\t\telse {sel += '0' + i.toString(); }\n\t\t\t\t\t\tsel += '</option>';\n\t\t\t\t\t}\n\t\t\t\t\tsel += '</select>';\n\n\t\t\t\t\tobj.children('select').remove();\n\n\t\t\t\t\t$(sel).appendTo(obj).change(function (e) {\n\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\n\t\t\t\t\tvar o = {},\n\t\t\t\t\t\t$t = obj.children('select');\n\t\t\t\t\tif (typeof(opts) === 'string') {\n\t\t\t\t\t\tif (val === undefined) {\n\t\t\t\t\t\t\treturn $t.data(opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\to[opts] = val;\n\t\t\t\t\t}\n\t\t\t\t\telse { o = opts; }\n\t\t\t\t\treturn tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min || $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\n\t\t\t\t},\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\n\t\t\t\t\tvar $t = obj.children('select');\n\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\treturn $t.val(val);\n\t\t\t\t\t}\n\t\t\t\t\treturn $t.val();\n\t\t\t\t}\n\t\t\t}\n\t\t} // end _controls\n\n\t});\n\n\t$.fn.extend({\n\t\t/*\n\t\t* shorthand just to use timepicker.\n\t\t*/\n\t\ttimepicker: function (o) {\n\t\t\to = o || {};\n\t\t\tvar tmp_args = Array.prototype.slice.call(arguments);\n\n\t\t\tif (typeof o === 'object') {\n\t\t\t\ttmp_args[0] = $.extend(o, {\n\t\t\t\t\ttimeOnly: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn $(this).each(function () {\n\t\t\t\t$.fn.datetimepicker.apply($(this), tmp_args);\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t* extend timepicker to datepicker\n\t\t*/\n\t\tdatetimepicker: function (o) {\n\t\t\to = o || {};\n\t\t\tvar tmp_args = arguments;\n\n\t\t\tif (typeof(o) === 'string') {\n\t\t\t\tif (o === 'getDate') {\n\t\t\t\t\treturn $.fn.datepicker.apply($(this[0]), tmp_args);\n\t\t\t\t} else {\n\t\t\t\t\treturn this.each(function () {\n\t\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t\t$t.datepicker.apply($t, tmp_args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this.each(function () {\n\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t$t.datepicker($.timepicker._newInst($t, o)._defaults);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t/*\n\t* Public Utility to parse date and time\n\t*/\n\t$.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n\t\tvar parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\n\t\tif (parseRes.timeObj) {\n\t\t\tvar t = parseRes.timeObj;\n\t\t\tparseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\n\t\t\tparseRes.date.setMicroseconds(t.microsec);\n\t\t}\n\n\t\treturn parseRes.date;\n\t};\n\n\t/*\n\t* Public utility to parse time\n\t*/\n\t$.datepicker.parseTime = function (timeFormat, timeString, options) {\n\t\tvar o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\n\t\t\tiso8601 = (timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1);\n\n\t\t// Strict parse requires the timeString to match the timeFormat exactly\n\t\tvar strictParse = function (f, s, o) {\n\n\t\t\t// pattern for standard and localized AM/PM markers\n\t\t\tvar getPatternAmpm = function (amNames, pmNames) {\n\t\t\t\tvar markers = [];\n\t\t\t\tif (amNames) {\n\t\t\t\t\t$.merge(markers, amNames);\n\t\t\t\t}\n\t\t\t\tif (pmNames) {\n\t\t\t\t\t$.merge(markers, pmNames);\n\t\t\t\t}\n\t\t\t\tmarkers = $.map(markers, function (val) {\n\t\t\t\t\treturn val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\n\t\t\t\t});\n\t\t\t\treturn '(' + markers.join('|') + ')?';\n\t\t\t};\n\n\t\t\t// figure out position of time elements.. cause js cant do named captures\n\t\t\tvar getFormatPositions = function (timeFormat) {\n\t\t\t\tvar finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\n\t\t\t\t\torders = {\n\t\t\t\t\t\th: -1,\n\t\t\t\t\t\tm: -1,\n\t\t\t\t\t\ts: -1,\n\t\t\t\t\t\tl: -1,\n\t\t\t\t\t\tc: -1,\n\t\t\t\t\t\tt: -1,\n\t\t\t\t\t\tz: -1\n\t\t\t\t\t};\n\n\t\t\t\tif (finds) {\n\t\t\t\t\tfor (var i = 0; i < finds.length; i++) {\n\t\t\t\t\t\tif (orders[finds[i].toString().charAt(0)] === -1) {\n\t\t\t\t\t\t\torders[finds[i].toString().charAt(0)] = i + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn orders;\n\t\t\t};\n\n\t\t\tvar regstr = '^' + f.toString()\n\t\t\t\t\t.replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n\t\t\t\t\t\t\tvar ml = match.length;\n\t\t\t\t\t\t\tswitch (match.charAt(0).toLowerCase()) {\n\t\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\n\t\t\t\t\t\t\tcase 'z':\n\t\t\t\t\t\t\t\treturn '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\n\t\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\t\treturn getPatternAmpm(o.amNames, o.pmNames);\n\t\t\t\t\t\t\tdefault:    // literal escaped in quotes\n\t\t\t\t\t\t\t\treturn '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) { return \"\\\\\" + m; }) + ')?';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t.replace(/\\s/g, '\\\\s?') +\n\t\t\t\t\to.timeSuffix + '$',\n\t\t\t\torder = getFormatPositions(f),\n\t\t\t\tampm = '',\n\t\t\t\ttreg;\n\n\t\t\ttreg = s.match(new RegExp(regstr, 'i'));\n\n\t\t\tvar resTime = {\n\t\t\t\thour: 0,\n\t\t\t\tminute: 0,\n\t\t\t\tsecond: 0,\n\t\t\t\tmillisec: 0,\n\t\t\t\tmicrosec: 0\n\t\t\t};\n\n\t\t\tif (treg) {\n\t\t\t\tif (order.t !== -1) {\n\t\t\t\t\tif (treg[order.t] === undefined || treg[order.t].length === 0) {\n\t\t\t\t\t\tampm = '';\n\t\t\t\t\t\tresTime.ampm = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tampm = $.inArray(treg[order.t].toUpperCase(), o.amNames) !== -1 ? 'AM' : 'PM';\n\t\t\t\t\t\tresTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (order.h !== -1) {\n\t\t\t\t\tif (ampm === 'AM' && treg[order.h] === '12') {\n\t\t\t\t\t\tresTime.hour = 0; // 12am = 0 hour\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (ampm === 'PM' && treg[order.h] !== '12') {\n\t\t\t\t\t\t\tresTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresTime.hour = Number(treg[order.h]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (order.m !== -1) {\n\t\t\t\t\tresTime.minute = Number(treg[order.m]);\n\t\t\t\t}\n\t\t\t\tif (order.s !== -1) {\n\t\t\t\t\tresTime.second = Number(treg[order.s]);\n\t\t\t\t}\n\t\t\t\tif (order.l !== -1) {\n\t\t\t\t\tresTime.millisec = Number(treg[order.l]);\n\t\t\t\t}\n\t\t\t\tif (order.c !== -1) {\n\t\t\t\t\tresTime.microsec = Number(treg[order.c]);\n\t\t\t\t}\n\t\t\t\tif (order.z !== -1 && treg[order.z] !== undefined) {\n\t\t\t\t\tresTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\n\t\t\t\t}\n\n\n\t\t\t\treturn resTime;\n\t\t\t}\n\t\t\treturn false;\n\t\t};// end strictParse\n\n\t\t// First try JS Date, if that fails, use strictParse\n\t\tvar looseParse = function (f, s, o) {\n\t\t\ttry {\n\t\t\t\tvar d = new Date('2012-01-01 ' + s);\n\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\td = new Date('2012-01-01T' + s);\n\t\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\t\td = new Date('01/01/2012 ' + s);\n\t\t\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\t\t\tthrow \"Unable to parse time with native Date: \" + s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\thour: d.getHours(),\n\t\t\t\t\tminute: d.getMinutes(),\n\t\t\t\t\tsecond: d.getSeconds(),\n\t\t\t\t\tmillisec: d.getMilliseconds(),\n\t\t\t\t\tmicrosec: d.getMicroseconds(),\n\t\t\t\t\ttimezone: d.getTimezoneOffset() * -1\n\t\t\t\t};\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\ttry {\n\t\t\t\t\treturn strictParse(f, s, o);\n\t\t\t\t}\n\t\t\t\tcatch (err2) {\n\t\t\t\t\t$.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}; // end looseParse\n\n\t\tif (typeof o.parse === \"function\") {\n\t\t\treturn o.parse(timeFormat, timeString, o);\n\t\t}\n\t\tif (o.parse === 'loose') {\n\t\t\treturn looseParse(timeFormat, timeString, o);\n\t\t}\n\t\treturn strictParse(timeFormat, timeString, o);\n\t};\n\n\t/**\n\t * Public utility to format the time\n\t * @param {string} format format of the time\n\t * @param {Object} time Object not a Date for timezones\n\t * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\n\t * @returns {string} the formatted time\n\t */\n\t$.datepicker.formatTime = function (format, time, options) {\n\t\toptions = options || {};\n\t\toptions = $.extend({}, $.timepicker._defaults, options);\n\t\ttime = $.extend({\n\t\t\thour: 0,\n\t\t\tminute: 0,\n\t\t\tsecond: 0,\n\t\t\tmillisec: 0,\n\t\t\tmicrosec: 0,\n\t\t\ttimezone: null\n\t\t}, time);\n\n\t\tvar tmptime = format,\n\t\t\tampmName = options.amNames[0],\n\t\t\thour = parseInt(time.hour, 10);\n\n\t\tif (hour > 11) {\n\t\t\tampmName = options.pmNames[0];\n\t\t}\n\n\t\ttmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n\t\t\tswitch (match) {\n\t\t\tcase 'HH':\n\t\t\t\treturn ('0' + hour).slice(-2);\n\t\t\tcase 'H':\n\t\t\t\treturn hour;\n\t\t\tcase 'hh':\n\t\t\t\treturn ('0' + convert24to12(hour)).slice(-2);\n\t\t\tcase 'h':\n\t\t\t\treturn convert24to12(hour);\n\t\t\tcase 'mm':\n\t\t\t\treturn ('0' + time.minute).slice(-2);\n\t\t\tcase 'm':\n\t\t\t\treturn time.minute;\n\t\t\tcase 'ss':\n\t\t\t\treturn ('0' + time.second).slice(-2);\n\t\t\tcase 's':\n\t\t\t\treturn time.second;\n\t\t\tcase 'l':\n\t\t\t\treturn ('00' + time.millisec).slice(-3);\n\t\t\tcase 'c':\n\t\t\t\treturn ('00' + time.microsec).slice(-3);\n\t\t\tcase 'z':\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\n\t\t\tcase 'Z':\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\n\t\t\tcase 'T':\n\t\t\t\treturn ampmName.charAt(0).toUpperCase();\n\t\t\tcase 'TT':\n\t\t\t\treturn ampmName.toUpperCase();\n\t\t\tcase 't':\n\t\t\t\treturn ampmName.charAt(0).toLowerCase();\n\t\t\tcase 'tt':\n\t\t\t\treturn ampmName.toLowerCase();\n\t\t\tdefault:\n\t\t\t\treturn match.replace(/'/g, \"\");\n\t\t\t}\n\t\t});\n\n\t\treturn tmptime;\n\t};\n\n\t/*\n\t* the bad hack :/ override datepicker so it doesn't close on select\n\t// inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\n\t*/\n\t$.datepicker._base_selectDate = $.datepicker._selectDate;\n\t$.datepicker._selectDate = function (id, dateStr) {\n\t\tvar inst = this._getInst($(id)[0]),\n\t\t\ttp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst && inst.settings.showTimepicker) {\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\n\t\t\tinst.inline = inst.stay_open = true;\n\t\t\t//This way the onSelect handler called from calendarpicker get the full dateTime\n\t\t\tthis._base_selectDate(id, dateStr);\n\t\t\tinst.inline = inst.stay_open = false;\n\t\t\tthis._notifyChange(inst);\n\t\t\tthis._updateDatepicker(inst);\n\t\t} else {\n\t\t\tthis._base_selectDate(id, dateStr);\n\t\t}\n\t};\n\n\t/*\n\t* second bad hack :/ override datepicker so it triggers an event when changing the input field\n\t* and does not redraw the datepicker on every selectDate event\n\t*/\n\t$.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\n\t$.datepicker._updateDatepicker = function (inst) {\n\n\t\t// don't popup the datepicker if there is another instance already opened\n\t\tvar input = inst.input[0];\n\t\tif ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {\n\n\t\t\tthis._base_updateDatepicker(inst);\n\n\t\t\t// Reload the time control when changing something in the input text field.\n\t\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t\tif (tp_inst) {\n\t\t\t\ttp_inst._addTimePicker(inst);\n\t\t\t}\n\t\t}\n\t};\n\n\t/*\n\t* third bad hack :/ override datepicker so it allows spaces and colon in the input field\n\t*/\n\t$.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\n\t$.datepicker._doKeyPress = function (event) {\n\t\tvar inst = $.datepicker._getInst(event.target),\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tif ($.datepicker._get(inst, 'constrainInput')) {\n\t\t\t\tvar ampm = tp_inst.support.ampm,\n\t\t\t\t\ttz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\n\t\t\t\t\tdateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\n\t\t\t\t\tdatetimeChars = tp_inst._defaults.timeFormat.toString()\n\t\t\t\t\t\t\t\t\t\t\t.replace(/[hms]/g, '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/TT/g, ampm ? 'APM' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/Tt/g, ampm ? 'AaPpMm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tT/g, ampm ? 'AaPpMm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/T/g, ampm ? 'AP' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tt/g, ampm ? 'apm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/t/g, ampm ? 'ap' : '') +\n\t\t\t\t\t\t\t\t\t\t\t\" \" + tp_inst._defaults.separator +\n\t\t\t\t\t\t\t\t\t\t\ttp_inst._defaults.timeSuffix +\n\t\t\t\t\t\t\t\t\t\t\t(tz ? tp_inst._defaults.timezoneList.join('') : '') +\n\t\t\t\t\t\t\t\t\t\t\t(tp_inst._defaults.amNames.join('')) + (tp_inst._defaults.pmNames.join('')) +\n\t\t\t\t\t\t\t\t\t\t\tdateChars,\n\t\t\t\t\tchr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\n\t\t\t\treturn event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);\n\t\t\t}\n\t\t}\n\n\t\treturn $.datepicker._base_doKeyPress(event);\n\t};\n\n\t/*\n\t* Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\n\t* Update any alternate field to synchronise with the main field.\n\t*/\n\t$.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\n\t$.datepicker._updateAlternate = function (inst) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar altField = tp_inst._defaults.altField;\n\t\t\tif (altField) { // update alternate field too\n\t\t\t\tvar altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\n\t\t\t\t\tdate = this._getDate(inst),\n\t\t\t\t\tformatCfg = $.datepicker._getFormatConfig(inst),\n\t\t\t\t\taltFormattedDateTime = '',\n\t\t\t\t\taltSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator,\n\t\t\t\t\taltTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\n\t\t\t\t\taltTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\n\n\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\n\t\t\t\tif (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\n\t\t\t\t\tif (tp_inst._defaults.altFormat) {\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\taltFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$(altField).val(altFormattedDateTime);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t$.datepicker._base_updateAlternate(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Override key up event to sync manual input changes.\n\t*/\n\t$.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\n\t$.datepicker._doKeyUp = function (event) {\n\t\tvar inst = $.datepicker._getInst(event.target),\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n\t\t\t\ttry {\n\t\t\t\t\t$.datepicker._updateDatepicker(inst);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t$.timepicker.log(err);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn $.datepicker._base_doKeyUp(event);\n\t};\n\n\t/*\n\t* override \"Today\" button to also grab the time.\n\t*/\n\t$.datepicker._base_gotoToday = $.datepicker._gotoToday;\n\t$.datepicker._gotoToday = function (id) {\n\t\tvar inst = this._getInst($(id)[0]),\n\t\t\t$dp = inst.dpDiv;\n\t\tthis._base_gotoToday(id);\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tselectLocalTimezone(tp_inst);\n\t\tvar now = new Date();\n\t\tthis._setTime(inst, now);\n\t\t$('.ui-datepicker-today', $dp).click();\n\t};\n\n\t/*\n\t* Disable & enable the Time in the datetimepicker\n\t*/\n\t$.datepicker._disableTimepickerDatepicker = function (target) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n\t\tif (tp_inst) {\n\t\t\tinst.settings.showTimepicker = false;\n\t\t\ttp_inst._defaults.showTimepicker = false;\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t$.datepicker._enableTimepickerDatepicker = function (target) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n\t\tif (tp_inst) {\n\t\t\tinst.settings.showTimepicker = true;\n\t\t\ttp_inst._defaults.showTimepicker = true;\n\t\t\ttp_inst._addTimePicker(inst); // Could be disabled on page load\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Create our own set time function\n\t*/\n\t$.datepicker._setTime = function (inst, date) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar defaults = tp_inst._defaults;\n\n\t\t\t// calling _setTime with no date sets time to defaults\n\t\t\ttp_inst.hour = date ? date.getHours() : defaults.hour;\n\t\t\ttp_inst.minute = date ? date.getMinutes() : defaults.minute;\n\t\t\ttp_inst.second = date ? date.getSeconds() : defaults.second;\n\t\t\ttp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\n\t\t\ttp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\n\n\t\t\t//check if within min/max times..\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\n\n\t\t\ttp_inst._onTimeChange();\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Create new public method to set only time, callable as $().datepicker('setTime', date)\n\t*/\n\t$.datepicker._setTimeDatepicker = function (target, date, withDate) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tthis._setDateFromField(inst);\n\t\t\tvar tp_date;\n\t\t\tif (date) {\n\t\t\t\tif (typeof date === \"string\") {\n\t\t\t\t\ttp_inst._parseTime(date, withDate);\n\t\t\t\t\ttp_date = new Date();\n\t\t\t\t\ttp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n\t\t\t\t\ttp_date.setMicroseconds(tp_inst.microsec);\n\t\t\t\t} else {\n\t\t\t\t\ttp_date = new Date(date.getTime());\n\t\t\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\n\t\t\t\t}\n\t\t\t\tif (tp_date.toString() === 'Invalid Date') {\n\t\t\t\t\ttp_date = undefined;\n\t\t\t\t}\n\t\t\t\tthis._setTime(inst, tp_date);\n\t\t\t}\n\t\t}\n\n\t};\n\n\t/*\n\t* override setDate() to allow setting time too within Date object\n\t*/\n\t$.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\n\t$.datepicker._setDateDatepicker = function (target, date) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof(date) === 'string') {\n\t\t\tdate = new Date(date);\n\t\t\tif (!date.getTime()) {\n\t\t\t\t$.timepicker.log(\"Error creating Date object from string.\");\n\t\t\t}\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tvar tp_date;\n\t\tif (date instanceof Date) {\n\t\t\ttp_date = new Date(date.getTime());\n\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\n\t\t} else {\n\t\t\ttp_date = date;\n\t\t}\n\n\t\t// This is important if you are using the timezone option, javascript's Date\n\t\t// object will only return the timezone offset for the current locale, so we\n\t\t// adjust it accordingly.  If not using timezone option this won't matter..\n\t\t// If a timezone is different in tp, keep the timezone as is\n\t\tif (tp_inst && tp_date) {\n\t\t\t// look out for DST if tz wasn't specified\n\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n\t\t\t\ttp_inst.timezone = tp_date.getTimezoneOffset() * -1;\n\t\t\t}\n\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n\t\t\ttp_date = $.timepicker.timezoneAdjust(tp_date, tp_inst.timezone);\n\t\t}\n\n\t\tthis._updateDatepicker(inst);\n\t\tthis._base_setDateDatepicker.apply(this, arguments);\n\t\tthis._setTimeDatepicker(target, tp_date, true);\n\t};\n\n\t/*\n\t* override getDate() to allow getting time too within Date object\n\t*/\n\t$.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\n\t$.datepicker._getDateDatepicker = function (target, noDefault) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\t// if it hasn't yet been defined, grab from field\n\t\t\tif (inst.lastVal === undefined) {\n\t\t\t\tthis._setDateFromField(inst, noDefault);\n\t\t\t}\n\n\t\t\tvar date = this._getDate(inst);\n\t\t\tif (date && tp_inst._parseTime($(target).val(), tp_inst.timeOnly)) {\n\t\t\t\tdate.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n\t\t\t\tdate.setMicroseconds(tp_inst.microsec);\n\n\t\t\t\t// This is important if you are using the timezone option, javascript's Date\n\t\t\t\t// object will only return the timezone offset for the current locale, so we\n\t\t\t\t// adjust it accordingly.  If not using timezone option this won't matter..\n\t\t\t\tif (tp_inst.timezone != null) {\n\t\t\t\t\t// look out for DST if tz wasn't specified\n\t\t\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n\t\t\t\t\t\ttp_inst.timezone = date.getTimezoneOffset() * -1;\n\t\t\t\t\t}\n\t\t\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t\treturn this._base_getDateDatepicker(target, noDefault);\n\t};\n\n\t/*\n\t* override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\n\t* An option in datapicker to ignore extra format characters would be nicer.\n\t*/\n\t$.datepicker._base_parseDate = $.datepicker.parseDate;\n\t$.datepicker.parseDate = function (format, value, settings) {\n\t\tvar date;\n\t\ttry {\n\t\t\tdate = this._base_parseDate(format, value, settings);\n\t\t} catch (err) {\n\t\t\t// Hack!  The error message ends with a colon, a space, and\n\t\t\t// the \"extra\" characters.  We rely on that instead of\n\t\t\t// attempting to perfectly reproduce the parsing algorithm.\n\t\t\tif (err.indexOf(\":\") >= 0) {\n\t\t\t\tdate = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\n\t\t\t\t$.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\n\t\t\t} else {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\t/*\n\t* override formatDate to set date with time to the input\n\t*/\n\t$.datepicker._base_formatDate = $.datepicker._formatDate;\n\t$.datepicker._formatDate = function (inst, day, month, year) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t\treturn tp_inst.$input.val();\n\t\t}\n\t\treturn this._base_formatDate(inst);\n\t};\n\n\t/*\n\t* override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\n\t*/\n\t$.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\n\t$.datepicker._optionDatepicker = function (target, name, value) {\n\t\tvar inst = this._getInst(target),\n\t\t\tname_clone;\n\t\tif (!inst) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar min = null,\n\t\t\t\tmax = null,\n\t\t\t\tonselect = null,\n\t\t\t\toverrides = tp_inst._defaults.evnts,\n\t\t\t\tfns = {},\n\t\t\t\tprop;\n\t\t\tif (typeof name === 'string') { // if min/max was set with the string\n\t\t\t\tif (name === 'minDate' || name === 'minDateTime') {\n\t\t\t\t\tmin = value;\n\t\t\t\t} else if (name === 'maxDate' || name === 'maxDateTime') {\n\t\t\t\t\tmax = value;\n\t\t\t\t} else if (name === 'onSelect') {\n\t\t\t\t\tonselect = value;\n\t\t\t\t} else if (overrides.hasOwnProperty(name)) {\n\t\t\t\t\tif (typeof (value) === 'undefined') {\n\t\t\t\t\t\treturn overrides[name];\n\t\t\t\t\t}\n\t\t\t\t\tfns[name] = value;\n\t\t\t\t\tname_clone = {}; //empty results in exiting function after overrides updated\n\t\t\t\t}\n\t\t\t} else if (typeof name === 'object') { //if min/max was set with the JSON\n\t\t\t\tif (name.minDate) {\n\t\t\t\t\tmin = name.minDate;\n\t\t\t\t} else if (name.minDateTime) {\n\t\t\t\t\tmin = name.minDateTime;\n\t\t\t\t} else if (name.maxDate) {\n\t\t\t\t\tmax = name.maxDate;\n\t\t\t\t} else if (name.maxDateTime) {\n\t\t\t\t\tmax = name.maxDateTime;\n\t\t\t\t}\n\t\t\t\tfor (prop in overrides) {\n\t\t\t\t\tif (overrides.hasOwnProperty(prop) && name[prop]) {\n\t\t\t\t\t\tfns[prop] = name[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (prop in fns) {\n\t\t\t\tif (fns.hasOwnProperty(prop)) {\n\t\t\t\t\toverrides[prop] = fns[prop];\n\t\t\t\t\tif (!name_clone) { name_clone = $.extend({}, name); }\n\t\t\t\t\tdelete name_clone[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (name_clone && isEmptyObject(name_clone)) { return; }\n\t\t\tif (min) { //if min was set\n\t\t\t\tif (min === 0) {\n\t\t\t\t\tmin = new Date();\n\t\t\t\t} else {\n\t\t\t\t\tmin = new Date(min);\n\t\t\t\t}\n\t\t\t\ttp_inst._defaults.minDate = min;\n\t\t\t\ttp_inst._defaults.minDateTime = min;\n\t\t\t} else if (max) { //if max was set\n\t\t\t\tif (max === 0) {\n\t\t\t\t\tmax = new Date();\n\t\t\t\t} else {\n\t\t\t\t\tmax = new Date(max);\n\t\t\t\t}\n\t\t\t\ttp_inst._defaults.maxDate = max;\n\t\t\t\ttp_inst._defaults.maxDateTime = max;\n\t\t\t} else if (onselect) {\n\t\t\t\ttp_inst._defaults.onSelect = onselect;\n\t\t\t}\n\t\t}\n\t\tif (value === undefined) {\n\t\t\treturn this._base_optionDatepicker.call($.datepicker, target, name);\n\t\t}\n\t\treturn this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n\t};\n\n\t/*\n\t* jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\n\t* it will return false for all objects\n\t*/\n\tvar isEmptyObject = function (obj) {\n\t\tvar prop;\n\t\tfor (prop in obj) {\n\t\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t/*\n\t* jQuery extend now ignores nulls!\n\t*/\n\tvar extendRemove = function (target, props) {\n\t\t$.extend(target, props);\n\t\tfor (var name in props) {\n\t\t\tif (props[name] === null || props[name] === undefined) {\n\t\t\t\ttarget[name] = props[name];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t};\n\n\t/*\n\t* Determine by the time format which units are supported\n\t* Returns an object of booleans for each unit\n\t*/\n\tvar detectSupport = function (timeFormat) {\n\t\tvar tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\n\t\t\tisIn = function (f, t) { // does the format contain the token?\n\t\t\t\t\treturn f.indexOf(t) !== -1 ? true : false;\n\t\t\t\t};\n\t\treturn {\n\t\t\t\thour: isIn(tf, 'h'),\n\t\t\t\tminute: isIn(tf, 'm'),\n\t\t\t\tsecond: isIn(tf, 's'),\n\t\t\t\tmillisec: isIn(tf, 'l'),\n\t\t\t\tmicrosec: isIn(tf, 'c'),\n\t\t\t\ttimezone: isIn(tf, 'z'),\n\t\t\t\tampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\n\t\t\t\tiso8601: isIn(timeFormat, 'Z')\n\t\t\t};\n\t};\n\n\t/*\n\t* Converts 24 hour format into 12 hour\n\t* Returns 12 hour without leading 0\n\t*/\n\tvar convert24to12 = function (hour) {\n\t\thour %= 12;\n\n\t\tif (hour === 0) {\n\t\t\thour = 12;\n\t\t}\n\n\t\treturn String(hour);\n\t};\n\n\tvar computeEffectiveSetting = function (settings, property) {\n\t\treturn settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\n\t};\n\n\t/*\n\t* Splits datetime string into date and time substrings.\n\t* Throws exception when date can't be parsed\n\t* Returns {dateString: dateString, timeString: timeString}\n\t*/\n\tvar splitDateTime = function (dateTimeString, timeSettings) {\n\t\t// The idea is to get the number separator occurrences in datetime and the time format requested (since time has\n\t\t// fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\n\t\tvar separator = computeEffectiveSetting(timeSettings, 'separator'),\n\t\t\tformat = computeEffectiveSetting(timeSettings, 'timeFormat'),\n\t\t\ttimeParts = format.split(separator), // how many occurrences of separator may be in our format?\n\t\t\ttimePartsLen = timeParts.length,\n\t\t\tallParts = dateTimeString.split(separator),\n\t\t\tallPartsLen = allParts.length;\n\n\t\tif (allPartsLen > 1) {\n\t\t\treturn {\n\t\t\t\tdateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\n\t\t\t\ttimeString: allParts.splice(0, timePartsLen).join(separator)\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tdateString: dateTimeString,\n\t\t\ttimeString: ''\n\t\t};\n\t};\n\n\t/*\n\t* Internal function to parse datetime interval\n\t* Returns: {date: Date, timeObj: Object}, where\n\t*   date - parsed date without time (type Date)\n\t*   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\n\t*/\n\tvar parseDateTimeInternal = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n\t\tvar date,\n\t\t\tparts,\n\t\t\tparsedTime;\n\n\t\tparts = splitDateTime(dateTimeString, timeSettings);\n\t\tdate = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\n\n\t\tif (parts.timeString === '') {\n\t\t\treturn {\n\t\t\t\tdate: date\n\t\t\t};\n\t\t}\n\n\t\tparsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\n\n\t\tif (!parsedTime) {\n\t\t\tthrow 'Wrong time format';\n\t\t}\n\n\t\treturn {\n\t\t\tdate: date,\n\t\t\ttimeObj: parsedTime\n\t\t};\n\t};\n\n\t/*\n\t* Internal function to set timezone_select to the local timezone\n\t*/\n\tvar selectLocalTimezone = function (tp_inst, date) {\n\t\tif (tp_inst && tp_inst.timezone_select) {\n\t\t\tvar now = date || new Date();\n\t\t\ttp_inst.timezone_select.val(-now.getTimezoneOffset());\n\t\t}\n\t};\n\n\t/*\n\t* Create a Singleton Instance\n\t*/\n\t$.timepicker = new Timepicker();\n\n\t/**\n\t * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\n\t * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\n\t * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\n\t * @return {string}\n\t */\n\t$.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\n\t\tif (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\n\t\t\treturn tzMinutes;\n\t\t}\n\n\t\tvar off = tzMinutes,\n\t\t\tminutes = off % 60,\n\t\t\thours = (off - minutes) / 60,\n\t\t\tiso = iso8601 ? ':' : '',\n\t\t\ttz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\n\n\t\tif (tz === '+00:00') {\n\t\t\treturn 'Z';\n\t\t}\n\t\treturn tz;\n\t};\n\n\t/**\n\t * Get the number in minutes that represents a timezone string\n\t * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\n\t * @return {number} the offset minutes or the original string if it doesn't match expectations\n\t */\n\t$.timepicker.timezoneOffsetNumber = function (tzString) {\n\t\tvar normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\n\n\t\tif (normalized.toUpperCase() === 'Z') { // if iso8601 with Z, its 0 minute offset\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (!/^(\\-|\\+)\\d{4}$/.test(normalized)) { // possibly a user defined tz, so just give it back\n\t\t\treturn tzString;\n\t\t}\n\n\t\treturn ((normalized.substr(0, 1) === '-' ? -1 : 1) * // plus or minus\n\t\t\t\t\t((parseInt(normalized.substr(1, 2), 10) * 60) + // hours (converted to minutes)\n\t\t\t\t\tparseInt(normalized.substr(3, 2), 10))); // minutes\n\t};\n\n\t/**\n\t * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\n\t * @param  {Date} date\n\t * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\n\t * @return {Date}\n\t */\n\t$.timepicker.timezoneAdjust = function (date, toTimezone) {\n\t\tvar toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\n\t\tif (!isNaN(toTz)) {\n\t\t\tdate.setMinutes(date.getMinutes() + -date.getTimezoneOffset() - toTz);\n\t\t}\n\t\treturn date;\n\t};\n\n\t/**\n\t * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * n.b. The input value must be correctly formatted (reformatting is not supported)\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the timepicker() call\n\t * @return {jQuery}\n\t */\n\t$.timepicker.timeRange = function (startTime, endTime, options) {\n\t\treturn $.timepicker.handleRange('timepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @param  {string} method Can be used to specify the type of picker to be added\n\t * @return {jQuery}\n\t */\n\t$.timepicker.datetimeRange = function (startTime, endTime, options) {\n\t\t$.timepicker.handleRange('datetimepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @return {jQuery}\n\t */\n\t$.timepicker.dateRange = function (startTime, endTime, options) {\n\t\t$.timepicker.handleRange('datepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `method` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {string} method Can be used to specify the type of picker to be added\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @return {jQuery}\n\t */\n\t$.timepicker.handleRange = function (method, startTime, endTime, options) {\n\t\toptions = $.extend({}, {\n\t\t\tminInterval: 0, // min allowed interval in milliseconds\n\t\t\tmaxInterval: 0, // max allowed interval in milliseconds\n\t\t\tstart: {},      // options for start picker\n\t\t\tend: {}         // options for end picker\n\t\t}, options);\n\n\t\t// for the mean time this fixes an issue with calling getDate with timepicker()\n\t\tvar timeOnly = false;\n\t\tif(method === 'timepicker'){\n\t\t\ttimeOnly = true;\n\t\t\tmethod = 'datetimepicker';\n\t\t}\n\n\t\tfunction checkDates(changed, other) {\n\t\t\tvar startdt = startTime[method]('getDate'),\n\t\t\t\tenddt = endTime[method]('getDate'),\n\t\t\t\tchangeddt = changed[method]('getDate');\n\n\t\t\tif (startdt !== null) {\n\t\t\t\tvar minDate = new Date(startdt.getTime()),\n\t\t\t\t\tmaxDate = new Date(startdt.getTime());\n\n\t\t\t\tminDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\n\t\t\t\tmaxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\n\n\t\t\t\tif (options.minInterval > 0 && minDate > enddt) { // minInterval check\n\t\t\t\t\tendTime[method]('setDate', minDate);\n\t\t\t\t}\n\t\t\t\telse if (options.maxInterval > 0 && maxDate < enddt) { // max interval check\n\t\t\t\t\tendTime[method]('setDate', maxDate);\n\t\t\t\t}\n\t\t\t\telse if (startdt > enddt) {\n\t\t\t\t\tother[method]('setDate', changeddt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction selected(changed, other, option) {\n\t\t\tif (!changed.val()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar date = changed[method].call(changed, 'getDate');\n\t\t\tif (date !== null && options.minInterval > 0) {\n\t\t\t\tif (option === 'minDate') {\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() + options.minInterval);\n\t\t\t\t}\n\t\t\t\tif (option === 'maxDate') {\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() - options.minInterval);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (date.getTime) {\n\t\t\t\tother[method].call(other, 'option', option, date);\n\t\t\t}\n\t\t}\n\n\t\t$.fn[method].call(startTime, $.extend({\n\t\t\ttimeOnly: timeOnly,\n\t\t\tonClose: function (dateText, inst) {\n\t\t\t\tcheckDates($(this), endTime);\n\t\t\t},\n\t\t\tonSelect: function (selectedDateTime) {\n\t\t\t\tselected($(this), endTime, 'minDate');\n\t\t\t}\n\t\t}, options, options.start));\n\t\t$.fn[method].call(endTime, $.extend({\n\t\t\ttimeOnly: timeOnly,\n\t\t\tonClose: function (dateText, inst) {\n\t\t\t\tcheckDates($(this), startTime);\n\t\t\t},\n\t\t\tonSelect: function (selectedDateTime) {\n\t\t\t\tselected($(this), startTime, 'maxDate');\n\t\t\t}\n\t\t}, options, options.end));\n\n\t\tcheckDates(startTime, endTime);\n\t\tselected(startTime, endTime, 'minDate');\n\t\tselected(endTime, startTime, 'maxDate');\n\t\treturn $([startTime.get(0), endTime.get(0)]);\n\t};\n\n\t/**\n\t * Log error or data to the console during error or debugging\n\t * @param  {Object} err pass any type object to log to the console during error or debugging\n\t * @return {void}\n\t */\n\t$.timepicker.log = function (err) {\n\t\tif (window.console) {\n\t\t\twindow.console.log(err);\n\t\t}\n\t};\n\n\t/*\n\t * Add util object to allow access to private methods for testability.\n\t */\n\t$.timepicker._util = {\n\t\t_extendRemove: extendRemove,\n\t\t_isEmptyObject: isEmptyObject,\n\t\t_convert24to12: convert24to12,\n\t\t_detectSupport: detectSupport,\n\t\t_selectLocalTimezone: selectLocalTimezone,\n\t\t_computeEffectiveSetting: computeEffectiveSetting,\n\t\t_splitDateTime: splitDateTime,\n\t\t_parseDateTimeInternal: parseDateTimeInternal\n\t};\n\n\t/*\n\t* Microsecond support\n\t*/\n\tif (!Date.prototype.getMicroseconds) {\n\t\tDate.prototype.microseconds = 0;\n\t\tDate.prototype.getMicroseconds = function () { return this.microseconds; };\n\t\tDate.prototype.setMicroseconds = function (m) {\n\t\t\tthis.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\n\t\t\tthis.microseconds = m % 1000;\n\t\t\treturn this;\n\t\t};\n\t}\n\n\t/*\n\t* Keep up with the version\n\t*/\n\t$.timepicker.version = \"1.4.4\";\n\n})(jQuery);","/*!\n * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010\n * http://benalman.com/projects/jquery-bbq-plugin/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\n(function($,window){\n  '$:nomunge'; // Used by YUI compressor.\n\n  // Some convenient shortcuts.\n  var undefined,\n    aps = Array.prototype.slice,\n    decode = decodeURIComponent,\n\n    // Method / object references.\n    jq_param = $.param,\n    jq_param_sorted,\n    jq_param_fragment,\n    jq_deparam,\n    jq_deparam_fragment,\n    jq_bbq = $.bbq = $.bbq || {},\n    jq_bbq_pushState,\n    jq_bbq_getState,\n    jq_elemUrlAttr,\n    special = $.event.special,\n\n    // Reused strings.\n    str_hashchange = 'hashchange',\n    str_querystring = 'querystring',\n    str_fragment = 'fragment',\n    str_elemUrlAttr = 'elemUrlAttr',\n    str_href = 'href',\n    str_src = 'src',\n\n    // Reused RegExp.\n    re_params_querystring = /^.*\\?|#.*$/g,\n    re_params_fragment,\n    re_fragment,\n    re_no_escape,\n\n    ajax_crawlable,\n    fragment_prefix,\n\n    // Used by jQuery.elemUrlAttr.\n    elemUrlAttr_cache = {};\n\n  // A few commonly used bits, broken out to help reduce minified file size.\n\n  function is_string( arg ) {\n    return typeof arg === 'string';\n  };\n\n  // Why write the same function twice? Let's curry! Mmmm, curry..\n\n  function curry( func ) {\n    var args = aps.call( arguments, 1 );\n\n    return function() {\n      return func.apply( this, args.concat( aps.call( arguments ) ) );\n    };\n  };\n\n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    return url.replace( re_fragment, '$2' );\n  };\n\n  // Get location.search (or what you'd expect location.search to be) sans any\n  // leading #. Thanks for making this necessary, IE6!\n  function get_querystring( url ) {\n    return url.replace( /(?:^[^?#]*\\?([^#]*).*$)?.*/, '$1' );\n  };\n\n  // Section: Param (to string)\n  //\n  // Method: jQuery.param.querystring\n  //\n  // Retrieve the query string from a URL or if no arguments are passed, the\n  // current window.location.href.\n  //\n  // Usage:\n  //\n  // > jQuery.param.querystring( [ url ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A URL containing query string params to be parsed. If url\n  //    is not passed, the current window.location.href is used.\n  //\n  // Returns:\n  //\n  //  (String) The parsed query string, with any leading \"?\" removed.\n  //\n\n  // Method: jQuery.param.querystring (build url)\n  //\n  // Merge a URL, with or without pre-existing query string params, plus any\n  // object, params string or URL containing query string params into a new URL.\n  //\n  // Usage:\n  //\n  // > jQuery.param.querystring( url, params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A valid URL for params to be merged into. This URL may\n  //    contain a query string and/or fragment (hash).\n  //  params - (String) A params string or URL containing query string params to\n  //    be merged into url.\n  //  params - (Object) A params object to be merged into url.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any query string\n  //         params in url.\n  //    * 1: any query string params in url will override params in the params\n  //         argument.\n  //    * 2: params argument will completely replace any query string in url.\n  //\n  // Returns:\n  //\n  //  (String) A URL with a urlencoded query string in the format '?a=b&c=d&e=f'.\n\n  // Method: jQuery.param.fragment\n  //\n  // Retrieve the fragment (hash) from a URL or if no arguments are passed, the\n  // current window.location.href.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment( [ url ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A URL containing fragment (hash) params to be parsed. If\n  //    url is not passed, the current window.location.href is used.\n  //\n  // Returns:\n  //\n  //  (String) The parsed fragment (hash) string, with any leading \"#\" removed.\n\n  // Method: jQuery.param.fragment (build url)\n  //\n  // Merge a URL, with or without pre-existing fragment (hash) params, plus any\n  // object, params string or URL containing fragment (hash) params into a new\n  // URL.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment( url, params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A valid URL for params to be merged into. This URL may\n  //    contain a query string and/or fragment (hash).\n  //  params - (String) A params string or URL containing fragment (hash) params\n  //    to be merged into url.\n  //  params - (Object) A params object to be merged into url.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any fragment (hash)\n  //         params in url.\n  //    * 1: any fragment (hash) params in url will override params in the\n  //         params argument.\n  //    * 2: params argument will completely replace any query string in url.\n  //\n  // Returns:\n  //\n  //  (String) A URL with a urlencoded fragment (hash) in the format '#a=b&c=d&e=f'.\n\n  function jq_param_sub( is_fragment, get_func, url, params, merge_mode ) {\n    var result,\n      qs,\n      matches,\n      url_params,\n      hash;\n\n    if ( params !== undefined ) {\n      // Build URL by merging params into url string.\n\n      // matches[1] = url part that precedes params, not including trailing ?/#\n      // matches[2] = params, not including leading ?/#\n      // matches[3] = if in 'querystring' mode, hash including leading #, otherwise ''\n      matches = url.match( is_fragment ? re_fragment : /^([^#?]*)\\??([^#]*)(#?.*)/ );\n\n      // Get the hash if in 'querystring' mode, and it exists.\n      hash = matches[3] || '';\n\n      if ( merge_mode === 2 && is_string( params ) ) {\n        // If merge_mode is 2 and params is a string, merge the fragment / query\n        // string into the URL wholesale, without converting it into an object.\n        qs = params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' );\n\n      } else {\n        // Convert relevant params in url to object.\n        url_params = jq_deparam( matches[2] );\n\n        params = is_string( params )\n\n          // Convert passed params string into object.\n          ? jq_deparam[ is_fragment ? str_fragment : str_querystring ]( params )\n\n          // Passed params object.\n          : params;\n\n        qs = merge_mode === 2 ? params                              // passed params replace url params\n          : merge_mode === 1  ? $.extend( {}, params, url_params )  // url params override passed params\n          : $.extend( {}, url_params, params );                     // passed params override url params\n\n        // Convert params object into a sorted params string.\n        qs = jq_param_sorted( qs );\n\n        // Unescape characters specified via $.param.noEscape. Since only hash-\n        // history users have requested this feature, it's only enabled for\n        // fragment-related params strings.\n        if ( is_fragment ) {\n          qs = qs.replace( re_no_escape, decode );\n        }\n      }\n\n      // Build URL from the base url, querystring and hash. In 'querystring'\n      // mode, ? is only added if a query string exists. In 'fragment' mode, #\n      // is always added.\n      result = matches[1] + ( is_fragment ? fragment_prefix : qs || !matches[1] ? '?' : '' ) + qs + hash;\n\n    } else {\n      // If URL was passed in, parse params from URL string, otherwise parse\n      // params from window.location.href.\n      result = get_func( url !== undefined ? url : location.href );\n    }\n\n    return result;\n  };\n\n  jq_param[ str_querystring ]                  = curry( jq_param_sub, 0, get_querystring );\n  jq_param[ str_fragment ] = jq_param_fragment = curry( jq_param_sub, 1, get_fragment );\n\n  // Method: jQuery.param.sorted\n  //\n  // Returns a params string equivalent to that returned by the internal\n  // jQuery.param method, but sorted, which makes it suitable for use as a\n  // cache key.\n  //\n  // For example, in most browsers jQuery.param({z:1,a:2}) returns \"z=1&a=2\"\n  // and jQuery.param({a:2,z:1}) returns \"a=2&z=1\". Even though both the\n  // objects being serialized and the resulting params strings are equivalent,\n  // if these params strings were set into the location.hash fragment\n  // sequentially, the hashchange event would be triggered unnecessarily, since\n  // the strings are different (even though the data described by them is the\n  // same). By sorting the params string, unecessary hashchange event triggering\n  // can be avoided.\n  //\n  // Usage:\n  //\n  // > jQuery.param.sorted( obj [, traditional ] );\n  //\n  // Arguments:\n  //\n  //  obj - (Object) An object to be serialized.\n  //  traditional - (Boolean) Params deep/shallow serialization mode. See the\n  //    documentation at http://api.jquery.com/jQuery.param/ for more detail.\n  //\n  // Returns:\n  //\n  //  (String) A sorted params string.\n\n  jq_param.sorted = jq_param_sorted = function( a, traditional ) {\n    var arr = [],\n      obj = {};\n\n    $.each( jq_param( a, traditional ).split( '&' ), function(i,v){\n      var key = v.replace( /(?:%5B|=).*$/, '' ),\n        key_obj = obj[ key ];\n\n      if ( !key_obj ) {\n        key_obj = obj[ key ] = [];\n        arr.push( key );\n      }\n\n      key_obj.push( v );\n    });\n\n    return $.map( arr.sort(), function(v){\n      return obj[ v ];\n    }).join( '&' );\n  };\n\n  // Method: jQuery.param.fragment.noEscape\n  //\n  // Specify characters that will be left unescaped when fragments are created\n  // or merged using <jQuery.param.fragment>, or when the fragment is modified\n  // using <jQuery.bbq.pushState>. This option only applies to serialized data\n  // object fragments, and not set-as-string fragments. Does not affect the\n  // query string. Defaults to \",/\" (comma, forward slash).\n  //\n  // Note that this is considered a purely aesthetic option, and will help to\n  // create URLs that \"look pretty\" in the address bar or bookmarks, without\n  // affecting functionality in any way. That being said, be careful to not\n  // unescape characters that are used as delimiters or serve a special\n  // purpose, such as the \"#?&=+\" (octothorpe, question mark, ampersand,\n  // equals, plus) characters.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment.noEscape( [ chars ] );\n  //\n  // Arguments:\n  //\n  //  chars - (String) The characters to not escape in the fragment. If\n  //    unspecified, defaults to empty string (escape all characters).\n  //\n  // Returns:\n  //\n  //  Nothing.\n\n  jq_param_fragment.noEscape = function( chars ) {\n    chars = chars || '';\n    var arr = $.map( chars.split(''), encodeURIComponent );\n    re_no_escape = new RegExp( arr.join('|'), 'g' );\n  };\n\n  // A sensible default. These are the characters people seem to complain about\n  // \"uglifying up the URL\" the most.\n  jq_param_fragment.noEscape( ',/' );\n\n  // Method: jQuery.param.fragment.ajaxCrawlable\n  //\n  // TODO: DESCRIBE\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment.ajaxCrawlable( [ state ] );\n  //\n  // Arguments:\n  //\n  //  state - (Boolean) TODO: DESCRIBE\n  //\n  // Returns:\n  //\n  //  (Boolean) The current ajaxCrawlable state.\n\n  jq_param_fragment.ajaxCrawlable = function( state ) {\n    if ( state !== undefined ) {\n      if ( state ) {\n        re_params_fragment = /^.*(?:#!|#)/;\n        re_fragment = /^([^#]*)(?:#!|#)?(.*)$/;\n        fragment_prefix = '#!';\n      } else {\n        re_params_fragment = /^.*#/;\n        re_fragment = /^([^#]*)#?(.*)$/;\n        fragment_prefix = '#';\n      }\n      ajax_crawlable = !!state;\n    }\n\n    return ajax_crawlable;\n  };\n\n  jq_param_fragment.ajaxCrawlable( 0 );\n\n  // Section: Deparam (from string)\n  //\n  // Method: jQuery.deparam\n  //\n  // Deserialize a params string into an object, optionally coercing numbers,\n  // booleans, null and undefined values; this method is the counterpart to the\n  // internal jQuery.param method.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam( params [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  params - (String) A params string to be parsed.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  $.deparam = jq_deparam = function( params, coerce ) {\n    var obj = {},\n      coerce_types = { 'true': !0, 'false': !1, 'null': null };\n\n    // Iterate over all name=value pairs.\n    $.each( params.replace( /\\+/g, ' ' ).split( '&' ), function(j,v){\n      var param = v.split( '=' ),\n        key = decode( param[0] ),\n        val,\n        cur = obj,\n        i = 0,\n\n        // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it\n        // into its component parts.\n        keys = key.split( '][' ),\n        keys_last = keys.length - 1;\n\n      // If the first keys part contains [ and the last ends with ], then []\n      // are correctly balanced.\n      if ( /\\[/.test( keys[0] ) && /\\]$/.test( keys[ keys_last ] ) ) {\n        // Remove the trailing ] from the last keys part.\n        keys[ keys_last ] = keys[ keys_last ].replace( /\\]$/, '' );\n\n        // Split first keys part into two parts on the [ and add them back onto\n        // the beginning of the keys array.\n        keys = keys.shift().split('[').concat( keys );\n\n        keys_last = keys.length - 1;\n      } else {\n        // Basic 'foo' style key.\n        keys_last = 0;\n      }\n\n      // Are we dealing with a name=value pair, or just a name?\n      if ( param.length === 2 ) {\n        val = decode( param[1] );\n\n        // Coerce values.\n        if ( coerce ) {\n          val = val && !isNaN(val)            ? +val              // number\n            : val === 'undefined'             ? undefined         // undefined\n            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null\n            : val;                                                // string\n        }\n\n        if ( keys_last ) {\n          // Complex key, build deep object structure based on a few rules:\n          // * The 'cur' pointer starts at the object top-level.\n          // * [] = array push (n is set to array length), [n] = array if n is\n          //   numeric, otherwise object.\n          // * If at the last keys part, set the value.\n          // * For each keys part, if the current level is undefined create an\n          //   object or array based on the type of the next keys part.\n          // * Move the 'cur' pointer to the next level.\n          // * Rinse & repeat.\n          for ( ; i <= keys_last; i++ ) {\n            key = keys[i] === '' ? cur.length : keys[i];\n            cur = cur[key] = i < keys_last\n              ? cur[key] || ( keys[i+1] && isNaN( keys[i+1] ) ? {} : [] )\n              : val;\n          }\n\n        } else {\n          // Simple key, even simpler rules, since only scalars and shallow\n          // arrays are allowed.\n\n          if ( $.isArray( obj[key] ) ) {\n            // val is already an array, so push on the next value.\n            obj[key].push( val );\n\n          } else if ( obj[key] !== undefined ) {\n            // val isn't an array, but since a second value has been specified,\n            // convert val into an array.\n            obj[key] = [ obj[key], val ];\n\n          } else {\n            // val is a scalar.\n            obj[key] = val;\n          }\n        }\n\n      } else if ( key ) {\n        // No value was defined, so set something meaningful.\n        obj[key] = coerce\n          ? undefined\n          : '';\n      }\n    });\n\n    return obj;\n  };\n\n  // Method: jQuery.deparam.querystring\n  //\n  // Parse the query string from a URL or the current window.location.href,\n  // deserializing it into an object, optionally coercing numbers, booleans,\n  // null and undefined values.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam.querystring( [ url ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) An optional params string or URL containing query string\n  //    params to be parsed. If url is omitted, the current\n  //    window.location.href is used.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  // Method: jQuery.deparam.fragment\n  //\n  // Parse the fragment (hash) from a URL or the current window.location.href,\n  // deserializing it into an object, optionally coercing numbers, booleans,\n  // null and undefined values.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam.fragment( [ url ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) An optional params string or URL containing fragment (hash)\n  //    params to be parsed. If url is omitted, the current window.location.href\n  //    is used.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  function jq_deparam_sub( is_fragment, url_or_params, coerce ) {\n    if ( url_or_params === undefined || typeof url_or_params === 'boolean' ) {\n      // url_or_params not specified.\n      coerce = url_or_params;\n      url_or_params = jq_param[ is_fragment ? str_fragment : str_querystring ]();\n    } else {\n      url_or_params = is_string( url_or_params )\n        ? url_or_params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' )\n        : url_or_params;\n    }\n\n    return jq_deparam( url_or_params, coerce );\n  };\n\n  jq_deparam[ str_querystring ]                    = curry( jq_deparam_sub, 0 );\n  jq_deparam[ str_fragment ] = jq_deparam_fragment = curry( jq_deparam_sub, 1 );\n\n  // Section: Element manipulation\n  //\n  // Method: jQuery.elemUrlAttr\n  //\n  // Get the internal \"Default URL attribute per tag\" list, or augment the list\n  // with additional tag-attribute pairs, in case the defaults are insufficient.\n  //\n  // In the <jQuery.fn.querystring> and <jQuery.fn.fragment> methods, this list\n  // is used to determine which attribute contains the URL to be modified, if\n  // an \"attr\" param is not specified.\n  //\n  // Default Tag-Attribute List:\n  //\n  //  a      - href\n  //  base   - href\n  //  iframe - src\n  //  img    - src\n  //  input  - src\n  //  form   - action\n  //  link   - href\n  //  script - src\n  //\n  // Usage:\n  //\n  // > jQuery.elemUrlAttr( [ tag_attr ] );\n  //\n  // Arguments:\n  //\n  //  tag_attr - (Object) An object containing a list of tag names and their\n  //    associated default attribute names in the format { tag: 'attr', ... } to\n  //    be merged into the internal tag-attribute list.\n  //\n  // Returns:\n  //\n  //  (Object) An object containing all stored tag-attribute values.\n\n  // Only define function and set defaults if function doesn't already exist, as\n  // the urlInternal plugin will provide this method as well.\n  $[ str_elemUrlAttr ] || ($[ str_elemUrlAttr ] = function( obj ) {\n    return $.extend( elemUrlAttr_cache, obj );\n  })({\n    a: str_href,\n    base: str_href,\n    iframe: str_src,\n    img: str_src,\n    input: str_src,\n    form: 'action',\n    link: str_href,\n    script: str_src\n  });\n\n  jq_elemUrlAttr = $[ str_elemUrlAttr ];\n\n  // Method: jQuery.fn.querystring\n  //\n  // Update URL attribute in one or more elements, merging the current URL (with\n  // or without pre-existing query string params) plus any params object or\n  // string into a new URL, which is then set into that attribute. Like\n  // <jQuery.param.querystring (build url)>, but for all elements in a jQuery\n  // collection.\n  //\n  // Usage:\n  //\n  // > jQuery('selector').querystring( [ attr, ] params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  attr - (String) Optional name of an attribute that will contain a URL to\n  //    merge params or url into. See <jQuery.elemUrlAttr> for a list of default\n  //    attributes.\n  //  params - (Object) A params object to be merged into the URL attribute.\n  //  params - (String) A URL containing query string params, or params string\n  //    to be merged into the URL attribute.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in attr URL.\n  //    * 1: any params in attr URL will override params in the params argument.\n  //    * 2: params argument will completely replace any query string in attr\n  //         URL.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements, but with modified URL\n  //  attribute values.\n\n  // Method: jQuery.fn.fragment\n  //\n  // Update URL attribute in one or more elements, merging the current URL (with\n  // or without pre-existing fragment/hash params) plus any params object or\n  // string into a new URL, which is then set into that attribute. Like\n  // <jQuery.param.fragment (build url)>, but for all elements in a jQuery\n  // collection.\n  //\n  // Usage:\n  //\n  // > jQuery('selector').fragment( [ attr, ] params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  attr - (String) Optional name of an attribute that will contain a URL to\n  //    merge params into. See <jQuery.elemUrlAttr> for a list of default\n  //    attributes.\n  //  params - (Object) A params object to be merged into the URL attribute.\n  //  params - (String) A URL containing fragment (hash) params, or params\n  //    string to be merged into the URL attribute.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in attr URL.\n  //    * 1: any params in attr URL will override params in the params argument.\n  //    * 2: params argument will completely replace any fragment (hash) in attr\n  //         URL.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements, but with modified URL\n  //  attribute values.\n\n  function jq_fn_sub( mode, force_attr, params, merge_mode ) {\n    if ( !is_string( params ) && typeof params !== 'object' ) {\n      // force_attr not specified.\n      merge_mode = params;\n      params = force_attr;\n      force_attr = undefined;\n    }\n\n    return this.each(function(){\n      var that = $(this),\n\n        // Get attribute specified, or default specified via $.elemUrlAttr.\n        attr = force_attr || jq_elemUrlAttr()[ ( this.nodeName || '' ).toLowerCase() ] || '',\n\n        // Get URL value.\n        url = attr && that.attr( attr ) || '';\n\n      // Update attribute with new URL.\n      that.attr( attr, jq_param[ mode ]( url, params, merge_mode ) );\n    });\n\n  };\n\n  $.fn[ str_querystring ] = curry( jq_fn_sub, str_querystring );\n  $.fn[ str_fragment ]    = curry( jq_fn_sub, str_fragment );\n\n  // Section: History, hashchange event\n  //\n  // Method: jQuery.bbq.pushState\n  //\n  // Adds a 'state' into the browser history at the current position, setting\n  // location.hash and triggering any bound <hashchange event> callbacks\n  // (provided the new state is different than the previous state).\n  //\n  // If no arguments are passed, an empty state is created, which is just a\n  // shortcut for jQuery.bbq.pushState( {}, 2 ).\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.pushState( [ params [, merge_mode ] ] );\n  //\n  // Arguments:\n  //\n  //  params - (String) A serialized params string or a hash string beginning\n  //    with # to merge into location.hash.\n  //  params - (Object) A params object to merge into location.hash.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified (unless a hash string beginning with # is specified, in which\n  //    case merge behavior defaults to 2), and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in the\n  //         current state.\n  //    * 1: any params in the current state will override params in the params\n  //         argument.\n  //    * 2: params argument will completely replace current state.\n  //\n  // Returns:\n  //\n  //  Nothing.\n  //\n  // Additional Notes:\n  //\n  //  * Setting an empty state may cause the browser to scroll.\n  //  * Unlike the fragment and querystring methods, if a hash string beginning\n  //    with # is specified as the params agrument, merge_mode defaults to 2.\n\n  jq_bbq.pushState = jq_bbq_pushState = function( params, merge_mode ) {\n    if ( is_string( params ) && /^#/.test( params ) && merge_mode === undefined ) {\n      // Params string begins with # and merge_mode not specified, so completely\n      // overwrite window.location.hash.\n      merge_mode = 2;\n    }\n\n    var has_args = params !== undefined,\n      // Merge params into window.location using $.param.fragment.\n      url = jq_param_fragment( location.href,\n        has_args ? params : {}, has_args ? merge_mode : 2 );\n\n    // Set new window.location.href. Note that Safari 3 & Chrome barf on\n    // location.hash = '#' so the entire URL is set.\n    location.href = url;\n  };\n\n  // Method: jQuery.bbq.getState\n  //\n  // Retrieves the current 'state' from the browser history, parsing\n  // location.hash for a specific key or returning an object containing the\n  // entire state, optionally coercing numbers, booleans, null and undefined\n  // values.\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.getState( [ key ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  key - (String) An optional state key for which to return a value.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false.\n  //\n  // Returns:\n  //\n  //  (Anything) If key is passed, returns the value corresponding with that key\n  //    in the location.hash 'state', or undefined. If not, an object\n  //    representing the entire 'state' is returned.\n\n  jq_bbq.getState = jq_bbq_getState = function( key, coerce ) {\n    return key === undefined || typeof key === 'boolean'\n      ? jq_deparam_fragment( key ) // 'key' really means 'coerce' here\n      : jq_deparam_fragment( coerce )[ key ];\n  };\n\n  // Method: jQuery.bbq.removeState\n  //\n  // Remove one or more keys from the current browser history 'state', creating\n  // a new state, setting location.hash and triggering any bound\n  // <hashchange event> callbacks (provided the new state is different than\n  // the previous state).\n  //\n  // If no arguments are passed, an empty state is created, which is just a\n  // shortcut for jQuery.bbq.pushState( {}, 2 ).\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.removeState( [ key [, key ... ] ] );\n  //\n  // Arguments:\n  //\n  //  key - (String) One or more key values to remove from the current state,\n  //    passed as individual arguments.\n  //  key - (Array) A single array argument that contains a list of key values\n  //    to remove from the current state.\n  //\n  // Returns:\n  //\n  //  Nothing.\n  //\n  // Additional Notes:\n  //\n  //  * Setting an empty state may cause the browser to scroll.\n\n  jq_bbq.removeState = function( arr ) {\n    var state = {};\n\n    // If one or more arguments is passed..\n    if ( arr !== undefined ) {\n\n      // Get the current state.\n      state = jq_bbq_getState();\n\n      // For each passed key, delete the corresponding property from the current\n      // state.\n      $.each( $.isArray( arr ) ? arr : arguments, function(i,v){\n        delete state[ v ];\n      });\n    }\n\n    // Set the state, completely overriding any existing state.\n    jq_bbq_pushState( state, 2 );\n  };\n\n  // Event: hashchange event (BBQ)\n  //\n  // Usage in jQuery 1.4 and newer:\n  //\n  // In jQuery 1.4 and newer, the event object passed into any hashchange event\n  // callback is augmented with a copy of the location.hash fragment at the time\n  // the event was triggered as its event.fragment property. In addition, the\n  // event.getState method operates on this property (instead of location.hash)\n  // which allows this fragment-as-a-state to be referenced later, even after\n  // window.location may have changed.\n  //\n  // Note that event.fragment and event.getState are not defined according to\n  // W3C (or any other) specification, but will still be available whether or\n  // not the hashchange event exists natively in the browser, because of the\n  // utility they provide.\n  //\n  // The event.fragment property contains the output of <jQuery.param.fragment>\n  // and the event.getState method is equivalent to the <jQuery.bbq.getState>\n  // method.\n  //\n  // > $(window).bind( 'hashchange', function( event ) {\n  // >   var hash_str = event.fragment,\n  // >     param_obj = event.getState(),\n  // >     param_val = event.getState( 'param_name' ),\n  // >     param_val_coerced = event.getState( 'param_name', true );\n  // >   ...\n  // > });\n  //\n  // Usage in jQuery 1.3.2:\n  //\n  // In jQuery 1.3.2, the event object cannot to be augmented as in jQuery 1.4+,\n  // so the fragment state isn't bound to the event object and must instead be\n  // parsed using the <jQuery.param.fragment> and <jQuery.bbq.getState> methods.\n  //\n  // > $(window).bind( 'hashchange', function( event ) {\n  // >   var hash_str = $.param.fragment(),\n  // >     param_obj = $.bbq.getState(),\n  // >     param_val = $.bbq.getState( 'param_name' ),\n  // >     param_val_coerced = $.bbq.getState( 'param_name', true );\n  // >   ...\n  // > });\n  //\n  // Additional Notes:\n  //\n  // * Due to changes in the special events API, jQuery BBQ v1.2 or newer is\n  //   required to enable the augmented event object in jQuery 1.4.2 and newer.\n  // * See <jQuery hashchange event> for more detailed information.\n\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n\n    // Augmenting the event object with the .fragment property and .getState\n    // method requires jQuery 1.4 or newer. Note: with 1.3.2, everything will\n    // work, but the event won't be augmented)\n    add: function( handleObj ) {\n      var old_handler;\n\n      function new_handler(e) {\n        // e.fragment is set to the value of location.hash (with any leading #\n        // removed) at the time the event is triggered.\n        var hash = e[ str_fragment ] = jq_param_fragment();\n\n        // e.getState() works just like $.bbq.getState(), but uses the\n        // e.fragment property stored on the event object.\n        e.getState = function( key, coerce ) {\n          return key === undefined || typeof key === 'boolean'\n            ? jq_deparam( hash, key ) // 'key' really means 'coerce' here\n            : jq_deparam( hash, coerce )[ key ];\n        };\n\n        old_handler.apply( this, arguments );\n      };\n\n      // This may seem a little complicated, but it normalizes the special event\n      // .add method between jQuery 1.4/1.4.1 and 1.4.2+\n      if ( $.isFunction( handleObj ) ) {\n        // 1.4, 1.4.1\n        old_handler = handleObj;\n        return new_handler;\n      } else {\n        // 1.4.2+\n        old_handler = handleObj.handler;\n        handleObj.handler = new_handler;\n      }\n    }\n\n  });\n\n})(jQuery,this);\n\n/*!\n * jQuery hashchange event - v1.3 - 7/21/2010\n * http://benalman.com/projects/jquery-hashchange-plugin/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\n// Script: jQuery hashchange event\n//\n// *Version: 1.3, Last updated: 7/21/2010*\n//\n// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/\n// GitHub       - http://github.com/cowboy/jquery-hashchange/\n// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js\n// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)\n//\n// About: License\n//\n// Copyright (c) 2010 \"Cowboy\" Ben Alman,\n// Dual licensed under the MIT and GPL licenses.\n// http://benalman.com/about/license/\n//\n// About: Examples\n//\n// These working examples, complete with fully commented code, illustrate a few\n// ways in which this plugin can be used.\n//\n// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/\n// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/\n//\n// About: Support and Testing\n//\n// Information about what version or versions of jQuery this plugin has been\n// tested with, what browsers it has been tested in, and where the unit tests\n// reside (so you can test it yourself).\n//\n// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2\n// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,\n//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.\n// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/\n//\n// About: Known issues\n//\n// While this jQuery hashchange event implementation is quite stable and\n// robust, there are a few unfortunate browser bugs surrounding expected\n// hashchange event-based behaviors, independent of any JavaScript\n// window.onhashchange abstraction. See the following examples for more\n// information:\n//\n// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/\n// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/\n// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/\n// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/\n//\n// Also note that should a browser natively support the window.onhashchange\n// event, but not report that it does, the fallback polling loop will be used.\n//\n// About: Release History\n//\n// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more\n//         \"removable\" for mobile-only development. Added IE6/7 document.title\n//         support. Attempted to make Iframe as hidden as possible by using\n//         techniques from http://www.paciellogroup.com/blog/?p=604. Added\n//         support for the \"shortcut\" format $(window).hashchange( fn ) and\n//         $(window).hashchange() like jQuery provides for built-in events.\n//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and\n//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>\n//         and <jQuery.fn.hashchange.src> properties plus document-domain.html\n//         file to address access denied issues when setting document.domain in\n//         IE6/7.\n// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin\n//         from a page on another domain would cause an error in Safari 4. Also,\n//         IE6/7 Iframe is now inserted after the body (this actually works),\n//         which prevents the page from scrolling when the event is first bound.\n//         Event can also now be bound before DOM ready, but it won't be usable\n//         before then in IE6/7.\n// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug\n//         where browser version is incorrectly reported as 8.0, despite\n//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.\n// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special\n//         window.onhashchange functionality into a separate plugin for users\n//         who want just the basic event & back button support, without all the\n//         extra awesomeness that BBQ provides. This plugin will be included as\n//         part of jQuery BBQ, but also be available separately.\n\n(function($,window,undefined){\n  '$:nomunge'; // Used by YUI compressor.\n\n  // Reused string.\n  var str_hashchange = 'hashchange',\n\n    // Method / object references.\n    doc = document,\n    fake_onhashchange,\n    special = $.event.special,\n\n    // Does the browser support window.onhashchange? Note that IE8 running in\n    // IE7 compatibility mode reports true for 'onhashchange' in window, even\n    // though the event isn't supported, so also test document.documentMode.\n    doc_mode = doc.documentMode,\n    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );\n\n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    url = url || location.href;\n    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );\n  };\n\n  // Method: jQuery.fn.hashchange\n  //\n  // Bind a handler to the window.onhashchange event or trigger all bound\n  // window.onhashchange event handlers. This behavior is consistent with\n  // jQuery's built-in event handlers.\n  //\n  // Usage:\n  //\n  // > jQuery(window).hashchange( [ handler ] );\n  //\n  // Arguments:\n  //\n  //  handler - (Function) Optional handler to be bound to the hashchange\n  //    event. This is a \"shortcut\" for the more verbose form:\n  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,\n  //    all bound window.onhashchange event handlers will be triggered. This\n  //    is a shortcut for the more verbose\n  //    jQuery(window).trigger( 'hashchange' ). These forms are described in\n  //    the <hashchange event> section.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements.\n\n  // Allow the \"shortcut\" format $(elem).hashchange( fn ) for binding and\n  // $(elem).hashchange() for triggering, like jQuery does for built-in events.\n  $.fn[ str_hashchange ] = function( fn ) {\n    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );\n  };\n\n  // Property: jQuery.fn.hashchange.delay\n  //\n  // The numeric interval (in milliseconds) at which the <hashchange event>\n  // polling loop executes. Defaults to 50.\n\n  // Property: jQuery.fn.hashchange.domain\n  //\n  // If you're setting document.domain in your JavaScript, and you want hash\n  // history to work in IE6/7, not only must this property be set, but you must\n  // also set document.domain BEFORE jQuery is loaded into the page. This\n  // property is only applicable if you are supporting IE6/7 (or IE8 operating\n  // in \"IE7 compatibility\" mode).\n  //\n  // In addition, the <jQuery.fn.hashchange.src> property must be set to the\n  // path of the included \"document-domain.html\" file, which can be renamed or\n  // modified if necessary (note that the document.domain specified must be the\n  // same in both your main JavaScript as well as in this file).\n  //\n  // Usage:\n  //\n  // jQuery.fn.hashchange.domain = document.domain;\n\n  // Property: jQuery.fn.hashchange.src\n  //\n  // If, for some reason, you need to specify an Iframe src file (for example,\n  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can\n  // do so using this property. Note that when using this property, history\n  // won't be recorded in IE6/7 until the Iframe src file loads. This property\n  // is only applicable if you are supporting IE6/7 (or IE8 operating in \"IE7\n  // compatibility\" mode).\n  //\n  // Usage:\n  //\n  // jQuery.fn.hashchange.src = 'path/to/file.html';\n\n  $.fn[ str_hashchange ].delay = 50;\n  /*\n  $.fn[ str_hashchange ].domain = null;\n  $.fn[ str_hashchange ].src = null;\n  */\n\n  // Event: hashchange event\n  //\n  // Fired when location.hash changes. In browsers that support it, the native\n  // HTML5 window.onhashchange event is used, otherwise a polling loop is\n  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to\n  // see if the hash has changed. In IE6/7 (and IE8 operating in \"IE7\n  // compatibility\" mode), a hidden Iframe is created to allow the back button\n  // and hash-based history to work.\n  //\n  // Usage as described in <jQuery.fn.hashchange>:\n  //\n  // > // Bind an event handler.\n  // > jQuery(window).hashchange( function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // >\n  // > // Manually trigger the event handler.\n  // > jQuery(window).hashchange();\n  //\n  // A more verbose usage that allows for event namespacing:\n  //\n  // > // Bind an event handler.\n  // > jQuery(window).bind( 'hashchange', function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // >\n  // > // Manually trigger the event handler.\n  // > jQuery(window).trigger( 'hashchange' );\n  //\n  // Additional Notes:\n  //\n  // * The polling loop and Iframe are not created until at least one handler\n  //   is actually bound to the 'hashchange' event.\n  // * If you need the bound handler(s) to execute immediately, in cases where\n  //   a location.hash exists on page load, via bookmark or page refresh for\n  //   example, use jQuery(window).hashchange() or the more verbose\n  //   jQuery(window).trigger( 'hashchange' ).\n  // * The event can be bound before DOM ready, but since it won't be usable\n  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is\n  //   to bind it inside a DOM ready handler.\n\n  // Override existing $.event.special.hashchange methods (allowing this plugin\n  // to be defined after jQuery BBQ in BBQ's source code).\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n\n    // Called only when the first 'hashchange' event is bound to window.\n    setup: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n\n      // Otherwise, we need to create our own. And we don't want to call this\n      // until the user binds to the event, just in case they never do, since it\n      // will create a polling loop and possibly even a hidden Iframe.\n      $( fake_onhashchange.start );\n    },\n\n    // Called only when the last 'hashchange' event is unbound from window.\n    teardown: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n\n      // Otherwise, we need to stop ours (if possible).\n      $( fake_onhashchange.stop );\n    }\n\n  });\n\n  // fake_onhashchange does all the work of triggering the window.onhashchange\n  // event for browsers that don't natively support it, including creating a\n  // polling loop to watch for hash changes and in IE 6/7 creating a hidden\n  // Iframe to enable back and forward.\n  fake_onhashchange = (function(){\n    var self = {},\n      timeout_id,\n\n      // Remember the initial hash so it doesn't get triggered immediately.\n      last_hash = get_fragment(),\n\n      fn_retval = function(val){ return val; },\n      history_set = fn_retval,\n      history_get = fn_retval;\n\n    // Start the polling loop.\n    self.start = function() {\n      timeout_id || poll();\n    };\n\n    // Stop the polling loop.\n    self.stop = function() {\n      timeout_id && clearTimeout( timeout_id );\n      timeout_id = undefined;\n    };\n\n    // This polling loop checks every $.fn.hashchange.delay milliseconds to see\n    // if location.hash has changed, and triggers the 'hashchange' event on\n    // window when necessary.\n    function poll() {\n      var hash = get_fragment(),\n        history_hash = history_get( last_hash );\n\n      if ( hash !== last_hash ) {\n        history_set( last_hash = hash, history_hash );\n\n        $(window).trigger( str_hashchange );\n\n      } else if ( history_hash !== last_hash ) {\n        location.href = location.href.replace( /#.*/, '' ) + history_hash;\n      }\n\n      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );\n    };\n\n    return self;\n  })();\n\n})(jQuery,this);","/*\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n *\n * Uses the built in easing capabilities added In jQuery 1.1\n * to offer multiple easing options\n *\n * TERMS OF USE - jQuery Easing\n *\n * Open source under the BSD License.\n *\n * Copyright  2008 George McGinley Smith\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n*/\n\njQuery.easing['jswing'] = jQuery.easing['swing'];\n\njQuery.extend( jQuery.easing,\n{\n\tdef: 'easeOutQuad',\n\tswing: function (x, t, b, c, d) {\n\t\t//alert(jQuery.easing.default);\n\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\n\t},\n\teaseInQuad: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t + b;\n\t},\n\teaseOutQuad: function (x, t, b, c, d) {\n\t\treturn -c *(t/=d)*(t-2) + b;\n\t},\n\teaseInOutQuad: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t},\n\teaseInCubic: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t + b;\n\t},\n\teaseOutCubic: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\n\t},\n\teaseInOutCubic: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\n\t},\n\teaseInQuart: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t + b;\n\t},\n\teaseOutQuart: function (x, t, b, c, d) {\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\n\t},\n\teaseInOutQuart: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\n\t},\n\teaseInQuint: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t*t + b;\n\t},\n\teaseOutQuint: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\n\t},\n\teaseInOutQuint: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\n\t},\n\teaseInSine: function (x, t, b, c, d) {\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n\t},\n\teaseOutSine: function (x, t, b, c, d) {\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\n\t},\n\teaseInOutSine: function (x, t, b, c, d) {\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n\t},\n\teaseInExpo: function (x, t, b, c, d) {\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n\t},\n\teaseOutExpo: function (x, t, b, c, d) {\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n\t},\n\teaseInOutExpo: function (x, t, b, c, d) {\n\t\tif (t==0) return b;\n\t\tif (t==d) return b+c;\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n\t},\n\teaseInCirc: function (x, t, b, c, d) {\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n\t},\n\teaseOutCirc: function (x, t, b, c, d) {\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n\t},\n\teaseInOutCirc: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n\t},\n\teaseInElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t},\n\teaseOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n\t},\n\teaseInOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n\t},\n\teaseInBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\n\t},\n\teaseOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n\t},\n\teaseInOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n\t},\n\teaseInBounce: function (x, t, b, c, d) {\n\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\n\t},\n\teaseOutBounce: function (x, t, b, c, d) {\n\t\tif ((t/=d) < (1/2.75)) {\n\t\t\treturn c*(7.5625*t*t) + b;\n\t\t} else if (t < (2/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n\t\t} else if (t < (2.5/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n\t\t} else {\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n\t\t}\n\t},\n\teaseInOutBounce: function (x, t, b, c, d) {\n\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\n\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\n\t}\n});\n\n/*\n *\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright  2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */","/*global jQuery */\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n(function( $ ){\n\n  \"use strict\";\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='youtube.com']\",\n        \"iframe[src*='youtube-nocookie.com']\",\n        \"iframe[src*='kickstarter.com'][src*='video.html']\",\n        \"object\",\n        \"embed\"\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('id')){\n          var videoID = 'fitvid' + Math.floor(Math.random()*999999);\n          $this.attr('id', videoID);\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+\"%\");\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );","/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.\n * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.\n * Thanks to: Seamus Leahy for adding deltaX and deltaY\n *\n * Version: 3.0.4\n *\n * Requires: 1.2.2+\n */\n(function(c){var a=[\"DOMMouseScroll\",\"mousewheel\"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind(\"mousewheel\",d):this.trigger(\"mousewheel\")},unmousewheel:function(d){return this.unbind(\"mousewheel\",d)}});function b(i){var g=i||window.event,f=[].slice.call(arguments,1),j=0,h=true,e=0,d=0;i=c.event.fix(g);i.type=\"mousewheel\";if(i.wheelDelta){j=i.wheelDelta/120}if(i.detail){j=-i.detail/3}d=j;if(g.axis!==undefined&&g.axis===g.HORIZONTAL_AXIS){d=0;e=-1*j}if(g.wheelDeltaY!==undefined){d=g.wheelDeltaY/120}if(g.wheelDeltaX!==undefined){e=-1*g.wheelDeltaX/120}f.unshift(i,j,e,d);return c.event.handle.apply(this,f)}})(jQuery);","/*\n * zClip :: jQuery ZeroClipboard v1.1.1\n * http://steamdev.com/zclip\n *\n * Copyright 2011, SteamDev\n * Released under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n *\n * Date: Wed Jun 01, 2011\n */\n\n(function(a){a.fn.zclip=function(c){if(typeof c==\"object\"&&!c.length){var b=a.extend({path:\"ZeroClipboard.swf\",copy:null,beforeCopy:null,afterCopy:null,clickAfter:true,setHandCursor:true,setCSSEffects:true},c);return this.each(function(){var e=a(this);if(e.is(\":visible\")&&(typeof b.copy==\"string\"||a.isFunction(b.copy))){ZeroClipboard.setMoviePath(b.path);var d=new ZeroClipboard.Client();if(a.isFunction(b.copy)){e.bind(\"zClip_copy\",b.copy)}if(a.isFunction(b.beforeCopy)){e.bind(\"zClip_beforeCopy\",b.beforeCopy)}if(a.isFunction(b.afterCopy)){e.bind(\"zClip_afterCopy\",b.afterCopy)}d.setHandCursor(b.setHandCursor);d.setCSSEffects(b.setCSSEffects);d.addEventListener(\"mouseOver\",function(f){e.trigger(\"mouseenter\")});d.addEventListener(\"mouseOut\",function(f){e.trigger(\"mouseleave\")});d.addEventListener(\"mouseDown\",function(f){e.trigger(\"mousedown\");if(!a.isFunction(b.copy)){d.setText(b.copy)}else{d.setText(e.triggerHandler(\"zClip_copy\"))}if(a.isFunction(b.beforeCopy)){e.trigger(\"zClip_beforeCopy\")}});d.addEventListener(\"complete\",function(f,g){if(a.isFunction(b.afterCopy)){e.trigger(\"zClip_afterCopy\")}else{if(g.length>500){g=g.substr(0,500)+\"...\\n\\n(\"+(g.length-500)+\" characters not shown)\"}e.removeClass(\"hover\");alert(\"Copied text to clipboard:\\n\\n \"+g)}if(b.clickAfter){e.trigger(\"click\")}});d.glue(e[0],e.parent()[0]);a(window).bind(\"load resize\",function(){d.reposition()})}})}else{if(typeof c==\"string\"){return this.each(function(){var f=a(this);c=c.toLowerCase();var e=f.data(\"zclipId\");var d=a(\"#\"+e+\".zclip\");if(c==\"remove\"){d.remove();f.removeClass(\"active hover\")}else{if(c==\"hide\"){d.hide();f.removeClass(\"active hover\")}else{if(c==\"show\"){d.show()}}}})}}}})(jQuery);var ZeroClipboard={version:\"1.0.7\",clients:{},moviePath:\"ZeroClipboard.swf\",nextId:1,$:function(a){if(typeof(a)==\"string\"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display=\"none\"};a.show=function(){this.style.display=\"\"};a.addClass=function(b){this.removeClass(b);this.className+=\" \"+b};a.removeClass=function(d){var e=this.className.split(/\\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(\" \")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp(\"\\\\s*\"+b+\"\\\\s*\"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};if(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId=\"ZeroClipboardMovie_\"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:\"\",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,e){this.domElement=ZeroClipboard.$(d);var f=99;if(this.domElement.style.zIndex){f=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)==\"string\"){b=ZeroClipboard.$(b)}else{if(typeof(b)==\"undefined\"){b=document.getElementsByTagName(\"body\")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement(\"div\");this.div.className=\"zclip\";this.div.id=\"zclip-\"+this.movieId;$(this.domElement).data(\"zclipId\",\"zclip-\"+this.movieId);var a=this.div.style;a.position=\"absolute\";a.left=\"\"+c.left+\"px\";a.top=\"\"+c.top+\"px\";a.width=\"\"+c.width+\"px\";a.height=\"\"+c.height+\"px\";a.zIndex=f;if(typeof(e)==\"object\"){for(addedStyle in e){a[addedStyle]=e[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c=\"\";var b=\"id=\"+this.id+\"&width=\"+d+\"&height=\"+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?\"https://\":\"http://\";c+='<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0\" width=\"'+d+'\" height=\"'+a+'\" id=\"'+this.movieId+'\" align=\"middle\"><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"false\" /><param name=\"movie\" value=\"'+ZeroClipboard.moviePath+'\" /><param name=\"loop\" value=\"false\" /><param name=\"menu\" value=\"false\" /><param name=\"quality\" value=\"best\" /><param name=\"bgcolor\" value=\"#ffffff\" /><param name=\"flashvars\" value=\"'+b+'\"/><param name=\"wmode\" value=\"transparent\"/></object>'}else{c+='<embed id=\"'+this.movieId+'\" src=\"'+ZeroClipboard.moviePath+'\" loop=\"false\" menu=\"false\" quality=\"best\" bgcolor=\"#ffffff\" width=\"'+d+'\" height=\"'+a+'\" name=\"'+this.movieId+'\" align=\"middle\" allowScriptAccess=\"always\" allowFullScreen=\"false\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" flashvars=\"'+b+'\" wmode=\"transparent\" />'}return c},hide:function(){if(this.div){this.div.style.left=\"-2000px\"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML=\"\";var a=document.getElementsByTagName(\"body\")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=\"\"+b.left+\"px\";a.top=\"\"+b.top+\"px\"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,\"\");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,f){d=d.toString().toLowerCase().replace(/^on/,\"\");switch(d){case\"load\":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent(\"load\",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent(\"load\",null)},100);this.ready=true;return}this.ready=true;try{this.movie.setText(this.clipText)}catch(h){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(h){}break;case\"mouseover\":if(this.domElement&&this.cssEffects){this.domElement.addClass(\"hover\");if(this.recoverActive){this.domElement.addClass(\"active\")}}break;case\"mouseout\":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass(\"active\")){this.domElement.removeClass(\"active\");this.recoverActive=true}this.domElement.removeClass(\"hover\")}break;case\"mousedown\":if(this.domElement&&this.cssEffects){this.domElement.addClass(\"active\")}break;case\"mouseup\":if(this.domElement&&this.cssEffects){this.domElement.removeClass(\"active\");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var g=this.handlers[d][b];if(typeof(g)==\"function\"){g(this,f)}else{if((typeof(g)==\"object\")&&(g.length==2)){g[0][g[1]](this,f)}else{if(typeof(g)==\"string\"){window[g](this,f)}}}}}}};","// Knockout JavaScript library v3.1.0\n// (c) Steven Sanderson - http://knockoutjs.com/\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function() {(function(p){var A=this||(0,eval)(\"this\"),w=A.document,K=A.navigator,t=A.jQuery,C=A.JSON;(function(p){\"function\"===typeof require&&\"object\"===typeof exports&&\"object\"===typeof module?p(module.exports||exports):\"function\"===typeof define&&define.amd?define([\"exports\"],p):p(A.ko={})})(function(z){function G(a,c){return null===a||typeof a in M?a===c:!1}function N(a,c){var d;return function(){d||(d=setTimeout(function(){d=p;a()},c))}}function O(a,c){var d;return function(){clearTimeout(d);d=setTimeout(a,\nc)}}function H(b,c,d,e){a.d[b]={init:function(b,h,g,k,l){var n,r;a.ba(function(){var g=a.a.c(h()),k=!d!==!g,s=!r;if(s||c||k!==n)s&&a.ca.fa()&&(r=a.a.lb(a.e.childNodes(b),!0)),k?(s||a.e.U(b,a.a.lb(r)),a.gb(e?e(l,g):l,b)):a.e.da(b),n=k},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a=\"undefined\"!==typeof z?z:{};a.b=function(b,c){for(var d=b.split(\".\"),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version=\"3.1.0\";a.b(\"version\",\na.version);a.a=function(){function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}var e={__proto__:[]}instanceof Array,f={},h={};f[K&&/Firefox\\/2/i.test(K.userAgent)?\"KeyboardEvent\":\"UIEvents\"]=[\"keyup\",\"keydown\",\"keypress\"];f.MouseEvents=\"click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\".split(\" \");b(f,function(a,b){if(b.length)for(var c=0,\nd=b.length;c<d;c++)h[b[c]]=a});var g={propertychange:!0},k=w&&function(){for(var a=3,b=w.createElement(\"div\"),c=b.getElementsByTagName(\"i\");b.innerHTML=\"\\x3c!--[if gt IE \"+ ++a+\"]><i></i><![endif]--\\x3e\",c[0];);return 4<a?a:p}();return{mb:[\"authenticity_token\",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},l:function(a,b){if(\"function\"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===\nb)return c;return-1},hb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ma:function(b,c){var d=a.a.l(b,c);0<d?b.splice(d,1):0===d&&b.shift()},ib:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++)0>a.a.l(c,b[d])&&c.push(b[d]);return c},ya:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},la:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},$:function(a,b){if(b instanceof Array)a.push.apply(a,\nb);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Y:function(b,c,d){var e=a.a.l(a.a.Sa(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},na:e,extend:c,ra:d,sa:e?d:c,A:b,Oa:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var c=w.createElement(\"div\"),d=0,e=b.length;d<e;d++)c.appendChild(a.M(b[d]));return c},lb:function(b,c){for(var d=0,e=b.length,g=[];d<\ne;d++){var k=b[d].cloneNode(!0);g.push(c?a.M(k):k)}return g},U:function(b,c){a.a.Fa(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Bb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],g=e.parentNode,k=0,h=c.length;k<h;k++)g.insertBefore(c[k],e);k=0;for(h=d.length;k<h;k++)a.removeNode(d[k])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),\nc=c.nextSibling,!c)return;a.push(d)}}return a},Db:function(a,b){7>k?a.setAttribute(\"selected\",b):a.selected=b},ta:function(a){return null===a||a===p?\"\":a.trim?a.trim():a.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},oc:function(b,c){for(var d=[],e=(b||\"\").split(c),g=0,k=e.length;g<k;g++){var h=a.a.ta(e[g]);\"\"!==h&&d.push(h)}return d},kc:function(a,b){a=a||\"\";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===\na.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(b,c,d){var e=k&&g[c];if(!e&&t)t(b).bind(c,d);else if(e||\"function\"!=typeof b.addEventListener)if(\"undefined\"!=typeof b.attachEvent){var h=function(a){d.call(b,a)},f=\"on\"+c;b.attachEvent(f,\nh);a.a.u.ja(b,function(){b.detachEvent(f,h)})}else throw Error(\"Browser doesn't support addEventListener or attachEvent\");else b.addEventListener(c,d,!1)},ha:function(b,c){if(!b||!b.nodeType)throw Error(\"element must be a DOM node when calling triggerEvent\");var d;\"input\"===a.a.B(b)&&b.type&&\"click\"==c.toLowerCase()?(d=b.type,d=\"checkbox\"==d||\"radio\"==d):d=!1;if(t&&!d)t(b).trigger(c);else if(\"function\"==typeof w.createEvent)if(\"function\"==typeof b.dispatchEvent)d=w.createEvent(h[c]||\"HTMLEvents\"),\nd.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error(\"The supplied element doesn't support dispatchEvent\");else if(d&&b.click)b.click();else if(\"undefined\"!=typeof b.fireEvent)b.fireEvent(\"on\"+c);else throw Error(\"Browser doesn't support triggering events\");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,c,d){if(c){var e=/\\S+/g,g=b.className.match(e)||[];a.a.r(c.match(e),function(b){a.a.Y(g,b,d)});b.className=g.join(\" \")}},Xa:function(b,\nc){var d=a.a.c(c);if(null===d||d===p)d=\"\";var e=a.e.firstChild(b);!e||3!=e.nodeType||a.e.nextSibling(e)?a.e.U(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=k)try{a.mergeAttributes(w.createElement(\"<input name='\"+a.name+\"'/>\"),!1)}catch(c){}},Vb:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=\n[],e=b;e<=c;e++)d.push(e);return d},R:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},mc:6===k,nc:7===k,oa:k,ob:function(b,c){for(var d=a.a.R(b.getElementsByTagName(\"input\")).concat(a.a.R(b.getElementsByTagName(\"textarea\"))),e=\"string\"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],k=d.length-1;0<=k;k--)e(d[k])&&g.push(d[k]);return g},fc:function(b){return\"string\"==typeof b&&(b=a.a.ta(b))?C&&C.parse?C.parse(b):(new Function(\"return \"+b))():\nnull},Ya:function(b,c,d){if(!C||!C.stringify)throw Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");return C.stringify(a.a.c(b),c,d)},gc:function(c,d,e){e=e||{};var g=e.params||{},k=e.includeFields||this.mb,h=c;if(\"object\"==typeof c&&\"form\"===a.a.B(c))for(var h=c.action,f=k.length-1;0<=f;f--)for(var u=a.a.ob(c,k[f]),D=u.length-1;0<=D;D--)g[u[D].name]=\nu[D].value;d=a.a.c(d);var y=w.createElement(\"form\");y.style.display=\"none\";y.action=h;y.method=\"post\";for(var p in d)c=w.createElement(\"input\"),c.name=p,c.value=a.a.Ya(a.a.c(d[p])),y.appendChild(c);b(g,function(a,b){var c=w.createElement(\"input\");c.name=a;c.value=b;y.appendChild(c)});w.body.appendChild(y);e.submitter?e.submitter(y):y.submit();setTimeout(function(){y.parentNode.removeChild(y)},0)}}}();a.b(\"utils\",a.a);a.b(\"utils.arrayForEach\",a.a.r);a.b(\"utils.arrayFirst\",a.a.hb);a.b(\"utils.arrayFilter\",\na.a.la);a.b(\"utils.arrayGetDistinctValues\",a.a.ib);a.b(\"utils.arrayIndexOf\",a.a.l);a.b(\"utils.arrayMap\",a.a.ya);a.b(\"utils.arrayPushAll\",a.a.$);a.b(\"utils.arrayRemoveItem\",a.a.ma);a.b(\"utils.extend\",a.a.extend);a.b(\"utils.fieldsIncludedWithJsonPost\",a.a.mb);a.b(\"utils.getFormFields\",a.a.ob);a.b(\"utils.peekObservable\",a.a.Sa);a.b(\"utils.postJson\",a.a.gc);a.b(\"utils.parseJson\",a.a.fc);a.b(\"utils.registerEventHandler\",a.a.q);a.b(\"utils.stringifyJson\",a.a.Ya);a.b(\"utils.range\",a.a.ic);a.b(\"utils.toggleDomNodeCssClass\",\na.a.ua);a.b(\"utils.triggerEvent\",a.a.ha);a.b(\"utils.unwrapObservable\",a.a.c);a.b(\"utils.objectForEach\",a.a.A);a.b(\"utils.addOrRemoveItem\",a.a.Y);a.b(\"unwrap\",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var g=b[d];if(!g||\"null\"===g||!e[g]){if(!h)return p;g=b[d]=\"ko\"+c++;e[g]={}}return e[g]}\nvar c=0,d=\"__ko__\"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===p?p:e[d]},set:function(c,d,e){if(e!==p||a(c,!1)!==p)a(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},L:function(){return c++ +d}}};a.b(\"utils.domData\",a.a.f);a.b(\"utils.domData.clear\",a.a.f.clear);a.a.u=new function(){function b(b,c){var e=a.a.f.get(b,d);e===p&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](d);\na.a.f.clear(d);a.a.u.cleanExternalData(d);if(f[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ja:function(a,c){if(\"function\"!=typeof c)throw Error(\"Callback must be a function\");b(a,!0).push(c)},Ab:function(c,e){var k=b(c,!1);k&&(a.a.ma(k,e),0==k.length&&a.a.f.set(c,d,p))},M:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.$(d,b.getElementsByTagName(\"*\"));for(var k=0,l=d.length;k<l;k++)c(d[k])}return b},\nremoveNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){t&&\"function\"==typeof t.cleanData&&t.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b(\"cleanNode\",a.M);a.b(\"removeNode\",a.removeNode);a.b(\"utils.domNodeDisposal\",a.a.u);a.b(\"utils.domNodeDisposal.addDisposeCallback\",a.a.u.ja);a.b(\"utils.domNodeDisposal.removeDisposeCallback\",a.a.u.Ab);(function(){a.a.Qa=function(b){var c;if(t)if(t.parseHTML)c=t.parseHTML(b)||[];else{if((c=t.clean([b]))&&\nc[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.a.ta(b).toLowerCase();c=w.createElement(\"div\");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,\"<table>\",\"</table>\"]||!d.indexOf(\"<tr\")&&[2,\"<table><tbody>\",\"</tbody></table>\"]||(!d.indexOf(\"<td\")||!d.indexOf(\"<th\"))&&[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]||[0,\"\",\"\"];b=\"ignored<div>\"+d[1]+b+d[2]+\"</div>\";for(\"function\"==typeof A.innerShiv?c.appendChild(A.innerShiv(b)):\nc.innerHTML=b;d[0]--;)c=c.lastChild;c=a.a.R(c.lastChild.childNodes)}return c};a.a.Va=function(b,c){a.a.Fa(b);c=a.a.c(c);if(null!==c&&c!==p)if(\"string\"!=typeof c&&(c=c.toString()),t)t(b).html(c);else for(var d=a.a.Qa(c),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b(\"utils.parseHtmlFragment\",a.a.Qa);a.b(\"utils.setHtml\",a.a.Va);a.w=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.w.xb(c.nodeValue);null!=f&&e.push({Rb:c,cc:f})}else if(1==c.nodeType)for(var f=0,h=c.childNodes,g=h.length;f<g;f++)b(h[f],\ne)}var c={};return{Na:function(a){if(\"function\"!=typeof a)throw Error(\"You can only pass a function to ko.memoization.memoize()\");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return\"\\x3c!--[ko_memo:\"+b+\"]--\\x3e\"},Hb:function(a,b){var f=c[a];if(f===p)throw Error(\"Couldn't find any memo with ID \"+a+\". Perhaps it's already been unmemoized.\");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,e){var f=\n[];b(c,f);for(var h=0,g=f.length;h<g;h++){var k=f[h].Rb,l=[k];e&&a.a.$(l,e);a.w.Hb(f[h].cc,l);k.nodeValue=\"\";k.parentNode&&k.parentNode.removeChild(k)}},xb:function(a){return(a=a.match(/^\\[ko_memo\\:(.*?)\\]$/))?a[1]:null}}}();a.b(\"memoization\",a.w);a.b(\"memoization.memoize\",a.w.Na);a.b(\"memoization.unmemoize\",a.w.Hb);a.b(\"memoization.parseMemoText\",a.w.xb);a.b(\"memoization.unmemoizeDomNodeAndDescendants\",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);\nd=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,c){var d,e,f;\"number\"==typeof c?d=c:(d=c.timeout,e=c.method);f=\"notifyWhenChangesStop\"==e?O:N;a.Ma(function(a){return f(a,d)})},notify:function(a,c){a.equalityComparer=\"always\"==c?null:G}};var M={undefined:1,\"boolean\":1,number:1,string:1};a.b(\"extenders\",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,\"dispose\",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=\n{}};var F=\"change\";z={V:function(b,c,d){var e=this;d=d||F;var f=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],f)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(f);return f},notifySubscribers:function(b,c){c=c||F;if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),e=0,f;f=d[e];++e)f.sb||f.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),e,f,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&b!==F?\"beforeChange\"===b?c.bb(a):c.ia(a,b):c.cb(a)});var g=b(function(){d&&\nh===c&&(h=c());e=!1;c.Ka(f,h)&&c.ia(f=h)});c.cb=function(a){e=!0;h=a;g()};c.bb=function(a){e||(f=a,c.ia(a,\"beforeChange\"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,d){b+=d.length});return b},Ka:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.A(b,function(b,e){var f=a.Ga[b];\"function\"==typeof f&&(c=f(c,e)||c)});return c}};a.s(z,\"subscribe\",z.V);a.s(z,\"extend\",z.extend);a.s(z,\"getSubscriptionsCount\",\nz.Wb);a.a.na&&a.a.ra(z,Function.prototype);a.N.fn=z;a.tb=function(a){return null!=a&&\"function\"==typeof a.V&&\"function\"==typeof a.notifySubscribers};a.b(\"subscribable\",a.N);a.b(\"isSubscribable\",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b))throw Error(\"Only subscribable things can act as dependencies\");e.za(b,b.Kb||(b.Kb=++f))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e)return e.ba.fa()},\npa:function(){if(e)return e.pa}}}();a.b(\"computedContext\",a.ca);a.b(\"computedContext.getDependenciesCount\",a.ca.fa);a.b(\"computedContext.isInitial\",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,\"beforeChange\")};a.s(c,\"peek\",c.o);a.s(c,\"valueHasMutated\",c.O);a.s(c,\"valueWillMutate\",\nc.P);return c};a.m.fn={equalityComparer:G};var E=a.m.hc=\"__ko_proto__\";a.m.fn[E]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===p||b[E]===p?!1:b[E]===c?!0:a.Ha(b[E],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return\"function\"==typeof b&&b[E]===a.m||\"function\"==typeof b&&b[E]===a.h&&b.Yb?!0:!1};a.b(\"observable\",a.m);a.b(\"isObservable\",a.v);a.b(\"isWriteableObservable\",a.ub);a.T=function(b){b=b||[];if(\"object\"!=typeof b||!(\"length\"in b))throw Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");\nb=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e=\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var h=c[f];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(f,1),f--)}d.length&&this.O();return d},removeAll:function(b){if(b===p){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=\n\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.O()},destroyAll:function(b){return b===p?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.P(),this.o()[d]=c,this.O())}};a.a.r(\"pop push reverse shift sort splice unshift\".split(\" \"),function(b){a.T.fn[b]=function(){var a=this.o();\nthis.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r([\"slice\"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b(\"observableArray\",a.T);var I=\"arrayChange\";a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==F||++f;return c.apply(this,arguments)};var k=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb(I)){var d;\nif(!e||1<f)e=a.a.Aa(k,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,I)}k=c;e=null;f=0})}}if(!b.kb){var d=!1,e=null,f=0,h=b.V;b.V=b.subscribe=function(a,b,d){d===I&&c();return h.apply(this,arguments)};b.kb=function(b,c,l){function h(a,b,c){return r[r.length]={status:a,value:b,index:c}}if(d&&!f){var r=[],m=b.length,q=l.length,s=0;switch(c){case \"push\":s=m;case \"unshift\":for(c=0;c<q;c++)h(\"added\",l[c],s+c);break;case \"pop\":s=m-1;case \"shift\":m&&h(\"deleted\",b[s],s);break;case \"splice\":c=Math.min(Math.max(0,\n0>l[0]?m+l[0]:l[0]),m);for(var m=1===q?m:Math.min(c+(l[1]||0),m),q=c+q-2,s=Math.max(m,q),B=[],u=[],D=2;c<s;++c,++D)c<m&&u.push(h(\"deleted\",b[c],c)),c<q&&B.push(h(\"added\",l[D],c));a.a.nb(u,B);break;default:return}e=r}}}};a.ba=a.h=function(b,c,d){function e(){q=!0;a.a.A(v,function(a,b){b.F()});v={};x=0;n=!1}function f(){var a=g.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(h,a)):g.wa?g.wa():h()}function h(){if(!r&&!q){if(y&&y()){if(!m){p();return}}else m=!1;r=!0;try{var b=v,d=x;a.k.jb({za:function(a,\nc){q||(d&&b[c]?(v[c]=b[c],++x,delete b[c],--d):v[c]||(v[c]=a.V(f),++x))},ba:g,pa:!x});v={};x=0;try{var e=c?s.call(c):s()}finally{a.k.end(),d&&a.a.A(b,function(a,b){b.F()}),n=!1}g.Ka(l,e)&&(g.notifySubscribers(l,\"beforeChange\"),l=e,g.wa&&!g.throttleEvaluation||g.notifySubscribers(l))}finally{r=!1}x||p()}}function g(){if(0<arguments.length){if(\"function\"===typeof B)B.apply(c,arguments);else throw Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\nreturn this}n&&h();a.k.zb(g);return l}function k(){return n||0<x}var l,n=!0,r=!1,m=!1,q=!1,s=b;s&&\"object\"==typeof s?(d=s,s=d.read):(d=d||{},s||(s=d.read));if(\"function\"!=typeof s)throw Error(\"Pass a function that returns the value of the ko.computed\");var B=d.write,u=d.disposeWhenNodeIsRemoved||d.G||null,D=d.disposeWhen||d.Da,y=D,p=e,v={},x=0,t=null;c||(c=d.owner);a.N.call(g);a.a.sa(g,a.h.fn);g.o=function(){n&&!x&&h();return l};g.fa=function(){return x};g.Yb=\"function\"===typeof d.write;g.F=function(){p()};\ng.ga=k;var w=g.Ma;g.Ma=function(a){w.call(g,a);g.wa=function(){g.bb(l);n=!0;g.cb(g)}};a.s(g,\"peek\",g.o);a.s(g,\"dispose\",g.F);a.s(g,\"isActive\",g.ga);a.s(g,\"getDependenciesCount\",g.fa);u&&(m=!0,u.nodeType&&(y=function(){return!a.a.Ea(u)||D&&D()}));!0!==d.deferEvaluation&&h();u&&k()&&u.nodeType&&(p=function(){a.a.u.Ab(u,p);e()},a.a.u.ja(u,p));return g};a.$b=function(b){return a.Ha(b,a.h)};z=a.m.hc;a.h[z]=a.m;a.h.fn={equalityComparer:G};a.h.fn[z]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b(\"dependentObservable\",\na.h);a.b(\"computed\",a.h);a.b(\"isComputed\",a.$b);(function(){function b(a,f,h){h=h||new d;a=f(a);if(\"object\"!=typeof a||null===a||a===p||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var g=a instanceof Array?[]:{};h.save(a,g);c(a,function(c){var d=f(a[c]);switch(typeof d){case \"boolean\":case \"number\":case \"string\":case \"function\":g[c]=d;break;case \"object\":case \"undefined\":var n=h.get(d);g[c]=n!==p?n:b(d,f,h)}});return g}function c(a,b){if(a instanceof Array){for(var c=\n0;c<a.length;c++)b(c);\"function\"==typeof a.toJSON&&b(\"toJSON\")}else for(c in a)b(c)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error(\"When calling ko.toJS, pass the object you want to convert.\");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Gb(b);return a.a.Ya(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.ab[d]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,\nb);return 0<=b?this.ab[b]:p}}})();a.b(\"toJS\",a.Gb);a.b(\"toJSON\",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case \"option\":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode(\"value\")&&b.getAttributeNode(\"value\").specified?b.value:b.text:b.value;case \"select\":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):p;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case \"option\":switch(typeof c){case \"string\":a.a.f.set(b,a.d.options.Pa,\np);\"__ko__hasDomDataOptionValue__\"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value=\"number\"===typeof c?c:\"\"}break;case \"select\":if(\"\"===c||null===c)c=p;for(var e=-1,f=0,h=b.options.length,g;f<h;++f)if(g=a.i.p(b.options[f]),g==c||\"\"==g&&c===p){e=f;break}if(d||0<=e||c===p&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===p)c=\"\";b.value=c}}}})();a.b(\"selectExtensions\",a.i);a.b(\"selectExtensions.readValue\",\na.i.p);a.b(\"selectExtensions.writeValue\",a.i.X);a.g=function(){function b(b){b=a.a.ta(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),g,m,q=0;if(d){d.push(\",\");for(var s=0,B;B=d[s];++s){var u=B.charCodeAt(0);if(44===u){if(0>=q){g&&c.push(m?{key:g,value:m.join(\"\")}:{unknown:g});g=m=q=0;continue}}else if(58===u){if(!m)continue}else if(47===u&&s&&1<B.length)(u=d[s-1].match(f))&&!h[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),d.push(\",\"),s=-1,B=\"/\");else if(40===u||123===u||91===\nu)++q;else if(41===u||125===u||93===u)--q;else if(!g&&!m){g=34===u||39===u?B.slice(1,-1):B;continue}m?m.push(B):m=[B]}}return c}var c=[\"true\",\"false\",\"null\",\"undefined\"],d=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i,e=RegExp(\"\\\"(?:[^\\\"\\\\\\\\]|\\\\\\\\.)*\\\"|'(?:[^'\\\\\\\\]|\\\\\\\\.)*'|/(?:[^/\\\\\\\\]|\\\\\\\\.)*/w*|[^\\\\s:,/][^,\\\"'{}()/:[\\\\]]*[^\\\\s,\\\"'{}()/:[\\\\]]|[^\\\\s]\",\"g\"),f=/[\\])\"'A-Za-z0-9_$]+$/,h={\"in\":1,\"return\":1,\"typeof\":1},g={};return{aa:[],W:g,Ra:b,qa:function(e,l){function f(b,e){var l,k=a.getBindingHandler(b);\nif(k&&k.preprocess?e=k.preprocess(e,b,f):1){if(k=g[b])l=e,0<=a.a.l(c,l)?l=!1:(k=l.match(d),l=null===k?!1:k[1]?\"Object(\"+k[1]+\")\"+k[2]:l),k=l;k&&m.push(\"'\"+b+\"':function(_z){\"+l+\"=_z}\");q&&(e=\"function(){return \"+e+\" }\");h.push(\"'\"+b+\"':\"+e)}}l=l||{};var h=[],m=[],q=l.valueAccessors,s=\"string\"===typeof e?b(e):e;a.a.r(s,function(a){f(a.key||a.unknown,a.value)});m.length&&f(\"_ko_property_writers\",\"{\"+m.join(\",\")+\" }\");return h.join(\",\")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;\nreturn!1},va:function(b,c,d,e,g){if(b&&a.v(b))!a.ub(b)||g&&b.o()===e||b(e);else if((b=c.get(\"_ko_property_writers\"))&&b[d])b[d](e)}}}();a.b(\"expressionRewriting\",a.g);a.b(\"expressionRewriting.bindingRewriteValidators\",a.g.aa);a.b(\"expressionRewriting.parseObjectLiteral\",a.g.Ra);a.b(\"expressionRewriting.preProcessBindings\",a.g.qa);a.b(\"expressionRewriting._twoWayBindings\",a.g.W);a.b(\"jsonExpressionRewriting\",a.g);a.b(\"jsonExpressionRewriting.insertPropertyAccessorsIntoJson\",a.g.qa);(function(){function b(a){return 8==\na.nodeType&&h.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,g=1,k=[];e=e.nextSibling;){if(c(e)&&(g--,0===g))return k;k.push(e);b(e)&&g++}if(!d)throw Error(\"Cannot find closing comment tag to match: \"+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&\"\\x3c!--test--\\x3e\"===w.createComment(\"test\").text,h=f?/^\\x3c!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*--\\x3e$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/,\ng=f?/^\\x3c!--\\s*\\/ko\\s*--\\x3e$/:/^\\s*\\/ko\\s*$/,k={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++)e.parentNode.insertBefore(d[g],e)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,\nd,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(f?a.text:a.nodeValue).match(h))?a[1]:null},wb:function(d){if(k[a.a.B(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var f;f=g.firstChild;\nvar h=null;if(f){do if(h)h.push(f);else if(b(f)){var q=e(f,!0);q?f=q:h=[f]}else c(f)&&(h=[f]);while(f=f.nextSibling)}if(f=h)for(h=g.nextSibling,q=0;q<f.length;q++)h?d.insertBefore(f[q],h):d.appendChild(f[q])}while(g=g.nextSibling)}}}}})();a.b(\"virtualElements\",a.e);a.b(\"virtualElements.allowedBindings\",a.e.Q);a.b(\"virtualElements.emptyNode\",a.e.da);a.b(\"virtualElements.insertAfter\",a.e.rb);a.b(\"virtualElements.prepend\",a.e.yb);a.b(\"virtualElements.setDomNodeChildren\",a.e.U);(function(){a.J=function(){this.Nb=\n{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute(\"data-bind\");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(\"data-bind\");\ncase 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Nb,h=b+(e&&e.valueAccessors||\"\"),g;if(!(g=f[h])){var k,l=\"with($context){with($data||{}){return{\"+a.g.qa(b,e)+\"}}}\";k=new Function(\"$context\",\"$element\",l);g=f[h]=k}return g(c,d)}catch(n){throw n.message=\"Unable to parse bindings.\\nBindings value: \"+b+\"\\nMessage: \"+n.message,n;}}});a.J.instance=new a.J})();a.b(\"bindingProvider\",a.J);(function(){function b(a){return function(){return a}}function c(a){return a()}\nfunction d(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function e(a,b){return d(this.getBindings.bind(this,a,b))}function f(b,c,d){var e,g=a.e.firstChild(c),k=a.J.instance,f=k.preprocessNode;if(f){for(;e=g;)g=a.e.nextSibling(e),f.call(k,e);g=a.e.firstChild(c)}for(;e=g;)g=a.e.nextSibling(e),h(b,e,d)}function h(b,c,d){var e=!0,g=1===c.nodeType;g&&a.e.wb(c);if(g&&d||a.J.instance.nodeHasBindings(c))e=k(c,null,b,d).shouldBindDescendants;e&&!n[a.a.B(c)]&&f(b,c,!g)}function g(b){var c=\n[],d={},e=[];a.a.A(b,function y(g){if(!d[g]){var k=a.getBindingHandler(g);k&&(k.after&&(e.push(g),a.a.r(k.after,function(c){if(b[c]){if(-1!==a.a.l(e,c))throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \"+e.join(\", \"));y(c)}}),e.length--),c.push({key:g,pb:k}));d[g]=!0}});return c}function k(b,d,k,f){var h=a.a.f.get(b,r);if(!d){if(h)throw Error(\"You cannot apply bindings multiple times to the same element.\");a.a.f.set(b,r,!0)}!h&&f&&a.Eb(b,k);var l;if(d&&\"function\"!==\ntypeof d)l=d;else{var n=a.J.instance,m=n.getBindingAccessors||e,x=a.h(function(){(l=d?d(k,b):m.call(n,b,k))&&k.D&&k.D();return l},null,{G:b});l&&x.ga()||(x=null)}var t;if(l){var w=x?function(a){return function(){return c(x()[a])}}:function(a){return l[a]},z=function(){return a.a.Oa(x?x():l,c)};z.get=function(a){return l[a]&&c(w(a))};z.has=function(a){return a in l};f=g(l);a.a.r(f,function(c){var d=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g])throw Error(\"The binding '\"+g+\"' cannot be used with virtual elements\");\ntry{\"function\"==typeof d&&a.k.t(function(){var a=d(b,w(g),z,k.$data,k);if(a&&a.controlsDescendantBindings){if(t!==p)throw Error(\"Multiple bindings (\"+t+\" and \"+g+\") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");t=g}}),\"function\"==typeof e&&a.h(function(){e(b,w(g),z,k.$data,k)},null,{G:b})}catch(f){throw f.message='Unable to process binding \"'+g+\": \"+l[g]+'\"\\nMessage: '+f.message,f;}})}return{shouldBindDescendants:t===p}}\nfunction l(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var n={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,e){var g=this,k=\"function\"==typeof b&&!a.v(b),f,h=a.h(function(){var f=k?b():b,l=a.a.c(f);c?(c.D&&c.D(),a.a.extend(g,c),h&&(g.D=h)):(g.$parents=[],g.$root=l,g.ko=a);g.$rawData=f;g.$data=l;d&&(g[d]=l);e&&e(g,c,l);return g.$data},null,{Da:function(){return f&&!a.a.eb(f)},G:!0});h.ga()&&(g.D=h,h.equalityComparer=null,f=[],h.Jb=function(b){f.push(b);a.a.u.ja(b,\nfunction(b){a.a.ma(f,b);f.length||(h.F(),g.D=h=p)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,\"function\"==typeof b?b():b)})};var r=a.a.f.L(),m=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,m,c),\nc.D&&c.D.Jb(b);else return a.a.f.get(b,m)};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return k(b,c,l(d),!0)};a.Lb=function(c,e,g){g=l(g);return a.xa(c,\"function\"===typeof e?d(e.bind(null,g,c)):a.a.Oa(e,b),g)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||f(l(a),b,!0)};a.fb=function(a,b){!t&&A.jQuery&&(t=A.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");b=b||A.document.body;h(l(a),\nb,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return p};a.Pb=function(b){return(b=a.Ca(b))?b.$data:p};a.b(\"bindingHandlers\",a.d);a.b(\"applyBindings\",a.fb);a.b(\"applyBindingsToDescendants\",a.gb);a.b(\"applyBindingAccessorsToNode\",a.xa);a.b(\"applyBindingsToNode\",a.Lb);a.b(\"contextFor\",a.Ca);a.b(\"dataFor\",a.Pb)})();var L={\"class\":\"className\",\"for\":\"htmlFor\"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,\nd){d=a.a.c(d);var h=!1===d||null===d||d===p;h&&b.removeAttribute(c);8>=a.a.oa&&c in L?(c=L[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,d.toString());\"name\"===c&&a.a.Cb(b,h?\"\":d.toString())})}};(function(){a.d.checked={after:[\"value\",\"attr\"],init:function(b,c,d){function e(){return d.has(\"checkedValue\")?a.a.c(d.get(\"checkedValue\")):b.value}function f(){var g=b.checked,f=r?e():g;if(!a.ca.pa()&&(!k||g)){var h=a.k.t(c);l?n!==f?(g&&(a.a.Y(h,f,!0),a.a.Y(h,n,!1)),n=f):a.a.Y(h,f,g):a.g.va(h,d,\"checked\",\nf,!0)}}function h(){var d=a.a.c(c());b.checked=l?0<=a.a.l(d,e()):g?d:e()===d}var g=\"checkbox\"==b.type,k=\"radio\"==b.type;if(g||k){var l=g&&a.a.c(c())instanceof Array,n=l?e():p,r=k||l;k&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(f,null,{G:b});a.a.q(b,\"click\",f);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());\"object\"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||\n\"\"),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute(\"disabled\"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var h=c()||{};a.a.A(h,function(g){\"string\"==typeof g&&a.a.q(b,g,function(b){var h,n=c()[g];if(n){try{var r=a.a.R(arguments);e=f.$data;r.unshift(e);h=n.apply(e,r)}finally{!0!==h&&(b.preventDefault?\nb.preventDefault():b.returnValue=!1)}!1===d.get(g+\"Bubble\")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||\"number\"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,\nc){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.vb(c),d,e,f)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var k=b.ownerDocument;if(\"activeElement\"in k){var f;try{f=k.activeElement}catch(h){f=k.body}e=f===b}k=c();a.g.va(k,d,\"hasfocus\",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,\"focus\",f);a.a.q(b,\"focusin\",\nf);a.a.q(b,\"blur\",h);a.a.q(b,\"focusout\",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?\"focusin\":\"focusout\"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};H(\"if\");H(\"ifnot\",!1,!0);H(\"with\",!0,!1,function(a,c){return a.createChildContext(c)});var J={};a.d.options={init:function(b){if(\"select\"!==\na.a.B(b))throw Error(\"options binding applies only to SELECT elements\");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return\"function\"==d?b(a):\"string\"==d?a[b]:c}function h(c,d){if(r.length){var e=0<=a.a.l(r,a.i.p(d[0]));a.a.Db(d[0],e);m&&!e&&a.k.t(a.a.ha,null,[b,\"change\"])}}var g=0!=b.length&&b.multiple?b.scrollTop:null,k=a.a.c(c()),l=d.get(\"optionsIncludeDestroyed\");\nc={};var n,r;r=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];k&&(\"undefined\"==typeof k.length&&(k=[k]),n=a.a.la(k,function(b){return l||b===p||null===b||!a.a.c(b._destroy)}),d.has(\"optionsCaption\")&&(k=a.a.c(d.get(\"optionsCaption\")),null!==k&&k!==p&&n.unshift(J)));var m=!1;c.beforeRemove=function(a){b.removeChild(a)};k=h;d.has(\"optionsAfterRender\")&&(k=function(b,c){h(0,c);a.k.t(d.get(\"optionsAfterRender\"),null,[c[0],b!==J?b:p])});a.a.Ua(b,n,function(c,e,g){g.length&&\n(r=g[0].selected?[a.i.p(g[0])]:[],m=!0);e=b.ownerDocument.createElement(\"option\");c===J?(a.a.Xa(e,d.get(\"optionsCaption\")),a.i.X(e,p)):(g=f(c,d.get(\"optionsValue\"),c),a.i.X(e,a.a.c(g)),c=f(c,d.get(\"optionsText\"),g),a.a.Xa(e,c));return[e]},c,k);a.k.t(function(){d.get(\"valueAllowUnset\")&&d.has(\"value\")?a.i.X(b,a.a.c(d.get(\"value\")),!0):(b.multiple?r.length&&e().length<r.length:r.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==r[0]:r.length||0<=b.selectedIndex)&&a.a.ha(b,\"change\")});a.a.Tb(b);\ng&&20<Math.abs(g-b.scrollTop)&&(b.scrollTop=g)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:[\"options\",\"foreach\"],init:function(b,c,d){a.a.q(b,\"change\",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName(\"option\"),function(b){b.selected&&f.push(a.i.p(b))});a.g.va(e,d,\"selectedOptions\",f)})},update:function(b,c){if(\"select\"!=a.a.B(b))throw Error(\"values binding applies only to SELECT elements\");var d=a.a.c(c());d&&\"number\"==typeof d.length&&a.a.r(b.getElementsByTagName(\"option\"),function(b){var c=\n0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||\"\"})}};a.d.submit={init:function(b,c,d,e,f){if(\"function\"!=typeof c())throw Error(\"The value for a submit binding must be a function\");a.a.q(b,\"submit\",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},\nupdate:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d=\"ko_unique_\"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:[\"options\",\"foreach\"],init:function(b,c,d){function e(){g=!1;var e=c(),f=a.i.p(b);a.g.va(e,d,\"value\",f)}var f=[\"change\"],h=d.get(\"valueUpdate\"),g=!1;h&&(\"string\"==typeof h&&(h=[h]),a.a.$(f,h),f=a.a.ib(f));!a.a.oa||\"input\"!=b.tagName.toLowerCase()||\"text\"!=b.type||\"off\"==b.autocomplete||b.form&&\"off\"==b.form.autocomplete||\n-1!=a.a.l(f,\"propertychange\")||(a.a.q(b,\"propertychange\",function(){g=!0}),a.a.q(b,\"focus\",function(){g=!1}),a.a.q(b,\"blur\",function(){g&&e()}));a.a.r(f,function(c){var d=e;a.a.kc(c,\"after\")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c)if(\"select\"===a.a.B(b)){var f=d.get(\"valueAllowUnset\");d=function(){a.i.X(b,e,f)};d();f||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,\"change\"])}else a.i.X(b,e)}};a.g.W.value=!0;a.d.visible=\n{update:function(b,c){var d=a.a.c(c()),e=\"none\"!=b.style.display;d&&!e?b.style.display=\"\":!d&&e&&(b.style.display=\"none\")}};(function(b){a.d[b]={init:function(c,d,e,f,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,h)}}})(\"click\");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error(\"Override renderTemplateSource\");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error(\"Override createJavaScriptEvaluatorBlock\");};a.C.prototype.makeTemplateSource=\nfunction(b,c){if(\"string\"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error(\"Cannot find template with ID \"+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error(\"Unknown template type: \"+b);};a.C.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d)};a.C.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data(\"isRewritten\")};a.C.prototype.rewriteTemplate=\nfunction(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data(\"isRewritten\",!0)};a.b(\"templateEngine\",a.C);a.Za=function(){function b(b,c,d,g){b=a.g.Ra(b);for(var k=a.g.aa,l=0;l<b.length;l++){var n=b[l].key;if(k.hasOwnProperty(n)){var r=k[n];if(\"function\"===typeof r){if(n=r(b[l].value))throw Error(n);}else if(!r)throw Error(\"This template engine does not support the '\"+n+\"' binding within its templates\");}}d=\"ko.__tr_ambtns(function($context,$element){return(function(){return{ \"+a.g.qa(b,\n{valueAccessors:!0})+\" } })()},'\"+d.toLowerCase()+\"')\";return g.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi,d=/\\x3c!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*--\\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,f){return a.replace(c,function(a,c,d,e,n){return b(n,c,d,f)}).replace(d,function(a,c){return b(c,\"\\x3c!-- ko --\\x3e\",\n\"#comment\",f)})},Mb:function(b,c){return a.w.Na(function(d,g){var k=d.nextSibling;k&&k.nodeName.toLowerCase()===c&&a.xa(k,b,g)})}}}();a.b(\"__tr_ambtns\",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b=\"script\"===b?\"text\":\"textarea\"===b?\"value\":\"innerHTML\";if(0==arguments.length)return this.j[b];var c=arguments[0];\"innerHTML\"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+\"_\";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,\nb+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===p&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b(\"templateSources\",a.n);a.b(\"templateSources.domElement\",a.n.j);a.b(\"templateSources.anonymousTemplate\",\na.n.Z)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;)b=a.e.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],h=e.parentNode,m=a.J.instance,q=m.preprocessNode;if(q){b(e,f,function(a,b){var c=a.previousSibling,d=q.call(m,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):(c.push(e,f),a.a.ea(c,h))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==\nb.nodeType||a.w.Ib(b,[d])});a.a.ea(c,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,h,n,r){r=r||{};var m=b&&d(b),m=m&&m.ownerDocument,q=r.templateEngine||f;a.Za.Ub(h,q,m);h=q.renderTemplate(h,n,r,m);if(\"number\"!=typeof h.length||0<h.length&&\"number\"!=typeof h[0].nodeType)throw Error(\"Template engine must return an array of DOM nodes\");m=!1;switch(e){case \"replaceChildren\":a.e.U(b,h);m=!0;break;case \"replaceNode\":a.a.Bb(b,h);m=!0;break;case \"ignoreTargetNode\":break;default:throw Error(\"Unknown renderMode: \"+\ne);}m&&(c(h,n),r.afterRender&&a.k.t(r.afterRender,null,[h,n.$data]));return h}var f;a.Wa=function(b){if(b!=p&&!(b instanceof a.C))throw Error(\"templateEngine must inherit from ko.templateEngine\");f=b};a.Ta=function(b,c,h,n,r){h=h||{};if((h.templateEngine||f)==p)throw Error(\"Set a template engine before calling renderTemplate\");r=r||\"replaceChildren\";if(n){var m=d(n);return a.h(function(){var f=c&&c instanceof a.I?c:new a.I(a.a.c(c)),p=a.v(b)?b():\"function\"==typeof b?b(f.$data,f):b,f=e(n,r,p,f,h);\n\"replaceNode\"==r&&(n=f,m=d(n))},null,{Da:function(){return!m||!a.a.Ea(m)},G:m&&\"replaceNode\"==r?m.parentNode:m})}return a.w.Na(function(d){a.Ta(b,c,h,d,\"replaceNode\")})};a.jc=function(b,d,f,h,r){function m(a,b){c(b,s);f.afterRender&&f.afterRender(b,a)}function q(a,c){s=r.createChildContext(a,f.as,function(a){a.$index=c});var d=\"function\"==typeof b?b(a,s):b;return e(null,\"ignoreTargetNode\",d,s,f)}var s;return a.h(function(){var b=a.a.c(d)||[];\"undefined\"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||\nb===p||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[h,b,q,f,m])},null,{G:h})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());\"string\"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var m=c(),q;c=a.a.c(m);d=!0;e=null;\"string\"==typeof c?c={}:(m=c.name,\"if\"in c&&(d=a.a.c(c[\"if\"])),d&&\"ifnot\"in c&&(d=!a.a.c(c.ifnot)),q=a.a.c(c.data));\"foreach\"in c?e=a.jc(m||b,d&&c.foreach||\n[],c,b,f):d?(f=\"data\"in c?f.createChildContext(q,c.as):f,e=a.Ta(m||b,f,c,b)):a.e.da(b);f=e;(q=a.a.f.get(b,h))&&\"function\"==typeof q.F&&q.F();a.a.f.set(b,h,f&&f.ga()?f:p)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,\"name\")?null:\"This template engine does not support anonymous templates nested within its templates\"};a.e.Q.template=!0})();a.b(\"setTemplateEngine\",a.Wa);a.b(\"renderTemplate\",a.Ta);a.a.nb=function(a,c,d){if(a.length&&c.length){var e,f,h,g,k;for(e=\nf=0;(!d||e<d)&&(g=a[f]);++f){for(h=0;k=c[h];++h)if(g.value===k.value){g.moved=k.index;k.moved=g.index;c.splice(h,1);e=h=0;break}e+=h}}};a.a.Aa=function(){function b(b,d,e,f,h){var g=Math.min,k=Math.max,l=[],n,p=b.length,m,q=d.length,s=q-p||1,t=p+q+1,u,w,y;for(n=0;n<=p;n++)for(w=u,l.push(u=[]),y=g(q,n+s),m=k(0,n-1);m<=y;m++)u[m]=m?n?b[n-1]===d[m-1]?w[m-1]:g(w[m]||t,u[m-1]||t)+1:m+1:n+1;g=[];k=[];s=[];n=p;for(m=q;n||m;)q=l[n][m]-1,m&&q===l[n][m-1]?k.push(g[g.length]={status:e,value:d[--m],index:m}):\nn&&q===l[n-1][m]?s.push(g[g.length]={status:f,value:b[--n],index:n}):(--m,--n,h.sparse||g.push({status:\"retained\",value:d[m]}));a.a.nb(k,s,10*p);return g.reverse()}return function(a,d,e){e=\"boolean\"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<=d.length?b(a,d,\"added\",\"deleted\",e):b(d,a,\"deleted\",\"added\",e)}}();a.b(\"utils.compareArrays\",a.a.Aa);(function(){function b(b,c,f,h,g){var k=[],l=a.h(function(){var l=c(f,g,a.a.ea(k,b))||[];0<k.length&&(a.a.Bb(k,l),h&&a.k.t(h,null,[f,\nl,g]));k.length=0;a.a.$(k,l)},null,{G:b,Da:function(){return!a.a.eb(k)}});return{S:k,h:l.ga()?l:p}}var c=a.a.f.L();a.a.Ua=function(d,e,f,h,g){function k(b,c){v=r[c];u!==c&&(z[b]=v);v.Ia(u++);a.a.ea(v.S,d);s.push(v);y.push(v)}function l(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}e=e||[];h=h||{};var n=a.a.f.get(d,c)===p,r=a.a.f.get(d,c)||[],m=a.a.ya(r,function(a){return a.ka}),q=a.a.Aa(m,e,h.dontLimitMoves),s=[],t=0,u=0,w=[],y=[];e=[];for(var z=[],m=[],\nv,x=0,A,C;A=q[x];x++)switch(C=A.moved,A.status){case \"deleted\":C===p&&(v=r[t],v.h&&v.h.F(),w.push.apply(w,a.a.ea(v.S,d)),h.beforeRemove&&(e[x]=v,y.push(v)));t++;break;case \"retained\":k(x,t++);break;case \"added\":C!==p?k(x,C):(v={ka:A.value,Ia:a.m(u++)},s.push(v),y.push(v),n||(m[x]=v))}l(h.beforeMove,z);a.a.r(w,h.beforeRemove?a.M:a.removeNode);for(var x=0,n=a.e.firstChild(d),E;v=y[x];x++){v.S||a.a.extend(v,b(d,f,v.ka,g,v.Ia));for(t=0;q=v.S[t];n=q.nextSibling,E=q,t++)q!==n&&a.e.rb(d,q,E);!v.Zb&&g&&(g(v.ka,\nv.S,v.Ia),v.Zb=!0)}l(h.beforeRemove,e);l(h.afterMove,z);l(h.afterAdd,m);a.a.f.set(d,c,s)}})();a.b(\"utils.setDomNodeChildrenFromArrayMapping\",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b(\"nativeTemplateEngine\",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!t||\n!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf(\"__\"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f){f=f||{};if(2>a)throw Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");var h=b.data(\"precompiled\");h||(h=b.text()||\"\",h=t.template(null,\"{{ko_with $item.koBindingContext}}\"+h+\"{{/ko_with}}\"),b.data(\"precompiled\",h));b=[e.$data];e=t.extend({koBindingContext:e},f.templateOptions);e=t.tmpl(h,b,e);e.appendTo(w.createElement(\"div\"));\nt.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return\"{{ko_code ((function() { return \"+a+\" })()) }}\"};this.addTemplate=function(a,b){w.write(\"<script type='text/html' id='\"+a+\"'>\"+b+\"\\x3c/script>\")};0<a&&(t.tmpl.tag.ko_code={open:\"__.push($1 || '');\"},t.tmpl.tag.ko_with={open:\"with($1) {\",close:\"} \"})};a.La.prototype=new a.C;var b=new a.La;0<b.ac&&a.Wa(b);a.b(\"jqueryTmplTemplateEngine\",a.La)})()})})();})();","(function() {\n\n\tvar admin_path = window.location.pathname.replace(/\\/(index.html)?$/, ''),\n\t\tbase_path = admin_path.replace(/(.+)?\\/.*?$/, '$1/'),\n\t\thost = window.location.protocol + '//' + window.location.host,\n\n\thas = {\n\t\tlocalstorage: 'localStorage' in window && window.localStorage !== null\n\t},\n\n\tconfig = {\n\n\t\tretina: ('devicePixelRatio' in window && devicePixelRatio > 1) || ('matchMedia' in window && matchMedia(\"(min-resolution:144dpi)\").matches),\n\n\t\tcache: false,\n\n\t\teasing: 'easeInOutQuint',\n\n\t\tpaths: {\n\t\t\tadmin: host + admin_path,\n\t\t\tbase: host + base_path,\n\t\t\tbase_relative: base_path,\n\t\t\tstore: false\n\t\t},\n\n\t\tfallback_previews: {\n\t\t\timage: 'images/no-preview.png',\n\t\t\tvideo: 'images/no-preview.png'\n\t\t},\n\n\t\tplugin_paths: null,\n\n\t\treserved: ['app','library','upload','site','text','settings','plugins','login','store'],\n\n\t\tuploader: {\n\n\t\t\tdragging: false,\n\n\t\t\tdragTimeout: null,\n\n\t\t\tcurrentFile: null,\n\n\t\t\tproperties: {\n\t\t\t\truntimes\t\t\t\t: 'html5,flash',\n\t\t\t\tflash_swf_url\t\t\t: 'js/moxie.swf',\n\t\t\t\tbrowse_button_hover\t\t: 'hover',\n\t\t\t\tbrowse_button_active\t: 'active',\n\t\t\t\theaders: {\n\t\t\t\t\t'X-KOKEN-AUTH': 'cookie'\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\thelpers = {\n\n\t\tparse_tag_input: function(str) {\n\t\t\tstr = str.toLowerCase().replace(/[\\s,\\,]+/g, ' ').replace(/[<>]/g, '');\n\n\t\t\tvar multis = str.match(/\"(.*?)\"/g),\n\t\t\t\ttags = [];\n\n\t\t\tif (multis) {\n\t\t\t\t$.each(multis, function(i, tag) {\n\t\t\t\t\tstr = str.replace(tag, '');\n\t\t\t\t\ttags.push(tag.replace(/[\"]/g, ''));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tstr = str.replace(/[\\s]+/, ' ').trim();\n\t\t\tif (str.length) {\n\t\t\t\ttags = tags.concat(str.split(' '));\n\t\t\t}\n\t\t\treturn tags;\n\t\t},\n\n\t\tbool: function(str) {\n\n\t\t\treturn ( str !== null && str.replace(/['\"]/g,'') == 'true' ) ? true : false;\n\t\t},\n\n\t\tclean: function(str) {\n\n\t\t\treturn str.replace(/['\"]/g,'');\n\n\t\t},\n\n\t\tfile_ext: function(file) {\n\n\t\t\tvar ext = file.lastIndexOf('.') + 1;\n\n\t\t\treturn ( ext > 0 ) ? file.substr( ext ).replace(/\\?.*$/, '') : '';\n\n\t\t},\n\n\t\tcapitalize: function(str) {\n\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\n\t\t},\n\n\t\tdistinctArray: function(left,right) {\n\n\t\t\tvar filtered;\n\n\t\t\tfiltered = $.grep( left, function(k,v) {\n\t\t\t\treturn right.indexOf(k) >= 0;\n\t\t\t});\n\n\t\t\treturn ( filtered.length === left.length ) ? false : true;\n\n\t\t},\n\n\t\tguid: function() {\n\t\t\treturn 'xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\t    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t    return v.toString(16);\n\t\t\t});\n\t\t},\n\n\t\toutside: function(el,cb) {\n\n\t\t\t$('html').on('click.outside', function(e) {\n\t\t\t\t$('html').off('.outside');\n\t\t\t\tif ($(e.target).closest(el).length <= 0) {\n\t\t\t\t\tcb.call(el);\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\trtrim: function(str,charlist) {\n\n\t\t\t// http://phpjs.org/functions/rtrim\n\n\t\t\tcharlist = !charlist ? ' \\\\s\\u00A0' : (charlist + '').replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\\\$1');\n\n\t\t\tvar re = new RegExp('[' + charlist + ']+$', 'g');\n\n\t\t\treturn (str + '').replace(re, '');\n\n\t\t},\n\n\t\tstrcon: function(haystack,needle) {\n\n\t\t\tvar i, len, ret = false;\n\n\t\t\tfor ( i = 0, len = haystack.length; i < len; i++ ) {\n\n\t\t\t\tif ( haystack[i].indexOf(needle) >= 0 ) {\n\n\t\t\t\t\tret = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn ret;\n\n\t\t},\n\n\t\tstristr: function(haystack,needle,bool) {\n\n\t\t\t// http://phpjs.org/functions/stristr\n\n\t\t\tvar pos = 0;\n\n\t\t\thaystack += '';\n\t\t\tpos = haystack.toLowerCase().indexOf( ( needle + '' ).toLowerCase() );\n\n\t\t\tif (pos == -1) {\n\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\tif (bool) {\n\n\t\t\t\t\treturn haystack.substr(0, pos);\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn haystack.slice(pos);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tunique: function(arr) {\n\n\t\t\tvar temp = [];\n\n\t\t\t$.each( arr, function(k,v) {\n\t\t\t\tif ( temp.indexOf(v) < 0 ) {\n\t\t\t\t\ttemp.push(v);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn temp;\n\n\t\t},\n\n\t\tuniqueObjects: function(arr) {\n\n\t\t\tvar filtered = [];\n\n\t\t\t$.each( arr, function() {\n\n\t\t\t\tvar parent\t= this,\n\t\t\t\t\tdupe\t= false;\n\n\t\t\t\tif ( filtered.length <= 0 ) { filtered.push(this); return; }\n\n\t\t\t\t$.each( filtered, function() {\n\n\t\t\t\t\tvar a = JSON.stringify(this),\n\t\t\t\t\t\tb = JSON.stringify(parent);\n\n\t\t\t\t\tif ( a == b ) { dupe = true; return; }\n\n\t\t\t\t});\n\n\t\t\t\tif (!dupe) { filtered.push(this); }\n\n\t\t\t});\n\n\t\t\treturn filtered;\n\n\t\t},\n\n\t\tviewport_area: function() {\n\n\t\t\tif ( $('#mid-content').length > 0 ) {\n\n\t\t\t\tvar midOff\t= $('#mid-content').offset(),\n\t\t\t\tmidWidth\t= $('#mid-content').width(),\n\t\t\t\tmidHeight\t= ( $('#mid-menu-bot').offset().top ) - ( midOff.top ),\n\t\t\t\tcol\t\t\t= Math.floor( midWidth / 124 ),\n\t\t\t\trow\t\t\t= Math.floor( midHeight / 142 );\n\n\t\t\t\treturn {\n\t\t\t\t\tcol\t\t: col,\n\t\t\t\t\trow\t\t: row,\n\t\t\t\t\ttotal\t: col * ( row + 5 ),\n\t\t\t\t\twidth\t: midWidth,\n\t\t\t\t\theight\t: midHeight\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tframework = {\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.cache()\n\n\t\t\tPARAMS: prop (object|string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.cache\n\n\t\t\tEXAMPLE:\n\t\t\tthis.cache('<div/>');\n\t\t\tthis.cache($('#id'));\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcache: function(prop) {\n\n\t\t\tvar type = ( prop instanceof Object ) ? 'val' : 'key';\n\n\t\t\tif ( type === 'key' ) {\n\t\t\t\tthis.internalcache._current = prop;\n\t\t\t} else {\n\t\t\t\tthis.internalcache[this.internalcache._current] = {\n\t\t\t\t\tsrc\t\t: prop.html(),\n\t\t\t\t\tscroll\t: prop.closest('.scroll_wrapper').scrollTop()\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.change()\n\n\t\t\tPARAMS: name (string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.change checks for a defined interface, if it finds one already defined it uses that one, otherwise it will\n\t\t\tcreate a new interface.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.change('login',$('#container'));\n\n\n\t\t****************************************************************************************************************/\n\n\t\tchange: function(name,cb) {\n\n\t\t\tif ( this.observers && this.observers['interface'] ) {\n\t\t\t\tif ( this.interfaces[name] ) {\n\t\t\t\t\tdelete this.interfaces[name];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.create(name,cb);\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.cookie()\n\n\t\t\tPARAMS: key (string), val (string), expire (number)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.cookie sets and/or retrieves a cookie. The expire param is the expiration of the cookie set in days. It is\n\t\t\tset to 30 days by default.\n\n\t\t\tEXAMPLE:\n\t\t\t// Set a cookie\n\t\t\tK.cookie( 'foo', 'bar' );\n\n\t\t\t// Retrieve a cookie\n\t\t\tK.cookie( 'foo' ); // Will return bar\n\n\t\t\t// Expire a cookie\n\t\t\tK.cookie( 'foo', null );\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcookie: function(key, val, expire) {\n\n\t\t\tvar date\t= new Date(),\n\t\t\t\texpires = '',\n\t\t\t\tpath = key === 'preview' || key === 'share_to_tumblr' ? '/' : this.config.paths.admin.replace(window.location.protocol + '//' + window.location.host, ''),\n\t\t\t\tparts, i, len, item, name;\n\n\t\t\t// Specifically check for undefined here, as false signifies we want cookie to expire when browser is closed\n\t\t\texpire = expire === undefined ? 30 : expire;\n\n\t\t\tif ( val === null ) {\n\n\t\t\t\texpires = 'expires=' + date.setTime( date.getTime() + ( -1 * 24 * 60 * 60 * 1000 ) ) + date.toGMTString();\n\n\t\t\t\tdocument.cookie = key + '=' + val + ';' + expires + '; path=' + path;\n\n\t\t\t} else if ( val ) {\n\n\t\t\t\tif ( expire ) {\n\n\t\t\t\t\tdate.setTime( date.getTime() + ( expire * 24 * 60 * 60 * 1000 ) );\n\n\t\t\t\t\texpires = '; expires=' + date.toGMTString();\n\n\t\t\t\t}\n\n\t\t\t\tdocument.cookie = key + '=' + JSON.stringify(val) + expires + '; path=' + path;\n\n\t\t\t}\n\n\t\t\tif ( arguments.length > 0 ) {\n\n\t\t\t\tparts\t= document.cookie.split(';');\n\t\t\t\tname\t= key + '=';\n\n\t\t\t\tfor ( i = 0, len = parts.length; i < len; i++ ) {\n\n\t\t\t\t\titem = parts[i].trim();\n\n\t\t\t\t\tif ( item.indexOf(name) === 0 ) {\n\n\t\t\t\t\t\treturn JSON.parse( decodeURIComponent(item).substring(name.length, item.length) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.create()\n\n\t\t\tPARAMS: name (string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.create creates a new interface, pass in the name of the interface and it will do the rest. This method\n\t\t\tmakes an assumption that you have setup a matching template called [name].tmpl.html in the templates directory.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.create('login');\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcreate: function(name,cb) {\n\n\t\t\tif ( !name ) { return; }\n\n\t\t\tvar self = this;\n\n\t\t\tvar rebuildInheritance = function(name,type) {\n\n\t\t\t\tvar alteredSubclass = this.subclass({});\n\n\t\t\t\tfor ( var k in this.interfaces.app[type] ) {\n\t\t\t\t\tif ( this.interfaces.app[type].hasOwnProperty(k) ) {\n\t\t\t\t\t\talteredSubclass[k] = this.interfaces.app[type][k];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.subclass.call( alteredSubclass, ( typeof this[name][type] === 'function' ) ? this[name][type].call(this) : this[name][type] );\n\n\t\t\t};\n\n\t\t\tvar GUI = function() {\n\n\t\t\t\tvar req;\n\n\t\t\t\tif (config.reserved.indexOf(name) !== -1) {\n\t\t\t\t\treq = this.config.paths.base_relative + 'admin/templates/' + name + '.tmpl.html?1464959862110';\n\t\t\t\t} else {\n\t\t\t\t\treq = this.config.paths.base_relative + 'storage/plugins/koken-hook-example/plugin.tmpl.html?1464959862110';\n\t\t\t\t}\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this.interfaces[name];\n\n\t\t\t\t\t\tthis.interfaces.active = {\n\t\t\t\t\t\t\tid: name\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Clear previous bindings\n\t\t\t\t\t\t$('body').off('keydown').off();\n\t\t\t\t\t\t$(document).off('mouseover,mouseout');\n\n\t\t\t\t\t\t// Clear previous pub/subs\n\t\t\t\t\t\tthis.pubsub('reset');\n\n\t\t\t\t\t\t$('#templates').append(data);\n\n\t\t\t\t\t\tif ( this[name].observers ) {\n\t\t\t\t\t\t\tthis.observers = ( name !== 'app' && this[name].observers ) ? rebuildInheritance.call(this, name, 'observers' ) : this.subclass( this[name].observers.call(this) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].models ) {\n\t\t\t\t\t\t\tthis.models = ( name !== 'app' && this[name].models ) ? rebuildInheritance.call(this, name, 'models' ) : this.subclass((this[name].models instanceof Function) ? this[name].models.call(this) : this[name].models);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].controllers ) {\n\t\t\t\t\t\t\tthis.controllers = ( name !== 'app' && this[name].controllers ) ? rebuildInheritance.call(this, name, 'controllers' ) : this.subclass(this[name].controllers || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].views ) {\n\t\t\t\t\t\t\tthis.views = ( name !== 'app' && this[name].views ) ? rebuildInheritance.call( this, name, 'views' ) : this.subclass(this[name].views || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].events ) {\n\t\t\t\t\t\t\tthis.events = ( name !== 'app' && this[name].events ) ? rebuildInheritance.call( this, name, 'events' ) : this.subclass(this[name].events || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].router ) {\n\t\t\t\t\t\t\tthis.router = ( name !== 'app' && this[name].router ) ? rebuildInheritance.call(this, name, 'router' ) : this.subclass( this[name].router() );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].exit && name !== 'app' ) {\n\t\t\t\t\t\t\tthis.exit = this[name].exit;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis[name].init && this[name].init.call(this);\n\n\t\t\t\t\t\t// Add reset method to internal ko for putting observables back to their original state\n\t\t\t\t\t\tko.subscribable.fn.reset = function() {\n\t\t\t\t\t\t\tvar obs = this;\n\t\t\t\t\t\t\tobs( obs() instanceof Array ? [] : '' );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ( name !== 'app' && name !== 'login' ) {\n\t\t\t\t\t\t\tthis.observers['interface'](name);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( cb && cb.call ) { cb.call(this); }\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tif ( this.interfaces[name] instanceof _Koken === false ) {\n\t\t\t\tthis.interfaces[name] = this.subclass(GUI);\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.construct()\n\n\t\t\tPARAMS: constructor (object), prototypes[arguments array] (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.construct is a simple constructor function to create classes with appropriate interface scope\n\n\t\t\tEXAMPLE:\n\t\t\tK.construct({ name: 'classname', fn: function() { console.log('im a class'); } });\n\n\n\t\t****************************************************************************************************************/\n\n\t\tconstruct: function(constructor) {\n\n\t\t\tvar args\t\t= Array.prototype.slice.call(arguments,1),\n\t\t\t\ti\t\t\t= 0,\n\t\t\t\tlen\t\t\t= args.length,\n\t\t\t\tself\t\t= this;\n\n\t\t\tthis.klass[constructor.name] = function() {\n\n\t\t\t\tvar context = this;\n\n\t\t\t\treturn (function() {\n\n\t\t\t\t\tvar intface\t= this.interfaces[this.interfaces.active.id],\n\t\t\t\t\t\ttemp\t= intface.subclass(context),\n\t\t\t\t\t\to;\n\n\t\t\t\t\ttemp.extend = function(id,fn) {\n\n\t\t\t\t\t\tvar args = Array.prototype.slice.call(arguments,2),\n\t\t\t\t\t\t\tself = this,\n\t\t\t\t\t\t\torig = this[id];\n\n\t\t\t\t\t\tthis[id] = function() {\n\t\t\t\t\t\t\torig.apply(self,args);\n\t\t\t\t\t\t\tfn.apply(self,args);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t};\n\n\t\t\t\t\tintface.classes\t\t\t\t\t\t= intface.classes || {};\n\t\t\t\t\tintface.classes[constructor.name]\t= intface.classes[constructor.name] || intface.subclass({});\n\t\t\t\t\to\t\t\t\t\t\t\t\t\t= (function() {\n\t\t\t\t\t\tconstructor.fn.apply( this, arguments );\n\t\t\t\t\t\ttemp.id = temp.id || arguments[0];\n\t\t\t\t\t}).apply( temp, arguments );\n\n\t\t\t\t\tfor ( var key in o ) {\n\t\t\t\t\t\tif ( key !== constructor.name && o.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\ttemp[key] = o[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn intface.classes[constructor.name][temp.id] = temp;\n\n\t\t\t\t}).apply(self,arguments);\n\n\t\t\t};\n\n\t\t\tif ( len <= 0 ) { return; }\n\n\t\t\tdo {\n\t\t\t\tself.klass[constructor.name].prototype[args[i].name] = args[i].fn;\n\t\t\t\ti++;\n\t\t\t} while ( i < len );\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.map()\n\n\t\t\tPARAMS: observer (object), data (object), exclude (array)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.map is used to turn JSON into proper knockout observable/observable arrays\n\n\t\t\tEXAMPLE:\n\t\t\tK.map()\n\n\n\t\t****************************************************************************************************************/\n\n\t\tmap: function(observer,data,exclude) {\n\n\t\t\tif ( $.isEmptyObject(data) ) { return false; }\n\n\t\t\tvar val,\n\n\t\t\twrap = function(obs,data,recur) {\n\n\t\t\t\tfor ( var k in data ) {\n\n\t\t\t\t\tval = data[k];\n\n\t\t\t\t\tif ( val instanceof Object && ! $.isArray(val) ) {\n\t\t\t\t\t\twrap( obs[k] = obs[k] || {}, val, true );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( exclude && exclude.indexOf(k) >= 0 ) {\n\t\t\t\t\t\t\tobs[k] = val;\n\t\t\t\t\t\t} else if (obs[k]) {\n\t\t\t\t\t\t\tif ( obs[k] instanceof Function ) {\n\t\t\t\t\t\t\t\tobs[k](val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobs[k] = ( $.isArray(val) ) ? ko.observableArray(val) : ko.observable(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (!recur) { return obs; }\n\n\t\t\t};\n\n\t\t\tobserver = wrap(observer,data);\n\n\t\t},\n\n\t\tnotify: function() {\n\n\t\t\tvar e\t\t\t= $('#notifications'),\n\t\t\t\ttemplate\t= $('#notify_mu'),\n\t\t\t\tnote, label, txt, msg, origH;\n\n\t\t\te.append( template.html() );\n\n\t\t\tnote\t\t\t= e.find('.note').last();\n\t\t\tlabel\t\t\t= note.find('.icon:first');\n\t\t\ttxt\t\t\t\t= note.find('.text:first');\n\n\t\t\te.height('auto');\n\t\t\tif (e.find('.note').length === 1) {\n\t\t\t\te.hide();\n\t\t\t}\n\t\t\tnote.hide();\n\n\t\t\tvar init = function(obj, type) {\n\n\t\t\t\tif (typeof obj == 'object') {\n\t\t\t\t\tvar key = obj.shift();\n\t\t\t\t\tif (!K.messages[key]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tmsg = vsprintf(K.messages[key], obj);\n\t\t\t\t} else {\n\t\t\t\t\tmsg = obj;\n\t\t\t\t}\n\n\t\t\t\tif (type === 'wait') {\n\t\t\t\t\tmsg += '';\n\t\t\t\t}\n\n\t\t\t\ttxt.html(msg);\n\t\t\t\tlabel.removeClass('note-success note-warn note-wait').addClass('icon note-' + type);\n\n\t\t\t\tif (!e.is(':visible')) {\n\t\t\t\t\tnote.show();\n\t\t\t\t\te.fadeIn();\n\t\t\t\t} else {\n\t\t\t\t\tnote.fadeIn();\n\t\t\t\t}\n\n\t\t\t\tif (type != 'wait') {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (e.find('.note').length === 1) {\n\t\t\t\t\t\t\te.fadeOut(null, function() {\n\t\t\t\t\t\t\t\tnote.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.fadeOut(null, function() {\n\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 4000);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn {\n\n\t\t\t\twarn: function(obj) {\n\t\t\t\t\tinit(obj, 'warn');\n\t\t\t\t},\n\n\t\t\t\tsuccess: function(obj) {\n\t\t\t\t\tinit(obj, 'success');\n\t\t\t\t},\n\n\t\t\t\twait: function(obj) {\n\t\t\t\t\tinit(obj, 'wait');\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.pubsub\n\n\t\t\tPARAMS: none\n\n\t\t\tDESCRIPTION:\n\t\t\tK.pubsub utilizes jqueries binds to make a basic pub/sub system\n\n\t\t\tEXAMPLE:\n\t\t\tK.pubsub()\n\n\n\t\t****************************************************************************************************************/\n\n\t\tpubsub: function(namespace,opt) {\n\n\t\t\tvar self = this;\n\n\t\t\tif ( ! this.pubsub._subs ) { this.pubsub._subs = []; }\n\n\t\t\tvar subscribe = function() {\n\n\t\t\t\tif ( self.pubsub._subs.indexOf(namespace) >= 0 ) { return; }\n\n\t\t\t\t$(self.interfaces.app).bind( namespace, opt );\n\t\t\t\tself.pubsub._subs.push(namespace);\n\n\t\t\t};\n\n\t\t\tvar trigger = function() {\n\t\t\t\t$(self.interfaces.app).trigger( namespace, opt );\n\t\t\t};\n\n\t\t\tif ( opt && opt instanceof Function ) {\n\t\t\t\tsubscribe();\n\t\t\t} else if ( namespace !== 'reset' ) {\n\t\t\t\ttrigger();\n\t\t\t} else if ( namespace === 'reset' ) {\n\t\t\t\t$(self.interfaces.app).unbind();\n\t\t\t\tthis.pubsub._subs = [];\n\t\t\t}\n\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.queue\n\n\t\t\tPARAMS: ajax paramaters [see api.jquery.com/jQuery.ajax] (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.queue is used to queue up ajax requests from K.sync. It shouldn't ever be called directly as all ajax request\n\t\t\tshould be passing through K.sync. Its simply here in core to make it easier to keep track of a global queue.\n\n\t\t\tEXAMPLE:\n\t\t\tK.queue(params)\n\n\n\t\t****************************************************************************************************************/\n\n\t\tqueue: function(items) {\n\n\t\t\tthis.queue.async = this.queue.async || [];\n\t\t\tthis.queue.sync = this.queue.sync || [];\n\t\t\tthis.queue.counts = this.queue.counts || {\n\t\t\t\tasync: 0,\n\t\t\t\tsync: 0,\n\t\t\t\tmax_async: 4,\n\t\t\t\tmax_sync: 1\n\t\t\t}\n\n\t\t\tif (this.system && this.system.max_parallel_requests) this.queue.counts.max_async = this.system.max_parallel_requests;\n\n\t\t\tvar self = this,\n\n\t\t\tverifyData = function(data, xhr) {\n\t\t\t\tif (xhr.status === 304 && !data && !this.rerun) {\n\t\t\t\t\tthis.cache = false;\n\t\t\t\t\tthis.rerun = true;\n\t\t\t\t\tputIntoQueue(this);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tputIntoQueue = function(item) {\n\t\t\t\tself.queue[(item.method === 'PUT' || item.method === 'DELETE') ? 'sync' : 'async'].push(item);\n\t\t\t},\n\n\t\t\trunQueue = function() {\n\t\t\t\tvar _run = function(type) {\n\t\t\t\t\tif (this.queue[type].length > 0 && this.queue.counts[type] < this.queue.counts['max_' + type]) {\n\t\t\t\t\t\tvar _item = this.queue[type].splice(0,1)[0],\n\t\t\t\t\t\t\t_method = _item.method,\n\t\t\t\t\t\t\t_success = _item.success,\n\t\t\t\t\t\t\t_error = _item.error;\n\n\t\t\t\t\t\tdelete _item.method; // jQuery xhr object doesn't filter out method which allows it to override their type parameter\n\t\t\t\t\t\tdelete _item.success;\n\t\t\t\t\t\tdelete _item.error;\n\n\t\t\t\t\t\tif (!_item.headers) _item.headers = [];\n\n\t\t\t\t\t\tif (_item.headers || _item.data || _method || _item.dataType === 'json') _item.headers['X-Koken-Auth'] = 'cookie';\n\n\t\t\t\t\t\tif (_item.data && _item.data.length > 0 || _method) _item.type = 'POST';\n\n\t\t\t\t\t\tif (_method === 'PUT' || _method === 'DELETE') {\n\t\t\t\t\t\t\t_item.headers['X-Http-Method-Override'] = _method;\n\t\t\t\t\t\t\t_item.data = ( _item.data ) ? _item.data + '&_method=' + _method : '_method=' + _method;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.queue.counts[type]++;\n\n\t\t\t\t\t\t$.ajax(_item)\n\t\t\t\t\t\t\t.done(_success)\n\t\t\t\t\t\t\t.fail(_error)\n\t\t\t\t\t\t\t.always(function() {\n\t\t\t\t\t\t\t\tself.queue.counts[type]--;\n\t\t\t\t\t\t\t\trunQueue.call(self);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_run.call(this, 'async');\n\t\t\t\t_run.call(this, 'sync');\n\t\t\t}\n\n\t\t\tif (!(items.request instanceof Array)) {\n\t\t\t\tputIntoQueue(items);\n\t\t\t} else if (items.request instanceof Array) {\n\t\t\t\tvar clonedItems = $.extend({}, items);\n\n\t\t\t\t$.each(clonedItems.request, function(i, item) {\n\t\t\t\t\tvar newRequest = $.extend({}, item);\n\n\t\t\t\t\tnewRequest.request = item.request;\n\t\t\t\t\tnewRequest.url = item.request.indexOf('.tmpl') === - 1 ? self.config.paths.base_relative + 'api.php?/' + item.request : item.request;\n\n\t\t\t\t\tif (clonedItems.headers || clonedItems.data || clonedItems.method) {\n\t\t\t\t\t\tnewRequest.headers = [];\n\n\t\t\t\t\t\tif (clonedItems.data && clonedItems.data.length > 0 || clonedItems.method) newRequest.type = 'POST';\n\n\t\t\t\t\t\tif (clonedItems.method === 'PUT' || clonedItems.method === 'DELETE') {\n\t\t\t\t\t\t\tnewRequest.headers['X-Http-Method-Override'] = clonedItems.method;\n\t\t\t\t\t\t\tnewRequest.data = ( clonedItems.data ) ? clonedItems.data + '&_method=' + clonedItems.method : '_method=' + clonedItems.method;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i < (clonedItems.request.length - 1)) {\n\t\t\t\t\t\tnewRequest.success = function(data, status, xhr) {\n\t\t\t\t\t\t\tif (verifyData.call(newRequest, data, xhr)) {\n\t\t\t\t\t\t\t\tif (data.error === 'Unable to parse the info.json file for this theme.') {\n\t\t\t\t\t        \t\tnew self.klass.modal('bindingsError', 'bindings_error_modal', {\n\t\t\t\t        \t\t\t\thasKeepCancel: {\n\t\t\t\t        \t\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t\t        \t\t\t\t},\n\t\t\t\t        \t\t\t\tmsg: 'Koken has detected a formatting error in your theme\\'s info.json file. If developing your own theme, please check the file and try again. You may also switch to a different theme to resolve this issue.'\n\t\t\t\t        \t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titem.finished && item.finished.call(clonedItems.context || this, ( data.length === 1 ) ? data.shift() : data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (i === (items.request.length - 1)) {\n\t\t\t\t\t\tnewRequest.success = function(data, status, xhr) {\n\t\t\t\t\t\t\tif (verifyData.call(newRequest, data, xhr)) {\n\t\t\t\t\t\t\t\tvar _data = ( data.length === 1 ) ? data.shift() : data;\n\t\t\t\t\t\t\t\titem.finished && item.finished.call(clonedItems.context || this, _data);\n\t\t\t\t\t\t\t\tclonedItems.finished && clonedItems.finished.call(clonedItems.context || this, _data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tputIntoQueue(newRequest);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trunQueue.call(this);\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.router()\n\n\t\t\tPARAMS: none\n\n\t\t\tDESCRIPTION:\n\t\t\tK.router only needs to be run by the K.hashchange method, should not be invoked outside of that function\n\n\t\t\tEXAMPLE:\n\t\t\tK.router()\n\n\n\t\t****************************************************************************************************************/\n\n\t\trouter: function(fragment) {\n\n\t\t\tvar plugin_paths\t\t= this.config.plugin_paths || [];\n\n\t\t\tif ( typeof plugin_paths !== 'string' ) {\n\t\t\t\t$.each(this.interfaces.app.observers.channels(), function(i, channel) {\n\t\t\t\t\tplugin_paths.push(channel.id);\n\t\t\t\t});\n\n\t\t\t\tif ( plugin_paths.length > 0 ) {\n\t\t\t\t\tplugin_paths = this.config.plugin_paths = '|' + plugin_paths.join('|');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar regx\t\t\t\t= '^\\\\/(library|text|site|settings|store|plugins' + plugin_paths + ')\\\\/?(.*)?\\\\/?$',\n\t\t\t\tparts\t\t\t\t= fragment.match(new RegExp(regx)),\n\t\t\t\ttarget_interface\t= parts ? parts[1] : 'library',\n\t\t\t\tlocal\t\t\t\t= parts && parts[2] ? parts[2] : false,\n\t\t\t\tself\t\t\t\t= this,\n\t\t\t\treg, doesMatch, matches;\n\n\t\t\tif ( this.interfaces[this.interfaces.active.id].observers.hasChanges ) {\n\t\t\t\tif ( this.interfaces[this.interfaces.active.id].observers.hasChanges() ) {\n\t\t\t\t\tvar c_leave = function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(false);\n\t\t\t\t\t\t$.bbq.removeState( $.param.fragment() );\n\t\t\t\t\t\t$.bbq.pushState( self.hash, 2 );\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(true);\n\t\t\t\t\t\t},10);\n\t\t\t\t\t}\n\t\t\t\t\tvar k_leave = function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(false);\n\t\t\t\t\t\tif ( $.param.fragment().split('/').length > 0 ) {\n\t\t\t\t\t\t\tself.router( $.param.fragment() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(document)\n\t\t\t\t\t\t.off('click.schanges')\n\t\t\t\t\t\t.on( 'click.schanges', '#cancel_leave', c_leave)\n\t\t\t\t\t\t.on( 'click.schanges', '#keep_leave', k_leave);\n\n\t\t\t\t\tthis.interfaces[this.interfaces.active.id].classes.modal.unsaved_changes.show();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This sets the url of the main nav item to the current hash so that when a user returns to an\n\t\t\t// interface they pick up where they left off\n\t\t\t// Splitting by /install here to ensure store installation links don't get re-ran\n\t\t\tif (local && local.indexOf('upload') === -1) {\n\t\t\t\t$('#main-nav a[class~=\"' + target_interface + '-interface\"]').attr('href', '#' + fragment.split('/install')[0]);\n\t\t\t}\n\n\t\t\t// Prevents scroll tracks from jumpiness when toggling between views that switch in/out of having scrollbars\n\t\t\t$('.scroll_track').css('opacity','0');\n\n\t\t\tif ( this.interfaces.active.id !== target_interface ) {\n\n\t\t\t\t$('#edit-area').length && $('#edit-area').remove();\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself[self.active.id].exit && self[self.active.id].exit();\n\t\t\t\t\tself.change.apply( self.app, [ target_interface, function() {\n\t\t\t\t\t\tself.interfaces.router( fragment );\n\t\t\t\t\t}]);\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\tvar intface = this.interfaces[this.interfaces.active.id];\n\n\t\t\t\tvar pluginCleanup = function() {\n\t\t\t\t\tif (intface.plugins) {\n\t\t\t\t\t\t$.each(intface.plugins, function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.rendered.length > 0) {\n\t\t\t\t\t\t\t\t$.each(plugin.rendered, function(j, rendered) {\n\t\t\t\t\t\t\t\t\trendered.remove();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.hash = fragment;\n\n\t\t\t\t$('.redactor_air').remove();\n\t\t\t\t$('.redactor_dropdown').remove();\n\n\t\t\t\tif ( (!local || local.length === 0) && intface.router['default'] ) {\n\n\t\t\t\t\tpluginCleanup();\n\t\t\t\t\tintface.router['default'].apply( intface );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif (intface.plugins) {\n\t\t\t\t\t$.each(intface.plugins, function(i, plugin) {\n\t\t\t\t\t\tif (plugin.routes.length > 0) {\n\t\t\t\t\t\t\t$.each(plugin.routes, function(j, route) {\n\t\t\t\t\t\t\t\tif (route._interface === intface.classes.app.koken.channel) {\n\t\t\t\t\t\t\t\t\tintface.router[route._path] = route._callback;\n\t\t\t\t\t\t\t\t\tintface.router[route._path].plugin = route._context;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar _routes = [];\n\n\t\t\t\tfor( var r in intface.router ) {\n\t\t\t\t\tif ( intface.router.hasOwnProperty(r) && r != 'default'  ) {\n\t\t\t\t\t\t_routes.push(r);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (_routes.length > 0) {\n\t\t\t\t\t_routes.sort(function(a,b) {\n\t\t\t\t\t\treturn (a.length > b.length) ? -1 : 1;\n\t\t\t\t\t});\n\n\t\t\t\t\t$.each(_routes, function(i, route) {\n\t\t\t\t\t\treg = new RegExp(route);\n\t\t\t\t\t\tdoesMatch = reg.test(local);\n\n\t\t\t\t\t\tif (doesMatch) {\n\t\t\t\t\t\t\tmatches = local.match(reg);\n\t\t\t\t\t\t\tif (intface.router[route].plugin) {\n\t\t\t\t\t\t\t\tif (fragment.indexOf('upload') !== -1 && intface.observers.view() !== 'upload') {\n\t\t\t\t\t\t\t\t\tintface.observers.pluginPath(fragment);\n\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/upload', 2 );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (!self.app.classes.app.koken.lastLocal) intface.router['default'].apply( intface );\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\tintface.router[route].apply(intface.router[route].plugin, [matches]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpluginCleanup();\n\t\t\t\t\t\t\t\tintface.router[route].apply(intface, [matches]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.app.classes.app.koken.lastLocal = local;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Nothing matched, hit the default if it exists\n\t\t\t\tif ( intface.router['default'] && !doesMatch ) {\n\n\t\t\t\t\tpluginCleanup();\n\t\t\t\t\tintface.router['default'].apply( intface, [ local ] );\n\t\t\t\t\tself.app.classes.app.koken.lastLocal = local;\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tsession: function() {\n\n\t\t\tif (arguments.length) {\n\n\t\t\t\tvar data = arguments[0];\n\n\t\t\t\tthis._session = data;\n\n\t\t\t} else {\n\t\t\t\treturn this._session || false;\n\t\t\t}\n\n\t\t},\n\n\t\tstore_api: function(payload, cb) {\n\t\t\tpayload.uuid = this.observers.settings.uuid();\n\t\t\t$.post(this.config.paths.store + '/console_webhook_endpoint', payload, $.proxy(function() {\n\t\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\t\tcb.call(this);\n\t\t\t\t}\n\t\t\t}, this));\n\t\t},\n\n\t\tpersist: function() {\n\n\t\t\tif (!has.localstorage) { return false; }\n\n\t\t\t// Protect these keys and their values from cache expiration\n\t\t\tvar protect = [ 'library.quick_collection' ];\n\n\t\t\tif (arguments.length === 2) {\n\t\t\t\twhile(1) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlocalStorage.setItem(arguments[0], JSON.stringify(arguments[1]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} catch( err ) {\n\t\t\t\t\t\t// Over our storage quota\n\t\t\t\t\t\t// Pop off oldest cache until we have more room\n\t\t\t\t\t\tif (err.name == 'QUOTA_EXCEEDED_ERR') {\n\t\t\t\t\t\t\tvar len = localStorage.length;\n\t\t\t\t\t\t\twhile( len-- ) {\n\t\t\t\t\t\t\t\tvar k = localStorage.key(len);\n\t\t\t\t\t\t\t\tif ($.inArray(k, protect) === -1) {\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem( k );\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// If we get here, there just isn't any room or something, so let's bail.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Some other error, better bail.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn JSON.parse( localStorage.getItem( arguments[0] ) );\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.subclass()\n\n\t\t\tPARAMS: fn (function)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.subclass initializes and sets up a subclass with proper context. It also allows you to pass in an optional function\n\t\t\tto be run during setup.\n\n\t\t\tEXAMPLE:\n\n\n\t\t****************************************************************************************************************/\n\n\t\tsubclass: function(fn) {\n\n\t\t\tvar k,\n\n\t\t\tF = function() {\n\n\t\t\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof F ) ) ) {\n\t\t\t\t\treturn new F();\n\t\t\t\t}\n\n\t\t\t\tif (fn && fn instanceof Function) {\n\t\t\t\t\tfn.call(this);\n\t\t\t\t}\n\n\t\t\t\tif (fn && fn instanceof Object) {\n\t\t\t\t\tfor (var k in fn) {\n\t\t\t\t\t\tthis[k] = fn[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\n\t\t\t};\n\n\t\t\tF.prototype = this;\n\n\t\t\treturn F();\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.sync()\n\n\t\t\tPARAMS: ajax paramaters [see api.jquery.com/jQuery.ajax] (object), scope (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.sync is a wrapper for simpler/easier ajax calls. It will automatically set GET/POST depending on\n\t\t\twhether or not it needs it. Multiple ajax calls can be made asynchronously by passing in an array\n\t\t\tof urls. If making multiple requests the success function that is passed in will not fire\n\t\t\tuntil all of the requests have completed. Conversely the error function will fire if any of the\n\t\t\trequests fails but not until its done making all of its requests. Upon failure any data it received from the\n\t\t\tsuccessful requests will be passed to the error handler. this.sync can also be passed the scope as the second\n\t\t\tparameter which will set the callback to that scope upon execution. this.sync({ request: url }) is the only\n\t\t\trequirement to make the call successful.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.sync({\n\t\t\t\trequest: '/my/data/url',\n\t\t\t\tsuccess: successFunc,\n\t\t\t\terror: errorFunc,\n\t\t\t\tdata: 'passThisVar=true'\n\t\t\t});\n\n\t\t\tthis.sync({\n\t\t\t\trequest: ['/my/data/url1','/my/data/url2','/my/data/ur3','/my/data/ur4'],\n\t\t\t\tsuccess: successFunc, // Will be fired when all requests are completed\n\t\t\t\terror: errorFunc // Will fire if any requests fail after all requests have been made\n\t\t\t});\n\n\n\t\t****************************************************************************************************************/\n\n\t\tsync: function(params) {\n\n\t\t\tvar res\t\t= {},\n\t\t\t\tlen\t\t= 0,\n\t\t\t\targs\t= [].splice.call(arguments,1),\n\t\t\t\tself\t= this,\n\n\t\t\trun = function(url,index) {\n\n\t\t\t\tparams.url\t\t= url instanceof Object && url.request || url;\n\t\t\t\tparams.dataType\t= helpers.file_ext(params.url);\n\t\t\t\tparams.error\t= function(d,r,o) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\td = JSON.parse(d.responseText);\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\td = { error: true };\n\t\t\t\t\t}\n\t\t\t\t\tif (url.finished) url.finished.call( params.context || this, d );\n\t\t\t\t\tres.data[index]\t= d;\n\t\t\t\t\tvar _ctxt = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tparams.finished && params.finished.call( params.context || _ctxt, ( res.data.length === 1 ) ? res.data.shift() : res.data, args );\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tparams.success\t= function(d,r,o) {\n\t\t\t\t\tif (url.finished) url.finished.call( params.context || this, d );\n\t\t\t\t\tif ( o.getResponseHeader('Content-Type') !== 'application/x-javascript' ) res.data[index] = d;\n\t\t\t\t\tvar _ctxt = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tparams.finished.call( params.context || _ctxt, ( res.data.length === 1 ) ? res.data.shift() : res.data, args );\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tif ( params.dataType === 'js' ) {\n\t\t\t\t\tparams.dataType = 'script';\n\t\t\t\t} else if ( params.dataType === 'json' ) {\n\t\t\t\t\tparams.dataType = 'json';\n\t\t\t\t} else if ( params.dataType !== 'html' ) {\n\t\t\t\t\tparams.dataType = 'json';\n\t\t\t\t\tparams.url = (params.url.indexOf('://') === -1) ? self.config.paths.base + 'api.php?/' + params.url : params.url;\n\t\t\t\t}\n\n\t\t\t\tif (params.request instanceof Array && index === 0 || index === 0) self.queue(params);\n\n\t\t\t};\n\n\t\t\tparams.headers = params.headers || [];\n\n\t\t\tres.data\t= [];\n\t\t\tres.status\t= [];\n\n\t\t\t// Checks if request exists, if it does and its a string make it an array, if its already an array leave it alone,\n\t\t\t// otherwise its just a simple url so split to make an array\n\t\t\t$.each( (params.request) ? params.request.split && params.request.split(' ') || params.request : params.split(' '), function(i,key) {\n\t\t\t\tlen = i+1;\n\t\t\t\trun(key,i);\n\t\t\t});\n\n\t\t},\n\n\t\tunmap: function(data) {\n\n\t\t\tvar unwrapped,\n\n\t\t\textract = function(d,recur) {\n\n\t\t\t\tfor ( var k in d ) {\n\n\t\t\t\t\tunwrapped = ko.utils.unwrapObservable(d[k]);\n\n\t\t\t\t\tif ( unwrapped instanceof Object && unwrapped instanceof Array === false ) {\n\t\t\t\t\t\textract(d[k],true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\td[k] = unwrapped;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (!recur) { return d; }\n\n\t\t\t};\n\n\t\t\treturn extract( $.extend( true, {}, data ) );\n\n\t\t}\n\n\t},\n\n\t// Internal Only\n\tK = function() {\n\n\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof K ) ) ) {\n\t\t\treturn new K();\n\t\t}\n\n\t\tthis.config = config || {};\n\t\tthis.has = has || {};\n\n\t\treturn this;\n\n\t},\n\n\t// Used for plugin private functions to be able to access the internal Koken [object object]\n\t__k,\n\n\t// Mapped to [window] for plugin authors\n\t__Koken = function() {\n\n\t\tvar _guid;\n\n\t\tvar _data = function() {\n\t\t\tvar plugins = __k.interfaces.app.observers.user_plugins(),\n\t\t\t\tpath = __k.plugins[this.kguid].path,\n\t\t\t\tdata = {};\n\n\t\t\tif (plugins) {\n\t\t\t\t$.each(plugins, function(i, plugin) {\n\t\t\t\t\tif (plugin.path === path) {\n\t\t\t\t\t\t$.each(plugin.data, function(i, setting) {\n\t\t\t\t\t\t\tdata[setting.key] = setting.value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t};\n\n\t\tvar _internalTemplate = function(needle,selector,plugin) {\n\n\t\t\tif (!$('#container ' + needle).length) return;\n\n\t\t\tvar existingElement;\n\t\t\tplugin.elements.length && $.each(plugin.elements, function(i, element) {\n\t\t\t\tif (element.needle == needle) {\n\t\t\t\t\texistingElement = element;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!existingElement) {\n\t\t\t\tvar existingElement = {\n\t\t\t\t\t'needle': needle,\n\t\t\t\t\t'guid': helpers.guid()\n\t\t\t\t}\n\t\t\t\tplugin.elements.push(existingElement);\n\t\t\t}\n\n\t\t\tvar _vm = this,\n\t\t\t\t_element = $('<span/>').addClass('plugin_' + plugin.kguid + ' e_' + existingElement.guid).html($('#templates ' + selector).html()),\n\t\t\t\t_obj = {};\n\n\t\t\texistingElement = $('.plugin_' + plugin.kguid + '.e_' + existingElement.guid);\n\t\t\tif (!existingElement.length) {\n\n\t\t\t\t// If the user has set an html string via _render we convert it to a template to keep bindings properly nested\n\t\t\t\tif (_vm.html) {\n\t\t\t\t\tvar templateId = 'template_' + helpers.guid(),\n\t\t\t\t\t\tinnerHtml = $('<span id=\"' + templateId + '\" />').append(_vm.html);\n\t\t\t\t\t_vm.html = templateId;\n\t\t\t\t\t$('#templates').append(innerHtml);\n\t\t\t\t}\n\n\t\t\t\t// Create model and init ko for newly rendered element\n\t\t\t\tif (_vm.appendAfter) {\n\t\t\t\t\t_element = _element.insertAfter('#container ' + needle + (_vm.appendAfter ? ' [data-plugin-target=\"' + _vm.appendAfter + '\"]' : ''));\n\t\t\t\t} else {\n\t\t\t\t\t_element = _element.appendTo('#container ' + needle);\n\t\t\t\t}\n\t\t\t\tif ($.isEmptyObject(_vm)) { return; }\n\t\t\t\t__k.map(_obj, _vm);\n\t\t\t\tko.applyBindings(_obj, _element.get(0));\n\n\t\t\t} else {\n\t\t\t\t// Update view models for elements already created\n\t\t\t\tif ($.isEmptyObject(_vm)) { return; }\n\t\t\t\tif (_vm.html) delete _vm.html;\n\t\t\t\tif (existingElement.length) __k.map(ko.dataFor(existingElement.get(0)), _vm);\n\t\t\t}\n\n\t\t\treturn existingElement;\n\n\t\t}\n\n\t\tvar _hook = function(handler,cb) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\t\t\tvar self = this;\n\t\t\t__k.plugins[this.kguid].hooks = __k.plugins[this.kguid].hooks || '.' + this.namespace;\n\t\t\t$(document).off(handler + '.' + this.namespace).on(handler + '.' + this.namespace, function(e,data) {\n\t\t\t\tvar _args = Array.prototype.slice.call(arguments, 1);\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tcb.apply($.extend({}, self, {context: $(e.target)}), _args);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tvar _route = function(interface, path, callback) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\n\t\t\tvar parts = path.split('/').slice(1),\n\t\t\t\tobj = {},\n\t\t\t\tself = this,\n\t\t\t\tmodified_route = path.split('/').join('/');\n\n\t\t\tobj[modified_route] = function() {\n\t\t\t\tcallback.call(self);\n\t\t\t};\n\n\t\t\t__k.plugins[this.kguid].routes.push({\n\t\t\t\t_path: modified_route,\n\t\t\t\t_callback: callback,\n\t\t\t\t_interface: interface,\n\t\t\t\t_context: self\n\t\t\t});\n\n\t\t\tif (typeof __k.interfaces[interface].router !== 'function') $.extend(__k.interfaces[interface].router, obj);\n\t\t}\n\n\t\tvar _get = function(which) {\n\t\t\tvar activeInterface = __k.interfaces[__k.interfaces.active.id];\n\n\t\t\tswitch(which) {\n\t\t\t\tcase 'album' :\n\t\t\t\t\treturn activeInterface.observers.properties.album.selected();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar _channel = function(channel,callback) {\n\t\t\t__k.interfaces.app.observers.channels.push(channel);\n\t\t\tvar _kproto = _Koken.prototype[channel.id] = {};\n\t\t\tcallback && callback.call(_kproto);\n\t\t}\n\n\t\tvar _change = {\n\t\t\tview: function(id) {\n\t\t\t\tif ( __k.interfaces.active.id === 'settings' ) {\n\t\t\t\t\t__k.interfaces.settings.observers.state.view(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar _event = function(type,callback) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\t\t\tvar self = this;\n\t\t\t__k.plugins[this.kguid].events.push({\n\t\t\t\t_type: type,\n\t\t\t\t_callback: callback,\n\t\t\t\t_context: self\n\t\t\t});\n\t\t}\n\n\t\tvar _validate = function(selector) {\n\t\t\tif (typeof selector === 'boolean') {\n\t\t\t\t$(document).off('.validate_' + $('.ui-sheet.active').attr('id'));\n\t\t\t\t__k.interfaces.app.observers.valid(selector);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t__k.interfaces[__k.interfaces.active.id].classes.form_validation[__k.interfaces.active.id].valid(selector,true);\n\t\t\t}\n\t\t}\n\n\t\tvar _internalKokenTemplates = {\n\t\t\t'koken.library.albumSidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#album_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.observers.sidebar.asset);\n\t\t\t\t\titem.save = function(data, instant) {\n\t\t\t\t\t\tinstant = instant || false;\n\t\t\t\t\t\tdata.id = __k.interfaces.library.observers.sidebar.asset.id();\n\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data, {instant: instant});\n\t\t\t\t\t};\n\t\t\t\t\targs.push(item);\n\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.library.sidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#content_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.observers.sidebar.asset);\n\t\t\t\t\titem.save = function(data) {\n\t\t\t\t\t\tdata.id = __k.interfaces.library.observers.sidebar.asset.id();\n\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data);\n\t\t\t\t\t};\n\t\t\t\t\targs.push(item);\n\n\t\t\t\t\t$('input[type=\"ccolor\"]').spectrum({\n\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.library.multiSidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#multi_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar items = [];\n\t\t\t\t\t$.each(__k.interfaces.library.observers.selection(), function(i, asset) {\n\n\t\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.controllers.get_asset_by_id(asset));\n\t\t\t\t\t\titem.save = function(data) {\n\t\t\t\t\t\t\tdata.id = item.id;\n\t\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\titems.push(item);\n\t\t\t\t\t});\n\t\t\t\t\targs.push(items);\n\n\t\t\t\t\treturn args\n\t\t\t\t},\n\t\t\t},\n\t\t\t'koken.library.navigation': {\n\t\t\t\tid: 'kokenLibraryNavigation',\n\t\t\t\tselector: '#content_subnav .lib-nav:first',\n\t\t\t\tcallback: function() {\n\t\t\t\t\t__k.interfaces.library.controllers.set_current_nav();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.sheet.section': {\n\t\t\t\tid: 'kokenSheetSection',\n\t\t\t\tselector: function() {\n\t\t\t\t\tvar self = this.interfaces[this.interfaces.active.id],\n\t\t\t\t\t\tid = '';\n\t\t\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\t\t\tif (self.observers.sheets[$(this).attr('id')].active()) {\n\t\t\t\t\t\t\tid = $(this).attr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn '#' + id + ' .import_sheet_sections';\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.settings.edit.top': {\n\t\t\t\tid: 'kokenSettingsEdit',\n\t\t\t\tselector: '#plugin_opt_top'\n\t\t\t},\n\t\t\t'koken.settings.edit.bottom': {\n\t\t\t\tid: 'kokenSettingsEdit',\n\t\t\t\tselector: '#plugin_opt_bot'\n\t\t\t}\n\t\t}\n\n\t\tvar _reloadLibraryContent = function() {\n\t\t\t__k.interfaces.library.observers.api_url('');\n\t\t}\n\n\t\tvar _render = function(id,selector,callback) {\n\t\t\tif(!__k.plugins[this.kguid]){return;}\n\t\t\tif(id.indexOf('koken.') != -1) {\n\t\t\t\t// If selector is a function, execute it\n\t\t\t\tif (typeof _internalKokenTemplates[id].selector === 'function') _internalKokenTemplates[id].selector = _internalKokenTemplates[id].selector.call(__k);\n\n\t\t\t\t// Process internal template and return rendered element if necessary\n\t\t\t\tif (_internalKokenTemplates[id]) var _renderedElement = _internalTemplate.call(selector || {}, _internalKokenTemplates[id].selector, '#' + _internalKokenTemplates[id].id, this);\n\n\t\t\t\t// Execute internal and plugin callbacks if necessary\n\t\t\t\trequestAnimationFrame($.proxy(function() {\n\t\t\t\t\tvar args = [];\n\t\t\t\t\tif (_internalKokenTemplates[id].callback) args = _internalKokenTemplates[id].callback.call(this, [_renderedElement]);\n\t\t\t\t\t_renderedElement && callback && callback.apply(this, args);\n\t\t\t\t}, this));\n\t\t\t} else {\n\t\t\t\tselector = selector || this.context || $('#container');\n\t\t\t\tvar _template = $('#templates').find('#' + id),\n\t\t\t\t\t_selector = typeof selector === 'object' ? selector : $(selector),\n\t\t\t\t\t_vm = function() {},\n\t\t\t\t\tself = this;\n\n\t\t\t\t_vm.prototype.__selector__ = _selector;\n\n\t\t\t\tif (_template.find('div[data-bind]').length <= 0) {\n\t\t\t\t\tvar _toAppend = $(_template.html());\n\t\t\t\t\t_toAppend.data('kguid', this.kguid);\n\t\t\t\t\t_selector.append(_toAppend);\n\t\t\t\t\t__k.plugins[this.kguid].rendered.push(_toAppend);\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(_template.html()).first().get(0) && ko.applyBindings(new _vm(), $(_template.html()).first().get(0));\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\tcallback && callback.call(self);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar _scrollbar = function(id) {\n\t\t\treturn __k.interfaces.app.classes.scrollbar[id];\n\t\t}\n\n\t\tvar _save = function(obj, cb) {\n\t\t\tvar payload = [],\n\t\t\t\tupdated = [],\n\t\t\t\tplugin,\n\t\t\t\tself = this;\n\n\t\t\tvar plugin = ko.utils.arrayFirst(__k.interfaces.app.observers.user_plugins(), function(item) {\n\t\t\t\treturn item.path == __k.plugins[self.kguid].path;\n\t\t\t});\n\n\t\t\t$.each(plugin.data, function(i, data) {\n\t\t\t\tif (obj[data.key] !== undefined && obj[data.key] !== data.value) {\n\t\t\t\t\tpayload.push(data.key + '=' + obj[data.key]);\n\t\t\t\t\tdata.value = obj[data.key];\n\t\t\t\t}\n\t\t\t\tupdated.push(data);\n\t\t\t});\n\n\t\t\t__k.sync({\n\t\t\t\trequest: 'plugins/' + plugin.id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: payload.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\tcb && cb.call(this, data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplugin.data = updated;\n\t\t\t\t\t\tcb && cb.call(this, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tvar _sync = function(obj) {\n\t\t\tobj = $.extend({\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: '',\n\t\t\t\tfinished: false\n\t\t\t}, obj);\n\n\t\t\t__k.sync((!obj.action) ? obj : {\n\t\t\t\trequest: 'plugins/call/plugin:' + __k.plugins[this.kguid].path + '/method:' + obj.action,\n\t\t\t\tmethod: obj.method === 'GET' ? false : obj.method,\n\t\t\t\tdata: obj.data,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: obj.finished\n\t\t\t});\n\t\t}\n\n\t\tvar _sheet = function(id) {\n\t\t\tvar self = this,\n\t\t\t\tsheet = __k.interfaces[__k.interfaces.active.id].observers.sheets[id];\n\n\t\t\tif (!sheet.plugins) sheet.plugins = {};\n\t\t\tif (!sheet.plugins[this.kguid]) sheet.plugins[this.kguid] = {};\n\n\t\t\treturn {\n\t\t\t\tdisplay: function(callback) {\n\t\t\t\t\tif (callback) sheet.plugins[self.kguid].onload = function() {\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tcallback.call(self);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t__k.interfaces.app.events.toggle_sheet.call(__k.interfaces[__k.interfaces.active.id], id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\n\t\t\textend: function(path, hasTemplate, cb) {\n\t\t\t\t_guid = helpers.guid();\n\n\t\t\t\tvar props = {},\n\t\t\t\t\ttemplates;\n\n\t\t\t\tvar _cb = (function(__callback) {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tkguid: self.kguid,\n\t\t\t\t\t\telements: [],\n\t\t\t\t\t\tnamespace: 'plugin_' + helpers.guid(),\n\t\t\t\t\t\tchannel: _channel,\n\t\t\t\t\t\tchange: _change,\n\t\t\t\t\t\tevent: _event,\n\t\t\t\t\t\tget: _get,\n\t\t\t\t\t\thook: _hook,\n\t\t\t\t\t\tnotify: framework.notify,\n\t\t\t\t\t\tsync: _sync,\n\t\t\t\t\t\tscrollbar: _scrollbar,\n\t\t\t\t\t\tsave: _save,\n\t\t\t\t\t\tsheet: _sheet,\n\t\t\t\t\t\tdata: _data,\n\t\t\t\t\t\troute: _route,\n\t\t\t\t\t\trender: _render,\n\t\t\t\t\t\treloadLibraryContent: _reloadLibraryContent,\n\t\t\t\t\t\tutilities: $.extend(helpers, {cookie: framework.cookie}, {map: framework.map}, {persist: framework.persist}),\n\t\t\t\t\t\tvalidate: _validate,\n\t\t\t\t\t\tconfig: __k.config\n\t\t\t\t\t};\n\n\t\t\t\t\tvar __init = function(data) {\n\t\t\t\t\t\tcb.call(props);\n\t\t\t\t\t\tif (data) __k.plugins[props.kguid].templates = data;\n\t\t\t\t\t\t__callback && __callback();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!cb) return;\n\n\t\t\t\t\tif (!hasTemplate) {\n\t\t\t\t\t\t__init();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t__k.sync({\n\t\t\t\t\t\t\trequest: __k.config.paths.base_relative + 'storage/plugins/' + path + '/console/plugin.tmpl.html?1464959862110',\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\t__init(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar _update = function(callback) {\n\t\t\t\t\tvar doesHaveTemplates = this.templates,\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tvar reinit = function(data) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: '../api.php?/plugins/css',\n\t\t\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\t\t\t $('<style></style>').appendTo('head').html(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: '../api.php?/plugins/js',\n\t\t\t\t\t\t\tdataType: 'script',\n\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t__k.interfaces.plugins && $.each(__k.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\tif (plugin.path === self.path) plugin.init(function() {\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t\tcallback && callback();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t$(document).off(this.hooks);\n\t\t\t\t\tdelete __k.plugins[this.kguid];\n\n\t\t\t\t\tif (doesHaveTemplates) {\n\t\t\t\t\t\t$(this.templates).each(function() {\n\t\t\t\t\t\t\tif ($(this).attr('type') === 'text/html') $('#templates').find('#' + this.id).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (doesHaveTemplates) {\n\t\t\t\t\t\t__k.sync({\n\t\t\t\t\t\t\trequest: __k.config.paths.base_relative + 'storage/plugins/' + this.path + '/console/plugin.tmpl.html?1464959862110',\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\treinit(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treinit();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t__k.plugins = __k.plugins || {};\n\t\t\t\t__k.plugins[_guid] = __k.plugins[_guid] || {\n\t\t\t\t\troutes: [],\n\t\t\t\t\tevents: [],\n\t\t\t\t\trendered: [],\n\t\t\t\t\tinit: _cb,\n\t\t\t\t\tupdate: _update,\n\t\t\t\t\tpath: path,\n\t\t\t\t\thooks: '',\n\t\t\t\t\tkguid: _guid\n\t\t\t\t};\n\n\t\t\t}\n\t\t}\n\t},\n\n\t// Internal Only\n\t_Koken = function() {\n\n\t\t'use strict';\n\n\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof _Koken ) ) ) return new _Koken();\n\n\t\tko.bindingHandlers.slider = {\n\t\t\tinit: function(element, valueAccessor, allBindingsAccessor) {\n\t\t\t\tvar data = ko.unwrap(valueAccessor()),\n\t\t\t\t\toverride = allBindingsAccessor().sliderOptions;\n\n\t\t\t\tvar prefix = data.length > 1 ? data.shift() : null,\n\t\t\t\t\tsetting = data.shift();\n\n\t\t\t\t// Range sliders emit on `input` during the slide and `change` after slide completes\n\t\t\t\t$(element)\n\t\t\t\t\t.off('.slider')\n\t\t\t\t\t.attr({\n\t\t\t\t\t\t'type': 'range',\n\t\t\t\t\t\t'min': (override && override.min) ? override.min : setting.min,\n\t\t\t\t\t\t'max': (override && override.max) ? override.max : setting.max,\n\t\t\t\t\t\t'step': (override && override.step) ? override.step : (setting.step || 1),\n\t\t\t\t\t\t'data-send-as': setting.send_as || '',\n\t\t\t\t\t\t'data-default-value': setting.default || setting.value,\n\t\t\t\t\t\t'name': (override && override.name) ? override.name : setting.key,\n\t\t\t\t\t\t'value': (override && override.value) ? override.value : (setting.value || setting.default),\n\t\t\t\t\t\t'id': (override && override.id) ? override.id : prefix + 'option_' + setting.key\n\t\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\n\t\tvar ErrorHandlingBindingProvider = function() {\n\t\t    var original = new ko.bindingProvider();\n\n\t\t    //determine if an element has any bindings\n\t\t    this.nodeHasBindings = original.nodeHasBindings;\n\n\t\t    //return the bindings given a node and the bindingContext\n\t\t    this.getBindings = function(node, bindingContext) {\n\t\t        var result;\n\n\t\t        try {\n\t\t            result = original.getBindings(node, bindingContext);\n\t\t        }\n\t\t        catch (e) {\n\t\t        \tif (!self.interfaces.app.classes.modal.bindingsError) {\n\t\t        \t\tnew self.klass.modal('bindingsError', 'bindings_error_modal', {\n\t        \t\t\t\thasKeepCancel: {\n\t        \t\t\t\t\tkeepId: '#keep_leave',\n\t        \t\t\t\t\tkeepFn: function() {\n\t        \t\t\t\t\t\tself.interfaces.app.classes.modal.bindingsError.hide();\n\t        \t\t\t\t\t\tself.notify().wait('Clearing system caches and reloading');\n\t        \t\t\t\t\t\tthis.sync({\n\t        \t\t\t\t\t\t\trequest: 'system/clear_caches',\n\t        \t\t\t\t\t\t\tmethod: 'POST',\n\t        \t\t\t\t\t\t\tcontext: this,\n\t        \t\t\t\t\t\t\tfinished: function(data) {\n\t        \t\t\t\t\t\t\t\ttry {\n\t        \t\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t        \t\t\t\t\t\t\t\t} catch (e) {}\n\t        \t\t\t\t\t\t\t\twindow.location.reload();\n\t        \t\t\t\t\t\t\t}\n\t        \t\t\t\t\t\t});\n\t        \t\t\t\t\t},\n\t        \t\t\t\t\tcancelId: '#cancel_leave'\n\t        \t\t\t\t}\n\t        \t\t\t});\n\t\t        \t}\n\t\t        \tif (self.interfaces.app.observers.modal.current() !== 'bindings_error_modal') self.interfaces.app.classes.modal.bindingsError.show();\n\t\t            if (console && console.group) {\n\t\t            \tconsole.warn(e.message);\n\n\t\t            \tconsole.groupCollapsed('Node:');\n\t\t            \tconsole.log(node);\n\t\t            \tconsole.log($(node));\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.groupCollapsed('Bindings data:');\n\t\t            \tconsole.log(bindingContext.$data);\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.groupCollapsed('Stack reference:');\n\t\t            \tconsole.log(e.stack);\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.log('---');\n\t\t            }\n\t\t        }\n\n\t\t        return result;\n\t\t    };\n\t\t};\n\n\t\tko.bindingProvider.instance = new ErrorHandlingBindingProvider();\n\n\t\t$.fn.selectRange = function(start, end) {\n\t\t    return this.each(function() {\n\t\t        if (this.setSelectionRange) {\n\t\t            this.focus();\n\t\t            this.setSelectionRange(start, end);\n\t\t        } else if (this.createTextRange) {\n\t\t            var range = this.createTextRange();\n\t\t            range.collapse(true);\n\t\t            range.moveEnd('character', end);\n\t\t            range.moveStart('character', start);\n\t\t            range.select();\n\t\t        }\n\t\t    });\n\t\t};\n\n\t\tvar self\t\t\t\t= this;\n\t\tthis.helpers\t\t\t= helpers;\n\t\tthis.internalcache\t\t= {};\n\t\tthis.hash\t\t\t\t= '';\n\t\tthis.klass\t\t\t\t= {};\n\n\t\tthis.interfaces\t= this.subclass(function() {\n\t\t\tthis.active = '';\n\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'system',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\n\t\t\t\tthis.system = data || {};\n\t\t\t\tthis.system.apiError = false;\n\t\t\t\tthis.config.paths.store = data.store;\n\n\t\t\t\tif (data && typeof data === 'object' && !$.isEmptyObject(data) && !data.version) {\n\t\t\t\t\t// Will error if it receives data but is not formed in the correct system object\n\t\t\t\t\tthis.system.apiError = true;\n\t\t\t\t} else if (!data) {\n\t\t\t\t\t// Will error if it receives no data at all\n\t\t\t\t\tthis.system.apiError = true;\n\t\t\t\t}\n\n\t\t\t\tif (this.system.apiError) {\n\n\t\t\t\t\t// We errored, look for an error message and show the interface\n\t\t\t\t\tif (typeof data.error === 'string') {\n\t\t\t\t\t\tthis.system.apiErrorMessage = data.error;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.system.apiMaintenance = data.http === 503;\n\n\t\t\t\t\tthis.create( 'login', function() {\n\t\t\t\t\t\t$('#container').attr('data-bind','template: { name: \\'login_interface\\' }');\n\t\t\t\t\t\tko.applyBindings( this.observers, $( '#login' ).get(0) );\n\t\t\t\t\t\tvar h = $('#app-signin').height() + 100;\n\t\t\t\t\t\t$('#signin').height(h).css('margin-top', -((h / 2) + 25));\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\t\tthis.session( (data.token) ? data: {} );\n\n\t\t\t\t\t\t\t// Tests for browser support functionality\n\t\t\t\t\t\t\t(function() {\n\n\t\t\t\t\t\t\t\tvar tests = [],\n\t\t\t\t\t\t\t\t\tself = this;\n\n\t\t\t\t\t\t\t\tthis.system.browserSupported = true;\n\n\t\t\t\t\t\t\t\tif (navigator.userAgent.indexOf('Phantom') !== -1) return;\n\n\t\t\t\t\t\t\t\t// Testing if IE\n\t\t\t\t\t\t\t\ttests.push(!$('html').is('.ie'));\n\n\t\t\t\t\t\t\t\t// Testing for .calc() functionality\n\t\t\t\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\t\t\t\tel.style.cssText = 'width:-moz-calc(10px);width:-webkit-calc(10px);width:-o-calc(10px);width:-ms-calc(10px);width:calc(10px);';\n\t\t\t\t\t\t\t\ttests.push(!!el.style.length);\n\n\t\t\t\t\t\t\t\ttests = $.each(tests, function(i,test) {\n\t\t\t\t\t\t\t\t\tif (test === false) {\n\t\t\t\t\t\t\t\t\t\tself.system.browserSupported = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}).call(this);\n\n\t\t\t\t\t\t\tvar which = ( this.session().token ) ? 'app' : 'login';\n\n\t\t\t\t\t\t\t// Load in our plugin bindings\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: this.config.paths.base + 'admin/templates/plugins.tmpl.html?1464959862110',\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Start initializing all the plugins\n\t\t\t\t\t\t\tif (this.plugins) {\n\t\t\t\t\t\t\t\t$.each(this.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\tplugin.init();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.create( which, function() {\n\t\t\t\t\t\t\t\t$('#container').attr('data-bind','template: { name: \\'' + which + '_interface\\' }');\n\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\t// Fixes random bindings errors on interface loads\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\tko.applyBindings( self.observers, $( '#' + which ).get(0) );\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t};\n\n\tK.prototype = framework;\n\n\t// _Koken will also inherit K\n\t_Koken.prototype = K();\n\n\t// Add interface methods to the prototype\n\t// ___INTERFACES___\n\t_Koken.prototype.app = {\n\n\tinit: function() {\n\n\t\tif (!this.system.browserSupported) {\n\t\t\tthis.observers.logout();\n\t\t}\n\n\t\tPiecon.setOptions({\n\t\t\tcolor: '#ff6e00', // Pie chart color\n\t\t\tbackground: '#fff', // Empty pie chart color\n\t\t\tshadow: '#ff6e00', // Outer ring color\n\t\t\tfallback: false // Toggles displaying percentage in the title bar (possible values - true, false, 'force')\n\t\t});\n\n\t\tvar self = this,\n\t\t\tresizeInt;\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'app',\n\t\t\t\tfn: function(id) {\n\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tvar delay = (function() {\n\t\t\t\t\t\tvar timer = 0;\n\t\t\t\t\t\treturn function(cb,ms) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\ttimer = setTimeout(cb,ms);\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\n\t\t\t\t\tthis.id = id;\n\t\t\t\t\tthis.channel = '';\n\t\t\t\t\tthis.lastClickedElement = {};\n\t\t\t\t\tthis.lastHash = $.param.fragment();\n\t\t\t\t\tthis.lastLocal = null;\n\t\t\t\t\tthis.firstRun = this.cookie( 'app:firstrun' ) || false;\n\t\t\t\t\tthis.sortToDrag = false;\n\t\t\t\t\tthis.itemsBeingSortedDragged = [];\n\t\t\t\t\tthis.tagsHasBeenEdited = false;\n\n\t\t\t\t\t$(window).on( 'focus', 'input:not(.hasDatepicker),textarea', function(e) {\n\t\t\t\t\t\tself.lastFocused = $(e.target);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.resizeHandlers = [];\n\n\t\t\t\t\t$(window).on('resize', function() {\n\t\t\t\t\t\tdelay(function() {\n\t\t\t\t\t\t\t$(window).trigger( 'complete.resize', self );\n\t\t\t\t\t\t}, 250);\n\n\t\t\t\t\t\t$('.sheet-middle:visible, .sheet-middle.no-pad:visible').each( function() {\n\t\t\t\t\t\t\tvar e = $(this);\n\t\t\t\t\t\t\tif (e.hasClass('fixed')) return;\n\t\t\t\t\t\t\t// 178 = UI chrome (header + footer) + 65 (margin added to sheet-middle to compensate for sheet-actions overlay)\n\t\t\t\t\t\t\tvar contain = e.parents('.ui-sheet'),\n\t\t\t\t\t\t\t\tsub = 178 + (contain.height() - e.height());\n\n\t\t\t\t\t\t\t// Import content sheet has an options row that can fold out, so this gives it a little more room.\n\t\t\t\t\t\t\tif (contain.attr('id') === 'import_content') {\n\t\t\t\t\t\t\t\tsub += 36;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\te.css('max-height', $(window).height() - sub);\n\t\t\t\t\t\t\te.find('.scroll_wrapper').css('max-height', $(window).height() - sub);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('.modal-wrap').css({\n\t\t\t\t\t\t\t'margin-top'\t: '-' + ( $('.modal-wrap').height() / 2 ) + 'px',\n\t\t\t\t\t\t\t'margin-left'\t: '-' + ( $('.modal-wrap').width() / 2 ) + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (self.channel !== '') {\n\t\t\t\t\t\t\t$(window).trigger(self.channel + '.resize');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.lazy_album_sheet();\n\n\t\t\t\t\t}).trigger('resize');\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'scrollbar',\n\t\t\t\tfn: function(id) {\n\n\t\t\t\t\tvar self\t\t= this, timer;\n\n\t\t\t\t\tthis.el\t\t\t= (id instanceof Object) ? ( this.id = id.attr('id'), id ) : $( '#' + id );\n\t\t\t\t\tthis.ratio\t\t= 0;\n\t\t\t\t\tthis.handlers\t= [];\n\t\t\t\t\tthis.lastpos\t= 0;\n\t\t\t\t\tthis.calcs\t\t= { height: {}, top: {} };\n\n\n\t\t\t\t\tthis.el.wrapInner('<div class=\"scroll_content\" />');\n\t\t\t\t\tthis.el.wrapInner('<div class=\"scroll_wrapper scroll_off\" />');\n\t\t\t\t\tthis.el.find('.scroll_wrapper').prepend($('#scroller_mu').html());\n\n\t\t\t\t\tthis.elements = function() {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttrack\t\t: $( '.scroll_track', self.el ),\n\t\t\t\t\t\t\tbar\t\t\t: $( '.scroll_bar', self.el ),\n\t\t\t\t\t\t\tcontent\t\t: $( '.scroll_content', self.el ),\n\t\t\t\t\t\t\tcontainer\t: $( '.scroll_wrapper', self.el )\n\t\t\t\t\t\t};\n\t\t\t\t\t}.call(this);\n\n\t\t\t\t\tif (this.el.hasClass('top-in')) {\n\t\t\t\t\t\tthis.elements.content.addClass('top-in');\n\t\t\t\t\t\tthis.el.removeClass('top-in');\n\t\t\t\t\t}\n\t\t\t\t\tthis.elements.container.off('scroll').on( 'scroll', null, this, function(e,params) {\n\t\t\t\t\t\tif ( self.handlers.indexOf('stop') >= 0 ) {\n\t\t\t\t\t\t\tclearTimeout(self.timer);\n\t\t\t\t\t\t\tself.timer = setTimeout( function() { self.el.trigger('stop.scroll'); clearTimeout(self.timer); }, 250 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.data.update();\n\t\t\t\t\t\tself.el.trigger('during.scroll', params);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.interfaces.app.classes.app.koken.resizeHandlers.push(this);\n\n\t\t\t\t\tif ( this.interfaces.app.classes.app.koken.resizeHandlers.length === 1 ) {\n\t\t\t\t\t\tthis.loopy();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.update();\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'update',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\tvar parent = $('#' + this.el.get(0).id),\n\t\t\t\t\t\tcontainer = parent.find('.scroll_wrapper'),\n\t\t\t\t\t\tcontent = parent.find('.scroll_content');\n\n\t\t\t\t\tthis.calcs.height.container = container.outerHeight(true);\n\t\t\t\t\tthis.calcs.top.wrapper = container.scrollTop();\n\t\t\t\t\tthis.calcs.height.content = content.outerHeight(true);\n\n\t\t\t\t\tvar cache_key = this.calcs.top.wrapper + '_' + this.calcs.height.container + '_' + this.calcs.height.content;\n\n\t\t\t\t\tif (this.lastpos === cache_key) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lastpos = cache_key;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.calcs.height.container <= 0 || this.calcs.height.content <= 0 ) { return; }\n\n\t\t\t\t\tthis.ratio = this.calcs.height.container / this.calcs.height.content;\n\n\t\t\t\t\tif ( this.ratio < 1 ) {\n\n\t\t\t\t\t\tparent.find('.scroll_track').css('opacity','1');\n\t\t\t\t\t\tparent.find('.scroll_track_off').removeClass('scroll_track_off');\n\t\t\t\t\t\tparent.find('.scroll_off').removeClass('scroll_off');\n\n\t\t\t\t\t\tvar bar_p = ( this.calcs.height.container / this.calcs.height.content ) * 100;\n\n\t\t\t\t\t\tthis.calcs.height.bar = this.calcs.height.container / bar_p;\n\n\t\t\t\t\t\tvar top = Math.min( Math.round( this.calcs.top.wrapper * this.ratio ), this.calcs.height.content - this.calcs.height.bar );\n\n\t\t\t\t\t\tparent.find('.scroll_bar').css({\n\t\t\t\t\t\t\ttop: top + 'px',\n\t\t\t\t\t\t\theight: bar_p + '%'\n\t\t\t\t\t\t}).show();\n\n\t\t\t\t\t\tif ( this.handlers.indexOf('page') >= 0 && content.height() - ( this.calcs.top.wrapper + this.calcs.height.container ) < 200 && content.height() > 0 ) {\n\t\t\t\t\t\t\tthis.el.trigger('page.scroll');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontainer.addClass('scroll_off');\n\t\t\t\t\t\tparent.find('.scroll_track_footer').addClass('scroll_track_off');\n\t\t\t\t\t\tparent.find('.scroll_bar').hide();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'loopy',\n\t\t\t\tfn: function(pause) {\n\n\t\t\t\t\tcancelAnimationFrame(resizeInt);\n\n\t\t\t\t\tif ( pause ) { return; }\n\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tresize = function() {\n\t\t\t\t\t\t\t$.each( self.interfaces.app.classes.app.koken.resizeHandlers, function() {\n\t\t\t\t\t\t\t\tif ( this.el.css('display') === 'none' || ( this.el.closest('.ui-sheet').length > 0 && this.el.closest('.ui-sheet').css('display') === 'none' ) ) { return; }\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.loopy();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tresizeInt = requestAnimationFrame(resize);\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'listen',\n\t\t\t\tfn: function(type,cb) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif ( this.handlers.indexOf(type) < 0 ) { this.handlers.push(type); }\n\t\t\t\t\tthis.el.off(type + '.scroll').on( type + '.scroll', function(ev,params) {\n\t\t\t\t\t\tcb.call(self,params);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'reset',\n\t\t\t\tfn: function() {\n\t\t\t\t\tthis.elements.container.scrollTop(0);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tko.bindingHandlers.scrollbar = {\n\t\t\tinit: function(el) {\n\n\t\t\t\tel = $(el);\n\n\t\t\t\tvar id = el.attr('id'),\n\t\t\t\t\tscrollbar = new self.klass.scrollbar(el);\n\n\t\t\t\tif ( id === 'mid_multi' ) {\n\n\t\t\t\t\tvar show_tick = null;\n\n\t\t\t\t\tscrollbar.listen( 'during', function(params) {\n\t\t\t\t\t\tif (show_tick === null) {\n\t\t\t\t\t\t\tshow_tick = this.observers.order_by() !== 'manual';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (show_tick && (!params || !params.suppress)) {\n\t\t\t\t\t\t\tthis.events.scroll_overlay();\n\t\t\t\t\t\t\t$('#scroll-tick').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tscrollbar.listen( 'stop', function() {\n\t\t\t\t\t\tshow_tick = null;\n\t\t\t\t\t\t$('#scroll-tick').fadeOut(null, function() { $(this).removeClass('loading'); });\n\t\t\t\t\t\tthis.controllers.lazy('#content_list','suppress');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( id === 'entry-list-all' || id === 'mid_multi' ) {\n\t\t\t\t\tscrollbar.listen( 'page', function() {\n\t\t\t\t\t\tthis.controllers.mid_scroll_finish();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'channel',\n\t\t\t\tfn: function() {}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'form_validation',\n\t\t\t\tfn: function() {\n\t\t\t\t\tthis.validate = [];\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'getErrorMessageElement',\n\t\t\t\tfn: function(el,isError) {\n\t\t\t\t\tif (isError) { el.addClass('valerror'); } else { el.removeClass('valerror'); }\n\t\t\t\t\treturn el.parent().find('.form-error-msg');\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'not_empty',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar res\t\t= ( el.val().trim() !== '' ) ? true : false,\n\t\t\t\t\t\tself\t= this;\n\n\t\t\t\t\tif (!res) {\n\t\t\t\t\t\tif (!suppress) {\n\t\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( el.data('error-msg') ).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!suppress) {\n\t\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'regex',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar val = el.val().trim(),\n\t\t\t\t\t\tregex = RegExp(el.attr('data-validate-regex')),\n\t\t\t\t\t\tmatch = regex.test(val);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'email',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar email = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (email.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid email address' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'url',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\t// EPIC regex FTW\n\t\t\t\t\tif (/^(https?:\\/\\/)?(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(url) ||\n\t\t\t\t\t\t/^mailto:[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/.test(url) ||\n\t\t\t\t\t\t/^tel:.{3,}/.test(url)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid URL' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'content_url',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\tif (/^https?:\\/\\/.*\\.(jpeg|jpg|gif|png|mp4)$/.test(url)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid content URL' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'path',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\tif (/[^\\/a-zA-Z0-9_-]/.test(url) || /^[^\\/]/.test(url)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid path' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'unique',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar val = el.val().trim(),\n\t\t\t\t\t\tscope = el.attr('data-validate-scope'),\n\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\tif (val.length) {\n\t\t\t\t\t\t$.each($(scope), function(i, _el) {\n\t\t\t\t\t\t\tif (_el === el.get(0)) return;\n\t\t\t\t\t\t\tvar v = $(_el).val().trim();\n\t\t\t\t\t\t\tif (val === v) {\n\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).show();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn valid;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'valid',\n\t\t\t\tfn: function(el, isSheet, canBeValidated, handlersBound) {\n\n\t\t\t\t\tif ( this.validate[el] ) return;\n\n\t\t\t\t\tvar validations\t\t\t= $('#' + el).find('[data-validate]:visible:not([data-validate=\"' + el + '\"]):not(button[data-validate])'),\n\t\t\t\t\t\tself\t\t\t\t= this,\n\t\t\t\t\t\tnamespace\t\t\t= 'validate_' + el,\n\t\t\t\t\t\tbindings\t\t\t= 'keyup.' + namespace,\n\t\t\t\t\t\tvalidateBtn\t\t\t= $('#' + el).find('button[data-validate]'),\n\t\t\t\t\t\tvalidateBtnActv\t\t= validateBtn.length > 0,\n\t\t\t\t\t\tvalidationsVisible\t= validations.filter(function() { return $(this).is(':visible'); });\n\n\t\t\t\t\t// Reset button class if all the validations are now hidden/removed\n\t\t\t\t\tif (!validations.length || (!validationsVisible.length && validateBtnActv)) validateBtn.removeClass('disabled');\n\n\t\t\t\t\tif (!handlersBound) {\n\t\t\t\t\t\t$(document).off('.' + namespace);\n\t\t\t\t\t\tif (validateBtnActv) {\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( bindings + ' change.' + namespace, '#' + el + ' input, #' + el + ' select', function() {\n\t\t\t\t\t\t\t\t\tself.valid.call(self, el, false, true, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( bindings, '#' + el + ' input', function() {\n\t\t\t\t\t\t\t\t\tself.valid.call(self, el, false, true, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isSheet && canBeValidated) {\n\n\t\t\t\t\t\tvar results = [];\n\n\t\t\t\t\t\tvalidations.each(function(idx, element) {\n\t\t\t\t\t\t\tvar isAlreadyValid = $(element).data('validateAllowEmpty') && !$(element).val().length;\n\t\t\t\t\t\t\tif (isAlreadyValid) self.getErrorMessageElement($(element)).hide();\n\t\t\t\t\t\t\tresults.push((isAlreadyValid) ? true : self[$(element).data('validate')]($(element)));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (results.indexOf(false) !== -1) {\n\t\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) validateBtn.addClass('disabled');\n\t\t\t\t\t\t\tthis.interfaces.app.observers.valid(false);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) validateBtn.removeClass('disabled');\n\t\t\t\t\t\t\tthis.interfaces.app.observers.valid(true);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) areAllValid && validateBtn.removeClass('disabled') || validateBtn.addClass('disabled');\n\t\t\t\t\t\tthis.interfaces.app.observers.valid(areAllValid);\n\t\t\t\t\t\treturn areAllValid;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'editor',\n\t\t\t\tfn: function(id, initial_value, selector) {\n\t\t\t\t\tinitial_value = initial_value || '';\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t// Altering ACE prototype to never use workers to suppress js errors\n\t\t\t\t\tace.EditSession.prototype.$useWorker = false;\n\n\t\t\t\t\tthis.editorWindow = ace.edit(selector);\n\n\t\t\t\t\t// ACE is inserting not appending to the head so we have to force it\n\t\t\t\t\tthis.editorWindow.setTheme( ( this.cookie( 'editor:theme' ) && this.helpers.clean( this.cookie( 'editor:theme' ) ) ) || 'ace/theme/koken' );\n\t\t\t\t\t$('style#ace-tm,style#ace-koken').remove();\n\t\t\t\t\tthis.editorWindow.setTheme( ( this.cookie( 'editor:theme' ) && this.helpers.clean( this.cookie( 'editor:theme' ) ) ) || 'ace/theme/koken' );\n\n\t\t\t\t\tthis.editorWindow.getSession().setMode('ace/mode/css');\n\t\t\t\t\tthis.editorWindow.setShowPrintMargin(false);\n\t\t\t\t\tthis.editorWindow.setValue(initial_value);\n\t\t\t\t\tthis.editorWindow.focus();\n\t\t\t\t\tthis.editorWindow.autosave = true;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'colorpicker',\n\t\t\t\tfn: function(id, el) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tel.spectrum({\n\t\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\t\tchange: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('colorupdate');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tshow: function() {\n\t\t\t\t\t\t\t\tself.helpers.outside('.sp-container', function() {\n\t\t\t\t\t\t\t\t\tel.spectrum('hide');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'slider_number_toggle',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\t// Used to swap out a slider with a number input and vice-versa\n\t\t\t\t\t// .rangeinput is the class needed on the container of the slider elements\n\t\t\t\t\t// new this.klass.slider_number_toggle(); can be placed anywhere it makes sense\n\t\t\t\t\t// to start listening for sliders\n\t\t\t\t\t// ESC/RETURN/Blur cause the number input to toggle back to the slider\n\n\t\t\t\t\tvar doc = $(document),\n\t\t\t\t\t\tautosaveInterval = 1000, // milliseconds\n\t\t\t\t\t\trangeTimer;\n\n\t\t\t\t\tvar changeToSlider = function() {\n\t\t\t\t\t\tvar rangeEl = $('.__rangeinput__');\n\t\t\t\t\t\trangeEl.parent().find('span').show();\n\t\t\t\t\t\trangeEl.parent().find('input[type=\"range\"]').show();\n\t\t\t\t\t\trangeEl.remove();\n\t\t\t\t\t};\n\n\t\t\t\t\tdoc\n\t\t\t\t\t\t.off('click.rangeinput','change.rangeinput','keydown.rangeinput')\n\t\t\t\t\t\t.on('click.rangeinput', '.rangeinput', function(ev) {\n\n\t\t\t\t\t\t\tif ( ev.target.tagName === 'INPUT' ) return true;\n\n\t\t\t\t\t\t\tvar el = $(this).find('span'),\n\t\t\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\t\t\tinput = parent.find('input[type=\"range\"]'),\n\t\t\t\t\t\t\t\tdata = ko.dataFor(input.get(0));\n\n\t\t\t\t\t\t\tif ( $('.__rangeinput__').length > 0 ) changeToSlider();\n\n\t\t\t\t\t\t\tif ( input.length > 0 ) {\n\t\t\t\t\t\t\t\tparent.find('span').hide();\n\t\t\t\t\t\t\t\tinput.hide();\n\t\t\t\t\t\t\t\tparent.append('<input class=\"__rangeinput__ field side-col\" type=\"number\" min=\"' + ((data.setting && data.setting.min) ? data.setting.min : input.attr('min') ) + '\" max=\"' + ((data.setting && data.setting.max) ? data.setting.max : input.attr('max') ) + '\" step=\"' + ((data.setting && data.setting.step) ? data.setting.step : input.attr('step') ) + '\" value=\"' + input.val() + '\" />');\n\t\t\t\t\t\t\t\t$('.__rangeinput__').focus().on('blur.rangeinput', changeToSlider);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('change.rangeinput', '.__rangeinput__', function(e) {\n\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' ) return true;\n\n\t\t\t\t\t\t\tvar el = $(this),\n\t\t\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\t\t\tinput = parent.find('input[type=\"range\"]');\n\n\t\t\t\t\t\t\tinput.val(el.val()).trigger('change');\n\n\t\t\t\t\t\t\tclearInterval(rangeTimer);\n\t\t\t\t\t\t\trangeTimer = window.setInterval(function() {\n\t\t\t\t\t\t\t\tclearInterval(rangeTimer);\n\t\t\t\t\t\t\t\tinput.trigger('mouseup');\n\t\t\t\t\t\t\t}, autosaveInterval);\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('keydown.rangeinput', function(e) {\n\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' ) { return true; }\n\n\t\t\t\t\t\t\tif ( e.which === 27 || e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('.__rangeinput__').parent().find('input[type=\"range\"]').trigger('mouseup');\n\t\t\t\t\t\t\t\tchangeToSlider();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'autocomplete',\n\t\t\t\tfn: function() {}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'tags',\n\t\t\t\tfn: function(element,appendToElement,triggerElement) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (element.hasClass('ui-autocomplete-input')) {\n\t\t\t\t\t\telement.autocomplete('destroy');\n\t\t\t\t\t}\n\t\t\t\t\telement\n\t\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\t\tselect: function(e, ui) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\telement.addClass('autocompleting');\n\t\t\t\t\t\t\t\tvar item = $(element),\n\t\t\t\t\t\t\t\t\tparts = ui.item.label.split(' ');\n\t\t\t\t\t\t\t\tif ($(element).closest('#right-col-xtra').length > 0 || self.interfaces.active.id == 'library') {\n\t\t\t\t\t\t\t\t\titem.val((parts.length > 0) ? '\"' + ui.item.label + '\"' : ui.item.label);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\titem.val(ui.item.label);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\ttriggerElement && triggerElement.trigger('click');\n\t\t\t\t\t\t\t\t\titem.val('');\n\t\t\t\t\t\t\t\t\telement.removeClass('autocompleting');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\telement.autocomplete('destroy');\n\t\t\t\t\t\t\t\tself.classes.autocomplete.library.tags(element, appendToElement, triggerElement);\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsource: function(req, cb) {\n\t\t\t\t\t\t\t\tvar term = req.term,\n\t\t\t\t\t\t\t\t\tmatches = [];\n\t\t\t\t\t\t\t\t$.each(self.observers.tags(), function(i, t) {\n\t\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tappendTo: appendToElement,\n\t\t\t\t\t\t\tcreate: function() {\n\t\t\t\t\t\t\t\t$(appendToElement).addClass('k-dropdown')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'modal',\n\t\t\t\tfn: function(id,tid,opts) {\n\n\t\t\t\t\tthis.onload;\n\t\t\t\t\tthis.templateId\t= tid;\n\t\t\t\t\tthis.options\t= opts;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'show',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\targs = arguments;\n\n\t\t\t\t\tthis.observers.modal.canClose( ( !this.options || this.options.allowClose === undefined ) ? true : this.options.allowClose );\n\n\t\t\t\t\tif (this.observers.modal.canClose()) {\n\t\t\t\t\t\t$('body').removeClass('progress');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('body').addClass('progress');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.onload) requestAnimationFrame(function() { self.onload.apply(self, args); })\n\n\t\t\t\t\tif ( this.options && this.options.canClickOutside ) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.helpers.outside( $('#modal-template'), function() {\n\t\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},1000);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.modal.current(this.templateId);\n\t\t\t\t\tthis.observers.modal.active(true);\n\t\t\t\t\tthis.observers.modal.msg((this.options && this.options.msg) ? this.options.msg : '');\n\n\t\t\t\t\t$(document).on( 'click', 'a.modal-close', function() {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\tif ( this.options && this.options.hasKeepCancel ) self.options.hasKeepCancel.closeFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t}).trigger('resize');\n\n\t\t\t\t\tif ( this.options && this.options.hasKeepCancel ) {\n\t\t\t\t\t\t$( '.' + this.templateId ).find(this.options.hasKeepCancel.keepId).click(function() {\n\t\t\t\t\t\t\tself.options.hasKeepCancel.keepFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$( '.' + this.templateId ).find(this.options.hasKeepCancel.cancelId).click(function() {\n\t\t\t\t\t\t\tself.options.hasKeepCancel.cancelFn && self.options.hasKeepCancel.cancelFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'progress',\n\t\t\t\tfn: function(percent) {\n\t\t\t\t\t$('.update_progress span').addClass('migrate');\n\t\t\t\t\t$('.update_progress span').width( Math.min( percent*100, 100 ) + '%' );\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'hide',\n\t\t\t\tfn: function() {\n\t\t\t\t\t$('body').removeClass('progress');\n\t\t\t\t\tthis.observers.modal.current('');\n\t\t\t\t\tthis.observers.modal.active(false);\n\t\t\t\t\t$('.update_progress span').removeClass('migrate');\n\t\t\t\t\t$('.update_progress span').width('100%');\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'channel',\n\t\t\t\tfn: function(id) {\n\t\t\t\t\tthis.firstLoad = true;\n\t\t\t\t\tthis.uploader = null;\n\t\t\t\t\tthis.uploaderIsBeingInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tnew this.klass.app('koken');\n\n\t\t$(window).on('complete.resize', function(evt,koken) {\n\t\t\tif ( koken.channel === 'library' ) {\n\t\t\t\tself.controllers.lazy.call( self.interfaces[koken.channel], '#content_list' );\n\t\t\t}\n\t\t});\n\n\t\t// Creating modals...\n\t\tnew this.klass.modal( 'tour', 'tour_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'php_upgrade', 'php_upgrade_modal', {\n\t\t\tcanClickOutside: true,\n\t\t\thasKeepCancel: {\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'about', 'about_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'map', 'map_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'help', 'help_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'keyboard_shortcuts', 'keyboard_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'share_asset', 'share_modal' );\n\t\tnew this.klass.modal( 'match_album_visibility', 'match_album_visibility_modal', {\n\t\t\tcanClickOutside: true,\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.match_album_visibility.onload = function(items, fromVisibility, toVisibility, type) {\n\t\t\t$('#right-col-xtra').height($(window).height() - 26);\n\t\t\tthis.observers.visibility.items((items.length > 0) ? items : []);\n\t\t\tthis.observers.visibility.viz_type_reset();\n\t\t\tif (type) this.observers.visibility.album_type(type);\n\t\t\tthis.observers.visibility.viz_type_current(toVisibility === 'private' ? 'public and unlisted' : fromVisibility);\n\t\t\tthis.observers.visibility.viz_type_new(toVisibility);\n\t\t}\n\t\tnew this.klass.modal( 'unpublish_essay', 'unpublish_essay_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_unpublish',\n\t\t\t\tkeepFn: function() {\n\t\t\t\t\tthis.notify().success(this.observers.page_to_edit.title() + ' saved as draft.');\n\t\t\t\t\tthis.events.save(false, false, false, true);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_unpublish'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.unpublish_essay.onload = function() {\n\t\t\t$('#unpublish_essay_type').text(self.interfaces.text.observers.page_to_edit.page_type());\n\t\t}\n\t\tnew this.klass.modal( 'text_live', 'text_live_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() {\n\t\t\t\t\t$('[data-action=\"publish\"]').data('publish','true').trigger('click');\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'unsaved_changes', 'unsaved_changes_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.leave_edit(true); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_tag', 'delete_tag_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.app.events.delete_tag(el,parent);\n\t\t\t\t\tel.parent().remove();\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'confirm_site_revert', 'confirm_site_revert_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_revert',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.site.events.do_revert(el,parent);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_revert'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'confirm_site_revert_settings', 'confirm_site_revert_settings_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_revert_settings',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.site.events.do_revert_settings(el,parent);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_revert_settings'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.delete_tag.onload = function(el) {\n\t\t\t$('#delete_tag_name').text(ko.dataFor(el[0]).title);\n\t\t}\n\t\tnew this.klass.modal( 'delete_category', 'delete_category_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.app.events.category_actions(el,parent,true);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.delete_category.onload = function() {\n\t\t\t// Prevents the drawer from collapsing\n\t\t\t$('#right-col-xtra').height($(window).height() - 26);\n\t\t}\n\t\tnew this.klass.modal( 'draft_exists', 'draft_exists_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.init_draft($('a#use_theme'),true); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.draft_exists.onload = function() {\n\t\t\tvar self = this;\n\t\t\t$(document).off('.draftexists').on('click.draftexists', '#open_draft', function() {\n\t\t\t\tself.interfaces.site.events.switch_draft(ko.dataFor($('a#use_theme').get(0)).path, function() {\n\t\t\t\t\tself.classes.modal.draft_exists.hide();\n\t\t\t\t\t$('#edit_current_draft').trigger('click');\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\tnew this.klass.modal( 'theme_change', 'theme_change_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.publish( $('#siteui-publish-buttons a'), true ); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_text', 'delete_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_delete',\n\t\t\t\tkeepFn: function() { this.events.delete_text(); },\n\t\t\t\tcancelId: '#cancel_delete'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_draft', 'delete_draft_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_delete',\n\t\t\t\tkeepFn: function() { this.events.delete_draft( $('#draft_hist_list li.selected a'),true); },\n\t\t\t\tcancelId: '#cancel_delete'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'reset_links', 'reset_links_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_reset',\n\t\t\t\tkeepFn: function() { this.events.reset_nav(null,true); },\n\t\t\t\tcancelId: '#cancel_reset'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'update_available', 'update_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'install_plugin', 'install_plugin_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'install_theme', 'install_theme_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_products', 'update_products_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_products_fail', 'update_products_fail_modal');\n\t\tnew this.klass.modal( 'update_failed', 'update_fail_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_recovered', 'update_recovered_modal');\n\t\tnew this.klass.modal( 'update_compat_fail', 'update_compat_fail_modal');\n\t\tnew this.klass.modal( 'cover', 'cover_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(set,asset) { this.events.assign_cover('set',set,asset); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\n\t\t$(document).on( 'click', '#console-logo', function() {\n\t\t\tself.classes.modal.about.show();\n\t\t});\n\n\t\tthis.controllers.load_tree();\n\t\tthis.controllers.fetch_themes();\n\t\tthis.events.init_copiers();\n\t\tthis.events.init_triggers();\n\t\tthis.observers.platform( ( window.navigator.platform.toLowerCase().indexOf('mac') < 0 ) ? 'pc' : 'mac' );\n\t\tthis.observers.system = this.system;\n\t\tthis.observers.real_base_path = this.config.paths.base;\n\t\tthis.controllers.load_categories();\n\n\t\tvar migrations_running = false;\n\n\t\tthis.sync({\n\t\t\trequest: [\n\t\t\t\t{\n\t\t\t\t\trequest: 'tags/order_by:last_used',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.controllers.load('tags',data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'site',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.urls = data.urls;\n\t\t\t\t\t\tthis.map( this.observers.url_data, data.url_data );\n\t\t\t\t\t\tthis.observers.has_urls(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'plugins/cache:false',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.process_plugin_data(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'settings',\n\t\t\t\t\tfinished: function(settings) {\n\t\t\t\t\t\tthis.observers.reset_settings(settings);\n\n\t\t\t\t\t\tif (!settings.has_toured && navigator.userAgent.toLowerCase().indexOf('phantom') === -1) {\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\tself.classes.modal.tour.show();\n\t\t\t\t\t\t\t}, 1500);\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'settings',\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tdata: 'has_toured=true'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.getJSON(this.config.paths.store + '/installs/' + this.observers.settings.uuid() + '/updates', $.proxy(function(data) {\n\t\t\t\t\t\t\tthis.observers.update_count(data.products.length);\n\n\t\t\t\t\t\t\tif (!settings.disable_auto_updates && data.koken.version != this.system.version) {\n\t\t\t\t\t\t\t\tif (!this.cookie('ignore_release') || this.cookie('ignore_release') != data.koken.version) {\n\t\t\t\t\t\t\t\t\tthis.observers.update_available(data.koken.version);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.observers.update_available_version(data.koken.version);\n\t\t\t\t\t\t\t\tthis.observers.update_url(data.koken.url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\n\t\t\t\t// Migrations will automatically reload browser\n\t\t\t\tif (data.migrations.length) {\n\t\t\t\t\tmigrations_running = true;\n\t\t\t\t\tthis.events.run_migrations(data.migrations);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar self = this, active, timer;\n\n\t\t\t\t$(document).on('click dblclick', '#container', function(e) {\n\n\t\t\t\t\tvar parent\t= ( $(e.target).closest('[data-event]').data('event') === false ) ? $(e.target).closest('[data-event]').parent().closest('[data-event]') : $(e.target).closest('[data-event]'),\n\t\t\t\t\t\thandler\t= parent.data('event'),\n\t\t\t\t\t\taction\t= ( handler && handler.indexOf('dbl') >= 0 ) ? 'dblclick' : 'click',\n\t\t\t\t\t\thandle;\n\n\t\t\t\t\tactive = self.interfaces.active.id;\n\n\t\t\t\t\tself.classes.app.koken.lastClickedElement = $(e.target);\n\n\t\t\t\t\t// Check if link is external or clicking on a label\n\t\t\t\t\tif ( e.type === 'click' ) {\n\t\t\t\t\t\tif ( $(e.target).attr('href') || ( $(e.target)[0].tagName !== 'A' && $(e.target).closest('a').attr('href') ) ) {\n\t\t\t\t\t\t\tif ( ( $(e.target).attr('href') && $(e.target).attr('href').indexOf('http') >= 0 ) || ( $(e.target).closest('a').attr('href') && $(e.target).closest('a').attr('href').indexOf('mailto') >= 0 ) ) {\n\t\t\t\t\t\t\t\tif ( $(e.target)[0].tagName !== 'A' ) { $(e.target).closest('a').trigger('click'); }\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (e.target.nodeName.toLowerCase() === 'label') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( $(e.target).closest('a').attr('href') && $(e.target).closest('a').attr('href').indexOf('#/') >= 0 ) {\n\t\t\t\t\t\t\tif ( ! e.metaKey && ! e.ctrlKey && ! e.shiftKey ) {\n\t\t\t\t\t\t\t\twindow.location.hash = $(e.target).closest('a').attr('href');\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handler && e.type == action && $(e.target).closest('.disabled').length <= 0 && ! $(e.target).find('a:first').hasClass('disabled') ) {\n\t\t\t\t\t\tif ( self.interfaces[active].events && self.interfaces[active].events[handler] ) {\n\t\t\t\t\t\t\thandle = self.interfaces[active].events[handler];\n\t\t\t\t\t\t} else if ( self.interfaces.app.events && self.interfaces.app.events[handler] ) {\n\t\t\t\t\t\t\thandle = self.interfaces.app.events[handler];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\thandle.call( self.interfaces[active], $(e.target), parent, e );\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' && e.type === 'click' || e.type === 'dblclick' ) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( active !== 'login' && e.target.tagName !== 'INPUT' && $(e.target).attr('id') !== 'upload-bttn' ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.plugins) {\n\t\t\t\t\t\t// Didn't hit anything, let's check the plugins\n\t\t\t\t\t\tvar _didFindPluginEvent = false;\n\t\t\t\t\t\t$.each(self.plugins, function(i, _plugin) {\n\t\t\t\t\t\t\t$.each(_plugin.events, function(j, _event) {\n\t\t\t\t\t\t\t\tif (_event._type == handler) {\n\t\t\t\t\t\t\t\t\t_event._callback.call(_event._context);\n\t\t\t\t\t\t\t\t\t_didFindPluginEvent = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (_didFindPluginEvent) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\t$(window).bind( 'hashchange', function(e) {\n\n\t\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\t\t\t\t\t$(window).off('keyup.sheet')\n\n\t\t\t\t\t$.param.fragment.noEscape(':,/');\n\n\t\t\t\t\tif ( !$.isEmptyObject(self.classes.app.koken.lastClickedElement) && self.classes.app.koken.lastClickedElement.closest('#main-nav').length ) {\n\t\t\t\t\t\tvar a = self.classes.app.koken.lastClickedElement.closest('li').find('a');\n\t\t\t\t\t\tif ( a.hasClass('selected') && a.attr('href') !== '#' + self.classes.app.koken.lastHash) {\n\t\t\t\t\t\t\twindow.location.hash = self.classes.app.koken.lastHash;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.classes.app.koken.lastHash = $.param.fragment();\n\n\t\t\t\t\tif ( $.param.fragment() === '' ) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.interfaces.router( $.param.fragment() );\n\t\t\t\t\t\tself.observers.hash( $.param.fragment() );\n\t\t\t\t\t}\n\n\t\t\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')] && self.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')].active(false);\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\t$(window).trigger('hashchange');\n\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.settings.uploading_default_license.subscribe( function(val) {\n\n\t\t\tvar ob = this.observers.settings.uploading_default_license_clean;\n\t\t\tif (val === 'all') {\n\t\t\t\tob('All rights reserved');\n\t\t\t} else {\n\t\t\t\tvar bits = val.split(','),\n\t\t\t\t\tclean;\n\n\t\t\t\tif (bits[0] === 'y') {\n\t\t\t\t\tclean = 'Commercial';\n\t\t\t\t} else {\n\t\t\t\t\tclean = 'NonCommercial';\n\t\t\t\t}\n\n\t\t\t\tswitch(bits[1]) {\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tclean += '-ShareAlike';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tclean += '-NoDerivs';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tob(clean);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.map( this.observers.user, this.session().user );\n\n\t\tthis.observers['interface'].subscribe(function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.classes.app.koken.channel = val;\n\t\t\tthis.classes.app.koken.resizeHandlers = [];\n\n\t\t\tif ( val !== 'text' && $('#edit-area').length && $('#edit-area').data('redactor') ) {\n\t\t\t\t$('#edit-area').destroyEditor();\n\t\t\t} else if (val !== 'site') {\n\t\t\t\t$('.sp-container').remove();\n\t\t\t}\n\n\t\t}, this);\n\n\t\twindow.setInterval( function() {\n\t\t\t$('span.moment_output').each( function(i, s) {\n\t\t\t\t$(s).text( moment( $(s).data('raw') * 1000 ).fromNow() );\n\t\t\t});\n\t\t}, 30000);\n\n\t\t$(document).trigger('app.loaded');\n\n\t},\n\n\tevents: {\n\n\t\tdelete_tag_confirm: function(el, parent) {\n\t\t\tthis.classes.modal.delete_tag.show(el,parent);\n\t\t},\n\n\t\tdelete_tag: function(el, parent) {\n\t\t\tthis.interfaces.app.models.tags.del(ko.dataFor(el[0]).id);\n\t\t},\n\n\t\tinit_copiers: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$(document).on('mouseenter mouseleave', 'a.copier', function() {\n\t\t\t\tif ( $(this).parent().find('.zclip').length > 0 ) return;\n\t\t\t\t$(this).zclip({\n\t\t\t\t\tcopy: function() { return $(this).parent().parent().find('textarea').val() },\n\t\t\t\t\tpath: 'js/ZeroClipboard.swf',\n\t\t\t\t\tafterCopy: function() { self.notify().success('Link copied to clipboard'); }\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\tinit_triggers: function() {\n\n\t\t\t// Setup trigger for closing datepickers\n\t\t\t$(document).on('click', 'button:contains(\"Set\")', function() {\n\t\t\t\t$('#right-col-xtra button:contains(\"Done\")').trigger('click');\n\t\t\t});\n\n\t\t},\n\n\t\tcategory_actions: function(el,parent,override) {\n\n\t\t\tvar p\t\t= el.parents('div.col-row:first');\n\n\t\t\tif ( ! p.length ) { return; }\n\n\t\t\tvar\tid\t\t= ko.dataFor(p[0]).id,\n\t\t\t\tapp\t\t= this.interfaces.app,\n\t\t\t\tinput\t= p.find('div.check-edit input'),\n\t\t\t\tids\t\t= [],\n\t\t\t\tret\t\t= {};\n\n\t\t\tif ( el.is(':checked') ) {\n\t\t\t\tthis.observers.alteredcategories.push( el.closest('div.col-row').find('label').text().trim() );\n\t\t\t}\n\n\t\t\tif ( el.hasClass('edit-cat') ) {\n\t\t\t\tp.find('.display').hide();\n\t\t\t\tp.find('.panel-hover-link').hide();\n\t\t\t\tp.find('.check-edit').show();\n\t\t\t\tp.addClass('editing');\n\t\t\t\t$('input.field').off('.drawer_editcat').on('keydown.drawer_editcat', function(e) {\n\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($(e.target).val() !== '') {\n\t\t\t\t\t\t\t$(e.target).parent().find('.save-edit-cat').length && $(e.target).parent().find('.save-edit-cat').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( el.hasClass('cancel-cat') ) {\n\t\t\t\tp.find('.display').show();\n\t\t\t\tp.find('.check-edit').hide();\n\t\t\t\tp.find('.panel-hover-link').removeAttr('style');\n\t\t\t\tp.removeClass('editing');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('add-cat') ) {\n\n\t\t\t\tvar _inp\t\t= parent.parent().parent().find('input'),\n\t\t\t\t\thasCheck\t= parent.closest('#category_edit_drawer').find('input:checked'),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tif ( _inp.val().trim().length <= 0 ) {\n\t\t\t\t\tthis.notify().warn('Categories cannot be left blank');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tself.observers.tempcategories([]);\n\n\t\t\t\t$.each( hasCheck, function(k,v) {\n\t\t\t\t\tself.observers.tempcategories.push( $(this).closest('div.col-row').data('id') );\n\t\t\t\t});\n\n\t\t\t\tid = _inp.val();\n\t\t\t\tself.observers.alteredcategories.push(id);\n\t\t\t\tapp.models.categories.set(id);\n\t\t\t\t_inp.val('');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('delete-cat') ) {\n\t\t\t\tif (typeof override == 'boolean' && override == true) {\n\t\t\t\t\tapp.models.categories.del(id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.classes.modal.delete_category.show(el,parent);\n\t\t\t\t\t$('.modal-outer #category_name').text(el.parents('div.col-row:first').find('label').text());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( el.hasClass('save-edit-cat') ) {\n\t\t\t\t$('span.cat[data-id=' + id + ']').html( input.val() );\n\t\t\t\tapp.models.categories.update( id, input.val(), function() {\n\t\t\t\t\tif (p.find('input[type=\"checkbox\"]').prop('checked') == true) $('#right-col-xtra').find('.col-row[data-id=\"' + id + '\"] input').prop('checked',true);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('save-cat') ) {\n\n\t\t\t\tvar catsChecked = [];\n\n\t\t\t\t$('#category_edit_drawer').find('input:checked').each( function(k,v) {\n\t\t\t\t\tcatsChecked.push($(v).parent().find('label').text());\n\t\t\t\t\tids.push($(v).parent().data('id'));\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub( 'category.save', ids.join(',') );\n\n\t\t\t\t// Retest if cats checked are the same as altered categories, if not update altered categories\n\t\t\t\tvar replaceAlteredCategories = [];\n\t\t\t\t$.each(this.observers.alteredcategories(), function(i, ac) {\n\t\t\t\t\tif (catsChecked.indexOf(ac) != -1) {\n\t\t\t\t\t\treplaceAlteredCategories.push(ac);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.observers.alteredcategories(replaceAlteredCategories);\n\n\t\t\t\tif ( this.observers.alteredcategories().length <= 0 ) return;\n\n\t\t\t\tvar tot = ( $('#three-col-mid li.selected').length > 0 ) ? $('#three-col-mid li.selected').length : 1,\n\t\t\t\t\t_cats = this.helpers.unique( this.observers.alteredcategories() ).join(', '),\n\t\t\t\t\tmsg = ( this.observers.sidebar && this.observers.sidebar.asset.album_type && tot === 1 ) ? 'Category ' + _cats + ' assigned to ' + this.observers.sidebar.asset.title() : 'Category ' + _cats + ' assigned to ' + tot + ' items';\n\n\t\t\t\tif ( $('#three-col-mid li.selected').data('which') === 'thumbnail' ) msg = 'Category ' + _cats + ' assigned to ' + tot + ' items';\n\n\t\t\t\tthis.notify().success(msg);\n\t\t\t\tthis.observers.alteredcategories([]);\n\n\t\t\t}\n\n\t\t},\n\n\t\ttag_actions: function(el,parent) {\n\n\t\t\tvar tags = [], self = this;\n\n\t\t\t$('#tags_edit_drawer .active-tag').each(function(idx, element) {\n\t\t\t\ttags.push($(element).text());\n\t\t\t});\n\n\t\t\tif ( el.hasClass('create-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar input = el.closest('.col-group').find('input'),\n\t\t\t\t\tparsed_tags = this.helpers.parse_tag_input(input.val()),\n\t\t\t\t\tnoobs = $.grep(parsed_tags, function(x) { return $.inArray(x, tags) < 0; });\n\n\t\t\t\tif (noobs.length) {\n\t\t\t\t\tthis.notify().success( noobs.join(', ') + ' tag' + (noobs.length > 1 ? 's' : '') + ' created' );\n\t\t\t\t\ttags = tags.concat(noobs);\n\n\t\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\t\tthis.pubsub('tags.multisave', {\n\t\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\t\ttype: 'create'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.pubsub('tags.save', {\n\t\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\t\ttype: 'save'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar recent = $.map( this.observers.tags(), function(tag, i) { return tag.title; } );\n\n\t\t\t\t\t$.each(noobs, function(i, t) {\n\t\t\t\t\t\tif ( $.inArray(t, recent) === -1 ) {\n\t\t\t\t\t\t\tself.observers.tags.remove( function(item) { return item.title == t; });\n\t\t\t\t\t\t\tself.observers.tags.unshift({ title: t });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tif (parsed_tags.length <= 0) {\n\t\t\t\t\t\tthis.notify().warn('Tags cannot be left blank');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().warn('Tag \"' + parsed_tags.join(', ') + '\" has already been assigned');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tinput.val('');\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tinput.focus();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('recent-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar _t = el.text().toLowerCase().replace(/[\\s,\\,]+/g, ' ');\n\t\t\t\ttags.push(_t);\n\t\t\t\tthis.observers.temptags.push(_t);\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub('tags.multisave', {\n\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\ttype: 'create'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.pubsub('tags.save', {\n\t\t\t\t\t\tdata: tags.join(',')\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.observers.tags.remove( function(item) { return item.title == _t; });\n\t\t\t\tthis.observers.tags.unshift({ title: _t });\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-tag') ) {\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) this.views.close_sidebar_drawer();\n\t\t\t\tif ( this.events.close_sidebar_drawer ) this.events.close_sidebar_drawer();\n\n\t\t\t\tthis.observers.drawerOpen = false;\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub('tags.multisave');\n\t\t\t\t} else {\n\t\t\t\t\tif (this.classes.app.koken.tagsHasBeenEdited) {\n\t\t\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = false;\n\t\t\t\t\t\tthis.notify().success('Tags have been successfully updated');\n\t\t\t\t\t}\n\t\t\t\t\tif ( this.observers.temptags().length <= 0 ) return;\n\t\t\t\t\tthis.observers.temptags([]);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('remove-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar tagBeingDeleted = el.parent().find('a:first').text();\n\n\t\t\t\tel.parent().remove();\n\n\t\t\t\ttags = [];\n\n\t\t\t\t$('#tags_edit_drawer').find('.active-tag').each( function(k,v) {\n\t\t\t\t\ttags.push( $(v).text() );\n\t\t\t\t});\n\n\t\t\t\tvar removing = [];\n\n\t\t\t\t$.each( this.observers.temptags(), function(k,v) {\n\t\t\t\t\tif ( tagBeingDeleted != v ) {\n\t\t\t\t\t\tremoving.push(v)\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.observers.temptags(removing);\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub( 'tags.save', {\n\t\t\t\t\t\tdata: (!self.observers.sidebar || self.observers.sidebar.id() === 'album') ? tags.join(',') : tagBeingDeleted,\n\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.pubsub( 'tags.save', {\n\t\t\t\t\t\tdata: tags.join(',')\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\ttour: function(el,parent) {\n\n\t\t\tvar didChange = false;\n\n\t\t\tvar nextPage = function() {\n\n\t\t\t\tvar links = parent.find('.pag a'),\n\t\t\t\tcurrentLink = parent.find('.pag .c0'),\n\t\t\t\tnext = currentLink.index() + 1;\n\n\t\t\t\tif ( next > ( links.length - 1 ) ) {\n\t\t\t\t\tnext = 0;\n\t\t\t\t}\n\n\t\t\t\tlinks.eq(next).addClass('c0');\n\t\t\t\tcurrentLink.removeClass('c0');\n\n\t\t\t}\n\n\t\t\tvar prevPage = function() {\n\n\t\t\t\tvar links = parent.find('.pag a'),\n\t\t\t\tcurrentLink = parent.find('.pag .c0'),\n\t\t\t\tprev = currentLink.index() - 1;\n\n\t\t\t\tif ( prev < 0 ) {\n\t\t\t\t\tprev = links.length - 1;\n\t\t\t\t}\n\n\t\t\t\tlinks.eq(prev).addClass('c0');\n\t\t\t\tcurrentLink.removeClass('c0');\n\n\t\t\t}\n\n\t\t\tif ( el.closest('div').hasClass('pag') ) {\n\t\t\t\tif ( ! el.hasClass('c0') ) {\n\t\t\t\t\tparent.find('.c0').removeClass('c0');\n\t\t\t\t\tel.addClass('c0');\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( el.closest('div').hasClass('next') ) {\n\t\t\t\t\tnextPage();\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t\tif ( el.closest('div').hasClass('prev') ) {\n\t\t\t\t\tprevPage();\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !didChange ) { return; }\n\n\t\t\t$('.tour-current').stop().fadeOut(function() {\n\t\t\t\t$(this).removeClass('tour-current');\n\t\t\t\t$( '#tour-' + parent.find('.pag .c0').text().toLowerCase() ).addClass('tour-current');\n\t\t\t\t$('.tour-current').fadeIn();\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_slug: function(el, parent) {\n\t\t\tvar slug = parent.parent().find('input[type=\"text\"]').val(),\n\t\t\t\texistingSlug = parent.parent().find('input[type=\"hidden\"]').val(),\n\t\t\t\tvalidateRegex = /^[0-9\\-]*[a-z][a-z0-9\\-]*$/;\n\n\t\t\tif (slug === existingSlug) {\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!slug.length) {\n\t\t\t\tthis.notify().warn('Site link slug may not be empty');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!validateRegex.test(slug)) {\n\t\t\t\tthis.notify().warn('Slug edit error. Must contain at least one lowercase letter.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar url = 'text',\n\t\t\t\tid;\n\n\t\t\tif (this.observers.sidebar) {\n\t\t\t\turl = this.observers.sidebar.id() === 'content' ? 'content' : 'albums';\n\t\t\t\tid = this.observers.sidebar.asset.id();\n\t\t\t} else {\n\t\t\t\tid = this.observers.page_to_edit.id();\n\t\t\t}\n\n\t\t\tvar notify = this.notify().wait('Updating slug');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: url + '/' + id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tcontext: this,\n\t\t\t\tdata: 'slug=' + slug,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tnotify.warn(data.error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotify.success('Site link slug changed to /' + data.slug);\n\n\t\t\t\t\t\tif (url === 'text') {\n\t\t\t\t\t\t\tthis.observers.page_to_edit.url(data.url);\n\t\t\t\t\t\t\tthis.observers.page_to_edit.slug(data.slug);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.url(data.url);\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.slug(data.slug);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttimestamp_actions: function(el,parent) {\n\n\t\t\tif ( el.hasClass('datepicker') ) {\n\n\t\t\t\tif ( ! el.hasClass('hasDatepicker') ) {\n\n\t\t\t\t\tvar val = el.val(),\n\t\t\t\t\t\tmax = new Date().getTime();\n\n\t\t\t\t\tif (el.data('raw') && el.data('raw') > 0) {\n\t\t\t\t\t\tval = el.data('raw');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! isNaN(val) && (val.length > 0 || val > 0) ) {\n\n\t\t\t\t\t\tvar v = Number(val);\n\n\t\t\t\t\t\tvar pad = function(n) {\n\t\t\t\t\t\t\treturn n < 10 ? '0' + n : n;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (el.data('no-tz-shift')) {\n\t\t\t\t\t\t\tv = moment.utc(v*1000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv = moment(v*1000).tz(this.observers.settings.site_timezone());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tel.val(v.format('YYYY/MM/DD HH:MM:SS'));\n\n\t\t\t\t\t}\n\n\t\t\t\t\tel.datetimepicker({\n\t\t\t\t\t\ttimeFormat: 'HH:mm:ss',\n\t\t\t\t\t\tdateFormat: 'yy/mm/dd',\n\t\t\t\t\t\tmaxDate: max\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\tel.datetimepicker('show');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-timestamp') ) {\n\n\t\t\t\tthis.pubsub( 'timestamp.save', parent.find('input').val() );\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) { this.views.close_sidebar_drawer(); }\n\t\t\t\tif ( this.events.close_sidebar_drawer ) { this.events.close_sidebar_drawer(); }\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-timestamp-created') ) {\n\n\t\t\t\tthis.pubsub( 'timestamp_created.save', parent.find('input').val() );\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) { this.views.close_sidebar_drawer(); }\n\t\t\t\tif ( this.events.close_sidebar_drawer ) { this.events.close_sidebar_drawer(); }\n\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_sheet: function(el) {\n\n\t\t\tvar sheet\t= typeof el === 'string' ? el : el.closest('[data-sheet]').data('sheet'),\n\t\t\t\tcurrent\t= this.observers.sheets[sheet].active(),\n\t\t\t\treset\t= this.observers.sheets[sheet].reset,\n\t\t\t\tscroll\t= $('#'+sheet).find('.scroll_wrapper'),\n\t\t\t\tself\t= this;\n\n\t\t\tif (reset) {\n\t\t\t\treset.call( this.observers.sheets[sheet] );\n\t\t\t}\n\n\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\tif (self.observers.sheets[$(this).attr('id')]) self.observers.sheets[$(this).attr('id')].active(false);\n\t\t\t});\n\n\t\t\tif ( current && this.observers.sheets[sheet].onunload ) this.observers.sheets[sheet].onunload.call(this,$('#'+sheet));\n\n\t\t\tthis.observers.valid(false);\n\n\t\t\t$('#'+sheet).css({ left: '50%' });\n\t\t\tthis.observers.sheets[sheet].active(!current);\n\n\t\t\tif ( this.observers.sheets[sheet].active() ) {\n\n\t\t\t\t$('#'+sheet).find('input').off('focus keyup');\n\t\t\t\t$('#'+sheet).find('.sheet-options .sub:not(.override-autoclose)').removeClass('open').hide();\n\t\t\t\t$('#'+sheet).find('.sheet-options .arrow-toggle:not(.override-autoclose)').removeClass('open');\n\n\t\t\t\t$('#container').trigger('sheet.activated', this.observers.sheets[sheet]);\n\n\t\t\t\tif ( this.observers.sheets[sheet].onload ) {\n\t\t\t\t\tthis.observers.sheets[sheet].onload.call(this,$('#'+sheet));\n\n\t\t\t\t\tif (this.observers.sheets[sheet].plugins) {\n\t\t\t\t\t\t$.each(this.observers.sheets[sheet].plugins, function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.onload) plugin.onload();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself.classes.form_validation[self.interfaces.active.id].valid && self.classes.form_validation[self.interfaces.active.id].valid(sheet, true);\n\n\t\t\t\t// $('.ui-sheet-bg').fadeIn();\n\n\t\t\t} else {\n\t\t\t\tif ( this.observers.sheets[sheet].onunload ) {\n\t\t\t\t\tthis.observers.sheets[sheet].onunload.call(this,$('#'+sheet));\n\t\t\t\t}\n\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\t\t\t}\n\n\t\t\tif ( this.observers.sheets[sheet].active() ) {\n\t\t\t\t$('input[type=\"text\"]:first, textarea:first', '#' + sheet).focus();\n\t\t\t\t$(window).off('keyup.sheet').on( 'keyup.sheet', function(e) {\n\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t$('#'+sheet).find('button').closest('[data-validate]').find('button').andSelf().focus().trigger('click');\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tif ($('.form-error-msg:visible').length <= 0) {\n\t\t\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.form-error-msg').closest('li').find('input').focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( e.which === 27 ) {\n\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\tself.interfaces.app.events.toggle_sheet.call(self,el);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$(window).off('.sheet');\n\t\t\t}\n\n\t\t\t$(window).trigger('resize');\n\n\t\t},\n\n\t\ttoggle_dropdown: function(el,parent) {\n\n\t\t\tvar ob\t\t= ( parent.closest('#interface_container').length <= 0 ) ? this.interfaces.app.observers : this.observers,\n\t\t\t\tdd\t\t= el.closest('[data-dropdown]').data('dropdown'),\n\t\t\t\tcurrent\t= ob.dropdowns[dd].active(),\n\t\t\t\twedge\t= ob.dropdowns[dd].wedge.offset || 0,\n\t\t\t\toffset\t= ob.dropdowns[dd].offset || 0,\n\t\t\t\ttop\t\t= ob.dropdowns[dd].top || 0,\n\t\t\t\tself\t= this,\n\t\t\t\tid;\n\n\t\t\tparent.closest('#container').find('.opt-menu').each( function() {\n\t\t\t\tvar _ob = ( $(this).closest('#interface_container').length <= 0 ) ? self.interfaces.app.observers : self.observers;\n\t\t\t\tid = $(this).attr('id');\n\t\t\t\tif ( id && id.indexOf('_dd') >= 0 ) {\n\t\t\t\t\tid = id.replace('_dd','');\n\t\t\t\t\t_ob.dropdowns[id].active(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Cleanup for replace image button\n\t\t\tif (!current) $('#mid-menu-top .moxie-shim').remove();\n\n\t\t\tob.dropdowns[dd].active(!current);\n\n\t\t\tif ( ob.dropdowns[dd].active() === true && ! $('#'+dd+'_dd').data('bound') ) {\n\t\t\t\t$('#'+dd+'_dd').data('bound',true).find('li').each( function(k,v) {\n\n\t\t\t\t\tvar item = $(v);\n\n\t\t\t\t\tif (item.find('a').attr('title') === 'insert_break') {\n\t\t\t\t\t\titem.empty().addClass('break');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( item.attr('data-bind') ) {\n\n\t\t\t\t\t\tif ( item.data('bind').length > 0 ) {\n\t\t\t\t\t\t\titem.prepend('<!-- ko with: dropdowns.' + dd + '.items()[' + k + '] -->').append('<!-- /ko -->');\n\t\t\t\t\t\t\tvar _el = item.get(0);\n\t\t\t\t\t\t\tko.cleanNode(_el);\n\t\t\t\t\t\t\tko.applyBindings(ob, _el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.find('.bind').each( function(j,w) {\n\t\t\t\t\t\t\tvar _el = w;\n\t\t\t\t\t\t\tko.cleanNode(_el);\n\t\t\t\t\t\t\tko.applyBindings(ob, _el);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif (!$('#'+dd+'_dd').find('li:hidden').last().hasClass('break') && $('#'+dd+'_dd').find('li:hidden').last().index() - $('#'+dd+'_dd').find('li.break').index() >= 0 ) {\n\t\t\t\t$('#'+dd+'_dd').find('li.break').hide();\n\t\t\t} else {\n\t\t\t\t$('#'+dd+'_dd').find('li.break').show();\n\t\t\t}\n\n\t\t\tif ( ob.dropdowns[dd].active() === true && ob.dropdowns[dd].onload ) {\n\t\t\t\tob.dropdowns[dd].onload.call( this, $('#'+dd+'_dd') );\n\t\t\t}\n\n\t\t\tthis.helpers.outside( $('#'+dd+'_dd'), function() {\n\t\t\t\tob.dropdowns[dd].active(false);\n\t\t\t\tif ( ! ob.dropdowns[dd].active() && ob.dropdowns[dd].onunload ) {\n\t\t\t\t\tob.dropdowns[dd].onunload.call( self, $('#'+dd+'_dd') );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ( ob.dropdowns[dd].position ) {\n\t\t\t\tif ( ob.dropdowns[dd].position() === 'above' ) {\n\t\t\t\t\t$('#'+dd+'_dd').css({ top: 'auto', bottom: 10 }).find('.wedge').addClass('rotate');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$('#'+dd+'_dd').on( 'click', 'li', function() {\n\t\t\t\tob.dropdowns[dd].active(false);\n\t\t\t\tif ( ! ob.dropdowns[dd].active() && ob.dropdowns[dd].onunload ) {\n\t\t\t\t\tob.dropdowns[dd].onunload.call( self, $('#'+dd+'_dd') );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('#'+dd+'_dd').css( ( parseInt( offset, 10 ) < 0 ) ? 'right' : 'left', Math.abs( parseInt( offset, 10 ) ) + 'px' ).find('.wedge').css('left',wedge);\n\n\t\t\tif ( top != 0 && ! $('#'+dd+'_dd').data('ddm') ) {\n\t\t\t\t$('#'+dd+'_dd').css( 'top', ( parseInt( $('#'+dd+'_dd').css('top'), 10 ) + parseInt( top, 10 ) ) + 'px' ).data('ddm',true);\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_visibility: function(el,parent) {\n\n\t\t\tvar isSheet = ( parent.closest('.ui-sheet').length > 0 ) ? true : false;\n\n\t\t\tif ( parent.closest('.scroll_wrapper').length ) {\n\t\t\t\tvar scroll_top = parent.closest('.scroll_wrapper')[0].scrollTop;\n\t\t\t}\n\n\t\t\tparent.next().toggle().toggleClass('open').end().find('a').toggleClass('open');\n\t\t\tparent.next().find('input[type=\"text\"]').focus();\n\n\t\t\tif ( scroll_top > 0 ) {\n\t\t\t\tparent.closest('.scroll_wrapper')[0].scrollTop = (scroll_top + 40);\n\t\t\t}\n\n\t\t\tif (!isSheet && parent.attr('id') !== '') {\n\t\t\t\tthis.cookie('library:' + parent.attr('id'), parent.find('a:first').hasClass('open') ? 'open' : 'closed');\n\t\t\t}\n\n\t\t},\n\n\t\tignore_release: function() {\n\t\t\tthis.cookie('ignore_release', this.observers.update_available());\n\t\t\tthis.observers.update_available(false);\n\t\t},\n\n\t\trun_migrations: function(migrations) {\n\t\t\tthis.classes.modal.update_available.show();\n\n\t\t\tvar total = migrations.length + 1,\n\t\t\t\tself = this,\n\t\t\t\tmigrate = function() {\n\t\t\t\t\tself.classes.modal.update_available.progress( (total-(migrations.length-1))/total );\n\t\t\t\t\t$('.update_progress').siblings('h1').text('Updating');\n\t\t\t\t\t$('.update_progress').siblings('p').text('The new version is now being installed.');\n\t\t\t\t\tif (migrations.length) {\n\t\t\t\t\t\tnext();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.update_progress').siblings('h1').text('Refreshing');\n\t\t\t\t\t\t$('.update_progress').siblings('p').text('One moment.');\n\t\t\t\t\t\tif (self.has.localStorage) {\n\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tlocation.reload(true);\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnext = function() {\n\t\t\t\t\tvar n = migrations.shift();\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'update/migrate/' + n.replace(/\\.php$/, ''),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data && data.done) {\n\t\t\t\t\t\t\t\tmigrate();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmigrations.unshift(n);\n\t\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tmigrations = [ 'schema' ].concat(migrations);\n\t\t\t\tmigrate();\n\t\t},\n\n\t\tinstall_release: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.classes.modal.update_available.show();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'update',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'url=' + this.observers.update_url(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\tthis.classes.modal.update_failed.show();\n\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\tself.classes.modal.update_failed.hide();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.post('../recover.php');\n\t\t\t\t\t} else if (data && data.requirements) {\n\t\t\t\t\t\tthis.classes.modal.update_compat_fail.show();\n\n\t\t\t\t\t\t$.each(data.requirements, function(i, obj) {\n\t\t\t\t\t\t\t$('<li/>')\n\t\t\t\t\t\t\t\t.text(obj.required + '. Your server has only: ' + obj.local + '.')\n\t\t\t\t\t\t\t\t.appendTo('#unmet_requirements');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\tself.classes.modal.update_compat_fail.hide();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else if (data && data.migrations !== undefined) {\n\t\t\t\t\t\tthis.events.run_migrations(data.migrations);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.post('../recover.php', function() {\n\t\t\t\t\t\t\tself.classes.modal.update_recovered.show();\n\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\t\tself.classes.modal.update_recovered.hide();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t},\n\n\tcontrollers: {\n\n\t\tfetch_themes: function(callback) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'themes',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.themes(data);\n\t\t\t\t\tcallback && callback.apply(this, data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttoggle_plugin: function(data, callback) {\n\t\t\tvar\tnotify = this.notify(),\n\t\t\t\tself = this;\n\n\t\t\tif (data.activated) {\n\t\t\t\tnotify.wait('Disabling');\n\n\t\t\t\tthis.interfaces.plugins && $.each(this.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\tif (plugin.path == data.path) {\n\t\t\t\t\t\t$(document).off(self.interfaces.plugins[i].hooks);\n\t\t\t\t\t\tdelete self.interfaces.plugins[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins/' + data.id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\tnotify.success(data.name + ' has been disabled');\n\t\t\t\t\t\tvar copy = $.extend({}, data);\n\t\t\t\t\t\tdelete(copy.id);\n\t\t\t\t\t\tcopy.activated = false;\n\t\t\t\t\t\tthis.observers.user_plugins.replace( data, copy );\n\t\t\t\t\t\tthis.observers.process_plugin_data({ plugins: this.observers.user_plugins() });\n\t\t\t\t\t\tcallback && callback.call(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnotify.wait('Activating');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: \"path=\" + data.path,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\tvar _plugin;\n\t\t\t\t\t\t$.each(d.plugins, function(i, p) {\n\t\t\t\t\t\t\tif (p.path === data.path) {\n\t\t\t\t\t\t\t\t_plugin = p;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (_plugin.console) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '../api.php?/plugins/css',\n\t\t\t\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\t\t\t\t $('<style></style>').appendTo('head').html(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '../api.php?/plugins/js',\n\t\t\t\t\t\t\t\tdataType: 'script',\n\t\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\t\tthis.interfaces.plugins && $.each(this.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\t\tif (plugin.path == data.path) plugin.init(function() {\n\t\t\t\t\t\t\t\t\t\t\tnotify.success(data.name + ' has been activated');\n\t\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tcallback && callback.call(self);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotify.success(data.name + ' has been activated');\n\t\t\t\t\t\t\tcallback && callback.call(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.process_plugin_data(d);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tload_categories: function() {\n\n\t\t\tvar page = 0,\n\t\t\t\tpages = Infinity,\n\t\t\t\tdata = [],\n\t\t\t\tself = this;\n\n\t\t\tfunction next()\n\t\t\t{\n\t\t\t\tif (page >= pages) {\n\t\t\t\t\tself.controllers.load('categories', data);\n\t\t\t\t} else {\n\t\t\t\t\tpage++;\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'categories/page:' + page,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\tdata = data.concat(d.categories);\n\t\t\t\t\t\t\tpages = d.pages;\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnext();\n\t\t},\n\n\t\tlazy_album_sheet: function() {\n\t\t\tvar l = function() {\n\t\t\t\tvar img = $('.ui-sheet.active span.preview img.loading:first');\n\t\t\t\tif (img.length) {\n\t\t\t\t\timg.on('load', function() {\n\t\t\t\t\t\timg.removeClass('loading');\n\t\t\t\t\t\tl();\n\t\t\t\t\t});\n\t\t\t\t\timg.attr('src', img.data('src'));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tl();\n\t\t},\n\n\t\tlazy: function(el,opts) {\n\n\t\t\tif ( !opts ) {\n\t\t\t\tthis.interfaces.app.classes.scrollbar.mid_multi.update();\n\t\t\t\tthis.interfaces.app.classes.scrollbar.mid_multi.loopy(true);\n\t\t\t}\n\n\t\t\tel = ( typeof el === 'string' ) ? $(el) : el;\n\n\t\t\tif ( el.find('li').length <= 0 ) { return; }\n\n\t\t\tvar wrap\t\t= el.closest('.scroll_wrapper'),\n\t\t\t\tself\t\t= this;\n\n\t\t\t// Prevents js errors if for some reason the scrollbar didn't load\n\t\t\tif ( wrap.length <= 0 ) { return; }\n\n\t\t\tvar top\t\t\t= wrap.offset().top,\n\t\t\t\tbottom\t\t= top + wrap.height(),\n\t\t\t\tloadklass\t= (opts && opts !== 'suppress') ? 'loading-sheet' : 'loading';\n\n\t\t\tif (top === bottom) {\n\t\t\t\t// Wait for sheet resize if necessary\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.controllers.lazy(el, opts);\n\t\t\t\t}, 10);\n\t\t\t}\n\n\t\t\tvar load_image = function() {\n\n\t\t\t\tvar l\t\t= $('.loadme:first'),\n\t\t\t\t\timg\t\t= l.find('img:first'),\n\t\t\t\t\titem\t= (opts && opts !== 'suppress') ? self.observers.load_content.content()[l.data('index')] : self.observers.content()[l.data('index')],\n\t\t\t\t\turl, src;\n\n\t\t\t\tif ( !item ) {\n\t\t\t\t\tif ( !opts ) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.interfaces.app.classes.scrollbar.mid_multi.loopy();\n\t\t\t\t\t\t},250);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( el.hasClass('set') || el.hasClass('album') ) {\n\t\t\t\t\tload_image();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( l.length ) {\n\n\t\t\t\t\tif ( item && item.file_modified_on && ! item.album_type ) {\n\n\t\t\t\t\t\timg.off('.tload' + item.id).on('load.tload' + item.id, function() {\n\t\t\t\t\t\t\tvar sm = $(this).parents('li').find('span.tn-wrap img');\n\t\t\t\t\t\t\tsm.off('.ns' + item.id).on('load.ns' + item.id, function() {\n\t\t\t\t\t\t\t\t$(this).fadeIn();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsm.attr('src', $(this).attr('src'));\n\n\t\t\t\t\t\t\t$(this).fadeIn(500, function() {\n\t\t\t\t\t\t\t\tl.removeClass( loadklass + ' staged').addClass('loaded');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tload_image();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tl.removeClass('loadme').addClass('staged');\n\n\t\t\t\t\t\tvar uri = img.data('url') || item.presets && item.presets.small[self.config.retina ? 'hidpi_url' : 'url'] || item.original.url;\n\t\t\t\t\t\tsrc = uri.replace(RegExp('^' + location.protocol + '//(www.)?' + location.host.replace(/^www\\./, '')), '');\n\t\t\t\t\t\timg.attr( 'src', src );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$('.loadme').removeClass('loadme');\n\n\t\t\tel.children(':not(.loaded,.staged,.album,.set)').each( function(k,v) {\n\n\t\t\t\tvar t\t= $(v).offset().top,\n\t\t\t\t\t_t\t= t + $(v).height();\n\n\t\t\t\tif ( _t > top && t < bottom ) {\n\t\t\t\t\t$(v).addClass( loadklass + ' loadme' );\n\t\t\t\t} else if ( t > bottom ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tel.children().each(function() {\n\n\t\t\t\tif ( el[0].id === 'content_list' ) {\n\t\t\t\t\t// This initiates the drag methods since we now know this asset is in the DOM\n\t\t\t\t\tvar id = $(this).data('id');\n\t\t\t\t\tif ( self.classes.asset[id] && self.classes.asset[id].drag ) { self.classes.asset[id].drag( $(this) ); }\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tload_image();\n\n\t\t},\n\n\t\tmultiselect: function(el,cb) {\n\n\t\t\tvar self = this;\n\n\t\t\t$(document).off('click.shortcuts').on( 'click.shortcuts', el, function(e) {\n\n\t\t\t\t// Turning off clicks on favorite,featured,cover badges\n\t\t\t\tif ( $(e.target).closest('.img-badges').length > 0 && !$(e.target).hasClass('unlisted') && !$(e.target).hasClass('private') ) { return; }\n\n\t\t\t\tvar selection\t= self.observers.load_content.selected.content().length && self.observers.load_content.selected.content() || self.observers.selection(),\n\t\t\t\t\titem\t\t= $(this),\n\t\t\t\t\tparent\t\t= item.parent(),\n\t\t\t\t\tid\t\t\t= item.data('id'),\n\t\t\t\t\tcurrent\t\t= selection[0],\n\t\t\t\t\tindex;\n\n\t\t\t\tif ( e.shiftKey ) {\n\n\t\t\t\t\tvar base = item.siblings('li[data-id=\"' + current + '\"]');\n\n\t\t\t\t\tselection.push(id);\n\n\t\t\t\t\tif ( item.index() > base.index() ) {\n\n\t\t\t\t\t\titem.prevUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\tselection.push($(_li).data('id'));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\titem.nextUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\tselection.push($(_li).data('id'));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( e.metaKey || e.ctrlKey ) {\n\n\t\t\t\t\tindex = $.inArray( id, selection );\n\n\t\t\t\t\tif ( index !== -1 ) {\n\t\t\t\t\t\tselection.splice(index, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselection.push(id);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tselection = [item.data('id')];\n\t\t\t\t}\n\n\t\t\t\tselection = self.helpers.unique(selection);\n\n\t\t\t\tself.observers.load_content.selected.content(selection);\n\n\t\t\t\tif (cb) cb(selection);\n\n\t\t\t});\n\n\t\t},\n\n\t\tload_content: function(el,url,scroll,type,visibility) {\n\n\t\t\tel\t\t= ( typeof el === 'string' ) ? $(el) : el;\n\t\t\tscroll\t= ( typeof scroll === 'string' ) ? $(scroll) : scroll;\n\t\t\ttype\t= type || 'photo';\n\t\t\tvisibility = visibility || false;\n\n\t\t\t//if ( ! el[0].tagName ) { return false; }\n\n\t\t\tvar load_to = this.observers.load_content.selected.content().length ? this.observers.load_content.selected.content()[0] : false;\n\n\t\t\tthis.observers.load_content.content([]);\n\t\t\tthis.observers.load_content.selected.content([]);\n\n\t\t\tif (this.observers.load_content.subscription) {\n\t\t\t\tthis.observers.load_content.subscription.dispose();\n\t\t\t}\n\n\t\t\tvar self = this;\n\n\t\t\tthis.observers.load_content.subscription = this.observers.load_content.selected.content.subscribe( function(val) {\n\t\t\t\tel.find('.selected').removeClass('selected');\n\t\t\t\t$.each( val, function(i, v) {\n\t\t\t\t\tel.find('li[data-id=\"' + v + '\"]').addClass('selected');\n\t\t\t\t});\n\n\t\t\t\tif (val.length === 0) {\n\t\t\t\t\tself.observers.load_content.selected.text('');\n\t\t\t\t} else if (val.length === 1) {\n\t\t\t\t\t$.each( self.observers.load_content.content(), function(k,v) {\n\t\t\t\t\t\tif ( v.id == val[0] ) {\n\t\t\t\t\t\t\tvar _filename = v.filename;\n\t\t\t\t\t\t\tif (_filename === 'Vimeo') {\n\t\t\t\t\t\t\t\t_filename = (v.title.length > 0) ? v.title : 'Vimeo video';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (_filename === 'Instagram') {\n\t\t\t\t\t\t\t\t_filename = (v.title.length > 0) ? v.title : 'Instagram photo';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.observers.load_content.selected.text(_filename);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.observers.load_content.selected.text('Multiple (' + val.length + ')');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar show_error = function() {\n\t\t\t\tel.html( $('#sheet_content_error').html() );\n\t\t\t};\n\n\t\t\tif (url === 'last_upload') {\n\t\t\t\tif (this.observers.settings.last_upload()) {\n\t\t\t\t\turl = 'content/after:' + this.observers.settings.last_upload() + '/order_by:uploaded_on/visibility:any';\n\t\t\t\t} else {\n\t\t\t\t\tshow_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (url === 'quick_collection') {\n\t\t\t\tif ( this.persist('library.quick_collection') ) {\n\t\t\t\t\turl = 'content/' + this.persist('library.quick_collection') + '/visibility:any';\n\t\t\t\t} else {\n\t\t\t\t\tshow_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.load_content.url(url);\n\n\t\t\tvar load_page\t\t\t= 1,\n\t\t\t\tis_loading\t\t\t= false,\n\t\t\t\tpages_loaded\t\t= 0,\n\t\t\t\ttotal_pages\t\t\t= -1,\n\t\t\t\tcontent_per_page\t= 50;\n\n\t\t\tvar load = function() {\n\n\t\t\t\tvar _url = url + '/types:' + type + '/limit:' + content_per_page + '/page:' + load_page;\n\n\t\t\t\tif (visibility) {\n\t\t\t\t\t_url += '/visibility:' + visibility;\n\t\t\t\t}\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: _url,\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar fragments = [], els;\n\n\t\t\t\t\t\tvar create_node = function(d,k) {\n\n\t\t\t\t\t\t\tvar w\t= d.presets.small.width,\n\t\t\t\t\t\t\t\th\t= d.presets.small.height;\n\n\t\t\t\t\t\t\treturn '<li data-id=\"' + d.id + '\" data-index=\"' + k + '\">\\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"content\">\\\n\t\t\t\t\t\t\t\t\t<span class=\"img-wrap\" style=\"height:' + h + 'px; width:' + w + 'px;\">\\\n\t\t\t\t\t\t\t\t\t\t<span class=\"vid_time\">' + ((d.duration && d.duration.clean) ? d.duration.clean : '') + '</span>\\\n\t\t\t\t\t\t\t\t\t\t<img width=\"' + w + '\" height=\"' + h + '\" class=\"media\" data-url=\"' + d.presets.small[self.config.retina ? 'hidpi_url' : 'url'] + '\" style=\"display:none;\">\\\n\t\t\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t\t</a>\\\n\t\t\t\t\t\t\t</li>';\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpages_loaded\t= data.page;\n\t\t\t\t\t\ttotal_pages\t\t= data.pages;\n\n\t\t\t\t\t\tif ( total_pages > 0 ) {\n\n\t\t\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\t\t\t$.each( data.content, function(k,v) {\n\t\t\t\t\t\t\t\tvar index = ( (data.page-1) * content_per_page ) + k;\n\t\t\t\t\t\t\t\tids.push(v.id);\n\t\t\t\t\t\t\t\tself.observers.load_content.content.push(v);\n\t\t\t\t\t\t\t\tfragments.push( create_node(v,index) );\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif ( data.page === 1 ) {\n\t\t\t\t\t\t\t\tel.html(fragments.join(''));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.append(fragments.join(''));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.controllers.multiselect( '#' + el.attr('id') + ' li' );\n\n\t\t\t\t\t\t\tthis.classes.scrollbar[scroll.attr('id')].listen( 'during', function() {\n\t\t\t\t\t\t\t\tself.lazy(el,true);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.classes.scrollbar[scroll.attr('id')].listen( 'page', function() {\n\t\t\t\t\t\t\t\tif ( !is_loading && ( pages_loaded < total_pages && total_pages > 1 ) ) {\n\t\t\t\t\t\t\t\t\tload_page++;\n\t\t\t\t\t\t\t\t\tis_loading = true;\n\t\t\t\t\t\t\t\t\tload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tis_loading = false;\n\n\t\t\t\t\t\t\tself.controllers.lazy(el,true);\n\n\t\t\t\t\t\t\tif (load_to) {\n\t\t\t\t\t\t\t\tif ($.inArray(load_to, ids) === -1 && pages_loaded < total_pages) {\n\t\t\t\t\t\t\t\t\tload_page++;\n\t\t\t\t\t\t\t\t\tis_loading = true;\n\t\t\t\t\t\t\t\t\tload();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.observers.load_content.selected.content([ load_to ]);\n\t\t\t\t\t\t\t\t\tload_to = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tshow_error();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tload();\n\n\t\t},\n\n\t\treplace: {\n\n\t\t\tinit: function() {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t$('.plupload').remove();\n\t\t\t\t$('.moxie-shim.moxie-shim-html5').remove();\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; }\n\n\t\t\t\tuploader.properties.browse_button\t= 'replace_content';\n\t\t\t\tuploader.properties.drop_element\t= false;\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content/' + this.observers.selection();\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.__koken = {\n\t\t\t\t\tprogress: false,\n\t\t\t\t\tid: this.observers.selection()\n\t\t\t\t};\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Need this to trigger replace instead of new\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\t_method: 'PUT'\n\t\t\t\t\t};\n\n\t\t\t\t} );\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t// Per item progress\n\t\t\t\t\tup.__koken.progress.stop().animate( { width: up.total.percent + '%' } );\n\t\t\t\t\tup.__koken.thumb.stop().animate( { opacity: (100 - up.total.percent)/100 });\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up ) {\n\n\t\t\t\t\tif ( up.files.length ) {\n\n\t\t\t\t\t\tvar el = $('#list_item_' + up.__koken.id);\n\t\t\t\t\t\tel.addClass('replacing');\n\t\t\t\t\t\tup.__koken.thumb = el.find('.img-wrap img');\n\t\t\t\t\t\tel.find('.img-wrap').append('<div class=\"replace-progress\"><div></div></div>');\n\t\t\t\t\t\tup.__koken.progress = el.find('.img-wrap .replace-progress div');\n\t\t\t\t\t\tup.__koken.filename = el.find('span.title').html();\n\t\t\t\t\t\tel.find('span.title').html('Replacing');\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\tvar index = up.context.observers.properties.content.selected.index(),\n\t\t\t\t\t\titem = up.context.observers.content()[index],\n\t\t\t\t\t\tdata = $.parseJSON(data.response),\n\t\t\t\t\t\tli = $('#list_item_' + up.__koken.id),\n\t\t\t\t\t\timg\t= $('#lib-content-sel img'),\n\t\t\t\t\t\tmessage = item.filename + ' has been replaced';\n\n\t\t\t\t\tif (data.filename != item.filename) {\n\t\t\t\t\t\tmessage += ' with ' + data.filename;\n\t\t\t\t\t}\n\n\t\t\t\t\titem = $.extend({}, item, data),\n\n\t\t\t\t\timg.parent().addClass('loading');\n\t\t\t\t\timg.animate({ opacity: 0 });\n\n\t\t\t\t\tli.removeClass('loaded').addClass('loading');\n\n\t\t\t\t\tup.context.controllers.update_item( item, true );\n\n\t\t\t\t\tup.context.notify().success(message);\n\n\t\t\t\t} );\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\tplugin_upload: {\n\n\t\t\tinit: function(el) {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Upload\",\n\t\t\t\t\t\textensions\t: el.data('allowed')\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; $('.plupload').remove(); $('.moxie-shim.moxie-shim-html5').remove(); }\n\n\t\t\t\tuploader.properties.browse_button\t= el.attr('id');\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\tplugin\t\t: el.data('plugin'),\n\t\t\t\t\t\tbasename\t: el.data('basename')\n\t\t\t\t\t};\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\twindow.setTimeout(function() {\n\n\t\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\t\t$('#plugin-edit-' + el.data('field')).val(item.filename);\n\t\t\t\t\t\tvar path = self.config.paths.base_relative + 'storage/plugins/' + el.data('plugin') + '/storage/' + item.filename + '?' + Math.round(Math.random()*10000);\n\t\t\t\t\t\t$('#plugin-upload-' + el.data('field') + '-preview').attr('src', path);\n\n\t\t\t\t\t}, 250);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t// Progress somewhere, maybe a .wait()\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\t\t\t\t\tif (up.files.length > 1) {\n\t\t\t\t\t\tup.splice(1, up.files.length - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ( up.files.length === 1 ) {\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\ttext_upload: {\n\n\t\t\tinit: function() {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; $('.plupload').remove(); $('.moxie-shim.moxie-shim-html5').remove(); }\n\n\t\t\t\tuploader.properties.browse_button\t= 'text-upload';\n\t\t\t\tuploader.properties.drop_element\t= 'text-upload';\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\ttext\t\t: true\n\t\t\t\t\t};\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\twindow.setTimeout(function() {\n\n\t\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename( item.filename );\n\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('ready');\n\n\t\t\t\t\t\tup.refresh();\n\t\t\t\t\t\tup.splice();\n\n\t\t\t\t\t}, 250);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t$('#text-upload-progress').text( up.total.percent );\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\t\t\t\t\tif (up.files.length > 1) {\n\t\t\t\t\t\tup.splice(1, up.files.length - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ( up.files.length === 1 ) {\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename(up.files[0].name);\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('uploading');\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\tupload: {\n\n\t\t\tinstance: null,\n\n\t\t\tcleanup: function() {\n\t\t\t\t$('.plupload,.moxie-shim').remove();\n\t\t\t},\n\n\t\t\tinit: function(override) {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tself.classes.channel.library.isUploading = true;\n\n\t\t\t\tif (!override) {\n\t\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\n\t\t\t\t\tuploader.properties.browse_button\t= 'upload-drop-area';\n\t\t\t\t\tuploader.properties.drop_element\t= 'upload-drop-area';\n\t\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\t\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\t\t\t\t\tuploader.instance.starttime\t\t\t= Math.floor(new Date().getTime() / 1000);\n\n\t\t\t\t\tthis.interfaces.app.controllers.upload.instance = uploader.instance;\n\t\t\t\t} else {\n\t\t\t\t\tuploader = override;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\t\t\t\t\tuploader.instance.starttime\t\t\t= Math.floor(new Date().getTime() / 1000);\n\t\t\t\t\tuploader.instance.unbind('QueueChanged');\n\t\t\t\t}\n\n\t\t\t\tuploader.updateStatus = function( up, file ) {\n\n\t\t\t\t\tthis.currentFile = file;\n\t\t\t\t\tfile.current = up.total.uploaded + up.total.failed + 1;\n\t\t\t\t\tfile.total = up.files.length;\n\n\t\t\t\t\t$('#file-info').html( $('#upload_file').html() );\n\t\t\t\t\t$('#file-info').find('.up_name').html(file.name);\n\t\t\t\t\t$('#file-info').find('.up_current').html(file.current);\n\t\t\t\t\t$('#file-info').find('.up_total').html(file.total);\n\n\t\t\t\t\t$('#upload_queued_num').text(file.total - file.current);\n\n\t\t\t\t};\n\n\t\t\t\tuploader.close = function( up, refresh ) {\n\n\t\t\t\t\t$('#app').removeClass('uploading');\n\t\t\t\t\t$('#upload-drop-start').show();\n\t\t\t\t\t$('#upload-drop-queued').hide();\n\t\t\t\t\t$('#upload_queued_num').text(0);\n\n\t\t\t\t\tup.__koken.container.slideUp( 650, function() {\n\n\t\t\t\t\t\tif (refresh) {\n\n\t\t\t\t\t\t\tself.classes.app.koken.lastClickedElement = false;\n\n\t\t\t\t\t\t\tif ( up.uploaded.length > 0 && up.toAlbum || override && up.toAlbum ) {\n\t\t\t\t\t\t\t\tvar albumParams = {\n\t\t\t\t\t\t\t\t\trequest: 'albums/' + up.toAlbumId + '/content/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\t\t\tuploader.instance.unbindAll();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.observers.update_album_counts(data);\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!up.context.observers.properties.album.selected().album.public) albumParams.data = 'match_album_visibility=1';\n\t\t\t\t\t\t\t\tup.context.sync(albumParams);\n\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\tup.toAlbum = false;\n\t\t\t\t\t\t\t\t\tup.toAlbumId = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t} else if (up.uploaded.length) {\n\t\t\t\t\t\t\t\tup.context.notify().success( up.uploaded.length + ' items finished uploading to the Library' );\n\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content/after:' + up.context.observers.settings.last_upload() + ((up.uploaded.length > 1) ? '/visibility:any/order_by:uploaded_on' : '/view:single/selection:' + up.uploaded[0]), 2 );\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('favorites') !== -1) {\n\t\t\t\t\t\t\t\t\t\tup.context.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'favorites/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (up.context.observers.api_url().indexOf('content/featured') !== -1) {\n\t\t\t\t\t\t\t\t\t\tup.context.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'content/featured/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tup.context.controllers.update_summary();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Refresh button placement and reset uploader\n\t\t\t\t\t\tup.refresh();\n\t\t\t\t\t\tup.__koken.bars.container.hide();\n\t\t\t\t\t\tup.__koken.bars.item.css( { width: '0%' } );\n\t\t\t\t\t\tup.__koken.bars.total.css( { width: '0%' } ); // Remove for single bar\n\t\t\t\t\t\tup.__koken.progress = 0; // Only needed for single bar\n\t\t\t\t\t\tup.total.reset();\n\t\t\t\t\t\tup.splice();\n\n\t\t\t\t\t\tif (!override) self.interfaces.app.controllers.upload.cleanup();\n\n\t\t\t\t\t\tPiecon.reset();\n\n\t\t\t\t\t\tself.classes.channel.library.isUploading = false;\n\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\t// Store our own info object\n\t\t\t\tuploader.instance.__koken = {\n\n\t\t\t\t\tprogress\t: 0,\n\t\t\t\t\tcontainer\t: $('#upload-queue'),\n\t\t\t\t\tstatus\t\t: $('#upload-queue div.upload-msg:first'),\n\t\t\t\t\tbars\t\t: {\n\t\t\t\t\t\tcontainer\t: $('#upload-queue div.bar:first'),\n\t\t\t\t\t\titem\t\t: $('#upload-queue div.bar:first div div:last'),\n\t\t\t\t\t\ttotal\t\t: $('#upload-queue div.bar:first div div:first')\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( up.features.dragdrop ) {\n\t\t\t\t\t\t$('#upload-drop-area')\n\t\t\t\t\t\t\t.off('.pdrag')\n\t\t\t\t\t\t\t.on('dragover.pdrag', function() {\n\t\t\t\t\t\t\t\t$(this).addClass('dragover');\n\t\t\t\t\t\t\t\tuploader.dragging = true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('dragleave.pdrag', function() {\n\t\t\t\t\t\t\t\t$(this).removeClass('dragover');\n\t\t\t\t\t\t\t\tuploader.dragging = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadFile', uploader.updateStatus );\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\t// Add uploaded item to the collection and update the view\n\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\tup.uploaded.push(item.id);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\tvar d = Math.ceil( ( up.total.size - up.total.loaded ) / up.total.bytesPerSec ),\n\t\t\t\t\t\tstr;\n\n\t\t\t\t\tif ( !isNaN( d ) && d !== Infinity ) {\n\t\t\t\t\t\tvar h = Math.floor(d / 3600);\n\t\t\t\t\t\tvar m = Math.floor(d % 3600 / 60);\n\t\t\t\t\t\tvar s = Math.floor(d % 3600 % 60);\n\t\t\t\t\t\tstr = ( ( h > 0 ? h + \":\" : \"\" ) + ( m > 0 || h > 0 ? ( h > 0 && m < 10 ? \"0\" : \"\" ) + String(m) + \":\" : \"0:\" ) + ( s < 10 ? \"0\" : \"\" ) + s );\n\t\t\t\t\t}\n\n\t\t\t\t\t$('#remaining').html( str );\n\n\t\t\t\t\t// Single bar\n\t\t\t\t\tvar p = up.total.percent;\n\t\t\t\t\tif ( p > up.__koken.progress ) {\n\t\t\t\t\t\tup.__koken.bars.item.stop().animate( { width: up.total.percent + '%' } );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Per item progress\n\t\t\t\t\tPiecon.setProgress(up.total.percent);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'StateChanged', function( up ) {\n\n\t\t\t\t\tif ( up.state == 2 ) {\n\t\t\t\t\t\t$('#app').addClass('uploading');\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.off('.uprogress')\n\t\t\t\t\t\t\t.on('click.uprogress', '#upload-progress-cancel-bttn', function () {\n\t\t\t\t\t\t\t\tup.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else if ( up.state == 1 && up.__koken.container.is(':visible') ) {\n\t\t\t\t\t\tuploader.close(up, true);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\n\t\t\t\t\tif ( up instanceof plupload.Uploader ) { $.extend(up,e); }\n\n\t\t\t\t\tif ( up.files.length ) {\n\t\t\t\t\t\tif ( up.state !== 2 ) {\n\n\t\t\t\t\t\t\tup.toAlbumId = self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id;\n\t\t\t\t\t\t\tup.toAlbum = (override) ? up.toAlbumId : up.context.observers.shouldUploadToAlbum();\n\n\t\t\t\t\t\t\t$('#upload_preset').val( self.observers.settings.uploading_default_visibility() );\n\n\t\t\t\t\t\t\t$('#upload-cancel-bttn')\n\t\t\t\t\t\t\t\t.off('.cancel')\n\t\t\t\t\t\t\t\t.on('click.cancel', function () {\n\t\t\t\t\t\t\t\t\tuploader.close(up);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar startUpload = function() {\n\n\t\t\t\t\t\t\t\tup.settings.multipart_params = {};\n\t\t\t\t\t\t\t\tup.settings.multipart_params.upload_session_start = uploader.instance.starttime;\n\t\t\t\t\t\t\t\tup.settings.multipart_params.visibility = (self.observers.sheets.import_content.active()) ? $('#upload_visibility option:selected').val() : self.observers.settings.uploading_default_visibility();\n\t\t\t\t\t\t\t\tup.settings.multipart_params.license = self.observers.settings.uploading_default_license();\n\t\t\t\t\t\t\t\tup.settings.multipart_params.max_download = self.observers.settings.uploading_default_max_download_size();\n\n\t\t\t\t\t\t\t\tself.observers.settings.last_upload( up.settings.multipart_params.upload_session_start );\n\n\t\t\t\t\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\n\t\t\t\t\t\t\t\tself.observers.sheets.import_content.active(false);\n\n\t\t\t\t\t\t\t\tif (!self.observers.sheets.import_content.active()) {\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('content/visibility:private') !== -1) up.settings.multipart_params.visibility = 'private';\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('content/visibility:unlisted') !== -1) up.settings.multipart_params.visibility = 'unlisted';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tup.__koken.bars.container.show();\n\t\t\t\t\t\t\t\tup.__koken.status.html( $('#upload_filecon').html() );\n\n\t\t\t\t\t\t\t\tup.__koken.container.slideDown(function() {\n\t\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t\t\tup.start();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (override) startUpload();\n\n\t\t\t\t\t\t\t$('button.import')\n\t\t\t\t\t\t\t\t.off('.import')\n\t\t\t\t\t\t\t\t.on('click.import', function (e) {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('button.import').off('.import')\n\t\t\t\t\t\t\t\t\tstartUpload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.removeClass('disabled');\n\n\t\t\t\t\t\t\t// Import sheet stuff\n\t\t\t\t\t\t\t$('#upload-drop-start').hide();\n\t\t\t\t\t\t\t$('#upload-drop-queued').show();\n\n\t\t\t\t\t\t\tvar itemsQueuedElement = $('#upload_queued_num'),\n\t\t\t\t\t\t\t\tcurrentItemsQueued = parseInt(itemsQueuedElement.text(), 10),\n\t\t\t\t\t\t\t\tlen = up.files.length,\n\t\t\t\t\t\t\t\ttimer;\n\n\t\t\t\t\t\t\tif (currentItemsQueued <= 0 && up.toAlbum) $('#import_tar_coll:hidden').show();\n\n\t\t\t\t\t\t\ttimer = window.setInterval(function() {\n\t\t\t\t\t\t\t\tif (++currentItemsQueued <= len) {\n\t\t\t\t\t\t\t\t\t$('#upload_queued_num').text(currentItemsQueued);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, (300/(len/2)));\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tif (!override) {\n\t\t\t\t\tuploader.instance.init();\n\t\t\t\t} else {\n\t\t\t\t\tuploader.instance.trigger('QueueChanged');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tload_albums_full: function() {\n\t\t\t// Recursively load full album tree\n\t\t\tthis.sync({\n\t\t\t\trequest: 'albums',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tload = function(album) {\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'albums/' + album.id + '/content',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(_data) {\n\n\t\t\t\t\t\t\t\t\t$.each(_data.albums, function(i, a) {\n\t\t\t\t\t\t\t\t\t\ta.albums = ko.observableArray([]);\n\t\t\t\t\t\t\t\t\t\ta.level = album.level + 1;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\talbum.albums( _data.albums );\n\n\t\t\t\t\t\t\t\t\t$.each( album.albums(), function(i, a) {\n\t\t\t\t\t\t\t\t\t\tif (a.album_type === 'set' && a.counts.total > 0) {\n\t\t\t\t\t\t\t\t\t\t\tload(a);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$.each(data.albums, function(i, a) {\n\t\t\t\t\t\ta.albums = ko.observableArray([]);\n\t\t\t\t\t\ta.level = 0;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.observers.albums_full( data.albums );\n\n\t\t\t\t\t$.each( this.observers.albums_full(), function(i, a) {\n\t\t\t\t\t\tif (a.album_type === 'set' && a.counts.total > 0) {\n\t\t\t\t\t\t\tload(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tload_tree: function(cb) {\n\n\t\t\tthis.sync({\n\t\t\t\trequest: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar flat = [],\n\t\t\t\t\t\t\t\tadd = function(arr) {\n\t\t\t\t\t\t\t\t\t$.each(arr, function(i, item) {\n\t\t\t\t\t\t\t\t\t\tflat.push(item);\n\t\t\t\t\t\t\t\t\t\tif (item.children) {\n\t\t\t\t\t\t\t\t\t\t\tadd(item.children);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tadd(data);\n\n\t\t\t\t\t\t\tthis.observers.albums_flat(flat);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree/visibility:unlisted',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.unlisted_albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree/visibility:private',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.private_albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tcontext: this\n\t\t\t});\n\t\t},\n\n\t\tload: function(name,data,opt) {\n\n\t\t\tvar temp\t= [],\n\t\t\t\td\t\t= (data[name]) ? data[name] : data,\n\t\t\t\tlen\t\t= d.length-1,\n\t\t\t\ti\t\t= 0,\n\t\t\t\tk, current;\n\n\t\t\tif (d && d.length > 0) {\n\t\t\t\tdo {\n\t\t\t\t\tif (opt) {\n\t\t\t\t\t\tfor ( k in opt ) {\n\t\t\t\t\t\t\td[i][k] = opt[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttemp[temp.length] = d[i];\n\t\t\t\t} while( i++ < len );\n\n\t\t\t\tcurrent = this.observers[name]().slice();\n\t\t\t\t$.merge( current, temp );\n\t\t\t\tthis.observers[name](current);\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmodels: function() {\n\n\t\tvar self = this, models = {};\n\n\t\tmodels.tags = {\n\n\t\t\tadd: function(tag,ob) {\n\n\t\t\t\tvar tags\t= ob || [],\n\t\t\t\t\tadd\t\t= [];\n\n\t\t\t\tif ( typeof tag === 'object' ) {\n\n\t\t\t\t\t$.each(tag, function(i, t) {\n\t\t\t\t\t\tif ($.inArray(t, tags) === -1 && t.length) {\n\t\t\t\t\t\t\tadd.push(t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar noob = tag.trim();\n\n\t\t\t\t\tif ($.inArray(noob, tags) === -1) {\n\t\t\t\t\t\tif (/\\s+/g.exec(noob)) {\n\t\t\t\t\t\t\tnoob = noob.replace(/\"+/g, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadd.push(noob);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn tags.concat(add);\n\n\t\t\t},\n\n\t\t\tdel: function(id) {\n\n\t\t\t\tvar n = self.notify().wait('Deleting tag');\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'tags/' + id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tn.success('Tag deleted');\n\t\t\t\t\t\tthis.pubsub('tags.delete', {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\tmodels.categories = {\n\n\t\t\tupdate: function(id,val,cb) {\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'categories/' + id,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'title=' + encodeURIComponent(val),\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.categories.remove(function(item) { return item.id == id; });\n\t\t\t\t\t\tthis.observers.categories.push( data );\n\t\t\t\t\t\tthis.observers.sort('categories', 'title');\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tcb && cb();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tset: function(val) {\n\n\t\t\t\tvar catDoesntExist = true,\n\t\t\t\t\tnote = self.notify().wait('Creating category');\n\n\t\t\t\tself.observers.categories().forEach(function(category) {\n\t\t\t\t\tif (category.title === val) catDoesntExist = false;\n\t\t\t\t});\n\n\t\t\t\tif (catDoesntExist) {\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'categories',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tdata: 'title=' + encodeURIComponent(val),\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (this.interfaces.active.id === 'library') {\n\t\t\t\t\t\t\t\tthis.interfaces.library.observers.sheets.create_collection.category('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.observers.categories.push(data);\n\t\t\t\t\t\t\tthis.observers.sort('categories', 'title');\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tself.observers.categories().forEach(function(category) {\n\t\t\t\t\t\t\t\t\tif (category.title === val) {\n\t\t\t\t\t\t\t\t\t\t$('#right-col-xtra').find('.col-row[data-id=\"' + category.id + '\"] input').attr('checked','checked');\n\t\t\t\t\t\t\t\t\t\tif ($('#create_sheet_categories').is(':visible')) {\n\t\t\t\t\t\t\t\t\t\t\t$('#create_sheet_categories').find('input[value=\"' + category.id + '\"]').attr('checked', 'checked');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tnote.success(data.title + ' category created');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnote.warn('A category using that name already exists');\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdel: function(id) {\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'categories/' + id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.observers.categories.remove(function(item) { return item.id == id; });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\treturn models;\n\n\t},\n\n\tobservers: function() {\n\n\t\tvar _session = this.session();\n\t\tvar self = this;\n\n\t\treturn {\n\n\t\t\tsettings: {\n\t\t\t\tuploading_default_license_clean: ko.observable(''),\n\t\t\t\tuploading_default_license: ko.observable(''),\n\t\t\t\timage_processing_library: ko.observable(''),\n\t\t\t\timage_processing_libraries: ko.observableArray([]),\n\t\t\t\tlast_upload: ko.observable(false),\n\t\t\t\tuuid: ko.observable(''),\n\t\t\t\tsite_url: ko.observable(''),\n\t\t\t\tsite_timezone: ko.observable(''),\n\t\t\t\t__site_url_has_changed: ko.observable(false),\n\t\t\t\timage_use_defaults: ko.observable(true),\n\t\t\t\tuse_default_labels_links: ko.observable(true),\n\t\t\t\tsite_time_format: ko.observable(''),\n\t\t\t\tsite_date_format: ko.observable('')\n\t\t\t},\n\t\t\tupdate_count: ko.observable(0),\n\t\t\tpaths: this.config.paths,\n\t\t\tsystem: {},\n\t\t\tuser: {},\n\t\t\turls: {},\n\t\t\thas_urls: ko.observable(false),\n\t\t\turl_data: {\n\t\t\t\tcontent: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tfavorite: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tfeature: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\talbum: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tset: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\tessay: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tpage: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\ttag: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\tcategory: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\ttimeline: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\thome: ko.observable('')\n\t\t\t},\n\t\t\tupdate_available: ko.observable(false),\n\t\t\tupdate_available_version: ko.observable(false),\n\t\t\tupdate_url: ko.observable(''),\n\t\t\t'interface': ko.observable(),\n\t\t\tplatform: ko.observable(),\n\t\t\talbums: ko.observableArray([]),\n\t\t\talbums_flat: ko.observableArray([]),\n\t\t\talbums_full: ko.observableArray([]),\n\t\t\tunlisted_albums: ko.observableArray([]),\n\t\t\tprivate_albums: ko.observableArray([]),\n\t\t\ttags: ko.observableArray([]),\n\t\t\tcategories: ko.observableArray([]),\n\t\t\ttempcategories: ko.observableArray([]),\n\t\t\talteredcategories: ko.observableArray([]),\n\t\t\ttemptags: ko.observableArray([]),\n\t\t\thashchange: ko.observable(false),\n\t\t\thash: ko.observable(''),\n\t\t\tvalid: ko.observable(false),\n\t\t\tdefault_links: {},\n\t\t\tbase_path: ko.observable(''),\n\t\t\treal_base_path: '',\n\t\t\tplugins: ko.observableArray([]),\n\t\t\tpulse_transitions_that_ease: ko.observableArray([ 'slide' ]),\n\t\t\tuser_plugins: ko.observableArray([]),\n\t\t\tuser_shortcodes: ko.observableArray([]),\n\t\t\tuser_pulse_plugins: ko.observableArray([]),\n\t\t\tuser_pulse_transitions: ko.observableArray([]),\n\t\t\tuser_pulse_transitions_settings: ko.observableArray([]),\n\t\t\tuser_oembeds: ko.observableArray([]),\n\t\t\tuser_oembed_thumbs: [],\n\t\t\tuser_shortcodes_icons: {},\n\t\t\tuser_custom_sources: {\n\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\tessays: ko.observableArray([]),\n\t\t\t},\n\t\t\tuser_custom_sources_keys: {\n\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\tessays: ko.observableArray([]),\n\t\t\t},\n\t\t\tthemes: ko.observableArray([]),\n\t\t\tdecodeUrl: function(url) {\n\t\t\t\treturn decodeURIComponent(url());\n\t\t\t},\n\t\t\tvisibility: {\n\t\t\t\titems: ko.observableArray([]),\n\t\t\t\tviz_type_current: ko.observable('public'),\n\t\t\t\tviz_type_new: ko.observable('unlisted'),\n\t\t\t\talbum_type: ko.observable('album'),\n\t\t\t\tviz_type_reset: function() {\n\t\t\t\t\tthis.album_type('album');\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_album_counts: function(data) {\n\t\t\t\tvar allAlbums = this.albums_flat().concat(this.unlisted_albums());\n\t\t\t\tallAlbums.forEach(function(album) {\n\t\t\t\t\tif (album.id === (data.album && data.album.id || data)) {\n\t\t\t\t\t\tif (typeof data === 'number') {\n\t\t\t\t\t\t\talbum.count++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talbum.count = data.album.counts.total;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tchannels: ko.observableArray([]),\n\t\t\tshouldUploadToAlbum: ko.observable(false),\n\t\t\thasPlugin: function(key, value) {\n\t\t\t\tvar hasPlugin = false;\n\t\t\t\t$.each(this.user_plugins(), function(i, _plugin) {\n\t\t\t\t\tif (_plugin[key] === value) {\n\t\t\t\t\t\thasPlugin = _plugin;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn hasPlugin;\n\t\t\t},\n\t\t\tpostLoad: function(elements,observer) {\n\t\t\t\tvar _plugin = this.name.replace('_interface','');\n\t\t\t\tif ( config.reserved.indexOf(_plugin) === -1 ) {\n\t\t\t\t\t$.each(observer.channels(), function(i, channel) {\n\t\t\t\t\t\tif ( channel.id === _plugin ) {\n\t\t\t\t\t\t\tif (channel.columns) {\n\t\t\t\t\t\t\t\tvar container = $('#interface_container'),\n\t\t\t\t\t\t\t\t\thtml = $('#interface_container').html(),\n\t\t\t\t\t\t\t\t\ttmpl = $('#koken' + channel.columns + 'Col'),\n\t\t\t\t\t\t\t\t\tel;\n\n\t\t\t\t\t\t\t\t// TODO: Make this more dynamic\n\t\t\t\t\t\t\t\t$(tmpl.html()).children().each(function() {\n\t\t\t\t\t\t\t\t\tif ( $(this).children().length <= 0 ) {\n\t\t\t\t\t\t\t\t\t\tel = $(this).attr('id');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$('#interface_container').html(tmpl.html());\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t$('#interface_container').find('#' + el).append(html);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tuser: {\n\t\t\t\t\titems: ko.observable([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Help',\n\t\t\t\t\t\t\t'class': 'opt-support',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.help.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Take a tour',\n\t\t\t\t\t\t\t'class': 'opt-tour',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.tour.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Keyboard shortcuts',\n\t\t\t\t\t\t\t'class': 'opt-keyboard',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.keyboard_shortcuts.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Sign out',\n\t\t\t\t\t\t\t'class': 'opt-signout',\n\t\t\t\t\t\t\tbind: 'click: observers.logout'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.closest('div[data-event=\"toggle_dropdown\"]').find('.head-link').addClass('selected');\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function(el) {\n\t\t\t\t\t\tel.closest('div[data-event=\"toggle_dropdown\"]').find('.head-link').removeClass('selected');\n\t\t\t\t\t},\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '-20px',\n\t\t\t\t\ttop: '10px',\n\t\t\t\t\tid: ko.observable('user'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '85px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tload_content: {\n\t\t\t\tsubscription: null,\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\turl: ko.observable(),\n\t\t\t\tselected: {\n\t\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\t\ttext: ko.observable('')\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tuCaseWords: function(str) {\n\t\t\t\treturn (str + '').replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n\t\t\t\t\treturn $1.toUpperCase();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tsort: function(type,which) {\n\n\t\t\t\tvar l, r;\n\n\t\t\t\tif ( ! which ) {\n\t\t\t\t\twhich = 'title';\n\t\t\t\t}\n\n\t\t\t\tthis[type].sort( function(left, right) {\n\n\t\t\t\t\tl = left[which];\n\t\t\t\t\tr = right[which];\n\n\t\t\t\t\tif (typeof(l) == 'string') {\n\t\t\t\t\t\tl = l.toLowerCase();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof(r) == 'string') {\n\t\t\t\t\t\tr = r.toLowerCase();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (l === r) { return 0; }\n\t\t\t\t\t// Numbers before strings\n\t\t\t\t\tif (!isNaN(l) && isNaN(r)) { return -1; }\n\t\t\t\t\treturn l < r ? -1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t},\n\n\t\t\tmodal: {\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\tcurrent: ko.observable('empty_modal'),\n\t\t\t\tcanClose: ko.observable(true),\n\t\t\t\tmsg: ko.observable('')\n\t\t\t},\n\n\t\t\ttruncate: function(str, len) {\n\t\t\t\tvar txt = $('<div/>').html(str).text();\n\t\t\t\tlen = len || 300;\n\t\t\t\tstr = str || '';\n\t\t\t\treturn ( str.length <= len ) ? txt : txt.replace(/\\n/g, ' ').substr(0, len).replace(/[^a-z0-9]$/, '') + '';\n\t\t\t},\n\n\t\t\tformat_date: function(ts, fmt, apply_timezone) {\n\n\t\t\t\tif (apply_timezone === undefined) {\n\t\t\t\t\tapply_timezone = true;\n\t\t\t\t}\n\n\t\t\t\tvar fmt = fmt || 'MMM D YYYY h:mm a';\n\n\t\t\t\tif (!$.isNumeric(ts)) {\n\t\t\t\t\tvar d = new Date(ts).getTime();\n\t\t\t\t\tts = Math.round(d / 1000);\n\t\t\t\t}\n\n\t\t\t\tif (apply_timezone && this.settings.site_timezone() !== 'UTC') {\n\t\t\t\t\treturn moment.tz(new Date(ts*1000), this.settings.site_timezone()).format(fmt);\n\t\t\t\t} else {\n\t\t\t\t\treturn moment.utc(ts*1000).format(fmt);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset_settings: function(data) {\n\t\t\t\tif (data.site_url === 'default') {\n\t\t\t\t\tthis.base_path(this.config.paths.base);\n\t\t\t\t\tdata.site_url = this.base_path();\n\t\t\t\t} else {\n\t\t\t\t\tvar base = window.location.protocol + '//' + window.location.host + data.site_url + '/';\n\t\t\t\t\tthis.base_path( base.replace(/[\\/]+$/, '/') );\n\t\t\t\t\tdata.site_url = this.helpers.rtrim(this.base_path(), '/');\n\t\t\t\t}\n\t\t\t\tdata.__site_url_has_changed = false;\n\t\t\t\tthis.map( this.settings, data);\n\t\t\t},\n\n\t\t\tform_site_link: function(type, vars) {\n\t\t\t\tvar link = this.urls[type];\n\t\t\t\tif (!link) return false;\n\t\t\t\treturn this.helpers.rtrim( this.base_path(), '/') + ( this.system.rewrite_enabled ? '' : '/index.php?' ) + link;\n\t\t\t},\n\n\t\t\tinArrayTags: function(search, searchIn) {\n\t\t\t\tvar title = search.title,\n\t\t\t\t\tfound = false;\n\n\t\t\t\t$.each(searchIn, function(i, tag) {\n\t\t\t\t\tif (tag.title === title) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn found;\n\t\t\t},\n\n\t\t\tlogout: function() {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tprocess_plugin_data: function(data, reload) {\n\t\t\t\tvar user_plugins = [],\n\t\t\t\t\tuser_transitions = [],\n\t\t\t\t\tuser_transitions_settings = [],\n\t\t\t\t\tuser_pulse_plugins = [],\n\t\t\t\t\tself = this;\n\n\t\t\t\t$('#pulse_option_transition_type').empty();\n\n\t\t\t\tself.observers.user_custom_sources.albums([]);\n\t\t\t\tself.observers.user_custom_sources.content([]);\n\t\t\t\tself.observers.user_custom_sources.essays([]);\n\n\t\t\t\t$.each(data.custom_sources, function(key, info) {\n\t\t\t\t\tself.observers.user_custom_sources[info.scope].push({\n\t\t\t\t\t\tlabel: info.label,\n\t\t\t\t\t\tkey: key\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.user_custom_sources_keys[info.scope].push(key);\n\t\t\t\t});\n\n\t\t\t\t$.each(data.plugins, function(i, plugin) {\n\t\t\t\t\tvar data = [];\n\t\t\t\t\tif ( plugin.shortcodes && plugin.activated && (plugin.internal || plugin.setup) ) {\n\t\t\t\t\t\tself.observers.user_shortcodes( $.extend( {}, self.observers.user_shortcodes(), plugin.shortcodes ) );\n\t\t\t\t\t\t$.each(plugin.shortcodes, function(key, data) {\n\t\t\t\t\t\t\tself.observers.user_shortcodes_icons[key] = data.media_row_icon || data.icon || false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin.oembeds && plugin.activated && (plugin.internal || plugin.setup)) {\n\t\t\t\t\t\tself.observers.user_oembeds( $.extend( {}, self.observers.user_oembeds(), plugin.oembeds ) );\n\t\t\t\t\t\t$.each(plugin.oembeds, function(key, data) {\n\t\t\t\t\t\t\tself.observers.user_shortcodes_icons['koken_oembed_' + key] = data.icon || false;\n\t\t\t\t\t\t\tif (data.has_thumbnail) {\n\t\t\t\t\t\t\t\tself.observers.user_oembed_thumbs.push(key);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( plugin.pulse && plugin.activated ) {\n\t\t\t\t\t\tif (plugin.transitions) {\n\t\t\t\t\t\t\tuser_transitions.push({ title: plugin.title, transitions: plugin.transitions });\n\t\t\t\t\t\t\t$.each(plugin.transitions, function(i, obj) {\n\t\t\t\t\t\t\t\tif (obj.supports_easing) {\n\t\t\t\t\t\t\t\t\tself.observers.pulse_transitions_that_ease.push(obj.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (plugin.settings) {\n\t\t\t\t\t\t\t\t$.each(plugin.settings, function(i, setting) {\n\t\t\t\t\t\t\t\t\tsetting.key = i;\n\t\t\t\t\t\t\t\t\tuser_transitions_settings.push(setting);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar settings = [ {\n\t\t\t\t\t\t\t\tlabel: \"Enabled\",\n\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tkey: plugin.ident + '_enabled',\n\t\t\t\t\t\t\t\tplugin_enabler: true,\n\t\t\t\t\t\t\t\tcontrol_first: true\n\t\t\t\t\t\t\t} ];\n\t\t\t\t\t\t\tif (plugin.settings) {\n\t\t\t\t\t\t\t\t$.each(plugin.settings, function(i, setting) {\n\t\t\t\t\t\t\t\t\tsetting.key = i;\n\t\t\t\t\t\t\t\t\tsettings.push(setting);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplugin.settings = [ { group: plugin.title, icon: 'plugin', settings: settings } ];\n\t\t\t\t\t\t\tuser_pulse_plugins.push( plugin );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (reload && self.interfaces.plugins) {\n\t\t\t\t\t\t$.each(self.interfaces.plugins, function(i, __plugin) {\n\t\t\t\t\t\t\tif (__plugin.path === plugin.path) __plugin.update();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin.data) {\n\t\t\t\t\t\t$.each(plugin.data, function(key, arr) {\n\t\t\t\t\t\t\tif (!arr.key) {\n\t\t\t\t\t\t\t\tarr.key = key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.push(arr);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tplugin.data = data;\n\n\t\t\t\t\tif (!plugin.internal) {\n\t\t\t\t\t\tuser_plugins.push(plugin);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.observers.plugins( data.plugins );\n\t\t\t\tthis.observers.user_plugins( user_plugins );\n\t\t\t\tthis.observers.user_pulse_transitions( user_transitions );\n\t\t\t\tthis.observers.user_pulse_transitions_settings( user_transitions_settings );\n\t\t\t\tthis.observers.user_pulse_plugins( user_pulse_plugins );\n\t\t\t},\n\n\t\t\tmulti_in_array: function(needles, haystack) {\n\t\t\t\tvar max = -1;\n\n\t\t\t\t$.each(needles, function(i, needle) {\n\t\t\t\t\tmax = Math.max(max, $.inArray(needle, haystack));\n\t\t\t\t});\n\n\t\t\t\treturn max;\n\t\t\t},\n\n\t\t\tget_album_cover: function(album) {\n\t\t\t\tif (album.covers.length) {\n\t\t\t\t\treturn album.covers[0].presets.tiny.cropped[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t}\n\t\t\t\treturn 'images/no-cover-48.png';\n\t\t\t},\n\n\t\t\tget_preset_url: function(preset) {\n\t\t\t\tif (typeof preset === 'function') {\n\t\t\t\t\tpreset = preset();\n\t\t\t\t}\n\t\t\t\treturn preset[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t},\n\n\t\t\tmake_url_safe: function(str, fallback) {\n\t\t\t\tvar foreign_characters = {\n\t\t\t\t\t'||': 'ae',\n\t\t\t\t\t'|': 'oe',\n\t\t\t\t\t'': 'ue',\n\t\t\t\t\t'': 'Ae',\n\t\t\t\t\t'': 'Ue',\n\t\t\t\t\t'': 'Oe',\n\t\t\t\t\t'||||||||||||||||||||||||': 'A',\n\t\t\t\t\t'|||||||||||||||||||||||||': 'a',\n\t\t\t\t\t'': 'B',\n\t\t\t\t\t'': 'b',\n\t\t\t\t\t'||||': 'C',\n\t\t\t\t\t'||||': 'c',\n\t\t\t\t\t'': 'D',\n\t\t\t\t\t'': 'd',\n\t\t\t\t\t'|||': 'Dj',\n\t\t\t\t\t'|||': 'dj',\n\t\t\t\t\t'|||||||||||||||||||||': 'E',\n\t\t\t\t\t'|||||||||||||||||||||': 'e',\n\t\t\t\t\t'': 'F',\n\t\t\t\t\t'': 'f',\n\t\t\t\t\t'|||||': 'G',\n\t\t\t\t\t'|||||': 'g',\n\t\t\t\t\t'|': 'H',\n\t\t\t\t\t'|': 'h',\n\t\t\t\t\t'||||||||||||||||||': 'I',\n\t\t\t\t\t'||||||||||||||||||': 'i',\n\t\t\t\t\t'': 'J',\n\t\t\t\t\t'': 'j',\n\t\t\t\t\t'||': 'K',\n\t\t\t\t\t'||': 'k',\n\t\t\t\t\t'||||||': 'L',\n\t\t\t\t\t'||||||': 'l',\n\t\t\t\t\t'': 'M',\n\t\t\t\t\t'': 'm',\n\t\t\t\t\t'|||||': 'N',\n\t\t\t\t\t'||||||': 'n',\n\t\t\t\t\t'|||||||||||||||||||||||||||': 'O',\n\t\t\t\t\t'||||||||||||||||||||||||||||': 'o',\n\t\t\t\t\t'': 'P',\n\t\t\t\t\t'': 'p',\n\t\t\t\t\t'||||': 'R',\n\t\t\t\t\t'||||': 'r',\n\t\t\t\t\t'||||||': 'S',\n\t\t\t\t\t'||||||||': 's',\n\t\t\t\t\t'|||||': 'T',\n\t\t\t\t\t'||||': 't',\n\t\t\t\t\t'|||||||||||||||||||||||': 'U',\n\t\t\t\t\t'|||||||||||||||||||||||||': 'u',\n\t\t\t\t\t'|||||||||': 'Y',\n\t\t\t\t\t'||||||': 'y',\n\t\t\t\t\t'': 'V',\n\t\t\t\t\t'': 'v',\n\t\t\t\t\t'': 'W',\n\t\t\t\t\t'': 'w',\n\t\t\t\t\t'||||': 'Z',\n\t\t\t\t\t'||||': 'z',\n\t\t\t\t\t'|': 'AE',\n\t\t\t\t\t'': 'ss',\n\t\t\t\t\t'': 'IJ',\n\t\t\t\t\t'': 'ij',\n\t\t\t\t\t'': 'OE',\n\t\t\t\t\t'': 'f',\n\t\t\t\t\t'': 'ks',\n\t\t\t\t\t'': 'p',\n\t\t\t\t\t'': 'v',\n\t\t\t\t\t'': 'm',\n\t\t\t\t\t'': 'ps',\n\t\t\t\t\t'': 'Zh',\n\t\t\t\t\t'': 'zh',\n\t\t\t\t\t'': 'Kh',\n\t\t\t\t\t'': 'kh',\n\t\t\t\t\t'': 'Tc',\n\t\t\t\t\t'': 'tc',\n\t\t\t\t\t'': 'Ch',\n\t\t\t\t\t'': 'ch',\n\t\t\t\t\t'': 'Sh',\n\t\t\t\t\t'': 'sh',\n\t\t\t\t\t'': 'Shch',\n\t\t\t\t\t'': 'shch',\n\t\t\t\t\t'': 'Iu',\n\t\t\t\t\t'': 'iu',\n\t\t\t\t\t'': 'Ia',\n\t\t\t\t\t'': 'ia'\n\t\t\t\t};\n\n\t\t\t\t$.each(foreign_characters, function(r, replacement) {\n\t\t\t\t\tstr = str.replace(RegExp(r, 'g'), replacement);\n\t\t\t\t});\n\n\t\t\t\tstr = str.replace(/&.+?/, '');\n\t\t\t\tstr = str.replace(/\\s+/g, '-');\n\t\t\t\tstr = str.replace(/[^A-Za-z\\-\\d+]/g, '');\n\n\t\t\t\tif (str.match(/^\\d+$/)) {\n\t\t\t\t\tstr += '-1';\n\t\t\t\t}\n\n\t\t\t\tstr = str.toLowerCase();\n\n\t\t\t\tif (str.length === 0 && fallback) {\n\t\t\t\t\treturn fallback;\n\t\t\t\t} else {\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t},\n\t\t\torder_by_string: function() {\n\t\t\t\tvar order_by = this.order_by();\n\t\t\t\tvar match;\n\n\t\t\t\tif (match = order_by.match(/(.*)_on$/)) {\n\t\t\t\t\torder_by = 'date ' + match[1];\n\t\t\t\t}\n\n\t\t\t\treturn order_by.substr(0,1).toUpperCase() + order_by.substr(1).replace('_', ' ');\n\t\t\t},\n\t\t\tsync_order_by: function(order_string) {\n\t\t\t\tvar url = this.api_url();\n\t\t\t\tvar controllers = self.interfaces.library.controllers;\n\n\t\t\t\tif (/albums\\/\\d+\\/content$/.test(url)) {\n\t\t\t\t\tvar album_id = this.properties.album.selected().album.id;\n\t\t\t\t\tvar is_set = this.properties.album.selected().album.album_type === 'set';\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'albums/' + album_id,\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'sort=' + order_string,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tcontrollers.load_content(false, true);\n\n\t\t\t\t\t\t\tif (is_set) {\n\t\t\t\t\t\t\t\tcontrollers.load_tree();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar\ttype = 'album';\n\n\t\t\t\t\tif (url.indexOf('favorites') !== -1) {\n\t\t\t\t\t\ttype = 'favorite';\n\t\t\t\t\t} else if (url.indexOf('content') === 0) {\n\t\t\t\t\t\tif (url.indexOf('featured') !== -1) {\n\t\t\t\t\t\t\ttype = 'feature';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = 'content';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (url.indexOf('text') === 0) {\n\t\t\t\t\t\ttype = 'essay';\n\t\t\t\t\t}\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'site/set_order',\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'type=' + type + '&order=' + order_string,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tif (url.indexOf('text') === 0) {\n\t\t\t\t\t\t\t\tthis.interfaces.text.controllers.load_text(false, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrollers.load_content(false, true);\n\n\t\t\t\t\t\t\t\tif (type === 'album') {\n\t\t\t\t\t\t\t\t\tcontrollers.load_tree();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_order_by: function(val) {\n\n\t\t\t\tvar direction = ' desc';\n\n\t\t\t\tif (val === 'manual') {\n\t\t\t\t\tdirection = ' asc';\n\t\t\t\t} else if (val === 'filename' || val === 'title') {\n\t\t\t\t\tdirection = ' asc';\n\t\t\t\t}\n\n\t\t\t\tthis.sync_order_by(val + direction);\n\t\t\t},\n\t\t\tchange_order_direction: function(val) {\n\t\t\t\tthis.sync_order_by(this.order_by() + ' ' + val);\n\t\t\t},\n\t\t\tslug_is_editable: function(data) {\n\t\t\t\tvar type = 'content';\n\n\t\t\t\tif (data.page_type) {\n\t\t\t\t\ttype = data.page_type();\n\t\t\t\t} else if (data.album_type && data.album_type()) {\n\t\t\t\t\ttype = 'album';\n\t\t\t\t}\n\n\t\t\t\treturn this.url_data[type].url().indexOf('slug') !== -1;\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\n\t_Koken.prototype.library = {\n\n\tinit: function() {\n\n\t\tvar self = this,\n\t\t\tval;\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('library.resize', function() {\n\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\tself.views.asset_resize();\n\t\t\t}\n\t\t\tself.events.show_cover.call(self);\n\n\t\t\t$('#content_side').css('height', $('#content_sidebar_info_container').height() - $('#content_sidebar_info_container').find('.col-select').outerHeight(true) - 1);\n\n\t\t\tvar head = $('#three-col-right').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra');\n\n\t\t\tif ( head.length <= 0 || !head.is(':visible') ) {\n\t\t\t\thead = $('#three-col-right div').eq(1);\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: 0 + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 19 + 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: ( head.height() + 31 ) + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 47 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('library');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('library');\n\t\t// Create new channel object\n\t\tnew this.klass.channel('library');\n\n\t\tthis.events.init();\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'asset',\n\t\t\t\tfn: function(d) {\n\n\t\t\t\t\tthis.id\t\t\t\t= d.id;\n\t\t\t\t\tthis.data\t\t\t= {};\n\t\t\t\t\tthis.el\t\t\t\t= function() { return $('#content_list li[data-id=\"' + this.id + '\"]'); };\n\t\t\t\t\tthis.key\t\t\t= this.id + '-' + (d.file_modified_on ? d.file_modified_on.timestamp : d.modified_on.timestamp);\n\n\t\t\t\t\t$.extend(this.data,d);\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'cache',\n\t\t\t\tfn: function(type) {\n\t\t\t\t\treturn this.persist(this.key) || this.data.presets[type||'small'][this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'drag',\n\t\t\t\tfn: function(el) {\n\n\t\t\t\t\tvar self\t\t\t= this,\n\t\t\t\t\t\tisSingleView\t= false,\n\t\t\t\t\t\twhich\t\t\t= ( self.observers.api_url().indexOf('order_by') < 0 && self.observers.sortable() === true ) ? 'sortable' : 'draggable',\n\t\t\t\t\t\tparams\t\t\t= {},\n\t\t\t\t\t\t_el, _items, hasBeenUpdated = false, ulCopy, ulCopyData;\n\n\t\t\t\t\tparams.sortable = {\n\t\t\t\t\t\thelper: 'clone',\n\t\t\t\t\t\tappendTo: 'body',\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tdistance: 10,\n\t\t\t\t\t\tcursorAt: {\n\t\t\t\t\t\t\ttop: 10,\n\t\t\t\t\t\t\tleft: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t\t\tvar itemSortDrag = self.classes.app.koken.itemsBeingSortedDragged;\n\n\t\t\t\t\t\t\t_items = ( ui.helper.hasClass('selected') ) ? $('#content_list li.selected:not(.ui-sortable-helper,.ui-sortable-placeholder)').hide() : [];\n\n\t\t\t\t\t\t\tui.helper.addClass('ui-draggable-dragging').find('.content').append( ( ( _items.length > 1 ) ? '<span class=\"badge-count\" style=\"opacity: 1;\">' + _items.length + '</span>' : '' ) ).addClass('item_to_sort');\n\t\t\t\t\t\t\tui.helper.find('.badge-count').css({\n\t\t\t\t\t\t\t\tleft: ( ( ui.helper.find('img').width() < 100 ) ? ( ui.helper.find('img').width() - 3 ) : 93 ) + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tui.helper.closest('li').addClass('trashable');\n\t\t\t\t\t\t\tui.placeholder.css('visibility','visible').show();\n\n\t\t\t\t\t\t\t$('[data-event=\"sort_year\"]').closest('.lib-nav').find('a.item').addClass('nothoverable');\n\n\t\t\t\t\t\t\tself.classes.app.koken.sortToDrag = true;\n\n\t\t\t\t\t\t\tif ( _items.length > 0 ) {\n\t\t\t\t\t\t\t\t$.each( _items, function() {\n\t\t\t\t\t\t\t\t\titemSortDrag.push( $(this).data('id') )\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titemSortDrag.push( ui.helper.data('id') )\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tulCopy = $('#content_list').clone();\n\t\t\t\t\t\t\tulCopyData = $('#content_list').data();\n\t\t\t\t\t\t\tdelete ulCopyData.sortable;\n\t\t\t\t\t\t\tulCopy.find('.ui-sortable-placeholder').remove();\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function(e,ui) {\n\n\t\t\t\t\t\t\tif ( hasBeenUpdated && !self.observers.isBeingDropped ) {\n\n\t\t\t\t\t\t\t\tvar ids = [],\n\t\t\t\t\t\t\t\t\tfreeze = self.observers.content().slice(0);\n\n\t\t\t\t\t\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\t\t\t\t\t\tids.push( $(this).data('id') );\n\n\t\t\t\t\t\t\t\t\tvar count = ( self.observers.view() === 'list' ) ? $(this).find('.cnt') : $(this).find('.count'),\n\t\t\t\t\t\t\t\t\t\titem = freeze[count.text() - 1];\n\n\t\t\t\t\t\t\t\t\tcount.text( $(this).index() + 1 );\n\t\t\t\t\t\t\t\t\t$(this).data('index', $(this).index());\n\t\t\t\t\t\t\t\t\tself.observers.content.splice( $(this).index(), 1, item);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (self.observers.is_quick_collection()) {\n\n\t\t\t\t\t\t\t\t\tvar remainder = self.observers.quick_collection().slice(ids.length);\n\t\t\t\t\t\t\t\t\tself.observers.quick_collection( ids.concat(remainder) );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\t\trequest: self.observers.api_url() + '/order:' + ids.join(','),\n\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\t\t\t\t\t\tif (this.observers.order_by() !== 'manual') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.change_order_by('manual');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$.each(self.classes.app.koken.itemsBeingSortedDragged, function(i, itemID) {\n\t\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + itemID + '\"]').removeClass('loaded')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\t$.each(self.classes.app.koken.itemsBeingSortedDragged, function(i, itemID) {\n\t\t\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + itemID + '\"]').addClass('loaded')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (!hasBeenUpdated) self.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\t\t\t}, 100);\n\n\t\t\t\t\t\t\tui.item.css('display','');\n\t\t\t\t\t\t\t$('.nothoverable').removeClass('nothoverable');\n\t\t\t\t\t\t\t$('#content_list li.selected:not(.ui-sortable-helper)').show();\n\t\t\t\t\t\t\t$('.item_to_sort').removeClass('item_to_sort');\n\t\t\t\t\t\t\tself.classes.app.koken.sortToDrag = false;\n\n\t\t\t\t\t\t\tif ( self.observers.isBeingDropped ) {\n\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\t\t\t\t$('#content_list').replaceWith(ulCopy);\n\t\t\t\t\t\t\t\tulCopy.data(ulCopyData);\n\t\t\t\t\t\t\t\tulCopy.sortable(params.sortable).find('li').show();\n\t\t\t\t\t\t\t\tko.applyBindings( self.observers, $('#content_list')[0] );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.isBeingDropped = false;\n\t\t\t\t\t\t\thasBeenUpdated = false;\n\n\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeStop: function(e,ui) {\n\n\t\t\t\t\t\t\tif ( !ui.helper.hasClass('selected') && _items.length > 1 ) { return; }\n\n\t\t\t\t\t\t\tvar index,\n\t\t\t\t\t\t\t\tcurrItems\t= $('#content_list li').clone(true),\n\t\t\t\t\t\t\t\tids\t\t\t= [];\n\n\t\t\t\t\t\t\t$.each( _items, function() {\n\t\t\t\t\t\t\t\tids.push( $(this).data('id') );\n\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged.push($(this).data('id'))\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$('#content_list li:not(.ui-sortable-helper,.ui-sortable-placeholder)').each(function() {\n\t\t\t\t\t\t\t\tif ( ids.indexOf( $(this).data('id') ) >= 0 ) {\n\t\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tindex = ui.placeholder.index()-1;\n\t\t\t\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\t\t\t\tif ( _items.insertBefore ) { _items.insertBefore( $('#content_list li:eq(0)') ); }\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#content_list li:not(.ui-sortable-helper,.ui-sortable-placeholder):eq(' + index + ')').after(_items);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums') < 0 ) {\n\t\t\t\t\t\t\t\t$('.badge-count').remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tupdate: function(e,ui) { hasBeenUpdated = true; }\n\t\t\t\t\t};\n\n\t\t\t\t\tparams.draggable = {\n\t\t\t\t\t\tappendTo: 'body',\n\t\t\t\t\t\thelper: function() {\n\t\t\t\t\t\t\t$(this).addClass('__' + self.data.__koken__ + '__');\n\t\t\t\t\t\t\t// Overriding clone param because of draggable single image view\n\t\t\t\t\t\t\treturn self.el().clone().removeAttr('id');\n\t\t\t\t\t\t},\n\t\t\t\t\t\trevert: function(e,ui) {\n\t\t\t\t\t\t\tif ( $(this).data('ui-draggable') ) {\n\t\t\t\t\t\t\t\t$(this).data('ui-draggable').originalPosition = $(this).find('img:visible').offset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn !e;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tzIndex: 14000,\n\t\t\t\t\t\teasing: config.easing,\n\t\t\t\t\t\topacity: 0.80,\n\t\t\t\t\t\tdistance: 10,\n\t\t\t\t\t\tcursorAt: {\n\t\t\t\t\t\t\ttop: 10,\n\t\t\t\t\t\t\tleft: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdrag: function(e,ui) {\n\t\t\t\t\t\t\tif ( this.tagName === 'IMG' ) {\n\t\t\t\t\t\t\t\tui.position.top  = e.pageY - 10;\n\t\t\t\t\t\t\t\tui.position.left = e.pageX - 10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t\t\tvar li\t= $(e.target).closest('li'),\n\t\t\t\t\t\t\t\tsel = $('#content_list li.selected'),\n\t\t\t\t\t\t\t\tbase, index;\n\n\t\t\t\t\t\t\tif ( !ui.helper.find('img.media:first').attr('src') ) {\n\t\t\t\t\t\t\t\tui.helper.find('img.media:first').prop( 'src', self.cache() );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$('[data-event=\"sort_year\"]').closest('.lib-nav').find('a.item').addClass('nothoverable');\n\n\t\t\t\t\t\t\tif ( ! e.shiftKey && sel.length  <= 1 || ! e.shiftKey && ! li.hasClass('selected') ) {\n\t\t\t\t\t\t\t\tsel.removeClass('selected');\n\t\t\t\t\t\t\t} else if ( e.shiftKey ) {\n\n\t\t\t\t\t\t\t\tbase\t= li.siblings('li[data-id=\"' + sel.data('id') + '\"]');\n\t\t\t\t\t\t\t\tindex\t= base.index();\n\n\t\t\t\t\t\t\t\tli.addClass('selected');\n\n\t\t\t\t\t\t\t\tif ( li.index() > index ) {\n\n\t\t\t\t\t\t\t\t\tli.prevUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + $(_li).data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tli.nextUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + $(_li).data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tui.helper.closest('li').addClass('trashable');\n\n\t\t\t\t\t\t\t$('#lib-overlay-content').fadeTo( 'fast', 0.80 );\n\n\t\t\t\t\t\t\tif ( $('#content_list li.selected').length > 1 ) {\n\t\t\t\t\t\t\t\tif ( ui.helper.hasClass('album') ) {\n\n\t\t\t\t\t\t\t\t\tvar tot\t\t= 0,\n\t\t\t\t\t\t\t\t\t\tbadge\t= ui.helper.find('.badge-count');\n\n\t\t\t\t\t\t\t\t\t$('.lib-content').find('li.selected .badge-count').each( function() {\n\t\t\t\t\t\t\t\t\t\ttot += parseInt( $(this).text(), 10 );\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tbadge.text(tot);\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tui.helper.find('.content').append('<span class=\"badge-count\" style=\"opacity: 1;\">' + $('.lib-content').find('li.selected').length + '</span>');\n\t\t\t\t\t\t\t\t\tui.helper.find('.badge-count').css({\n\t\t\t\t\t\t\t\t\t\tleft: ( ( ui.helper.find('img').width() < 100 ) ? ( ui.helper.find('img').width() - 3 ) : 93 ) + 'px'\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + ui.helper.data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function(e,ui) {\n\n\t\t\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\t\t\t// jQueryUI does not change the mouse cursor back if you dont move the mouse, this fixes that\n\t\t\t\t\t\t\t$(document.body).css('cursor','default');\n\n\t\t\t\t\t\t\t$.each( $('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\tids.push( $(v).data('id') );\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$(this).removeClass('__content__').removeClass('__album__');\n\n\t\t\t\t\t\t\t$('.nothoverable').removeClass('nothoverable');\n\n\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: ids });\n\n\t\t\t\t\t\t\t$('#lib-overlay-content').fadeOut();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( which === 'sortable' ) { el = el.closest('ul'); if ( el.data('sortable') ) { return; } }\n\t\t\t\t\tel[which](params[which]);\n\t\t\t\t\tif ( which === 'sortable' ) { el.disableSelection(); }\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.sync({\n\t\t\trequest: 'trash',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t}\n\t\t});\n\n\t\tthis.controllers.update_summary();\n\n\t\t// Hookup the search field\n\t\t$(document).off('keyup.search').on('keyup.search', 'input.search', function(e) {\n\t\t\tvar val = $(this).val().trim();\n\t\t\tif ( e.which === 13 && val !== '' ) {\n\t\t\t\t$(this).blur();\n\t\t\t}\n\t\t\tif ( val !== '' ) {\n\t\t\t\t$('#search_form .input-clear').removeClass('hide').show();\n\t\t\t} else {\n\t\t\t\t$('#search_form .input-clear').hide();\n\t\t\t}\n\t\t});\n\n\t\t$(document).off('blur.search').on('blur.search', 'input.search', function(e) {\n\t\t\tvar val = $(this).val().trim();\n\t\t\tif ( val !== '' ) {\n\t\t\t\t$('#search_form .input-clear').show();\n\t\t\t} else {\n\t\t\t\t$('#search_form .input-clear').hide();\n\t\t\t}\n\t\t\tself.observers.search(val);\n\t\t});\n\n\t\tthis.observers.search.subscribe( function(val) {\n\t\t\tthis.controllers.rewrite_hash({ name: 'search', val: !val ? false : val });\n\t\t\tthis.controllers.rewrite_hash({ name: 'search_filter', val: !val ? false : this.observers.search_filter() });\n\n\t\t\tif (!val) {\n\t\t\t\t$('#multi-search-head').hide();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sidebar.id.subscribe( function(v) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.views.close_sidebar_drawer();\n\n\t\t\tvar asset = {},\n\t\t\t\ttype;\n\n\t\t\t$(document).off('keyup.sidebar', '#content_sidebar_template input, #content_sidebar_template textarea').on('keyup.sidebar', '#content_sidebar_template input, #content_sidebar_template textarea', function(ev) {\n\t\t\t\tif (ev.which === 27) {\n\t\t\t\t\t$(ev.target).blur();\n\t\t\t\t}\n\n\t\t\t\tif ($(this).parent().hasClass('plugin-fields')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (v === 'multi') {\n\n\t\t\t\t\tvar val\t\t= $(this).val(),\n\t\t\t\t\t\tassets\t= [],\n\t\t\t\t\t\tobj;\n\n\t\t\t\t\t// Easy way to handle summary character count for multi sidebar\n\t\t\t\t\t$('#multi_album_summary .char_count').text(255 - val.length);\n\n\t\t\t\t\ttype = $(this).data('ob');\n\n\t\t\t\t\t// Dont process empty title fields\n\t\t\t\t\tif (val.trim().length <= 0 && type === 'title') return;\n\n\t\t\t\t\t$.each( self.observers.selection(), function(k,v) {\n\t\t\t\t\t\tobj = { id: v };\n\t\t\t\t\t\tobj[type] = val;\n\t\t\t\t\t\tassets.push(obj);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar _asset_type = (self.observers.api_url().indexOf('albums') !== -1) ? 'albums' : 'content';\n\t\t\t\t\tif ($('#content_list li.selected').hasClass('content')) _asset_type = 'content';\n\n\t\t\t\t\tself.controllers.update(_asset_type, assets);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (asset.id && asset.id !== self.observers.sidebar.asset.id()) asset = {};\n\n\t\t\t\t\tasset.id\t\t\t\t\t= self.observers.sidebar.asset.id();\n\t\t\t\t\ttype\t\t\t\t\t\t= self.observers.sidebar.id() === 'content' ? 'content' : 'albums';\n\t\t\t\t\tasset[$(this).data('ob')]\t= $(this).val();\n\n\t\t\t\t\tif (type == 'albums' && self.observers.sidebar.asset.visibility.raw() !== 'public') {\n\t\t\t\t\t\ttype = self.observers.sidebar.asset.visibility.raw() + '_albums';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.observers.sidebar.id() !== 'content' && self.observers.api_url().indexOf('visibility:') === -1 && self.observers.api_url().indexOf('albums/featured') === -1) {\n\t\t\t\t\t\tif (asset.title) self.observers.properties.album.selected().album.title = asset.title;\n\t\t\t\t\t\tif (asset.description) self.observers.properties.album.selected().album.description = asset.description;\n\t\t\t\t\t\tif (asset.summary) self.observers.properties.album.selected().album.summary = asset.summary;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.controllers.update(type, asset, { sidebar: false });\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.observers.sidebar.asset.title.subscribe(function(v) {\n\t\t\t\tif (this.observers.sidebar.asset.album_type()) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar recursiveTitleChange = function(albums) {\n\t\t\t\t\t\t$.each( albums, function() {\n\t\t\t\t\t\t\tif ( this.id === self.observers.sidebar.asset.id() ) {\n\t\t\t\t\t\t\t\tthis.title = v;\n\t\t\t\t\t\t\t} else if ( this.children ) {\n\t\t\t\t\t\t\t\trecursiveTitleChange(this.children);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\trecursiveTitleChange(this.observers.albums());\n\t\t\t\t}\n\t\t\t\t$('#content_list li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').find('span.ttle').text(v);\n\t\t\t}, this);\n\n\t\t\t// Used for multiselect sidebars to know if asset is album|content\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tself.observers.isMultiAlbum($('#mid-content li.selected').hasClass('album'));\n\t\t\t});\n\n\t\t}, this );\n\n\t\tthis.observers.content.subscribe( function(val) {\n\n\t\t\tif ( this.observers.content_loading && !val.length ) {\n\t\t\t\tthis.observers.loading(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// No content, show the empty view\n\t\t\tif ( val.length <= 0) {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t\tthis.observers.loading(false);\n\t\t\t\tif (this.observers.properties.album.selected().album) {\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.observers.selected_type( val[0].album_type ? 'set' : 'content');\n\t\t\t\tthis.observers.loading(false);\n\t\t\t\tif (this.observers.view() === 'empty') {\n\t\t\t\t\tthis.observers.view('grid');\n\t\t\t\t} else if ( this.observers.view() === 'single' && this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.album_type === 'set') {\n\t\t\t\t\tthis.observers.view('grid');\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.view.subscribe(function(val) {\n\n\t\t\tif ( val === 'grid' || val === 'list' ) {\n\t\t\t\tthis.cookie('library:view',val);\n\t\t\t}\n\n\t\t\tif ( val === 'single' &&\n\t\t\t\t\tthis.observers.content().length > 0 &&\n\t\t\t\t\tthis.observers.selection().length === 0) {\n\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: this.observers.content()[0].id });\n\n\t\t\t}\n\n\t\t\tif ( this.observers.content().length <= 0 && (val === 'grid' || val === 'list') ) {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t} else if (val === 'single') {\n\t\t\t\tthis.views.asset_single_view();\n\t\t\t} else {\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t});\n\t\t\t\tthis.controllers.events_init();\n\t\t\t}\n\n\t\t\tif (val !== 'loading' && val !== 'empty' && val !== 'upload') {\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'view', val: val === 'grid' ? false : val });\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.thumbnail_scale.subscribe(this.events.scale_thumbnails, this);\n\t\tthis.events.scale_thumbnails(this.observers.thumbnail_scale());\n\n\t\tthis.observers.dropdowns.filter.selected.subscribe( function(val) {\n\n\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\tif ( $.inArray(val.trim(), [ 'none', 'any' ]) !== -1 ) {\n\t\t\t\t$('#multi-filter-head').hide();\n\t\t\t} else {\n\t\t\t\tvar self = this;\n\t\t\t\t$.each(this.observers.dropdowns.filter.items(), function(i, item) {\n\t\t\t\t\tif (item.title.toLowerCase() === val) {\n\t\t\t\t\t\tself.observers.dropdowns.filter.title( item.desc.replace('Show', 'Showing') );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('#multi-filter-head').show();\n\t\t\t}\n\n\t\t\tvar v = 1;\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 'public':\n\t\t\t\tcase 'unlisted':\n\t\t\t\tcase 'private':\n\t\t\t\t\tv = val;\n\t\t\t\t\tval = 'visibility';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'photo':\n\t\t\t\tcase 'video':\n\t\t\t\t\tv = val;\n\t\t\t\t\tval = 'types';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'any':\n\t\t\t\t\tv = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (v !== false) {\n\t\t\t\tthis.controllers.rewrite_hash({ name: val, val: v, replace: [ 'favorites', 'covers', 'visibility', 'types', 'independent'] });\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.drawer.state.subscribe(function(val) {\n\n\t\t\tif ( val === 'open' && this.observers.selection().length > 1 && this.observers.drawer.id() === 'tags_edit' ) {\n\n\t\t\t\tvar common = {};\n\n\t\t\t\t$.each(this.observers.selection(), function(i, sel) {\n\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(sel);\n\t\t\t\t\tif (asset) {\n\t\t\t\t\t\tif (asset.tags.length) {\n\t\t\t\t\t\t\tasset.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\tif (common[tag.title]) {\n\t\t\t\t\t\t\t\t\tcommon[tag.title].count++;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcommon[tag.title] = { count: 1, raw: tag }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(common, function(idx, tag) {\n\t\t\t\t\tif (tag.count === self.observers.selection().length) {\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('checked', true);\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('indeterminate', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('indeterminate', true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( val === 'open' && this.observers.selection().length <= 1 && this.observers.drawer.id() === 'category_edit' ) {\n\t\t\t\t$('[data-event=\"category_actions\"]').each(function() {\n\t\t\t\t\tif ( $(this).find('input').prop('indeterminate') == true ) $(this).find('input').prop('indeterminate', false);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( val === 'open' && this.observers.selection().length > 1 && this.observers.drawer.id() === 'category_edit' ) {\n\n\t\t\t\t// Reset all checkboxes\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$('#category_edit_drawer input[type=\"checkbox\"]').each(function() {\n\t\t\t\t\t\t$(this).prop('indeterminate',false);\n\t\t\t\t\t\t$(this).prop('checked', false);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Check all categories that are all in selected assets\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (this.observers.multiselection_categories.common.length) {\n\t\t\t\t\t\tthis.observers.multiselection_categories.common.forEach(function(item) {\n\t\t\t\t\t\t\t$('#right-col-xtra').find('#content_category_' + item).prop('checked',true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\t// Set indeterminate checkboxes for everything mixed\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (this.observers.multiselection_categories.mixed.length) {\n\t\t\t\t\t\tthis.observers.multiselection_categories.mixed.forEach(function(item) {\n\t\t\t\t\t\t\t$('#right-col-xtra').find('#content_category_' + item).prop('indeterminate',true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t}\n\n\t\t\t// Possible cruft, check if can be removed\n\t\t\tif ( val === 'closed' && (this.observers.selection().length <= 1 && this.observers.drawer.id() === 'tags_edit') ) {\n\t\t\t\tvar parent = $('#right-col-data');\n\t\t\t\tif ( parent.find('.data-submit') ) {\n\t\t\t\t\tparent.find('.data-submit').trigger('save_drawer_changes');\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.properties.album.selected.subscribe( function(val) {\n\n\t\t\tif (val.album) {\n\n\t\t\t\tvar a = val.album;\n\n\t\t\t\t$('#mid_multi .container').css('top','0px');\n\n\t\t\t\tthis.observers.header.title( a.title );\n\t\t\t\tthis.observers.header.icon( a.album_type === 'set' ? 'label-album-set' : 'label-album' );\n\n\t\t\t\tthis.map( this.observers.sidebar.asset, a );\n\n\t\t\t\tif (this.observers.view() !== 'single') {\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\n\t\t\t\t$('#container').trigger('selection.loaded', a);\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.header.title.subscribe( function(val) {\n\t\t\tif (val.toString().toLowerCase() !== 'search') {\n\t\t\t\tthis.observers.header.collection(val.toString());\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.selection.subscribe(function(v) {\n\n\t\t\tvar self = this;\n\n\t\t\t$('ul#content_list li.selected, ul#mid-list li.selected').removeClass('selected');\n\n\t\t\tif ( v.length && !isNaN(v[0]) ) {\n\n\t\t\t\tvar el = $('#list_item_' + v[0]);\n\n\t\t\t\t// TODO: Drawer fix but needs height fixed too\n\t\t\t\t/*\n\t\t\t\tif (!this.observers.drawerOpen) {\n\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\tthis.observers.drawerOpen = false;\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif ( this.observers.sidebar.id() === 'trash' ) {\n\n\t\t\t\t\t$('.restore-all').attr('disabled',false);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (v.length === 1) {\n\n\t\t\t\t\t\tvar itemId = el.data('id'),\n\t\t\t\t\t\t\titem, index;\n\t\t\t\t\t\t// TODO: Eventually mapping this.observers.content() into an object key map so we can just select by id would be ideal\n\t\t\t\t\t\t$.each(this.observers.content(), function(i, asset) {\n\t\t\t\t\t\t\tif (asset.id == itemId) {\n\t\t\t\t\t\t\t\titem = asset;\n\t\t\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( !item ) return;\n\n\t\t\t\t\t\tthis.observers.properties.content.selected.index(index);\n\n\t\t\t\t\t\tthis.observers.sidebar.asset.album_type(false);\n\n\t\t\t\t\t\tthis.map( this.observers.sidebar.asset, item );\n\n\t\t\t\t\t\tif (!item.source) this.observers.sidebar.asset.source.url(false);\n\n\t\t\t\t\t\tthis.observers.sidebar.hasgeo( (item.geolocation) ? true: false );\n\n\t\t\t\t\t\tif ( item.album_type ) {\n\t\t\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.views.asset_multi_view(item);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.get_selected_asset_categories();\n\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t$('#container').trigger('selection.loaded', item);\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.observers.sidebar.id('multi');\n\t\t\t\t\t\t// TODO: Could probably combine properties.multi.selected with\n\t\t\t\t\t\t// content.selected.id, since they are the same value. Just move that code here?\n\t\t\t\t\t\tthis.observers.properties.multi.selected(v);\n\n\t\t\t\t\t\tif ($('#content_list li.content').length) {\n\t\t\t\t\t\t\tthis.observers.isContent(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.isContent(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Resetting common tags\n\t\t\t\t\t\tthis.observers.tagsCommonAcrossAll([]);\n\t\t\t\t\t\tthis.observers.selectionHasTags(false);\n\n\t\t\t\t\t\tvar common = {},\n\t\t\t\t\t\t\titems = [],\n\t\t\t\t\t\t\ttags = [],\n\t\t\t\t\t\t\ttagsToShow = { cache: [], actual: [] }\n\n\t\t\t\t\t\t$.each(this.observers.selection(), function(i, sel) {\n\t\t\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(sel);\n\t\t\t\t\t\t\tif (asset) {\n\t\t\t\t\t\t\t\titems.push(asset);\n\t\t\t\t\t\t\t\tif (!self.observers.selectionHasTags() && asset.tags.length) self.observers.selectionHasTags(true);\n\t\t\t\t\t\t\t\tif (asset.tags.length) {\n\t\t\t\t\t\t\t\t\tasset.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\t\t\ttags.push(tag);\n\t\t\t\t\t\t\t\t\t\tif (common[tag.title]) {\n\t\t\t\t\t\t\t\t\t\t\tcommon[tag.title].count++;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tcommon[tag.title] = { count: 1, raw: tag }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.each(common, function(idx, tag) {\n\t\t\t\t\t\t\tif (tag.count === self.observers.selection().length) self.observers.tagsCommonAcrossAll.push(tag.raw);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttags.forEach(function(tag, idx) {\n\t\t\t\t\t\t\tif (tagsToShow.cache.indexOf(tag.title) === -1) {\n\t\t\t\t\t\t\t\ttagsToShow.cache.push(tag.title);\n\t\t\t\t\t\t\t\ttagsToShow.actual.push(tag);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.map(this.observers.sidebar.asset, {tags: tagsToShow.actual});\n\n\t\t\t\t\t\t// Start checking other properties\n\n\t\t\t\t\t\tif ($('#content_list li.content').length) {\n\n\t\t\t\t\t\t\tvar licenses = [], visibilities = [], downloads = [],\n\t\t\t\t\t\t\t\tlicense = false, visible = false, download = false;\n\n\t\t\t\t\t\t\t$.each(v, function(i, id) {\n\t\t\t\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(id);\n\n\t\t\t\t\t\t\t\tif (!asset) return;\n\n\t\t\t\t\t\t\t\tlicenses.push(asset.license);\n\t\t\t\t\t\t\t\tvisibilities.push(asset.visibility);\n\t\t\t\t\t\t\t\tdownloads.push(asset.max_download);\n\n\t\t\t\t\t\t\t\tlicense = asset.license;\n\t\t\t\t\t\t\t\tvisible = asset.visibility;\n\t\t\t\t\t\t\t\tdownload = asset.max_download;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(licenses, function(i, l) {\n\t\t\t\t\t\t\t\tif (l.clean != license.clean) {\n\t\t\t\t\t\t\t\t\tlicense = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(visibilities, function(i, v) {\n\t\t\t\t\t\t\t\tif (v.clean != visible.clean) {\n\t\t\t\t\t\t\t\t\tvisible = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(downloads, function(i, d) {\n\t\t\t\t\t\t\t\tif (d.clean != download.clean) {\n\t\t\t\t\t\t\t\t\tdownload = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.map( this.observers.sidebar.asset, {\n\t\t\t\t\t\t\t\tlicense: license,\n\t\t\t\t\t\t\t\tvisibility: visible,\n\t\t\t\t\t\t\t\tmax_download: download\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#container').trigger('selection.loaded', [items]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.classes.app.koken.lastFocused ) {\n\t\t\t\t\t\tthis.classes.app.koken.lastFocused.focus();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t$.each(v, function(i, id) {\n\t\t\t\t\t$('#list_item_' + id).addClass('selected');\n\t\t\t\t});\n\n\t\t\t} else if ( v.length === 0 ) {\n\t\t\t\tif ( this.observers.sidebar.id() === 'trash' ) {\n\t\t\t\t\t$('.restore-all').attr('disabled',true);\n\t\t\t\t}\n\t\t\t\tif (this.observers.properties.album.selected().album) {\n\t\t\t\t\tthis.map( this.observers.sidebar.asset, this.observers.properties.album.selected().album );\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t\tthis.observers.get_selected_asset_categories();\n\t\t\t\t\t$('#container').trigger('selection.loaded', this.observers.properties.album.selected().album);\n\t\t\t\t} else {\n\t\t\t\t\tif ( this.observers.sidebar.id() !== 'trash' || $('.public').hasClass('selected') ) {\n\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.observers.view() === 'single' || this.observers.view() === 'empty') {\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.observers.view('grid');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.observers.properties.content.selected.index(-1);\n\t\t\t}\n\n\t\t\t$('#content_sidebar_template div.value input').off('keydown.sidebar').on( 'keydown.sidebar', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t$(this).blur();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (v.length > 1) {\n\t\t\t\t$('#multi_sidebar_info_container').find('.value input').val('');\n\t\t\t\t$('#multi_sidebar_info_container').find('.value textarea').val('');\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.quick_collection.subscribe(function(val) {\n\t\t\tif (val.length === 1) {\n\t\t\t\t// Need to fake this, otherwise urls could end up like /content/100, which is not a list)\n\t\t\t\tval.push(0);\n\t\t\t}\n\t\t\tthis.persist('library.quick_collection', val.join(','));\n\t\t}, this);\n\n\t\tthis.observers.api_url.subscribe(function() {\n\t\t\tthis.controllers.set_current_nav();\n\t\t}, this);\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\n\t\t\t\turl = url || 'content';\n\n\t\t\t\t// If plugin is activated and url hash references plugin reset to content url\n\t\t\t\tvar url_parts = url.split('/');\n\t\t\t\t$.each(this.interfaces.app.observers.plugins(), function(i, plugin) {\n\t\t\t\t\tif (plugin.console && url_parts.indexOf(plugin.php_class_name.replace('Koken', '').toLowerCase().trim()) !== -1) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//\n\n\t\t\t\tvar defaultView = this.cookie('library:view') || 'grid';\n\n\t\t\t\tfunction is_orderable(url) {\n\t\t\t\t\treturn url.match(/albums\\/\\d+\\/content$/) ||\n\t\t\t\t\turl.match(/(content|albums)\\/featured(\\/.*)?$/) ||\n\t\t\t\t\turl.match(/favorites/) ||\n\t\t\t\t\turl.match(/quick_collection:true/) ||\n\t\t\t\t\turl.match(/albums\\/visibility:public/);\n\t\t\t\t}\n\n\t\t\t\tthis.observers.is_sortable(\n\t\t\t\t\t(url.match(/^albums\\/\\d+\\/content/) && url.indexOf('visibility') === -1 &&  url.indexOf('types') === -1 && url.indexOf('covers') === -1) ||\n\t\t\t\t\t(url.match(/^content/) && url.indexOf('year') === -1 && url.indexOf('after') === -1 &&  url.indexOf('quick') === -1 && url.indexOf('unlisted') === -1 && url.indexOf('private') === -1) ||\n\t\t\t\t\turl.match(/favorites/) ||\n\t\t\t\t\turl.match(/albums\\/visibility:public/)\n\t\t\t\t);\n\n\t\t\t\tvar upload_match_url = url.replace(/\\/selection:[\\d,]+/, '');\n\t\t\t\tthis.observers.is_uploadable(\n\t\t\t\t\tupload_match_url === 'content' ||\n\t\t\t\t\tupload_match_url.match(/albums\\/\\d+\\/content$/) ||\n\t\t\t\t\tupload_match_url.match(/content\\/featured(\\/.*)?$/) ||\n\t\t\t\t\tupload_match_url.match(/favorites/) ||\n\t\t\t\t\tupload_match_url.match(/content\\/visibility:/)\n\t\t\t\t);\n\n\t\t\t\tvar final_url = url,\n\t\t\t\t\tfilters = [ 'covers', 'types', 'independent' ].concat(url.indexOf('albums') === 0 ? [] : ['visibility']),\n\t\t\t\t\tregex = RegExp('/(' + filters.join('|') + '|selection|view|order_by|year|month|order_direction|search_filter|search|quick_collection):([^\\/]+)', 'g'),\n\t\t\t\t\tnon_api = [ \"selection\", \"view\", \"quick_collection\" ],\n\t\t\t\t\tmatches,\n\t\t\t\t\tobservers = {\n\t\t\t\t\t\t\"selection\": [],\n\t\t\t\t\t\t\"view\": defaultView,\n\t\t\t\t\t\t\"order_by\": \"published_on\",\n\t\t\t\t\t\t\"order_direction\": is_orderable(url) || url.match(/albums\\/visibility:(unlisted|private)/) ? false : 'desc',\n\t\t\t\t\t\t\"search\": '',\n\t\t\t\t\t\t\"search_filter\": ( this.cookie('library:search_filter') === null ) ? 'tags' : this.cookie('library:search_filter'),\n\t\t\t\t\t\t\"year\": false,\n\t\t\t\t\t\t\"month\": false,\n\t\t\t\t\t\t\"filter\": 'none'\n\t\t\t\t\t},\n\t\t\t\t\tself = this,\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tcb: function() {\n\t\t\t\t\t\t\t// Pick out search_filter and run it first so it sticks\n\t\t\t\t\t\t\tif (observers.search_filter) {\n\t\t\t\t\t\t\t\tself.observers.search_filter( observers.search_filter );\n\t\t\t\t\t\t\t\tdelete(observers.search_filter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (var i in observers) {\n\t\t\t\t\t\t\t\tif (i === 'filter') {\n\t\t\t\t\t\t\t\t\tself.observers.dropdowns.filter.selected(observers[i]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (i.indexOf('order_') === 0 && self.observers.is_sortable()) continue;\n\t\t\t\t\t\t\t\t\tself.observers[i]( observers[i] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tload_until: false\n\t\t\t\t\t};\n\n\t\t\t\tif ( this.config.cache && ! $.isEmptyObject(this.internalcache) ) {\n\t\t\t\t\tthis.cache( $('#content_list') );\n\t\t\t\t}\n\n\t\t\t\tthis.observers.sidebar.hasgeo(false);\n\n\t\t\t\tvar order_defined = false,\n\t\t\t\t\torder_direction_defined = false;\n\t\t\t\t\tis_quick = false;\n\n\t\t\t\twhile( (matches = regex.exec(url)) !== null) {\n\n\t\t\t\t\tvar ob = matches[1],\n\t\t\t\t\t\tval = matches[2];\n\n\t\t\t\t\tif (ob === 'quick_collection') {\n\t\t\t\t\t\tvar ids = self.observers.quick_collection();\n\t\t\t\t\t\tif (ids.length < 2) {\n\t\t\t\t\t\t\tif (ids.length) {\n\t\t\t\t\t\t\t\tids.push(ids[0]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tids = [0,0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfinal_url += '/' + ids.join(',') + '/visibility:any';\n\t\t\t\t\t\tis_quick = true;\n\t\t\t\t\t} else if ($.inArray(ob, filters) !== -1) {\n\t\t\t\t\t\tobservers.filter = ob === 'covers' || ob === 'independent' ? ob : val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (ob === 'selection') {\n\t\t\t\t\t\t\tif (val == 'NaN') self.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\tobj.load_until = Number(val);\n\t\t\t\t\t\t\tval = val.split(',').map( function(id) { return Number(id); });\n\n\t\t\t\t\t\t\tif (url.match(/trash/)) this.observers.trashRestoreDisabled(false);\n\t\t\t\t\t\t\t$('#container').trigger('selection.loaded');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (val.length > 1) this.observers.get_selected_asset_categories(val);\n\n\t\t\t\t\t\t// Fixes for [object,object] appearing after some bogus selections\n\t\t\t\t\t\tif (val[0].toString() == 'NaN') self.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t\t\tif (ob === 'view' && (val === 'empty' || val === 'upload')) {\n\t\t\t\t\t\t\tval = 'grid';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobservers[ob] = val;\n\n\t\t\t\t\t\tif (ob === 'order_by') {\n\t\t\t\t\t\t\torder_defined = true;\n\t\t\t\t\t\t} else if (ob === 'order_direction') {\n\t\t\t\t\t\t\torder_direction_defined = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.inArray(ob, non_api) !== -1) {\n\t\t\t\t\t\tfinal_url = final_url.replace(matches[0], '');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.is_quick_collection(is_quick);\n\n\t\t\t\tif (final_url.match(/albums\\/\\d+\\/content/) || is_orderable(final_url) || is_quick) {\n\t\t\t\t\tif (is_orderable(final_url) || is_quick) {\n\t\t\t\t\t\tthis.observers.sortable(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.default_sort('manual');\n\t\t\t\t\tif (!order_defined) {\n\t\t\t\t\t\tobservers.order_by = 'manual';\n\t\t\t\t\t\tobservers.order_direction = false;\n\t\t\t\t\t} else if (observers.order_by !== 'manual' && !order_direction_defined) {\n\t\t\t\t\t\tobservers.order_direction = observers.order_by === 'title' ? 'asc' : 'desc';\n\t\t\t\t\t}\n\t\t\t\t} else if (final_url.match(/albums\\/visibility:/)) {\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t\tthis.observers.default_sort('title');\n\t\t\t\t\tif (!order_defined || $.inArray(observers.order_by, [ 'title', 'modified_on', 'created_on' ] ) === -1) {\n\t\t\t\t\t\tobservers.order_by = 'title';\n\t\t\t\t\t}\n\t\t\t\t\tif (!order_direction_defined) {\n\t\t\t\t\t\tobservers.order_direction = observers.order_by === 'title' ? 'asc' : 'desc';\n\t\t\t\t\t}\n\t\t\t\t} else if (final_url.match(/content\\/(unlisted|privat)/)) {\n\t\t\t\t\tif (!order_defined) {\n\t\t\t\t\t\tobservers.order_by = 'captured_on';\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.default_sort('captured_on');\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.default_sort('published_on');\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t}\n\n\t\t\t\tif (observers.order_direction === false && final_url.indexOf('order_direction:') !== -1) {\n\t\t\t\t\tfinal_url = final_url.replace(/\\/order_direction:(asc|desc)/, '');\n\t\t\t\t}\n\n\t\t\t\tif ( this.observers.api_url() !== final_url ) {\n\n\t\t\t\t\t$('#content_list').empty();\n\t\t\t\t\tif (!final_url.match(/search:[^\\/]/)) {\n\t\t\t\t\t\tthis.observers.search('');\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.api_url( final_url );\n\t\t\t\t\tthis.observers.passengers.next_page = false;\n\t\t\t\t\tself.controllers.load_content(obj);\n\n\t\t\t\t} else {\n\t\t\t\t\tobj.cb();\n\t\t\t\t}\n\n\t\t\t\tif ( final_url.match(/trash/) ) {\n\t\t\t\t\tthis.observers.dropdowns.filter.selected('none');\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$.each(self.classes.scrollbar, function(i, scroll) {\n\t\t\t\t\t\tif (this.loopy) {\n\t\t\t\t\t\t\tthis.lastpos = -1;\n\t\t\t\t\t\t\tthis.elements.container.trigger('scroll', {\n\t\t\t\t\t\t\t\tsuppress: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t$('#container').trigger('library.loaded');\n\n\t\t\t\t$(window).off('mousemove').on('mousemove', function(e) {\n\t\t\t\t\tif ( e.pageX > 240 ) {\n\t\t\t\t\t\t$('[data-event=\"toggle_gear_popout\"]').hide();\n\t\t\t\t\t}\n\t\t\t\t}).trigger('resize');\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tevents: {\n\n\t\tenable_plugin_import: function(el) {\n\t\t\tvar plugin = this.observers.hasPlugin('php_class_name', el.data('php')),\n\t\t\t\tself = this;\n\t\t\tif (plugin) {\n\t\t\t\tthis.controllers.toggle_plugin(plugin, function() {\n\t\t\t\t\tvar selected = $('#import_content li.selected a');\n\t\t\t\t\t$('#container').trigger('library.loaded');\n\t\t\t\t\t$('#container').trigger('sheet.activated', self.observers.sheets.import_content);\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tselected.trigger('click');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttoggle_focal: function(el) {\n\t\t\tthis.observers.focal_point( !this.observers.focal_point() );\n\t\t},\n\n\t\tsort_year: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t} else {\n\t\t\t\t$.bbq.pushState( '/library/content/year:' + data.year, 2 );\n\t\t\t}\n\t\t},\n\n\t\tsort_month: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tp = el.parent();\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t} else {\n\t\t\t\t$.bbq.pushState( '/library/content/year:' + data.year + '/month:' + data.month, 2 );\n\t\t\t}\n\t\t},\n\n\t\tinit: function() {\n\n\t\t\tthis.setup_keyboard_bindings();\n\t\t\tthis.setup_drawer_events();\n\t\t\tthis.gear_hovering();\n\n\t\t},\n\n\t\tload_quick_collection: function() {\n\t\t\tvar ids = this.observers.quick_collection();\n\t\t\tif (ids.length) {\n\n\t\t\t} else {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t}\n\t\t},\n\n\t\tsetup_keyboard_bindings: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.controllers.multiselect( '#content_list li', function(sel) {\n\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: sel });\n\t\t\t});\n\n\t\t\t$(document).on('dblclick', '#content_list li', function(e) {\n\n\t\t\t\tif ( self.observers.sidebar.id() !== 'trash' ) {\n\t\t\t\t\tvar li = $(e.target).closest('li');\n\t\t\t\t\tif (li.hasClass('album') || li.hasClass('set')) {\n\t\t\t\t\t\tlocation.hash = '/library/albums/' + li.data('id') + '/content';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'single'});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t$(document).on('dblclick', '#mid-single-wrap', function() {\n\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'grid'});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(window).on('keydown', function(e) {\n\n\t\t\t\tvar bypass = false;\n\n\t\t\t\tif ( $(\"*:focus\").length > 0 && ( e.metaKey || e.ctrlKey ) ) {\n\t\t\t\t\tif ( e.which === 37 || e.which === 39 ) {\n\t\t\t\t\t\t$(\"*:focus\").blur();\n\t\t\t\t\t\tbypass = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( e.target.nodeName !== 'INPUT' && e.target.nodeName !== 'TEXTAREA' && e.target.nodeName !== 'SELECT' || bypass ) {\n\n\t\t\t\t\tswitch (e.which) {\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tif (self.observers.view() === 'grid') {\n\t\t\t\t\t\t\t\tvar index = self.observers.properties.content.selected.index(),\n\t\t\t\t\t\t\t\t\tcols = 0,\n\t\t\t\t\t\t\t\t\toffset = false,\n\t\t\t\t\t\t\t\t\tnew_index = false;\n\n\t\t\t\t\t\t\t\t// This seems more reliable than trying to guess view viewport_area()\n\t\t\t\t\t\t\t\t$('#content_list li').each(function(i, li) {\n\t\t\t\t\t\t\t\t\tif (!offset || offset === $(li).offset().top) {\n\t\t\t\t\t\t\t\t\t\toffset = $(li).offset().top;\n\t\t\t\t\t\t\t\t\t\tcols++;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tnew_index = e.which === 38 ? index - cols : index + cols;\n\n\t\t\t\t\t\t\t\tif (new_index >= 0 && new_index < self.observers.content().length) {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: self.observers.content()[new_index].id});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (self.observers.view() === 'list') {\n\t\t\t\t\t\t\t\tif (e.which === 38) {\n\t\t\t\t\t\t\t\t\tself.observers.prev_item();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.observers.next_item();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 65:\n\t\t\t\t\t\t\tif (e.metaKey && self.observers.view() !== 'single') {\n\t\t\t\t\t\t\t\tself.events.select_all();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 67:\n\t\t\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) { return; }\n\t\t\t\t\t\t\tif ( $('[data-ob=\"caption\"]').length > 0 ) {\n\t\t\t\t\t\t\t\t$('[data-ob=\"caption\"]').focus();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('[data-ob=\"description\"]').focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 84:\n\t\t\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) { return; }\n\t\t\t\t\t\t\t$('[data-ob=\"title\"]').focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 70:\n\t\t\t\t\t\t\tif (e.metaKey) {\n\t\t\t\t\t\t\t\t$('#search_form input').focus();\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 73:\n\t\t\t\t\t\t\tif (e.metaKey || e.ctrlKey) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tself.events.toggle_sheet($('[data-sheet=\"import_content\"]'))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\tself.observers.next_item();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\tself.observers.prev_item();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 27:\n\t\t\t\t\t\t\t// TODO: Temp fix until we can refactor dropdowns into a proper class\n\t\t\t\t\t\t\t$('#container').find('.opt-menu').each( function() {\n\t\t\t\t\t\t\t\tvar _ob = ( $(this).closest('#interface_container').length <= 0 ) ? self.interfaces.app.observers : self.observers;\n\t\t\t\t\t\t\t\tid = $(this).attr('id');\n\t\t\t\t\t\t\t\tif ( id && id.indexOf('_dd') >= 0 ) {\n\t\t\t\t\t\t\t\t\tid = id.replace('_dd','');\n\t\t\t\t\t\t\t\t\t_ob.dropdowns[id].active(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif ( self.observers.selection().length > 0 ) {\n\t\t\t\t\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: false});\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t},\n\n\t\tsearch_filter: function() {\n\t\t\tvar opt = $('#search_form .opt-menu');\n\t\t\topt.find('.wedge').css('left', '20px');\n\t\t\topt.css('left', '-10px').show();\n\t\t},\n\n\t\tsearch_filter_change: function(el) {\n\t\t\tvar val;\n\t\t\tif (el.hasClass('opt-tags')) {\n\t\t\t\tval = 'tags';\n\t\t\t} else if (el.hasClass('opt-filename')) {\n\t\t\t\tval = 'filename';\n\t\t\t} else if (el.hasClass('opt-title')) {\n\t\t\t\tval = 'title';\n\t\t\t} else {\n\t\t\t\tval = 'category';\n\t\t\t}\n\t\t\tthis.observers.search_filter(val);\n\t\t\tthis.cookie( 'library:search_filter', val );\n\t\t\t$('#search_form input').val('');\n\t\t},\n\n\t\tbadges: function(el,parent,e) {\n\n\t\t\t// Capture clicks with a modifier key being pressed (ALT|SHIFT|CTRL|CMD), create a\n\t\t\t// new event with the modifier and trigger it on the image itself\n\t\t\tif (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\n\t\t\t\tvar ev = $.Event('click', {\n\t\t\t\t\tmetaKey: e.metaKey,\n\t\t\t\t\tctrlKey: e.ctrlKey,\n\t\t\t\t\tshiftKey: e.shiftKey\n\t\t\t\t});\n\t\t\t\t$(el).closest('li').trigger(ev);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//\n\n\t\t\tif ( el.hasClass('fave') || el.hasClass('featured') ) {\n\n\t\t\t\tvar type\t= ( el.closest('.album-stack').length > 0 ) ? 'albums' : 'content',\n\t\t\t\t\twhich\t= ( el.hasClass('fave') ) ? 'favorite' : 'featured',\n\t\t\t\t\tdata\t= { id: el.closest('li').data('id'), type: type };\n\n\t\t\t\tdata[which] = 0;\n\n\t\t\t\tif ($('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').hasClass('album')) {\n\t\t\t\t\tthis.notify().success( $('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').find('.title').text() + ' ' + ( ( el.hasClass('fave') ) ? 'removed from Favorites' : 'removed from Featured albums' ) );\n\t\t\t\t} else {\n\t\t\t\t\tthis.notify().success( $('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').find('.title.filename').text() + ' ' + ( ( el.hasClass('fave') ) ? 'removed from Favorites' : 'removed from Featured content' ) );\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.api_url() === 'favorites' || this.observers.api_url() === 'content/featured') {\n\t\t\t\t\tswitch(this.observers.api_url()) {\n\t\t\t\t\t\tcase 'favorites' :\n\t\t\t\t\t\t\tif (which === 'favorite') el.closest('[data-which=\"thumbnail\"]').remove();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'content/featured' :\n\t\t\t\t\t\t\tif (which === 'featured') el.closest('[data-which=\"thumbnail\"]').remove();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!$('#content_list li[data-which=\"thumbnail\"]').length) {\n\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.api_url() === 'albums/featured') {\n\t\t\t\t\tel.closest('li.album.featured.loaded').remove();\n\t\t\t\t\tif (!$('#content_list li.album.featured.loaded').length) {\n\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.controllers.update(type, data, {\n\t\t\t\t\tinstant: true,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tif (type === 'albums' && which === 'featured') {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetup_drawer_events: function() {\n\n\t\t\tvar parent\t= $('#right-col-data'),\n\t\t\t\tasset\t= {},\n\t\t\t\tself\t= this,\n\t\t\t\ttype, item;\n\n\t\t\t$('html')\n\t\t\t\t.off('.drawer')\n\t\t\t\t.on('keypress.drawer', parent.find('input'), function(e) {\n\t\t\t\t\tif (e.which == 13 && $(this).val() !== '') {\n\t\t\t\t\t\tvar p = $(this).parents('div:first');\n\t\t\t\t\t\tp.find((p.hasClass('check-edit')) ? 'a[data-event=\"save\"]' : 'button.data-submit').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('click.drawer', parent, function(e) {\n\n\t\t\t\t\tif ( !$(e.target).hasClass('data-submit') ) return true;\n\n\t\t\t\t\ttype = $(e.target).closest('[data-submit]').data('submit');\n\n\t\t\t\t\tvar _asset = { id: self.observers.sidebar.asset.id && self.observers.sidebar.asset.id() },\n\t\t\t\t\t\tasset_type\t= ( self.observers.sidebar.id() === 'album' ) ? 'albums' : 'content',\n\t\t\t\t\t\tel\t\t\t= $(e.target),\n\t\t\t\t\t\titem;\n\n\t\t\t\t\tvar save_asset = function() {\n\n\t\t\t\t\t\tvar item = el.parent().parent().find('input:first'),\n\t\t\t\t\t\t\ttemp = {},\n\t\t\t\t\t\t\tob = $.extend( true, {}, this.properties.multi.labels() ),\n\t\t\t\t\t\t\tbits, clean, ids, selected;\n\n\t\t\t\t\t\tif (type === 'visibility' && self.observers.sidebar.id() === 'album' && (self.classes.channel.library.albumShouldMatchVsibility === null || typeof self.classes.channel.library.albumShouldMatchVsibility === 'undefined')) {\n\n\t\t\t\t\t\t\tvar shouldShowModal = false,\n\t\t\t\t\t\t\t\tallAlbums = $.extend({}, self.observers.albums_flat(), self.observers.unlisted_albums(), self.observers.private_albums());\n\n\t\t\t\t\t\t\tfunction recursive_search(album) {\n\t\t\t\t\t\t\t\tif (album.id == self.observers.sidebar.asset.id() && album.count > 0) {\n\t\t\t\t\t\t\t\t\tshouldShowModal = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (album.children) {\n\t\t\t\t\t\t\t\t\treturn $.each(album.children, function(j, a) {\n\t\t\t\t\t\t\t\t\t\treturn recursive_search(a);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$.each(allAlbums, function(i, album) {\n\t\t\t\t\t\t\t\treturn recursive_search(album);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() {\n\t\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = true;\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() {\n\t\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = false;\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (self.observers.sidebar.asset.album_type) {\n\t\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, self.observers.sidebar.asset.visibility.raw(), $('input[name=\"visibility\"]:checked').val(), (self.observers.sidebar.asset.album_type() !== 'set') ? 'album' : 'set');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, self.observers.sidebar.asset.visibility.raw(), $('input[name=\"visibility\"]:checked').val());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = false;\n\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'multi_history') {\n\n\t\t\t\t\t\t\tvar _type = self.observers.multiHistory.drawer();\n\n\t\t\t\t\t\t\tif (self.observers.multiHistory.type() === 'shift') {\n\n\t\t\t\t\t\t\t\tvar _years = self.observers.multiHistory.date.years(),\n\t\t\t\t\t\t\t\t\t_months = self.observers.multiHistory.date.months(),\n\t\t\t\t\t\t\t\t\t_days = self.observers.multiHistory.date.days(),\n\t\t\t\t\t\t\t\t\t_hours = self.observers.multiHistory.date.hours(),\n\t\t\t\t\t\t\t\t\t_mins = self.observers.multiHistory.date.minutes(),\n\t\t\t\t\t\t\t\t\tapiStr = '';\n\n\t\t\t\t\t\t\t\tif (_years === 0 && _months === 0 && _days === 0 && _hours === 0 && _mins === 0) return;\n\n\t\t\t\t\t\t\t\tif (_years !== 0) apiStr += _years + ' years ';\n\t\t\t\t\t\t\t\tif (_months !== 0) apiStr += _months + ' months ';\n\t\t\t\t\t\t\t\tif (_days !== 0) apiStr += _days + ' days ';\n\t\t\t\t\t\t\t\tif (_hours !== 0) apiStr += _hours + ' hours ';\n\t\t\t\t\t\t\t\tif (_mins !== 0) apiStr += _mins + ' minutes ';\n\n\t\t\t\t\t\t\t\ttemp[_type] = apiStr.trim();\n\n\t\t\t\t\t\t\t} else if (self.observers.multiHistory.type() === 'captured') {\n\n\t\t\t\t\t\t\t\tvar itemData = self.controllers.get_asset_by_id(_asset.id);\n\n\t\t\t\t\t\t\t\tif (itemData.captured_on.utc) {\n\t\t\t\t\t\t\t\t\ttemp[_type] = itemData.captured_on.timestamp;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttemp[_type] = 'captured_on';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar dt = $('#right-col-data input.datepicker').val().trim(),\n\t\t\t\t\t\t\t\t\titemData = self.controllers.get_asset_by_id(_asset.id),\n\t\t\t\t\t\t\t\t\traw_dt = dt,\n\t\t\t\t\t\t\t\t\tmsg;\n\n\t\t\t\t\t\t\t\tif (_type === 'captured_on' && itemData.captured_on.utc === false) raw_dt += ' GMT';\n\n\t\t\t\t\t\t\t\ttemp[_type] = moment(raw_dt).unix();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( type === 'license' ) {\n\n\t\t\t\t\t\t\tif ($('input[name=lic1]').is(':checked')) {\n\t\t\t\t\t\t\t\ttemp.raw = $('input[name=lic2]:checked').val() + ',' + $('input[name=lic3]:checked').val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttemp.raw = 'all';\n\t\t\t\t\t\t\t\ttemp.clean = ' All rights reserved';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!temp.clean) {\n\n\t\t\t\t\t\t\t\tbits = temp.raw.split(',');\n\n\t\t\t\t\t\t\t\tif (bits[0] == 'y') {\n\t\t\t\t\t\t\t\t\tclean = 'Commercial';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tclean = 'NonCommercial';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tswitch(bits[1]) {\n\t\t\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\t\t\t\tclean += '-ShareAlike';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'n':\n\t\t\t\t\t\t\t\t\t\tclean += '-NoDerivs';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttemp.clean = clean;\n\n\t\t\t\t\t\t\t\tself.observers.multiedit.changed.license = clean;\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.id() === 'multi' ) {\n\t\t\t\t\t\t\t\t\tob.license = clean;\n\t\t\t\t\t\t\t\t\tself.observers.properties.multi.labels(ob);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ( $('div[data-submit=' + type + ']').find('input[name=' + type + ']').length ) {\n\n\t\t\t\t\t\t\ttemp.raw = $('div[data-submit=' + type + ']').find('input[name=' + type + ']:checked').val();\n\n\t\t\t\t\t\t\tif ( type === 'visibility' ) {\n\n\t\t\t\t\t\t\t\tclean = helpers.capitalize(temp.raw);\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.id() === 'multi' ) {\n\t\t\t\t\t\t\t\t\tob.visibility = clean;\n\t\t\t\t\t\t\t\t\tself.observers.properties.multi.labels(ob);\n\n\t\t\t\t\t\t\t\t\tif ( this.sidebar.asset.visibility.clean() != clean ) {\n\t\t\t\t\t\t\t\t\t\tself.observers.multiedit.changed.visibility = clean;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Remove album from site nav href if changing from public to unlisted\n\t\t\t\t\t\t\t\tif ( temp.raw !== 'public' && $('#main-nav a[class~=\"site-interface\"]').attr('href').indexOf(this.sidebar.asset.title().toLowerCase().replace(' ','_')) >= 0 ) {\n\t\t\t\t\t\t\t\t\t$('#main-nav a[class~=\"site-interface\"]').attr('href', '#/site');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else if ( type === 'max_download' ) {\n\n\t\t\t\t\t\t\t\tswitch(temp.raw) {\n\t\t\t\t\t\t\t\t\tcase 'original':\n\t\t\t\t\t\t\t\t\t\tclean = 'Original';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'huge':\n\t\t\t\t\t\t\t\t\t\tclean = 'Huge (2048)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'xlarge':\n\t\t\t\t\t\t\t\t\t\tclean = 'X-Large (1600)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'large':\n\t\t\t\t\t\t\t\t\t\tclean = 'Large (1024)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'medium_large':\n\t\t\t\t\t\t\t\t\t\tclean = 'Medium-Large (800)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'medium':\n\t\t\t\t\t\t\t\t\t\tclean = 'Medium (480)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tclean = 'None';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.asset.max_download && this.sidebar.asset.max_download.clean() != clean ) {\n\t\t\t\t\t\t\t\t\tself.observers.multiedit.changed.maxdl = clean;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttemp.clean = clean;\n\n\t\t\t\t\t\t} else if ( type === 'created_on' || type === 'uploaded_on' || type === 'captured_on' || type === 'published_on') {\n\n\t\t\t\t\t\t\tvar dt = item.val().trim(),\n\t\t\t\t\t\t\t\traw_dt = dt;\n\n\t\t\t\t\t\t\tif (dt === 'captured' || dt === 'assign') dt = raw_dt = item.closest('[data-submit]').find('.datepicker').val().trim();\n\n\t\t\t\t\t\t\t// captured_on should not be shifted to UTC\n\t\t\t\t\t\t\tif (type === 'captured_on' && this.sidebar.asset.captured_on.utc() === false) {\n\t\t\t\t\t\t\t\traw_dt += ' GMT';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar ts = moment(raw_dt).unix();\n\n\t\t\t\t\t\t\tswitch(type) {\n\n\t\t\t\t\t\t\t\tcase 'created_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date created';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'uploaded_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date uploaded';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'captured_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date captured';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'published_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date published';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.notify().success(msg + ' changed to ' + dt);\n\n\t\t\t\t\t\t\tif (type === 'published_on' && self.observers.singleHistory.type() === 'captured') {\n\t\t\t\t\t\t\t\tif (this.sidebar.asset.captured_on.utc()) {\n\t\t\t\t\t\t\t\t\tts = this.sidebar.asset.captured_on.timestamp();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tts = 'captured_on';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttemp[type] = ts;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttemp[type] = item.val().trim();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_asset[((type !== 'multi_history') ? type : _type)] = temp.raw !== undefined ? temp : temp[((type !== 'multi_history') ? type : _type)];\n\n\t\t\t\t\t\tif (self.classes.channel.library.albumShouldMatchVsibility) _asset['match_album_visibility'] = 1;\n\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = null;\n\n\t\t\t\t\t\tvar o = {};\n\n\t\t\t\t\t\tif (type === 'visibility' && (self.observers.dropdowns.filter.selected() == 'public' || self.observers.dropdowns.filter.selected() == 'unlisted' || self.observers.dropdowns.filter.selected() == 'private') && _asset[type] != self.observers.dropdowns.filter.selected()) {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + _asset.id + '\"]').remove();\n\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\tself.observers.properties.overall.counts.images(self.observers.properties.overall.counts.images() - 1);\n\t\t\t\t\t\t\tself.observers.properties.overall.total(self.observers.properties.overall.total() - 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar in_album = false;\n\n\t\t\t\t\t\tif (type === 'visibility' && this.sidebar.id() !== 'multi') {\n\t\t\t\t\t\t\tvar note = this.notify().wait('Changing visibility');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'visibility' || type === 'published_on' || type === 'multi_history') {\n\t\t\t\t\t\t\to.instant = true;\n\n\t\t\t\t\t\t\tif (self.observers.sidebar.id() === 'album') {\n\t\t\t\t\t\t\t\to.finished = function(data) {\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility updated to ' + data.visibility.raw);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tself.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\tself.controllers.update_item(data);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar matches = self.observers.api_url().match(/^albums\\/(.*)\\/content/),\n\t\t\t\t\t\t\t\t\tnote;\n\n\t\t\t\t\t\t\t\tif (!self.observers.multiHistory.note && type === 'multi_history') self.observers.multiHistory.note = self.notify().wait('Updating');\n\t\t\t\t\t\t\t\tif (matches) in_album = matches[1];\n\n\t\t\t\t\t\t\t\to.finished = function(data) {\n\t\t\t\t\t\t\t\t\tif (type === 'multi_history') {\n\t\t\t\t\t\t\t\t\t\tself.observers.multiHistory.note && self.observers.multiHistory.note.success('Date ' + _type.split('_')[0] + ' successfully updated for ' + $('#content_list li.selected').length + ' items');\n\t\t\t\t\t\t\t\t\t\tself.observers.multiHistory.note = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.controllers.update_item(data);\n\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility updated to ' + data.visibility.raw);\n\n\t\t\t\t\t\t\t\t\t\tif (self.observers.api_url().indexOf('content') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content' + (data.visibility.raw !== 'public' ? '/' + data.visibility.raw : '') + '/selection:' + data.id, 2 );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Handles the sidebar updates for multiselect drawer changes (download|visibility|etc..)\n\t\t\t\t\t\tif (self.observers.selection().length > 1 && (type === 'visibility' || type === 'max_download' || type === 'license')) {\n\t\t\t\t\t\t\tself.observers.sidebar.asset[type].clean(_asset[type].clean);\n\t\t\t\t\t\t\tself.observers.sidebar.asset[type].raw(_asset[type].raw);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.update(asset_type, _asset, o, in_album);\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif (asset_type == 'albums' && self.observers.sidebar.asset.visibility.raw() !== 'public') {\n\t\t\t\t\t\tasset_type = self.observers.sidebar.asset.visibility.raw() + '_albums';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( asset_type === 'content' ) {\n\n\t\t\t\t\t\t$.each( self.observers.selection(), function(k,v) {\n\n\t\t\t\t\t\t\t_asset\t\t\t\t= $.extend( true, {}, _asset ); // Clone the object\n\t\t\t\t\t\t\t_asset.id\t\t\t= v;\n\n\t\t\t\t\t\t\tsave_asset.call(self.observers);\n\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsave_asset.call(self.observers);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t},\n\n\t\tscroll_overlay: function() {\n\n\t\t\tif (!this.observers.is_loading) {\n\n\t\t\t\tvar row\t\t\t= $('#mid_multi').find('.scroll_wrapper').scrollTop() / ( this.observers.view() === 'grid' ? 160 : 65 ),\n\t\t\t\t\trow_index\t= Math.floor(row) * ( this.observers.view() === 'grid' ? this.helpers.viewport_area().col : 1 ),\n\t\t\t\t\tdate\t\t= new Date(),\n\t\t\t\t\tsort\t\t= this.observers.order_by(),\n\t\t\t\t\ttime\t\t= '',\n\t\t\t\t\tstr\t\t\t= '';\n\n\t\t\t\tif ( sort === 'created_on' || sort === 'uploaded_on' || sort === 'modified_on' || sort === 'captured_on' || sort === 'published_on' ) {\n\t\t\t\t\ttime = this.observers.content()[row_index][sort].timestamp * 1000;\n\t\t\t\t\tif (time && time > 0) {\n\t\t\t\t\t\tstr = moment( date.setTime(time) ).format('MMMM YYYY');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr = 'No info';\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( sort === 'dimension' ) {\n\t\t\t\t\tstr = this.observers.content()[row_index].width + ' x ' + this.observers.content()[row_index].height;\n\t\t\t\t} else if (sort === 'aspect_ratio') {\n\t\t\t\t\tstr = this.observers.content()[row_index][sort].toFixed(1);\n\t\t\t\t} else {\n\t\t\t\t\tstr = this.observers.content()[row_index][sort].substr(0,1).toUpperCase();\n\t\t\t\t}\n\n\t\t\t\t$('#scroll-tick').removeClass('loading');\n\t\t\t\t$('#scroll-tick p:last').text(str);\n\t\t\t\t$('#scroll-tick p:first').text(helpers.capitalize(sort).replace('_on', ' '));\n\n\t\t\t\t$('#scroll-tick').css({\n\t\t\t\t\t/* adding 18px makes it actually centered. why, dunno */\n\t\t\t\t\tmarginLeft: '-' + ( $('#scroll-tick').width() / 2 ) - 18 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttrashed: function(el,parent,e) {\n\n\t\t\tvar items\t= {},\n\t\t\t\tids\t\t= [],\n\t\t\t\tself\t= this,\n\t\t\t\treq\t\t= [];\n\n\t\t\tif ( el.hasClass('restore-all') ) {\n\n\t\t\t\tko.utils.arrayForEach( this.observers.content(), function(item) {\n\t\t\t\t\tif ( self.observers.selection().indexOf(item.id) >= 0 ) {\n\t\t\t\t\t\tvar type = (item.album_type) ? 'album' : 'content';\n\t\t\t\t\t\titems[type] = items[type] || '';\n\t\t\t\t\t\titems[type] += item.id + ',';\n\t\t\t\t\t\tids[ids.length] = item.id;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (items.album) {\n\t\t\t\t\treq[req.length] = { request: 'trash/albums:' + helpers.rtrim( items.album, ',' ) };\n\t\t\t\t}\n\t\t\t\tif (items.content) {\n\t\t\t\t\treq[req.length] = { request: 'trash/content:' + helpers.rtrim( items.content, ',' ) };\n\t\t\t\t}\n\n\t\t\t\tvar note = this.notify().wait('Restoring items');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tvar total = this.observers.properties.trash.total() - ids.length;\n\t\t\t\t\t\tnote.success( ids.length + ' trash items restored');\n\t\t\t\t\t\tif ( total <= 0 ) {\n\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\tthis.observers.properties.trash.total(total);\n\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else if ( el.hasClass('empty') ) {\n\n\t\t\t\tif ( $('#content_list li.album').length > 0 ) {\n\t\t\t\t\treq.push({ request: 'albums/trash' });\n\t\t\t\t}\n\t\t\t\tif ( $('#content_list li.content').length > 0 ) {\n\t\t\t\t\treq.push({ request: 'content/trash' });\n\t\t\t\t}\n\n\t\t\t\tvar note = this.notify().wait('Emptying trash');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnote.success('Trash emptied');\n\t\t\t\t\t\tthis.observers.properties.trash.total(0);\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t$('#content_list li.selected').remove();\n\n\t\t},\n\n\t\tshare: function(el,parent) {\n\n\t\t\tvar\turl = encodeURIComponent(this.observers.sidebar.asset.url()),\n\t\t\t\ttext = this.observers.sidebar.asset.title() && this.observers.sidebar.asset.title().length ? this.observers.sidebar.asset.title() : this.observers.sidebar.asset.filename();\n\n\t\t\tif ( parent.find('.opt-twitter').length > 0 ) {\n\t\t\t\twindow.open( 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&url=' + url, '_blank', 'width=550,height=420' );\n\t\t\t} else if ( parent.find('.opt-google').length > 0 ) {\n\t\t\t\twindow.open( 'https://plus.google.com/share?url=' + url, '_blank', 'width=550,height=550' );\n\t\t\t} else if ( parent.find('.opt-tumblr').length > 0 ) {\n\t\t\t\ttext = '<p><a href=\"' + this.observers.sidebar.asset.url() + '\" title=\"' + text + '\"><strong>' + text + '</strong></a></p>' + (this.observers.sidebar.asset.caption() ? '<p>' + this.observers.sidebar.asset.caption() + '</p>' : '');\n\t\t\t\tthis.cookie('share_to_tumblr', true);\n\t\t\t\twindow.open( this.observers.sidebar.asset.url(), '_blank', 'width=550,height=550' );\n\t\t\t} else {\n\t\t\t\twindow.open( 'http://www.facebook.com/sharer/sharer.php?u=' + url, '_blank', 'width=550,height=420' );\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tmap: function(el,parent) {\n\n\t\t\tvar _lat\t= this.observers.sidebar.asset.geolocation.latitude(),\n\t\t\t\t_long\t= this.observers.sidebar.asset.geolocation.longitude(),\n\t\t\t\tself\t= this;\n\n\t\t\t$.get('http://maps.googleapis.com/maps/api/geocode/json?latlng=' + _lat + ',' + _long + '&sensor=false', function(data) {\n\t\t\t\tself.classes.modal.map.show();\n\n\t\t\t\tvar element = $('<div/>').attr('id','map_container').width(640).height(480);\n\n\t\t\t\t$('.map_modal #map_container').remove();\n\t\t\t\t$('.map_modal .wrap').append(element);\n\t\t\t\t$('#map_info').text(data.results[0].formatted_address);\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tvar map = new google.maps.Map(document.getElementById('map_container'), {\n\t\t\t\t\t\tzoom: 13,\n\t\t\t\t\t\tcenter: new google.maps.LatLng(_lat, _long),\n\t\t\t\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker = new google.maps.Marker({\n\t\t\t\t\t\ticon: 'http://maps.google.com/mapfiles/ms/icons/orange-dot.png',\n\t\t\t\t\t\tmap: map,\n\t\t\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t\t\t\tposition: new google.maps.LatLng(_lat, _long)\n\t\t\t\t\t});\n\n\t\t\t\t\t$(window).resize();\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\ttoggle_share_modal_option: function(el) {\n\t\t\tel.parent().find('input').attr('checked','checked');\n\t\t},\n\n\t\tshare_modal_link: function(el,parent) {\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tparent\t= parent.closest('.modal-tab-view'),\n\t\t\t\tsrc\t\t= ob.properties.paths.base + 'index.php?/content/',\n\t\t\t\tinp\t\t= parent.find('.output'),\n\t\t\t\tsource, width, height, url;\n\n\t\t\tswitch( parent.find('input[name=\"resize\"]:checked').attr('class') ) {\n\n\t\t\t\tcase 'preset' :\n\t\t\t\t\tsource = ob.sidebar.asset.presets[parent.find('select option:selected').val()];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'custom' :\n\t\t\t\t\tsource = {\n\t\t\t\t\t\twidth: parseInt( parent.find('.wid').val(), 10 ),\n\t\t\t\t\t\theight: parseInt( parent.find('.hei').val(), 10 )\n\t\t\t\t\t};\n\t\t\t\t\tsource.url = ob.sidebar.asset.cache_path.prefix() + [ source.width, source.height, 90, 1 ].join('.');\n\t\t\t\t\t// For some reason, .not(':checked') doesn't work here\n\t\t\t\t\tif ( ! $('#constrain').is(':checked') ) {\n\t\t\t\t\t\tsource.url += '.crop';\n\t\t\t\t\t}\n\t\t\t\t\tsource.url += '.' + ob.sidebar.asset.cache_path.extension();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'orig' :\n\t\t\t\t\tsource = ob.sidebar.asset.original;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\twidth\t= ( source.width instanceof Function ) ? source.width() : source.width;\n\t\t\theight\t= ( source.height instanceof Function ) ? source.height() : source.height;\n\t\t\turl\t\t= ( source.url instanceof Function ) ? source.url() : source.url;\n\n\t\t\tsrc = '<img src=\"' + url + '\" width=\"' + width + '\" height=\"' + height + '\" />';\n\n\t\t\tinp.attr('value',src).removeAttr('disabled');\n\n\t\t\t$('.output').show().focus();\n\n\t\t},\n\n\t\tshare_modal_link_custom: function(el,parent) {\n\n\t\t\tvar parent = parent.closest('.modal-tab-view'),\n\t\t\t\tself = this,\n\t\t\t\twidth;\n\n\t\t\tvar constrain_ratio = function() {\n\t\t\t\tparent.find('.hei').val( Math.round( parent.find('.wid').val() / self.observers.sidebar.asset.aspect_ratio() ) );\n\t\t\t}\n\n\t\t\tif ( el[0].tagName === 'INPUT' ) parent.find('.custom').attr('checked','checked');\n\n\t\t\tif ( el.attr('id') === 'constrain' && el.is(':checked') ) constrain_ratio();\n\n\t\t\t$(document).off('.share_modal_link_custom').on('keyup.share_modal_link_custom', 'li[data-event=\"share_modal_link_custom\"]', function() {\n\t\t\t\tif ( el.parent().find('#constrain').is(':checked') ) constrain_ratio();\n\t\t\t});\n\n\t\t},\n\n\t\tedit_menu: function(el,parent,e) {\n\n\t\t\tvar atag\t\t= el.closest('a'),\n\t\t\t\twhich\t\t= atag.find('.opt-icon'),\n\t\t\t\tids\t\t\t= this.observers.selection(),\n\t\t\t\tself\t\t= this,\n\t\t\t\tfav\t\t\t= ( parent.find('.fav-type').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tfeat\t\t= ( parent.find('.feat-type').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tcover\t\t= ( parent.find('.feat-cover').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tquick\t\t= ( parent.find('.quick-type').text().toLowerCase().trim() === 'add to' ) ? true : false,\n\t\t\t\ttype\t\t= this.observers.selected_type() === 'set' ? 'albums' : 'content',\n\t\t\t\tmethod,\n\t\t\t\tremove_from_mid = function(ids) {\n\n\t\t\t\t\tvar newContentArr = [];\n\t\t\t\t\t$.each(self.observers.content(), function(i, asset) {\n\t\t\t\t\t\tif (ids.indexOf(asset.id) == -1) {\n\t\t\t\t\t\t\tnewContentArr.push(asset);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + asset.id + '\"]').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tself.observers.content(newContentArr);\n\n\t\t\t\t\tif (self.observers.order_by() === 'manual') {\n\t\t\t\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\t\t\t\tvar count = ( self.observers.view() === 'list' ) ? $(this).find('.cnt') : $(this).find('.count');\n\t\t\t\t\t\t\tcount.text( $(this).index() + 1 );\n\t\t\t\t\t\t\t$(this).data('index', $(this).index());\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.observers.properties.overall.total( Math.max(0, self.observers.properties.overall.total() - ids.length) );\n\t\t\t\t};\n\n\t\t\tif ( which.hasClass('opt-cover') ) {\n\n\t\t\t\tvar id;\n\n\t\t\t\t$.each(this.observers.properties.album.selected().album.covers, function(i, cover) {\n\t\t\t\t\tif (cover.id == $('#mid-content li.selected').data('id')) {\n\t\t\t\t\t\tid = cover.id;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (id) {\n\t\t\t\t\t$('.feat-cover').text('Assign');\n\t\t\t\t\tthis.events.assign_cover($('#mid-content li.selected'));\n\t\t\t\t} else {\n\t\t\t\t\t$('.feat-cover').text('Unassign');\n\t\t\t\t\tvar _ids = [];\n\t\t\t\t\t$('#mid-content li.selected').each(function() {\n\t\t\t\t\t\t_ids.push($(this).data('id'))\n\t\t\t\t\t});\n\t\t\t\t\tthis.events.assign_cover('album', this.observers.properties.album.selected().album.id, _ids.join(','));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-quick') ) {\n\n\t\t\t\tvar current = this.observers.quick_collection(),\n\t\t\t\t\tupdates = [],\n\t\t\t\t\tupd_typ = '';\n\n\t\t\t\t$.each(ids, function(i, id) {\n\t\t\t\t\tid = Number(id);\n\t\t\t\t\tvar index = $.inArray(id, current);\n\n\t\t\t\t\tif (quick) {\n\t\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\t\tself.observers.quick_collection.push(id);\n\t\t\t\t\t\t\tupdates.push('add');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index !== -1) {\n\t\t\t\t\t\t// It's possible for quick_collection to have duplicates\n\t\t\t\t\t\twhile (index !== -1) {\n\t\t\t\t\t\t\tself.observers.quick_collection.splice( index, 1 );\n\t\t\t\t\t\t\tindex = $.inArray(id, self.observers.quick_collection());\n\t\t\t\t\t\t\tupdates.push('remove');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.observers.api_url().match(/content\\/\\d+,\\d/)) {\n\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\tupdates.push('remove');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ( updates.indexOf('add') < 0 ) {\n\t\t\t\t\tupd_type = 'removed';\n\t\t\t\t} else if ( updates.indexOf('remove') < 0 ) {\n\t\t\t\t\tupd_type = 'added';\n\t\t\t\t} else {\n\t\t\t\t\tupd_type = 'mixed';\n\t\t\t\t}\n\n\t\t\t\tif ( upd_type !== 'mixed' ) {\n\t\t\t\t\tif ( $('#content_list li.selected').length > 1 ) {\n\t\t\t\t\t\tself.notify().success( $('#content_list li.selected').length + ' items ' + upd_type );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.notify().success( $('#content_list li.selected').find('.filename').text() + ' ' + upd_type );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.notify().success( 'Quick collection updated' );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-remove') || which.hasClass('opt-trash') ) {\n\n\t\t\t\tif ( this.observers.is_collection() ) {\n\n\t\t\t\t\tids = [];\n\t\t\t\t\t$.each($('#content_list li.selected'), function(i, asset) {\n\t\t\t\t\t\tids.push($(this).data('id'));\n\t\t\t\t\t});\n\n\t\t\t\t\tvar collection = $.grep( self.observers.quick_collection(), function(k,v){\n\t\t\t\t\t\treturn $.inArray(k, ids) == -1;\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.quick_collection(collection);\n\n\t\t\t\t}\n\n\t\t\t\t// In single view we need to grab the index being removed prior to remove_from_mid\n\t\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\t\tvar itemRemovedIndex = $('#content_list li[data-id=\"' + ids[0] + '\"]').data('index'),\n\t\t\t\t\t\tnextId = this.observers.content()[(((itemRemovedIndex+1) >= this.observers.content().length) ? 0 : ++itemRemovedIndex)].id;\n\t\t\t\t}\n\n\t\t\t\tvar txt = $('#content_list .selected').find('.' + (type === 'content' ? 'filename' : 'title')).text();\n\n\t\t\t\tremove_from_mid(ids);\n\n\t\t\t\tif ( which.hasClass('opt-remove') ) {\n\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false });\n\n\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( ids.length + ' items were removed from ' + (($.param.fragment().indexOf('quick_collection:') === -1) ? this.observers.properties.album.selected().album.title : 'quick collection') );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( txt + ' was removed from ' + (($.param.fragment().indexOf('quick_collection:') === -1) ? this.observers.properties.album.selected().album.title : 'quick collection') );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.param.fragment().indexOf('quick_collection:') === -1) {\n\n\t\t\t\t\t\tvar _covers = [];\n\t\t\t\t\t\t$.each(self.observers.sidebar.asset.covers(), function(i, cover) {\n\t\t\t\t\t\t\tif (ids.indexOf(cover.id) === -1) _covers.push(cover);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tself.observers.sidebar.asset.covers(_covers);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + this.observers.properties.album.selected().album.id + '/content/' + ids.join(','),\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\tcontext: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$.each(self.observers.content(), function(i, asset) {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + asset.id + '\"]')\n\t\t\t\t\t\t\t\t.data({\n\t\t\t\t\t\t\t\t\tid: asset.id,\n\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.attr('data-id', asset.id)\n\t\t\t\t\t\t\t\t.attr('data-index', i)\n\t\t\t\t\t\t\t\t.attr('id', 'list_item_' + asset.id);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tif (this.observers.view() !== 'single') {\n\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.properties.overall.total(this.observers.content().length);\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t// Using trigger here instead of rewrite_hash because the underlying grid view will get out of whack otherwise\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + nextId + '\"]').trigger('click');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar note = this.notify();\n\n\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\tnote.wait('Moving items to trash');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnote.wait('Moving item to trash');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.properties.trash.total(this.observers.properties.trash.total() + ids.length);\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'trash/' + type + ':' + ids.join(','),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\t\t\tnote.success( ids.length + ' items were moved to the Trash');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnote.success( txt + ' was moved to the Trash');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t\t\tif (self.observers.view() !== 'single') {\n\t\t\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t\t\t\tif (type === 'albums') {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.observers.properties.overall.total(self.observers.properties.overall.total() - ids.length);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-fave') || which.hasClass('opt-feat') ) {\n\n\t\t\t\tvar val = ( which.hasClass('opt-fave') ) ? ( fav ? 1 : 0 ) : ( feat ? 1 : 0 ),\n\t\t\t\t\tmethod = ( val == 0 ) ? 'removed from' : 'added to';\n\n\t\t\t\tvar data = $.map( ids, function(id) {\n\t\t\t\t\tvar obj = { id: id };\n\t\t\t\t\tobj[(which.hasClass('opt-fave')) ? 'favorite' : 'featured'] = val;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\n\t\t\t\tif ( self.observers.api_url().indexOf('albums/visibility') >= 0 ) {\n\t\t\t\t\tif ( this.observers.selection().length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( this.observers.selection().length + ' items ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( this.observers.sidebar.asset.title() + ' ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( this.observers.selection().length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( this.observers.selection().length + ' items ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( $('#content_list li.selected span.' + (type === 'albums' ? 'title' : 'filename')).text() + ' ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( (which.hasClass('opt-feat') && this.observers.api_url().match(/\\/featured\\/?/) && val === 0) || (which.hasClass('opt-fave') && this.observers.api_url().match(/favorites\\/?/) && val === 0) ) {\n\n\t\t\t\t\tremove_from_mid(ids);\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t}\n\n\t\t\t\tvar refreshTree = which.hasClass('opt-feat');\n\n\t\t\t\tthis.controllers.update(type, data, {\n\t\t\t\t\tinstant: true,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tif (this.observers.api_url() === 'favorites' || this.observers.api_url() === 'content/featured') {\n\t\t\t\t\t\t\tif (!$('#content_list li[data-which=\"thumbnail\"]').length || $('#content_list li[data-which=\"thumbnail\"]').length === 0) {\n\t\t\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.observers.api_url() === 'albums/featured') {\n\t\t\t\t\t\t\tif (!$('#content_list li.album.featured.loaded').length || $('#content_list li.album.featured.loaded').length === 0) {\n\t\t\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (refreshTree) {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-rotate-l') || which.hasClass('opt-rotate-r') ) {\n\n\t\t\t\tvar degree\t= ( which.hasClass('opt-rotate-r') ) ? '90' : '-90',\n\t\t\t\t\timg\t\t= $('#lib-content-sel img'),\n\t\t\t\t\tel\t\t= $('#list_item_' + ids);\n\n\t\t\t\timg.parent().addClass('loading');\n\t\t\t\timg.animate({ opacity: 0 });\n\n\t\t\t\tel.removeClass('loaded').addClass('loading');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/' + ids,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'rotate=' + degree,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.controllers.update_item( data, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-dl') ) {\n\t\t\t\tvar asset = this.controllers.get_asset_by_id(ids);\n\t\t\t\twindow.location.href = this.config.paths.base + 'dl.php?src=' + asset.original.relative_url;\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-bg') ) {\n\t\t\t\tvar notify = this.notify().wait('Assigning sign-in background');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'settings',\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'signin_bg=' + ids[0],\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnotify.success(this.observers.sidebar.asset.filename() + ' assigned as sign-in background');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Replace action is handled by app.controllers.replace\n\n\t\t},\n\n\t\treverse_manual: function() {\n\n\t\t\tvar ids = [];\n\n\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\tids.push( $(this).data('id') );\n\t\t\t});\n\n\t\t\t$('#content_list li').each(function() {\n\t\t\t\t$('#content_list').prepend($(this));\n\t\t\t});\n\n\t\t\t$('#content_list li').each(function() {\n\t\t\t\t$(this).find('.count').text($(this).index()+1);\n\t\t\t\t$(this).find('.title.cnt').text($(this).index()+1);\n\t\t\t});\n\n\t\t\tids.reverse();\n\t\t\tthis.controllers.lazy('#content_list');\n\n\t\t\tif (this.observers.is_quick_collection()) {\n\t\t\t\tthis.observers.quick_collection(ids);\n\t\t\t} else {\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.api_url() + '/order:' + ids.join(','),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsave_changes: function(el,parent,e) {\n\n\t\t\tvar btn = $('#right-col-xtra button:contains(\"Done\")');\n\t\t\tthis.observers.drawerOpen = false;\n\n\t\t\tif (!e.isTrigger && btn.length > 0 && !btn.hasClass('data-submit')) {\n\t\t\t\tbtn.trigger('click');\n\t\t\t} else {\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_gear_popout: function(el,parent) {\n\n\t\t\tvar top = parent.closest('li').offset().top - 33;\n\n\t\t\tthis.helpers.outside( parent, function() {\n\t\t\t\t$('#gear_pop').hide();\n\t\t\t\t$('.hoverable').removeClass('hoverable');\n\t\t\t\t$('.edit-hoverable').removeClass('edit-hoverable');\n\t\t\t});\n\n\t\t\tif ( parent.parent('li').parent().parent('li').length && parent.parent('li').parent().parent('li').data('type') === 'set' ) {\n\t\t\t\t$('.rm_set').show();\n\t\t\t} else {\n\t\t\t\t$('.rm_set').hide();\n\t\t\t\ttop += 12;\n\t\t\t}\n\n\t\t\tif ( parent.closest('li').closest('.public').length <= 0 ) {\n\t\t\t\t$('.opt-public').closest('li').show();\n\t\t\t\t$('.opt-list .opt-feat').closest('li').hide();\n\t\t\t} else {\n\t\t\t\tif ( parent.closest('li').data('featured') === true ) {\n\t\t\t\t\t$('.opt-list .opt-feat').text('Unmark as featured');\n\t\t\t\t\t$('#gear_pop').data( 'featured', 'unmark' );\n\t\t\t\t} else {\n\t\t\t\t\t$('.opt-list .opt-feat').text('Mark as featured');\n\t\t\t\t\t$('#gear_pop').data( 'featured', 'mark' );\n\t\t\t\t}\n\t\t\t\t$('.opt-list .opt-feat').closest('li').show();\n\t\t\t\t$('.opt-public').closest('li').hide();\n\t\t\t}\n\n\t\t\t$('#gear_pop').data( 'album', parent.closest('li').data('id') ).css( 'top', top ).toggle();\n\t\t\t$('#gear_pop .wedge').css('left','-11px');\n\n\t\t\tparent.closest('li').find('a.item:first-child').addClass('hoverable');\n\n\t\t},\n\n\t\tgear_hovering: function() {\n\n\t\t\t$('body')\n\t\t\t\t.on( 'mouseover', '#content_subnav li:not(.public,.unlisted,.private)', function(e) {\n\t\t\t\t\t$('.item-edit').hide();\n\t\t\t\t\t$(e.target).closest('li').find('.item-edit:first').show().addClass('edit-hoverable');\n\t\t\t\t\t$(e.target).closest('li').find('a.item').first().addClass('hoverable');\n\t\t\t\t})\n\t\t\t\t.on( 'mouseout', '#content_subnav li:not(.public,.unlisted,.private)', function(e) {\n\t\t\t\t\tif ( $('#gear_pop').css('display') !== 'block' || $(e.target).closest('li').data('id') != $('#gear_pop').data('album') ) {\n\t\t\t\t\t\t$(e.target).closest('li').find('a.item').first().removeClass('hoverable');\n\t\t\t\t\t\t$(e.target).closest('li').find('.item-edit:first').removeClass('edit-hoverable');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t},\n\n\t\tgear_popout: function(el,parent) {\n\n\t\t\tvar li = $('#content_subnav li[data-id=\"' + $('#gear_pop').data('album') + '\"]'),\n\t\t\t\tkoData = ko.dataFor(li.get(0));\n\n\t\t\tif ( el.hasClass('opt-trash') ) {\n\n\t\t\t\tthis.models.trash.albums.set( $('#gear_pop').data('album') );\n\t\t\t\tli.remove();\n\n\t\t\t} else if ( el.hasClass('opt-remove') ) {\n\n\t\t\t\tvar set = li.parents('li[data-type=\"set\"]').data('id');\n\n\t\t\t\tli.remove();\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/content/' + $('#gear_pop').data('album'),\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.id === set) {\n\t\t\t\t\tvar el = $('#list_item_' + $('#gear_pop').data('album'));\n\n\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\tel.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else if ( el.hasClass('opt-feat') ) {\n\n\t\t\t\tif ( $('#gear_pop').data('featured') === 'mark' ) {\n\n\t\t\t\t\tvar data = [{ id: $('#gear_pop').data('album'), featured: 1 }], self = this;\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('albums', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(items) {\n\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\tself.notify().success( koData.title + ' added to Featured albums' );\n\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar data = [{ id: $('#gear_pop').data('album'), featured: 0 }], self = this;\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('albums', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(items) {\n\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\tself.notify().success( koData.title + ' removed from Featured albums' );\n\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t} else if ( el.hasClass('opt-public') ) {\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\tvar note = self.notify().wait('Changing visibility');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\trequest: 'albums/' + $('#gear_pop').data('album'),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'visibility=public',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\tif (note) note.success('Visibility changed to Public');\n\t\t\t\t\t\t\tvar url = this.observers.api_url();\n\t\t\t\t\t\t\tif (url.match(/^albums\\/visibility:(public|unlisted|private)/) || (this.observers.properties.album.selected().album && url.indexOf('albums/' + this.observers.properties.album.selected().album.id + '/content') === 0)) {\n\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (match) params.data += '&match_album_visibility=1';\n\t\t\t\t\tself.sync(params);\n\t\t\t\t}\n\n\t\t\t\tvar allAlbums = self.observers.albums_flat().concat(self.observers.unlisted_albums()),\n\t\t\t\t\tselectedAlbum;\n\n\t\t\t\tallAlbums.forEach(function(album) {\n\t\t\t\t\tif (album.id == $('#gear_pop').data('album')) {\n\t\t\t\t\t\tselectedAlbum = album;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar fromVisibility = koData.visibility;\n\n\t\t\t\tthis.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); }\n\t\t\t\tthis.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\tthis.classes.modal.match_album_visibility.show(0, fromVisibility, 'public', (selectedAlbum.album_type !== 'set') ? 'album' : 'set');\n\n\t\t\t}\n\n\t\t\t$('#gear_pop').hide();\n\n\t\t},\n\n\t\tselect_all: function(type) {\n\n\t\t\tif ( this.observers.selection().length > 0 || type === 'deselect' ) {\n\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t} else {\n\n\t\t\t\tvar ids = this.observers.content().map(function(item) {\n\t\t\t\t\treturn item.id;\n\t\t\t\t});\n\n\t\t\t\tvar url = ( $.param.fragment().indexOf('trash') < 0 && $.param.fragment().indexOf('albums') < 0 && $.param.fragment().indexOf('/content') < 0 ) ? $.param.fragment() + '/content' : $.param.fragment();\n\n\t\t\t\t$.bbq.pushState( url + '/selection:' + ids, 2);\n\n\t\t\t}\n\n\t\t},\n\n\t\ttag_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('tags');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\tcategory_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('category');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\ttitle_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('title');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\treset_filter: function() {\n\n\t\t\t$('#three-col-left li.selected a').trigger('click');\n\n\t\t},\n\n\t\tsetup_sidebar_pickers: function() {\n\t\t\tvar self = this;\n\t\t\t$('#right-col-xtra .datepicker').each(function(i, p) {\n\t\t\t\tvar p = $(p),\n\t\t\t\t\tapply_timezone = true;\n\n\t\t\t\tif (!isNaN(p.val())) {\n\t\t\t\t\tvar v = Number(p.val());\n\n\t\t\t\t\tvar pad = function(n) {\n\t\t\t\t\t\treturn n < 10 ? '0' + n : n;\n\t\t\t\t\t};\n\n\t\t\t\t\tif (p.data('no-tz-shift')) {\n\t\t\t\t\t\tv = moment.utc(v*1000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv = moment(v*1000).tz(self.observers.settings.site_timezone());\n\t\t\t\t\t}\n\n\t\t\t\t\tp.val(v.format('YYYY/MM/DD HH:mm:SS'));\n\t\t\t\t}\n\n\t\t\t\tvar max = new Date().getTime();\n\n\t\t\t\tp.datetimepicker({\n\t\t\t\t\ttimeFormat: 'HH:mm:ss',\n\t\t\t\t\tdateFormat: 'yy/mm/dd',\n\t\t\t\t\tmaxDate: max,\n\t\t\t\t\tshowSecond: false\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\treset_secret_link: function(el) {\n\t\t\tvar type\t= this.observers.sidebar.id() === 'content' ? 'content' : 'albums',\n\t\t\t\tid\t\t= this.observers.sidebar.asset.id();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: type + '/' + id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: 'reset_internal_id=1',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.controllers.update_item(data);\n\t\t\t\t\tthis.notify().success('New unlisted site link created');\n\t\t\t\t\t$('#' + type + '-link').focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tsidebar: function(el,parent,e) {\n\n\t\t\tif (el.hasClass('edit-link') && !el.hasClass('panel-hover-link') && !el.hasClass('no-drawer')) {\n\n\t\t\t\tvar type = el.closest('div').parent().find('label').attr('class');\n\n\t\t\t\tif (type) {\n\t\t\t\t\tthis.observers.drawer.id(type);\n\t\t\t\t\tthis.views.open_sidebar_drawer(el);\n\t\t\t\t\tthis.events.setup_sidebar_pickers();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tcreate_collection: function() {\n\n\t\t\tvar o\t\t\t= this.observers.sheets.create_collection,\n\t\t\t\tbutton\t\t= $('#lay-three-col li[data-event=\"create_collection\"] button'),\n\t\t\t\torigText\t= button.text(),\n\t\t\t\tnote = this.notify().wait('Creating'),\n\t\t\t\tvisibility = o.properties.visibility();\n\n\t\t\tbutton.addClass('disabled');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'albums',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'title=' + encodeURIComponent(o.properties.title()) + '&album_type=' + o.properties.type() + '&visibility=' + visibility,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tnote.success(o.properties.title() + ' ' + ((data.album_type === 'set') ? 'set' : 'album') + ' created');\n\n\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\tbutton.text(origText);\n\n\t\t\t\t\t$('#create_sheet_categories li input:checked').each( function() {\n\t\t\t\t\t\to.properties.categories.push( $(this).val() );\n\t\t\t\t\t});\n\n\t\t\t\t\tvar more_properties = ( o.properties.tags().length > 0 || o.properties.categories().length > 0 || o.properties.summary().trim() !== '' || o.properties.description().trim() !== '' ) ? true : false,\n\t\t\t\t\t\t_finish\t\t\t= function() {\n\t\t\t\t\t\t\to.active(false);\n\t\t\t\t\t\t\to.validated(false);\n\t\t\t\t\t\t\to.reset();\n\t\t\t\t\t\t\t$.bbq.pushState( '/library/albums/' + data.id + '/content', 2 );\n\t\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\t\t$('#create_collection').find('input[type=\"checkbox\"]').each(function() {\n\t\t\t\t\t\t\t\t$(this).prop('checked', false);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t$('#content_subnav .scroll_wrapper').scrollTop( $('#content_subnav .scroll_content').height() );\n\t\t\t\t\t\t\t}, 120);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif (more_properties) {\n\n\t\t\t\t\t\tvar moreData = {\n\t\t\t\t\t\t\tid: data.id,\n\t\t\t\t\t\t\tsummary: o.properties.summary().length ? o.properties.summary() : this.observers.truncate(o.properties.description(), 252),\n\t\t\t\t\t\t\tdescription: o.properties.description(),\n\t\t\t\t\t\t\ttags: o.properties.tags().join(',')\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.controllers.update( 'albums', moreData, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tvar categories = o.properties.categories();\n\t\t\t\t\t\t\t\tif (categories.length) {\n\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\trequest: 'categories/' + categories + '/albums/' + data.id,\n\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttoggle_license: function(el,parent) {\n\n\t\t\tvar wrap = $('#license-sub');\n\n\t\t\twrap.toggleClass('hide');\n\n\t\t\tif ( el.is(':checked') ) {\n\n\t\t\t\tel.data('val', '');\n\t\t\t\tel.data('check', false);\n\n\t\t\t} else {\n\n\t\t\t\twrap.find('input').removeAttr('checked');\n\t\t\t\tel.data('val', 'all');\n\t\t\t\tel.data('check', true);\n\n\t\t\t}\n\n\t\t},\n\n\t\t'album-visibility': function(el,parent) {\n\n\t\t\tvar parent\t= el.closest('li'),\n\t\t\t\ttype\t= el.closest('li').hasClass('public') ? 'public' : (el.closest('li').hasClass('unlisted') ?  'unlisted' : 'private');\n\n\t\t\tif ( this.observers.content().length ) {\n\n\t\t\t\tparent.find('div').toggle();\n\t\t\t\tparent.find('a:first').toggleClass('open');\n\n\t\t\t}\n\n\t\t},\n\n\t\tarrow_toggle: function(el,parent) {\n\n\t\t\tvar id\t\t= parseInt( el.closest('li').find('span').closest('li').data('id'), 10 ),\n\t\t\t\topen\t= this.observers.open_sets(),\n\t\t\t\tindex\t= $.inArray(id, open);\n\n\t\t\tif ( parseInt(ko.dataFor($('#three-col-left li.selected').closest('ol').parent().get(0)), 10) === id ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.observers.open_sets.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.observers.open_sets.push(id);\n\t\t\t}\n\n\t\t\tthis.cookie( 'library:open_sets', ( this.observers.open_sets().length >= 1 ) ? this.observers.open_sets().toString() : null );\n\n\t\t\tthis.controllers.events_init();\n\n\t\t},\n\n\t\tarrow_toggle_date: function(el,parent) {\n\n\t\t\tparent.toggleClass('open');\n\t\t\tparent.closest('li').find('ol').toggle();\n\n\t\t},\n\n\t\t// KO will look for and call these functions after the library sidebar for the template has loaded\n\t\tsidebar_callback: {\n\n\t\t\talbum: function() {\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tshow_cover: function(data,noShow) {\n\n\t\t\tvar win = $(window),\n\t\t\t\tcoversHeight = ($('#lib-covers li').length / 3)*79,\n\t\t\t\tself = this;\n\n\t\t\tif (data) {\n\t\t\t\t$('#lib-covers li[data-id=\"' + parseInt(data.id, 10) + '\"]').find('img').fadeIn(1000, function() {\n\t\t\t\t\t$(this).closest('li').removeClass('loading');\n\t\t\t\t});\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#lib-covers').height( ($('#lib-covers li').length <= 9) ? '100%' : coversHeight );\n\t\t\t$('#lib-covers [data-event=\"toggle_visibility\"]').on('click', function() {\n\t\t\t\tif ($('#lib-covers').height() <= 30) {\n\t\t\t\t\t$('#lib-covers').height('');\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$('#lib-covers').height($('#lib-covers .scroll_content').height());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#lib-covers').height('');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar h = $('#album_sidebar_info_container').height(),\n\t\t\t\tsel = $('#album_sidebar_info_container').find('.col-select');\n\n\t\t\tif (sel.is(':visible')) {\n\t\t\t\th -= $('#album_sidebar_info_container').find('.col-select').outerHeight(true) - 1;\n\t\t\t}\n\n\t\t\t$('#album_side').css('height', h);\n\n\t\t\tif (this.observers.sidebar.asset.album_type && this.observers.sidebar.asset.album_type() === 'standard' && $('#three-col-left li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').closest('li[data-type=\"set\"]').length > 0) {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + $('#three-col-left li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').closest('li[data-type=\"set\"]').data('id'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + cover.id + '\"]').find('.badge.cover-set').show();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.observers.api_url().indexOf('albums/visibility:') != -1) {\n\t\t\t\tthis.controllers.events_init();\n\t\t\t}\n\n\t\t},\n\n\t\tassign_cover: function(type,set,asset) {\n\n\t\t\t// Matched when a cover is being deleted\n\t\t\tif (type.context) {\n\t\t\t\tif (this.observers.properties.album.selected().album.covers.length <= 3) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar self = this,\n\t\t\t\t\tnote = this.notify().wait('Deleting cover'),\n\t\t\t\t\tdel;\n\t\t\t\t$.each(this.observers.sidebar.asset.covers(), function(i,cover) {\n\t\t\t\t\tif (cover.id == type.closest('li').data('id')) {\n\t\t\t\t\t\tdel = cover;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar _ids = [];\n\t\t\t\tif (!type.hasClass('remcover')) {\n\t\t\t\t\ttype.each(function() {\n\t\t\t\t\t\t_ids.push($(this).data('id'));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_ids.push(type.closest('li').data('id'));\n\t\t\t\t}\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + this.observers.properties.album.selected().album.id + '/covers/' + _ids.join(','),\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (_ids.length <= 1) {\n\t\t\t\t\t\t\tnote.success(del.filename + ' unassigned as cover');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success(_ids.length + ' items unassigned as covers');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar ol = type.closest('ol');\n\n\t\t\t\t\t\t$('#lib-covers li[data-id=\"' + type.closest('li').data('id') + '\"]').remove();\n\n\t\t\t\t\t\tthis.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album.covers.length <= 3) {\n\t\t\t\t\t\t\t$('#lib-covers a.remcover').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Matched when a cover is being reordered\n\t\t\tif (type === 'update') {\n\n\t\t\t\tvar ids = [],\n\t\t\t\t\tself = this,\n\t\t\t\t\tidsclone;\n\n\t\t\t\t$('#lib-covers li').each(function() {\n\t\t\t\t\tids.push(parseInt($(this).data('id'), 10));\n\t\t\t\t});\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'albums/' + self.observers.sidebar.asset.id() + '/covers/' + ids.reverse(),\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album) this.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Matched when a cover is being added to a set\n\t\t\tif (type === 'set') {\n\t\t\t\tvar note = this.notify().wait('Assigning cover');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/covers/' + asset,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tallCovers = asset.split(',');\n\n\t\t\t\t\t\t$.each(allCovers, function(i, cover) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + cover + '\"]').find('.badge.cover-set').show();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (allCovers.length <= 1) {\n\t\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\tif (cover.id == asset) {\n\t\t\t\t\t\t\t\t\tnote.success(cover.filename + ' assigned as primary cover');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success(allCovers.length + ' items assigned as covers');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Matched when a cover is being added to an album\n\t\t\tif (type === 'album') {\n\t\t\t\tvar exists = false,\n\t\t\t\t\tnote = this.notify().wait('Assigning cover');\n\t\t\t\t$.each( this.observers.sidebar.asset.covers(), function(i,cover) {\n\t\t\t\t\tif (parseInt(cover.id, 10) === parseInt(asset, 10)) {\n\t\t\t\t\t\texists = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (exists && asset.split && asset.split(',').length <= 1) {\n\t\t\t\t\tnote.warn('This image has already been assigned as a cover');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/covers/' + asset,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tallCovers = asset.split && asset.split(',');\n\n\t\t\t\t\t\tif (allCovers && allCovers.length <= 1) {\n\t\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\tif (cover.id == asset) {\n\t\t\t\t\t\t\t\t\tnote.success(cover.filename + ' assigned as primary cover');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (allCovers) {\n\t\t\t\t\t\t\tnote.success(allCovers.length + ' items assigned as covers');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success($('#mid-content li[data-id=\"' + asset + '\"]').find('span.filename').text() + ' assigned as primary cover');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.sidebar.asset.covers(data.covers);\n\t\t\t\t\t\tthis.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\tthis.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tcover_draggable: function() {\n\n\t\t\tvar el = $('#lib-covers ol'),\n\t\t\t\tself = this,\n\t\t\t\torig, primary;\n\n\t\t\tel.sortable({\n\t\t\t\tcontainment: '#lib-covers-contain',\n\t\t\t\tdistance: 5, // Adding small distance for pen inputs\n\t\t\t\trevert: 100,\n\t\t\t\tstart: function(e,ui) {\n\t\t\t\t\torig = ui.helper;\n\t\t\t\t\tui.helper.find('a').hide();\n\t\t\t\t\tprimary = $('#lib-covers li').eq(0);\n\t\t\t\t\t$('.ui-sortable-placeholder').css('visibility','visible');\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\t\t\t\t},\n\t\t\t\tstop: function(e,ui) {\n\t\t\t\t\tif (primary.data('id') != $('#lib-covers li').eq(0).data('id')) {\n\t\t\t\t\t\tif (self.observers.api_url().indexOf('albums/visibility') !== -1) self.controllers.load_content();\n\t\t\t\t\t\tself.notify().success( ko.dataFor($('#lib-covers li[data-id=\"' + primary.data('id') + '\"]').get(0)).filename + ' assigned as primary cover' )\n\t\t\t\t\t}\n\t\t\t\t\torig.find('a').css('display','');\n\t\t\t\t},\n\t\t\t\tupdate: function(e,ui) {\n\t\t\t\t\tself.events.assign_cover('update');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tel.dblclick(function(e, ui) {\n\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: $(e.target).closest('li').data('id') });\n\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'single'});\n\t\t\t});\n\n\t\t},\n\n\t\tcover_droppable: function() {\n\n\t\t\tvar el = $('#lib-covers ol'),\n\t\t\t\tself = this;\n\n\t\t\tif (this.observers.sidebar.asset.album_type && this.observers.sidebar.asset.album_type() == 'standard' && this.observers.api_url().indexOf('albums/visibility') === -1) {\n\t\t\t\tel.droppable({\n\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\thoverClass: 'cover-hover',\n\t\t\t\t\taccept: '#content_list li',\n\t\t\t\t\tover: function(e,ui) {\n\t\t\t\t\t\t$('.ui-draggable-dragging').find('span.content').css('cursor','copy');\n\t\t\t\t\t},\n\t\t\t\t\tout: function() {\n\t\t\t\t\t\t$('.ui-draggable-dragging').find('span.content').css('cursor','all-scroll');\n\t\t\t\t\t},\n\t\t\t\t\tdrop: function(e,ui) {\n\t\t\t\t\t\tvar id = ui.draggable.data('id'),\n\t\t\t\t\t\t\talreadyDropped = false;\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tel.find('li').each(function() {\n\t\t\t\t\t\t\tif ($(this).data('id') == id) {\n\t\t\t\t\t\t\t\talreadyDropped = true;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (alreadyDropped) {\n\t\t\t\t\t\t\tself.notify().warn('This image has already been assigned as a cover');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.events.assign_cover('album', self.observers.sidebar.asset.id(), ui.draggable.data('id'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\talbum_draggable: function() {\n\n\t\t\tvar el = $('.public li').add('.unlisted li').add('.private li');\n\n\t\t\tel.draggable({\n\t\t\t\tappendTo: '#three-col-left',\n\t\t\t\trevert: 'invalid',\n\t\t\t\teasing: config.easing,\n\t\t\t\tdistance: 10,\n\t\t\t\topacity: 0.4,\n\t\t\t\taxis: 'y',\n\t\t\t\thelper: 'clone',\n\t\t\t\tzIndex: 41,\n\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t$(this).css('opacity', 0.2);\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t// Counts the <li> to determine the necessary padding to keep treeview looking correctly when dragged\n\t\t\t\t\tui.helper.closest('li').css('padding-left', 8 + ( $(this).parents('li').length * 8 ) ).addClass('trashable');\n\n\t\t\t\t},\n\t\t\t\tstop: function() {\n\t\t\t\t\t$(this).css('opacity', 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\troot_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('#u_albums').add('#p_albums').add('#pr_albums');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\n\t\t\t\t\tvar parent_viz = el.parent().parent().attr('id');\n\t\t\t\t\tvar equal = parent_viz && $(this).closest('li').hasClass(parent_viz.replace('_albums', ''));\n\n\t\t\t\t\tif ( el.hasClass('content') || self.observers.sidebar.id() === 'trash' ) { return false; }\n\t\t\t\t\tif ( el.closest('ol').parent().data('type') === 'set' || !equal || el.closest('li').hasClass('album') ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar index\t\t= ui.draggable.closest('li').index(),\n\t\t\t\t\t\tlisted\t\t= $(this).closest('li').hasClass('private') ? 'private' : ($(this).closest('li').hasClass('unlisted') ? 'unlisted' : 'public'),\n\t\t\t\t\t\turl_match\t= self.observers.api_url().match(/albums\\/(\\d+)/),\n\t\t\t\t\t\talbum_set\t= ui.draggable.closest('ol').closest('li').data('id') || ui.draggable.closest('ul').attr('id') === 'content_list' && url_match && url_match[1],\n\t\t\t\t\t\tnote, id;\n\n\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\tid = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( ui.draggable.hasClass('album') && $('#content_list li.selected').length ) {\n\t\t\t\t\t\t\tid = $.map($('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\treturn $(k).data('id');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tid = [ui.draggable.data('id')];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar shouldBeNotified = true;\n\t\t\t\t\t$.each(id, function(i, album) {\n\t\t\t\t\t\tvar isInPublic = $('#al-nav li[data-id=\"' + album + '\"]').closest('#public_albums').length;\n\t\t\t\t\t\tif (isInPublic && $(e.target).attr('id') === 'p_albums' || !isInPublic && $(e.target).attr('id') !== 'p_albums') {\n\t\t\t\t\t\t\tshouldBeNotified = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\tvar remove_from_set = function(cb) {\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + album_set + '/content/' + id.join(','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: '_method=delete',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tif (this.observers.api_url().match( RegExp('albums\\/' + album_set) )) this.controllers.load_content();\n\t\t\t\t\t\t\t\tcb.call(self);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tvar change_listed = function() {\n\n\t\t\t\t\t\tvar _reqs = [],\n\t\t\t\t\t\t\t_albumIds = [];\n\t\t\t\t\t\t$.each(id, function(i, _id) {\n\t\t\t\t\t\t\t_albumIds.push(_id);\n\t\t\t\t\t\t\t_reqs.push({ request: 'albums/' + _id });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\t\tif (shouldBeNotified) note = self.notify().wait('Changing visibility');\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\trequest: _reqs,\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tdata: 'visibility=' + listed,\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tvar ids = helpers.unique(id);\n\t\t\t\t\t\t\t\t\tif (note && ids.length > 1) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + data.visibility.raw + ' for ' + ids.length + ' items');\n\t\t\t\t\t\t\t\t\t} else if (note && ids.length === 1) {\n\t\t\t\t\t\t\t\t\t\t$.each(this.observers.albums(), function(i, album) {\n\t\t\t\t\t\t\t\t\t\t\tif (album.id === ids[0]) note.success('Visibility of ' + album.title + ' changed to ' + album.visibility.raw);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + data.visibility.raw);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// If album is selected update the observers.properties as well\n\t\t\t\t\t\t\t\t\tif (self.observers.properties.album.selected().album && ids.indexOf(self.observers.properties.album.selected().album.id) !== -1) self.observers.properties.album.selected().album = data;\n\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tif (shouldShowModal) this.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\tif (this.observers.selection().length > 0) self.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tif (self.observers.properties.album.selected().album) {\n\t\t\t\t\t\t\t\t\t\tself.observers.sidebar.asset.visibility.raw(data.visibility.raw);\n\t\t\t\t\t\t\t\t\t\tself.observers.sidebar.asset.visibility.clean(data.visibility.clean);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (this.observers.api_url().match(/^albums\\/visibility:(public|unlisted|private)/)) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (match) params.data += '&match_album_visibility=1';\n\n\t\t\t\t\t\t\tself.sync(params);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar shouldShowModal = true,\n\t\t\t\t\t\t\tallAlbums = self.observers.albums_flat().concat(self.observers.unlisted_albums()).concat(self.observers.private_albums()),\n\t\t\t\t\t\t\tselectedAlbum;\n\n\t\t\t\t\t\tfunction recursive_search(album) {\n\t\t\t\t\t\t\tif ($.inArray(album.id, _albumIds) !== -1) {\n\t\t\t\t\t\t\t\tif (album.count <= 0 || ui.draggable.closest($(e.target).closest('li')).length) {\n\t\t\t\t\t\t\t\t\tshouldShowModal = false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tselectedAlbum = album;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (album.children) {\n\t\t\t\t\t\t\t\treturn $.each(album.children, function(j, a) {\n\t\t\t\t\t\t\t\t\treturn recursive_search(a);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.each(allAlbums, function(i, album) {\n\t\t\t\t\t\t\treturn recursive_search(album);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, selectedAlbum.visibility, listed, (!selectedAlbum || selectedAlbum.album_type !== 'set') ? 'album' : 'set');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( album_set ) {\n\t\t\t\t\t\tremove_from_set( change_listed );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchange_listed();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tside_droppable: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$('.label-unlisted, .label-private, .label-photo').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\t// Do not allow drops to happen from the trash view\n\t\t\t\t\tif (self.observers.sidebar.id() === 'trash') return false;\n\n\t\t\t\t\t// Only accept content, no albums or sets\n\t\t\t\t\tif (!el.hasClass('__content__') && !el.hasClass('content')) return false;\n\n\t\t\t\t\tvar item = self.observers.getContentById(el.data('id'));\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\t// If item visibility matches droppable visibility disable drop\n\t\t\t\t\t\tif ($(this).find('.label-photo').length && item.visibility.raw === 'public') return false;\n\t\t\t\t\t\tif ($(this).find('.label-unlisted').length && item.visibility.raw === 'unlisted') return false;\n\t\t\t\t\t\tif ($(this).find('.label-private').length && item.visibility.raw === 'private') return false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// All other cases we allow\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\t\t\t\t\tvar items = [],\n\t\t\t\t\t\tfinished = [],\n\t\t\t\t\t\twhich = ($(e.target).find('.label-unlisted').length) ? 'unlisted' : 'private',\n\t\t\t\t\t\tdata = [],\n\t\t\t\t\t\tdroppableContext = this;\n\n\t\t\t\t\tif ($(e.target).find('.label-photo').length) which = 'public';\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), visibility: { clean: helpers.capitalize(which), raw: which}}\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, visibility: { clean: helpers.capitalize(which), raw: which}});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar note = self.notify().wait('Changing visibility');\n\n\t\t\t\t\tif (self.observers.api_url().indexOf('albums/') === -1) $('#mid-content li.selected').remove();\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('content', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(item) {\n\t\t\t\t\t\t\t\tfinished.push(item);\n\n\t\t\t\t\t\t\t\t// Keeps the album count in sync if being dropped from a selected album, ignore for private viz\n\t\t\t\t\t\t\t\tif ((self.observers.properties.album.selected().id && $('#al-nav li.selected').data('id')) && self.observers.properties.album.selected().id == $('#al-nav li.selected').data('id') && !$(droppableContext).find('.label-private').length) {\n\t\t\t\t\t\t\t\t\tself.observers.update_album_counts($('#al-nav li.selected').data('id'));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (finished.length == data.length) {\n\t\t\t\t\t\t\t\t\tif (finished.length > 1) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + which + ' for ' + finished.length + ' items');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + which + ' for ' + item.filename);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (!$('#mid-content li').length) self.controllers.load_content(null, true);\n\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-quick').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif (el.closest('li').find('.album-stack').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash' && self.observers.api_url().indexOf('visibility') < 0;\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn Number($(el).data('id'));\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push(Number(this));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( data.length > 1 ) {\n\t\t\t\t\t\tself.notify().success( data.length + ' items added to Quick collection');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.notify().success( $('#content_list li[data-id=\"' + data[0] + '\"]').find('.filename').text() + ' added to Quick collection' );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.observers.quick_collection( self.observers.quick_collection().concat( data ) );\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-faves').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') !== 'set' && self.observers.api_url().indexOf('visibility:') < 0 && self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [],\n\t\t\t\t\t\thasBeenAdded = false,\n\t\t\t\t\t\twasSupposedToBeAdded = 0,\n\t\t\t\t\t\taccept = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), favorite: 1 };\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, favorite: 1 });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\twasSupposedToBeAdded = data.length;\n\n\t\t\t\t\t$.each( data, function(k,v) {\n\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.fave').css('display') === 'none' ) {\n\t\t\t\t\t\t\taccept.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasBeenAdded = $('#content_list li[data-id=\"' + v.id + '\"]').find('.filename').text();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tdata = accept;\n\n\t\t\t\t\tif (hasBeenAdded !== false && data.length === 0) {\n\t\t\t\t\t\tself.notify().warn( ((wasSupposedToBeAdded > 0) ? wasSupposedToBeAdded + ' items' : hasBeenAdded) + ' already in destination and was not added.' );\n\t\t\t\t\t}\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('content', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tupdated: function(items) {\n\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\tself.notify().success(items[0].filename + ' added to Favorites');\n\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' items added to Favorites');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-featured').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') !== 'set' && self.observers.api_url().indexOf('visibility:') < 0 && self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [],\n\t\t\t\t\t\thasBeenAdded = false,\n\t\t\t\t\t\tnumNotAdded = 0;\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), featured: 1 };\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, featured: 1 });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( data, function(k,v) {\n\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') !== 'none' ) {\n\t\t\t\t\t\t\thasBeenAdded = $('#content_list li[data-id=\"' + v.id + '\"]').find('.filename').text();\n\t\t\t\t\t\t\tnumNotAdded++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (hasBeenAdded !== false && data.length <= 1) {\n\t\t\t\t\t\tself.notify().warn( hasBeenAdded + ' already in destination and was not added.' );\n\t\t\t\t\t} else if (hasBeenAdded !== false && data.length > 1 && data.length === numNotAdded) {\n\t\t\t\t\t\tself.notify().warn( data.length + ' items already in destination and were not added.' );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.models.featured.content.set(data);\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-album-featured').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif ( el.closest('#public_albums').length <= 0 && el.closest('#mid-content').length <= 0 ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (el.hasClass('__album__') && el.hasClass('unlisted')) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') === 'set' || self.observers.api_url().indexOf('visibility:') > 0 || el.hasClass('__album__') && self.observers.sidebar.id() !== 'trash' || el.data('type') === 'standard' || el.data('type') === 'set';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\t$(ui.draggable).draggable({\n\t\t\t\t\t\trevert: true,\n\t\t\t\t\t\trevertDuration: 0\n\t\t\t\t\t});\n\n\t\t\t\t\tvar data = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\tif ( ui.helper.hasClass('__album__') ) {\n\t\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\t\treturn { id: $(el).data('id'), featured: 1 };\n\t\t\t\t\t\t\t}).get();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata = { id: ui.helper.data('id'), featured: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: parseInt(this, 10), featured: 1 });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.models.featured.albums.set(data);\n\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$.each(data, function(i,album) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + album.id + '\"]').addClass('featured');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\talbum_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('.lib-nav li[data-type=\"standard\"]').find('a');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\tgreedy: true,\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif (el.closest('li').find('.album-stack').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( self.classes.app.koken.sortToDrag === true && self.observers.api_url().indexOf('visibility:') < 0 || el.hasClass('__content__') && ! el.closest('li').hasClass('album') && ! el.closest('li').hasClass('set') && self.observers.sidebar.id() !== 'trash' ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tif ( $(this).closest('li').offset().top > ( $('#trash_drop').parent().offset().top - 10 ) ) { return; }\n\n\t\t\t\t\tvar id = '',\n\t\t\t\t\t\tel = this,\n\t\t\t\t\t\tselected, item;\n\n\t\t\t\t\tif ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t$('#content_list li.selected').each( function(k,v) {\n\t\t\t\t\t\t\tid += $(v).data('id') + ',';\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tid = self.classes.app.koken.itemsBeingSortedDragged.join(',');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(this).closest('li').hasClass('selected')) {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tvar ids = [];\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\tids = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li.selected').each(function() {\n\t\t\t\t\t\t\t\tids.push( parseInt($(this).data('id'), 10) );\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tids = ids.join(',');\n\t\t\t\t\t\tself.events.assign_cover('album', $(this).closest('li').data('id'), ids);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar __ids = id.split(','),\n\t\t\t\t\t\tshouldShowModal = true,\n\t\t\t\t\t\timagesBeingMoved = {\n\t\t\t\t\t\t\tpublic: [],\n\t\t\t\t\t\t\tprivate: [],\n\t\t\t\t\t\t\tunlisted: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\trequest: 'albums/' + $(el).closest('li').data('id') + '/content/' + helpers.rtrim(id,','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.update_album_counts(data);\n\t\t\t\t\t\t\t\tthis.observers.get_selected_asset_albums();\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\t\t\t\t\t// Only update mid col if they changed visibility\n\t\t\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (match) params.data = 'match_album_visibility=1';\n\n\t\t\t\t\t\tself.sync(params);\n\n\t\t\t\t\t\timagesBeingMoved = imagesBeingMoved.public.concat(imagesBeingMoved.private, imagesBeingMoved.unlisted)\n\t\t\t\t\t\tvar _added = ( !self.classes.app.koken.sortToDrag ) ? imagesBeingMoved.length : self.classes.app.koken.itemsBeingSortedDragged.length;\n\n\t\t\t\t\t\tself.notify().success( _added + ' items added to \"' + $(el).text().trim() + '\"' );\n\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\tif (self.observers.api_url().indexOf('independent:1') != -1) {\n\t\t\t\t\t\t\t$('#content_list li.selected').each( function(k,v) {\n\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.observers.properties.overall.total($('#content_list li').length);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(self.observers.content(), function(i, item) {\n\t\t\t\t\t\tif (__ids.indexOf(item.id.toString()) !== -1) imagesBeingMoved[item.visibility.raw].push(item);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Ignore modals for private images\n\t\t\t\t\tif (imagesBeingMoved.public.length <= 0 && imagesBeingMoved.unlisted.length <= 0 && imagesBeingMoved.private.length > 0) shouldShowModal = false;\n\n\t\t\t\t\t// Ignore modal because only `unlisted` images are being moved to an already unlisted album\n\t\t\t\t\tif (imagesBeingMoved.public.length <= 0 && imagesBeingMoved.private.length <= 0 && imagesBeingMoved.unlisted.length > 0 && $(this).closest('.unlisted').length) shouldShowModal = false;\n\n\t\t\t\t\t// Ignore modal because only `public` images are being moved to an already public album\n\t\t\t\t\tif (imagesBeingMoved.unlisted.length <= 0 && imagesBeingMoved.private.length <= 0 && imagesBeingMoved.public.length > 0 && $(this).closest('.public').length) shouldShowModal = false;\n\n\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); }\n\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\n\t\t\t\t\t\tif ($(el).closest('.private').length) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.public.concat(imagesBeingMoved.unlisted), '', 'private');\n\t\t\t\t\t\t} else if ($(el).closest('.unlisted').length) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.public, 'public', 'unlisted');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.unlisted, 'unlisted', 'public');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t},\n\n\t\talbum_set_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('.lib-nav li[data-type=\"set\"]').add('#content_list li[data-type=\"set\"]').find('.label-album-set:first').closest('a');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\n\t\t\t\t\t// Checking if selected album is child of droppable for dropping to make covers\n\t\t\t\t\tvar droppableId = $(this).closest('li').data('id'),\n\t\t\t\t\t\tisParent = false;\n\n\t\t\t\t\t$('#three-col-left li.selected').parentsUntil('#three-col-left').each(function(i,parent) {\n\t\t\t\t\t\tif ($(parent).data('id') === droppableId) {\n\t\t\t\t\t\t\tisParent = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Ensures that parent albums cannot be dropped onto their children\n\t\t\t\t\tif (self.observers.api_url().indexOf('visibility') !== -1 && $('#three-col-left li[data-id=\"' + el.data('id') + '\"]').find('li[data-id=\"' + droppableId + '\"]').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ensures that albums cannot be dropped onto themselves\n\t\t\t\t\tif (el.data('id') === droppableId) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isParent) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t//\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t! $(this).hasClass('arrow-toggle') &&\n\t\t\t\t\t\tel.closest('li').parent().closest('li').data('id') != $(this).closest('li').data('id') &&\n\t\t\t\t\t\t($(this).closest('li').data('type') == 'set' && !el.hasClass('content')) &&\n\n\t\t\t\t\t\t// Fix for sets showing underneath trash button when scrolling still being active droppables\n\t\t\t\t\t\t$(this).closest('li').offset().top < ( $('#trash_drop').offset().top - 20 )\n\t\t\t\t\t) { return true; }\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar album_set\t= $(this).closest('li').data('id'),\n\t\t\t\t\t\talbum;\n\n\t\t\t\t\tif (ui.draggable.hasClass('content')) {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tvar ids = _ids = [];\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\tids = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li.selected').each(function() {\n\t\t\t\t\t\t\t\tids.push($(this).data('id'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_ids = ids;\n\t\t\t\t\t\tids = ids.join(',');\n\t\t\t\t\t\tif ( _ids.length > 1 ) {\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'albums/' + album_set,\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tif ( _ids.length > 1 ) {\n\t\t\t\t\t\t\t\t\t\tvar exists = false;\n\t\t\t\t\t\t\t\t\t\t$.each( data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\t\t\t\tif (parseInt(cover.id, 10) === parseInt(ids, 10)) {\n\t\t\t\t\t\t\t\t\t\t\t\texists = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().warn('This asset already exists as a cover for this album.');\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.classes.modal.cover.show(album_set, ids);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.classes.modal.cover.show(album_set, ids);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\talbum = self.classes.app.koken.itemsBeingSortedDragged.join(',');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( ui.draggable.hasClass('album') && $('#content_list li.selected').length ) {\n\t\t\t\t\t\t\t\talbum = $.map($('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\t\treturn $(k).data('id');\n\t\t\t\t\t\t\t\t}).join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talbum = ui.draggable.data('id');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\trequest: 'albums/' + album_set + '/content/' + album,\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\t\t\t\tif (album.split) {\n\t\t\t\t\t\t\t\t\t\tvar _totalDrops = album.split(',').length;\n\t\t\t\t\t\t\t\t\t\tif (_totalDrops > 1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(_totalDrops + ' collections added to ' + data.album.title);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(ui.draggable.find('span.title').text().trim() + ' added to ' + data.album.title);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar clone = self.observers.albums().slice(),\n\t\t\t\t\t\t\t\t\t\t_clone;\n\n\t\t\t\t\t\t\t\t\t$.each( clone, function(k,v) {\n\t\t\t\t\t\t\t\t\t\tif ( v && v.id == album && ! v.children ) {\n\t\t\t\t\t\t\t\t\t\t\tclone.splice( k, 1 );\n\t\t\t\t\t\t\t\t\t\t} else if( v && v.children ) {\n\t\t\t\t\t\t\t\t\t\t\t_clone = v.children.slice();\n\t\t\t\t\t\t\t\t\t\t\t$.each( _clone, function(j,w) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( w && w.id == album ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t_clone.splice(j,1);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tclone[k].children = _clone;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t$.each( clone, function(k,v) {\n\t\t\t\t\t\t\t\t\t\tif ( v.id == album_set ) {\n\t\t\t\t\t\t\t\t\t\t\tclone[k].children = data.albums;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tself.observers.albums(clone);\n\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tif ( self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id == album_set ) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(album_set,'set');\n\t\t\t\t\t\t\t\t\t} else if (this.observers.api_url().match(/^albums/)) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (match) params.data = 'match_album_visibility=1';\n\t\t\t\t\t\t\tself.sync(params);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar dropVisibility = $(this).closest('li.public').length ? 'public' : ($(this).closest('li.unlisted').length ? 'unlisted' : 'private'),\n\t\t\t\t\t\t\tshouldShowModal = false;\n\n\t\t\t\t\t\t// If droppable and draggable visibility doesnt match we need to show the modal\n\t\t\t\t\t\tif (dropVisibility !== ui.draggable.data('visibility')) shouldShowModal = true;\n\n\t\t\t\t\t\t// Check if we are dropping a set and if it has children, if not we can skip the modal\n\t\t\t\t\t\tif (ui.draggable.data('type') === 'set' && !ui.draggable.data('children')) shouldShowModal = false;\n\n\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() {\n\t\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\t\t_syncAPI(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, ui.draggable.data('visibility'), dropVisibility, (ui.draggable.data('type') === 'standard') ? 'album' : ui.draggable.data('type'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttrash_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('#trash_drop');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif ( self.observers.sidebar.id() !== 'trash' || el.data('type') ) return true;\n\t\t\t\t},\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar id\t\t\t= '',\n\t\t\t\t\t\tids\t\t\t= [],\n\t\t\t\t\t\tselected, items, item, collect, ndex;\n\n\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\tif ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\titems = $('#content_list li.selected');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar selector = '';\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function(k,v) {\n\t\t\t\t\t\t\tselector += '#content_list li[data-id=\"' + v + '\"],'\n\t\t\t\t\t\t});\n\t\t\t\t\t\titems = $(helpers.rtrim(selector, ','));\n\t\t\t\t\t}\n\n\t\t\t\t\tcollect\t= self.observers.content().slice(0);\n\n\t\t\t\t\titems.each( function(k,v) {\n\n\t\t\t\t\t\tvar item\t= $(this),\n\t\t\t\t\t\t\tid\t\t= item.data('id');\n\n\t\t\t\t\t\tndex\t\t\t= item.index();\n\t\t\t\t\t\tids[ids.length]\t= id;\n\n\t\t\t\t\t\t$.each( collect, function(a,b) {\n\t\t\t\t\t\t\tif ( b && b.id == id ) {\n\t\t\t\t\t\t\t\tcollect.splice(a,1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( ui.helper.data('which') === 'thumbnail' ) {\n\n\t\t\t\t\t\tif ($('#mid-content li.selected').length <= 1) {\n\n\t\t\t\t\t\t\tvar note = self.notify().wait('Moving to trash');\n\n\t\t\t\t\t\t\tself.observers.properties.trash.total(self.observers.properties.trash.total() + 1);\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'trash/content:' + ui.draggable.data('id'),\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t\t\t\t\tthis.load_content(null, true);\n\t\t\t\t\t\t\t\t\tnote.success( $('#list_item_' + ui.draggable.data('id')).find('.title.filename').text() + ' was moved to the Trash' );\n\t\t\t\t\t\t\t\t\tif (self.observers.view() !== 'single') this.observers.sidebar.id('fixed');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.opt-icon.opt-trash[data-bind]').trigger('click');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar isSingle = false;\n\n\t\t\t\t\t\tif ( ui.draggable.hasClass('__album__') || ui.draggable.hasClass('album') ) {\n\t\t\t\t\t\t\t$.each( ids, function(i, id) {\n\t\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\tids = [ui.draggable.data('id')];\n\t\t\t\t\t\t\tisSingle = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar msg;\n\t\t\t\t\t\tif ( items.length  > 1 ) {\n\t\t\t\t\t\t\tmsg = items.length + ' items were moved to the Trash';\n\t\t\t\t\t\t} else if ( self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.title').text().trim() + ' was moved to the Trash';\n\t\t\t\t\t\t} else if ( ui.draggable.data('type') === 'set' ) {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.label-album-set:first').text().trim() + ' and all child albums were moved to the Trash';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.label-album').text().trim() + ' was moved to the Trash';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.notify().success(msg);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'trash/albums:' + ids.join(','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\tif ( !isSingle ) {\n\n\t\t\t\t\t\t\t\t\tif ( !$.isEmptyObject( self.observers.properties.album.selected() ) && self.observers.properties.album.selected().album.id == ui.draggable.data('id') ) {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tself.load_content();\n\n\t\t\t\t\t\t\t\t} else if ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t\t\t\tif (this.observers.api_url().indexOf('albums/' + ids[0]) !== -1) {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tscale_thumbnails: function(val) {\n\t\t\tvar thumCSS =  $('#thumbnail-styles'),\n\t\t\t  listHW = Math.floor(val * 0.56);\n\n\t\t\tthis.cookie('library:thumbnail_scale', val);\n\n\t\t\tif (!thumCSS.length) {\n\t\t\t\tthumCSS = $('<style id=\"thumbnail-styles\"></style>').appendTo(document.head);\n\t\t\t}\n\n\t\t\tvar rules = 'ul.lib-content li a.content, .ui-draggable a.content, ul.lib-content li span.content { width: ' + val + 'px; max-width: ' + val + 'px; height: ' + val + 'px; }\\\n\t\t\t\tul.lib-content.grid img.media { max-height: ' + val + 'px; }\\\n\t\t\t\tul.lib-content.list li span.list-cell.tn { width: ' + listHW + 'px; height: ' + listHW + 'px; }';\n\n\t\t\tthumCSS.text(rules);\n\n\t\t\tthis.controllers.lazy('#content_list','suppress');\n\t\t}\n\n\t},\n\n\n\tcontrollers: {\n\n\t\tset_current_nav: function() {\n\t\t\tvar lis = $('ol.lib-nav li'),\n\t\t\t\ttrash = $('#trash_drop').parents('li'),\n\t\t\t\ttitle = 'Content',\n\t\t\t\ticon = 'every',\n\t\t\t\tval = this.observers.api_url();\n\n\t\t\ttrash.removeClass('selected');\n\n\t\t\tthis.observers.is_collection(false);\n\t\t\tthis.observers.show_root_site_links(false);\n\n\t\t\tvar plugin_sel = false;\n\t\t\t$.each($('.plugin-library-nav-item'), function(i, li) {\n\t\t\t\tvar $li = $(li),\n\t\t\t\t\t$a = $li.find('a:first');\n\n\t\t\t\tif (location.hash.indexOf($a.attr('href')) === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t$li.addClass('selected');\n\t\t\t\t\tplugin_sel = true;\n\t\t\t\t\ttitle = $a.text();\n\t\t\t\t\ticon = $a.find('span.icon16').get(0).className.replace('icon16 label-', '');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!plugin_sel) {\n\t\t\t\tif (val.match(/albums\\/\\d/)) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id])').removeClass('selected');\n\t\t\t\t\treturn;\n\t\t\t\t} else if (val.indexOf('albums/visibility:public') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .public)').removeClass('selected');\n\t\t\t\t\ttitle = 'Public';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t\tthis.observers.show_root_site_links(true);\n\t\t\t\t} else if (val.indexOf('albums/visibility:unlisted') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .unlisted)').removeClass('selected');\n\t\t\t\t\ttitle = 'Unlisted';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t} else if (val.indexOf('albums/visibility:private') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .private)').removeClass('selected');\n\t\t\t\t\ttitle = 'Private';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t} else if (val.indexOf('albums/featured') === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t$('#al-nav li:first').addClass('selected');\n\t\t\t\t\ttitle = 'Featured albums';\n\t\t\t\t\ticon = 'album-featured';\n\t\t\t\t} else if (val.indexOf('trash') === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\ttrash.addClass('selected');\n\t\t\t\t\ttitle = 'Trash';\n\t\t\t\t\ticon = 'trash';\n\t\t\t\t\tthis.observers.sidebar.id('trash');\n\t\t\t\t} else {\n\t\t\t\t\tif (this.observers.sidebar.id() !== 'content' && this.observers.sidebar.id() !== 'multi') {\n\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t}\n\t\t\t\t\tif (val.indexOf('content/after:') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[1]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Last import';\n\t\t\t\t\t\ticon = 'recent';\n\t\t\t\t\t} else if (val.indexOf('favorites') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[2]).addClass('selected');\n\t\t\t\t\t\tthis.observers.show_root_site_links(this.observers.form_site_link('favorites') !== false);\n\t\t\t\t\t\ttitle = 'Favorites';\n\t\t\t\t\t\ticon = 'faves';\n\t\t\t\t\t} else if (val.indexOf('content/featured') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[3]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Featured content';\n\t\t\t\t\t\ticon = 'featured';\n\t\t\t\t\t} else if (val.match(/content\\/\\d+,\\d/)) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[4]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Quick collection';\n\t\t\t\t\t\ticon = 'quick';\n\t\t\t\t\t\tthis.observers.is_collection(true);\n\t\t\t\t\t} else if (val.match(/content\\/(unlisted|privat)/)) {\n\t\t\t\t\t\tif (val.indexOf('/private') === -1) {\n\t\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t\t$(lis[5]).addClass('selected');\n\t\t\t\t\t\t\ttitle = 'Unlisted content';\n\t\t\t\t\t\t\ticon = 'unlisted';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t\t$(lis[6]).addClass('selected');\n\t\t\t\t\t\t\ttitle = 'Private content';\n\t\t\t\t\t\t\ticon = 'private';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (val.indexOf('content') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[0]).addClass('selected');\n\t\t\t\t\t\tthis.observers.show_root_site_links(this.observers.form_site_link('contents') !== false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.header.title(title);\n\t\t\tthis.observers.header.icon('label-' + icon);\n\t\t},\n\n\t\tget_asset_by_id: function(id) {\n\t\t\treturn this.observers.content()[ $('#content_list [data-id=\"' + id + '\"]').data('index') ];\n\t\t},\n\n\t\tfocal_draggable: function() {\n\n\t\t\tvar el = $('#focal_point'),\n\t\t\t\tself = this;\n\n\t\t\tel.draggable({\n\t\t\t\tcontainment: '#focal_point_wrapper',\n\t\t\t\tstart: function() {\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\t\t\t\t},\n\t\t\t\tstop: function() {\n\t\t\t\t\tvar l = parseInt(el.css('left'), 10) + 25,\n\t\t\t\t\t\tt = parseInt(el.css('top'), 10) + 25,\n\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\tx = Math.round((l / parent.width()) * 100),\n\t\t\t\t\t\ty = Math.round((t / parent.height()) * 100),\n\t\t\t\t\t\tn = self.notify().wait('Assigning focal point');\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'content/' + self.observers.sidebar.asset.id(),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'focal_point={\"x\":' + x + ',\"y\":' + y + '}',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.controllers.update_item(data);\n\t\t\t\t\t\t\tn.success('New focal point assigned');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_summary: function() {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'events/limit_to:content/content_column:published_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar years = [],\n\t\t\t\t\t\ty = false,\n\t\t\t\t\t\tm = [];\n\t\t\t\t\t$.each( data.events, function(i, date) {\n\t\t\t\t\t\tif (date.year != y) {\n\t\t\t\t\t\t\tif (y) {\n\t\t\t\t\t\t\t\tyears.push({ year: y, months: m });\n\t\t\t\t\t\t\t\tm = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ty = date.year;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm.push({ month: date.month, year: date.year });\n\t\t\t\t\t});\n\n\t\t\t\t\tif (m.length) {\n\t\t\t\t\t\tyears.push({ year: y, months: m });\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.years(years);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdate_item: function(data, rewrite_ui) {\n\t\t\trewrite_ui = rewrite_ui || false;\n\t\t\tvar li = $('#list_item_' + data.id),\n\t\t\t\tindex = li.data('index');\n\n\t\t\tif (data.uploaded_on instanceof Object === false) {\n\t\t\t\tvar ts = new Date(data.uploaded_on).getTime()/1000;\n\n\t\t\t\tdata.uploaded_on = {\n\t\t\t\t\tdatetime: ts,\n\t\t\t\t\ttimestamp: data.uploaded_on\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.captured_on instanceof Object === false) {\n\t\t\t\tvar ts = new Date(data.captured_on).getTime()/1000;\n\n\t\t\t\tdata.captured_on = {\n\t\t\t\t\tdatetime: ts,\n\t\t\t\t\ttimestamp: data.captured_on\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.content.splice(index, 1, data);\n\n\t\t\tif (rewrite_ui) {\n\t\t\t\tli.replaceWith( this.controllers.create_node(data, index) );\n\t\t\t\tthis.controllers.events_init();\n\t\t\t\tthis.controllers.lazy('#content_list');\n\t\t\t}\n\n\t\t\tif (this.observers.sidebar.asset.id && this.observers.sidebar.asset.id() == data.id && this.observers.selection().length <= 1) {\n\t\t\t\tthis.map(this.observers.sidebar.asset, data);\n\t\t\t\tif (this.observers.sidebar.id() === 'content' && rewrite_ui) {\n\t\t\t\t\tthis.views.asset_multi_view(data);\n\t\t\t\t}\n\n\t\t\t\t$('#container').trigger('selection.loaded', data);\n\t\t\t}\n\n\t\t\t$('body').fitVids();\n\n\t\t},\n\n\t\trewrite_hash: function(arr) {\n\n\t\t\tif (!$.isArray(arr)) {\n\t\t\t\tarr = [ arr ];\n\t\t\t}\n\n\t\t\tvar frag = $.param.fragment();\n\t\t\tif (frag.match(/^\\/library\\/?$/)) {\n\t\t\t\tfrag = '/library/content';\n\t\t\t}\n\n\t\t\t$.each(arr, function(i, obj) {\n\t\t\t\tvar replace = obj.replace || [ obj.name ];\n\n\t\t\t\tif ($.isArray(obj.val)) {\n\t\t\t\t\tobj.val = obj.val.join(',');\n\t\t\t\t}\n\n\t\t\t\t$.each( replace, function(i, str) {\n\t\t\t\t\tfrag = frag.replace(RegExp('\\/' + str + ':[^\\/]+'), '');\n\t\t\t\t});\n\n\t\t\t\tif (obj.name !== 'none' && obj.val) {\n\t\t\t\t\tfrag += '/' + obj.name + ':' + obj.val;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.bbq.pushState( frag, 2 );\n\t\t},\n\n\t\tmid_scroll_finish: function() {\n\t\t\tif (this.observers.passengers.next_page && !this.observers.is_loading) {\n\t\t\t\tthis.controllers.load_content();\n\t\t\t}\n\t\t},\n\n\t\tsave: function() {\n\n\t\t\tvar q\t= this.observers.passengers.queue,\n\t\t\t\tc\t= 0,\n\t\t\t\tnow = +new Date,\n\t\t\t\treq = [];\n\n\t\t\tfor (var i in q) {\n\n\t\t\t\tvar item = q[i];\n\n\t\t\t\t// Don't update until the item has been untouched for 3s\n\t\t\t\tif ((now - item.last) > 2000) {\n\n\t\t\t\t\tdelete(this.observers.passengers.queue[i]);\n\n\t\t\t\t\tthis.controllers._save(item);\n\t\t\t\t}\n\n\t\t\t\tc++;\n\n\t\t\t}\n\n\t\t\tif (c === 0) {\n\t\t\t\tclearInterval(this.observers.passengers.interval);\n\t\t\t}\n\t\t},\n\n\t\t_save: function(item, cb, context) {\n\n\t\t\tif (item.type === 'unlisted_albums' || item.type === 'private_albums' || item.type === 'albums_flat') {\n\t\t\t\titem.type = 'albums';\n\t\t\t}\n\n\t\t\tvar params = {\n\t\t\t\tcontext: context || this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (cb) {\n\t\t\t\t\t\tcb.apply(this, [ data ]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (Object.keys(item).length === 3 && (item.hasOwnProperty('featured') || item.hasOwnProperty('favorite'))) {\n\t\t\t\tparams.request = (item.hasOwnProperty('featured') ? item.type + '/featured' : 'favorites') + '/' + item.id;\n\t\t\t\tparams.method = ((item.featured && item.featured === 1) || (item.favorite && item.favorite === 1)) ? 'POST' : 'DELETE';\n\t\t\t} else {\n\t\t\t\tparams.request = item.type + '/' + item.id + (item.in_album ? '/context:' + item.in_album : '');\n\t\t\t\tparams.method = 'PUT';\n\t\t\t\tvar props = [];\n\n\t\t\t\tfor (var i in item) {\n\t\t\t\t\tif (i !== 'type' && i !== 'id' && i !== 'last' && item[i] !== null) {\n\t\t\t\t\t\tvar val = item[i]['raw'] || item[i]['timestamp'] || item[i];\n\t\t\t\t\t\tif (val === true) {\n\t\t\t\t\t\t\tval = 1;\n\t\t\t\t\t\t} else if (val === false) {\n\t\t\t\t\t\t\tval = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.push(i + '=' + encodeURIComponent(val));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tparams.data = props.join('&');\n\n\t\t\t\tif (item.type === 'content' && item.hasOwnProperty('title')) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tparams.finished = function(data) {\n\t\t\t\t\t\tself.controllers.update_item(data);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.sync(params);\n\n\t\t},\n\n\t\tupdate: function(type, data, o, in_album) {\n\n\t\t\tin_album = in_album || false;\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tself\t= this,\n\t\t\t\tupdated\t= [],\n\t\t\t\to\t\t= $.extend({ instant: false, updated: false, finished: false, sidebar: true}, o);\n\n\t\t\tif (!$.isArray(data)) {\n\t\t\t\tdata = [ data ];\n\t\t\t}\n\n\t\t\t$.each( data, function(index, item) {\n\n\t\t\t\titem.type = type;\n\t\t\t\tif (in_album) {\n\t\t\t\t\titem.in_album = in_album;\n\t\t\t\t}\n\n\t\t\t\tif (o.instant) {\n\t\t\t\t\tself.controllers._save(item, o.finished, o.context);\n\t\t\t\t} else {\n\t\t\t\t\tvar key = type + '-' + item.id;\n\n\t\t\t\t\titem.last = +new Date;\n\n\t\t\t\t\tif (ob.passengers.queue[key]) {\n\t\t\t\t\t\tob.passengers.queue[key] = $.extend(ob.passengers.queue[key], item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tob.passengers.queue[key] = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar el = $('#list_item_' + item.id),\n\t\t\t\t\td;\n\n\t\t\t\tif (type !== 'content' && item.title) {\n\t\t\t\t\t$('.lib-nav li[data-id=\"' + item.id + '\"]').find('span.replace-title:first').text(item.title);\n\t\t\t\t}\n\n\t\t\t\tif (el.length && el.hasClass(type.replace('s', ''))) {\n\t\t\t\t\tvar badges = [ 'featured', 'favorite' ];\n\t\t\t\t\td = $.extend({}, ob.content()[el.data('index')], item);\n\n\t\t\t\t\t$.each( badges, function(i, badge) {\n\t\t\t\t\t\tif (item.hasOwnProperty(badge)) {\n\t\t\t\t\t\t\tif (item[badge]) {\n\t\t\t\t\t\t\t\tel.addClass(badge);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (self.observers.api_url().match( RegExp('\\/' + badge + 's?:1\\/?') )) {\n\t\t\t\t\t\t\t\t\t$('#list_item_' + item.id).remove();\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tel.removeClass(badge);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw !== 'unlisted') {\n\t\t\t\t\t\tel.removeClass('unlisted');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw === 'unlisted') {\n\t\t\t\t\t\tel.addClass('unlisted');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw !== 'private') {\n\t\t\t\t\t\tel.removeClass('private');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw === 'private') {\n\t\t\t\t\t\tel.addClass('private');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type !== 'content' && item.title) {\n\t\t\t\t\t\tel.find('.ttle').text(item.title);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type !== 'content' && item.visibility && self.observers.api_url().indexOf('visibility:' + item.visibility.raw) !== -1) {\n\t\t\t\t\t\t$('#list_item_' + item.id).remove();\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is used to show notifications for multiple item edits since we dont update the sidebar\n\t\t\t\t\tvar selected\t= self.observers.multiedit.selected,\n\t\t\t\t\t\tmsg\t\t\t= '',\n\t\t\t\t\t\ttot\t\t\t= 0;\n\n\t\t\t\t\tif ( selected() <= 0 ) {\n\t\t\t\t\t\tselected( $('#content_list li.selected') );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( selected().length > 0 ) {\n\t\t\t\t\t\tselected( selected.splice(1) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( selected().length <= 0 ) {\n\n\t\t\t\t\t\ttot = $('#content_list li.selected').length;\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.tags ) {\n\t\t\t\t\t\t\tself.notify().success( 'Tag ' + self.observers.multiedit.changed.tags[0] + ' added to ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.maxdl ) {\n\t\t\t\t\t\t\tself.notify().success( 'Max download changed to ' + self.observers.multiedit.changed.maxdl + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.license ) {\n\t\t\t\t\t\t\tself.notify().success( 'License changed to ' + self.observers.multiedit.changed.license + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.visibility ) {\n\t\t\t\t\t\t\tself.notify().success( 'Visibility changed to ' + self.observers.multiedit.changed.visibility + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.multiedit.changed = {};\n\n\t\t\t\t\t}\n\t\t\t\t\tself.controllers.update_item(d);\n\t\t\t\t} else {\n\t\t\t\t\tif (type === 'albums') {\n\t\t\t\t\t\ttype = 'albums_flat';\n\t\t\t\t\t}\n\t\t\t\t\tvar obs = ob[type](),\n\t\t\t\t\t\tcopy = ko.utils.arrayFirst( obs, function(i) {\n\t\t\t\t\t\t\treturn item.id == i.id;\n\t\t\t\t\t\t});\n\t\t\t\t\td = $.extend({}, copy, item);\n\n\t\t\t\t\tif (self.observers.sidebar.id() === 'album' && type.indexOf('albums') !== -1 && item.id === self.observers.sidebar.asset.id()) {\n\t\t\t\t\t\tself.map(self.observers.sidebar.asset, d);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id === item.id) {\n\t\t\t\t\t\tvar a = $.extend({}, self.observers.properties.album.selected().album, d);\n\t\t\t\t\t\ta = $.extend({}, self.observers.properties.album.selected(), {album: a});\n\t\t\t\t\t\tself.observers.properties.album.selected(a);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdated.push(d);\n\n\t\t\t});\n\n\t\t\tclearInterval(ob.passengers.interval);\n\t\t\tob.passengers.interval = window.setInterval(function() { self.controllers.save.call(self); }, 1000);\n\n\t\t\tif (o.updated) {\n\t\t\t\to.updated.apply(self, [ updated ]);\n\t\t\t}\n\n\t\t\tif (this.observers.selection().length > 1 && (data[0].categories || data[0].tags)) {\n\t\t\t\tthis.observers.selection.valueHasMutated();\n\t\t\t}\n\n\t\t},\n\n\t\tevents_init: function() {\n\n\t\t\tthis.interfaces.app.controllers.upload.cleanup();\n\n\t\t\tif (this.observers.is_uploadable()) {\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tvar buildUploader = function() {\n\t\t\t\t\tvar uploader;\n\n\t\t\t\t\tuploader = self.classes.channel.library.uploader = $.extend(self.config.uploader, {}, true);\n\n\t\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\n\t\t\t\t\tuploader.properties.browse_button\t= 'mid-content';\n\t\t\t\t\tuploader.properties.drop_element\t= 'mid-content';\n\t\t\t\t\tuploader.properties.url\t\t\t\t= self.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\t\tuploader.instance.context\t\t\t= self;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\t\tuploader.instance.bind('PostInit', function( up, params ) {\n\n\t\t\t\t\t\tup.disableBrowse(true);\n\n\t\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\tuploader.instance.bind('QueueChanged', function( up, e ) {\n\t\t\t\t\t\tif (up.files && up.files.length > 0 && !self.classes.channel.library.isUploading) {\n\t\t\t\t\t\t\tself.controllers.upload.init.call(self, uploader);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn uploader;\n\t\t\t\t}\n\n\t\t\t\tif (this.classes.channel.library.uploader) this.classes.channel.library.uploader.instance.refresh();\n\n\t\t\t\tif (!self.classes.channel.library.uploaderIsBeingInitialized) {\n\t\t\t\t\tself.classes.channel.library.uploaderIsBeingInitialized = true;\n\t\t\t\t\tbuildUploader().instance.init();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Event initialization only\n\t\t\tthis.events.album_draggable.call(this);\n\t\t\tthis.events.cover_draggable.call(this);\n\t\t\tthis.events.cover_droppable.call(this);\n\t\t\tthis.events.root_droppable.call(this);\n\t\t\tthis.events.album_droppable.call(this);\n\t\t\tthis.events.album_set_droppable.call(this);\n\t\t\tthis.events.trash_droppable.call(this);\n\t\t\tthis.events.side_droppable.call(this);\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tself\t= this;\n\n\t\t\t$('#search_form input').autocomplete({\n\t\t\t\tselect: function(event, ui) {\n\t\t\t\t\tself.observers.search(ui.item.label);\n\t\t\t\t},\n\t\t\t\tsource: function(req, cb) {\n\t\t\t\t\tvar term = req.term;\n\t\t\t\t\tvar matches = [];\n\t\t\t\t\tswitch( ob.search_filter() ) {\n\t\t\t\t\t\tcase 'tags':\n\t\t\t\t\t\t\t$.each(ob.tags(), function(i, t) {\n\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'filename':\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'content/search:' + term + '/search_filter:filename/limit:10',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t$.each(data.content, function(i,c) {\n\t\t\t\t\t\t\t\t\t\tmatches.push(c.filename);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t$.each(ob.categories(), function(i, t) {\n\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tappendTo: '#search_form'\n\t\t\t}).off('.asearch').on('keydown.asearch', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\tself.observers.search($(e.target).val());\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tcreate_node: function(content, index) {\n\t\t\tvar str,\n\t\t\t\tklass = [],\n\t\t\t\talbum\t= this.observers.properties.album.selected().album,\n\t\t\t\tcover_ids = [];\n\n\t\t\tif (album && album.id) {\n\t\t\t\tcover_ids = album.covers.map(function(img) {\n\t\t\t\t\treturn img.id;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (content.featured) {\n\t\t\t\tklass.push('featured');\n\t\t\t}\n\n\t\t\tif ($.inArray(content.id, this.observers.selection()) !== -1) {\n\t\t\t\tklass.push('selected');\n\t\t\t}\n\n\t\t\tif (content.album_type) {\n\n\t\t\t\tif (content.visibility && content.visibility.raw !== 'public') {\n\t\t\t\t\tklass.push(content.visibility.raw);\n\t\t\t\t}\n\n\t\t\t\tvar ttl = (content.title !== null) ? content.title : '',\n\t\t\t\t\tpublished = (content.published_on ? this.observers.format_date( content.published_on.timestamp, 'MMM D YYYY' ) : ''),\n\t\t\t\t\tmodified = this.observers.format_date( content.modified_on.timestamp, 'MMM D YYYY' ),\n\t\t\t\t\tcreated = this.observers.format_date( content.created_on.timestamp, 'MMM D YYYY' ),\n\n\t\t\t\tstr = '<li id=\"list_item_' + content.id + '\" class=\"album ' + klass.join(' ') + '\" data-id=\"' + content.id + '\" data-index=\"' + index + '\">\\\n\t\t\t\t\t<a class=\"album-stack\" href=\"#\" title=\"' + content.title + '\">\\\n\t\t\t\t\t\t<span class=\"stack stack1\">\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 1 ? content.covers[1].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" style=\"opacity:0.8 !important;\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"stack stack2\">\\\n\t\t\t\t\t\t\t<span class=\"badge-count\">' + content.counts.total + '</span>\\\n\t\t\t\t\t\t\t<span data-event=\"badges\" class=\"img-badges\">\\\n\t\t\t\t\t\t\t\t<span class=\"badge featured\"></span>\\\n\t\t\t\t\t\t\t\t<span class=\"badge unlisted\"></span>\\\n\t\t\t\t\t\t\t\t<span class=\"badge private\"></span>\\\n\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 0 ? content.covers[0].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"stack stack3\">\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 2 ? content.covers[2].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" style=\"opacity:0.8 !important;\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</a>\\\n\t\t\t\t\t<span class=\"count\">' + (index + 1) + '</span>\\\n\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t<span class=\"title created_on\">' + created + '</span>\\\n\t\t\t\t</li>';\n\t\t\t} else {\n\n\t\t\t\tvar w = content.presets ? Math.min(content.presets.small.width, 100) : 70,\n\t\t\t\t\th = content.presets ? Math.min(content.presets.small.height, 100) : 70,\n\t\t\t\t\thr = Math.min(h/w, 1).toFixed(2),\n\t\t\t\t\twr = Math.min(w/h, 1).toFixed(2),\n\t\t\t\t\tstyle = 'style=\"width: calc(100% * ' + wr + '); min-height: calc(100% * ' + hr + ');\"';\n\n\t\t\t\tif (content.favorite) {\n\t\t\t\t\tklass.push('favorite');\n\t\t\t\t}\n\n\t\t\t\tif (content.visibility.raw === 'unlisted') {\n\t\t\t\t\tklass.push('unlisted');\n\t\t\t\t} else if (content.visibility.raw === 'private') {\n\t\t\t\t\tklass.push('private');\n\t\t\t\t}\n\n\t\t\t\tif (cover_ids.length) {\n\t\t\t\t\tvar v = $.inArray(content.id, cover_ids);\n\t\t\t\t\tif (v === 0) {\n\t\t\t\t\t\tklass.push('cover-top');\n\t\t\t\t\t} else if (v > 0) {\n\t\t\t\t\t\tklass.push('cover');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar ttl = content.title.length ? content.title : content.filename,\n\t\t\t\t\tpublished = (content.published_on ? this.observers.format_date( content.published_on.timestamp, 'MMM D YYYY' ) : ''),\n\t\t\t\t\tuploaded = this.observers.format_date( content.uploaded_on.timestamp, 'MMM D YYYY' ),\n\t\t\t\t\tcaptured = this.observers.format_date( content.captured_on.timestamp, 'MMM D YYYY', content.captured_on.timestamp.utc );\n\t\t\t\t\tmodified = this.observers.format_date( content.modified_on.timestamp, 'MMM D YYYY' ),\n\n\t\t\t\tstr = '<li data-id=\"' + content.id + '\" id=\"list_item_' + content.id + '\" class=\"content ' + klass.join(' ') + '\" data-index=\"' + index + '\" data-which=\"thumbnail\"> \\\n\t\t\t\t\t<span class=\"grid-data\">\\\n\t\t\t\t\t\t<span class=\"content\">\\\n\t\t\t\t\t\t\t<span ' + style + ' class=\"img-wrap\">\\\n\t\t\t\t\t\t\t\t' + ((content.duration && content.duration.clean) ? '<span class=\"vid_time\">' + content.duration.clean + '</span>' : '') + '\\\n\t\t\t\t\t\t\t\t<span data-event=\"badges\" class=\"img-badges\">\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge fave\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge featured\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge unlisted\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge private\"></span>\\\n\t\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t\t<img class=\"media\" data-url=\"' + content.presets.medium[this.config.retina ? 'hidpi_url' : 'url'] + '\" />\\\n\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"count\">' + (index + 1) + '</span>\\\n\t\t\t\t\t\t<span class=\"title filename\">' + content.filename + '</span>\\\n\t\t\t\t\t\t<span class=\"title visibility\">' + content.visibility.clean + '</span>\\\n\t\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t\t<span class=\"title uploaded_on\">' + uploaded + '</span>\\\n\t\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t\t<span class=\"title captured_on\">' + captured + '</span>\\\n\t\t\t\t\t\t<span class=\"title dimension\">' + content.width + ' x ' + content.height + '</span>\\\n\t\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t\t<span class=\"title aspect_ratio\">' + content.aspect_ratio + '</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell tn\">\\\n\t\t\t\t\t\t<span class=\"tn-wrap\"><img class=\"media\" /></span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell fn\">' + ( ttl.length ? ttl + '<br>' : '' ) + content.filename + '</span>\\\n\t\t\t\t\t<span class=\"list-cell\">\\\n\t\t\t\t\t\t<span class=\"title visibility\">' + content.visibility.clean + '</span>\\\n\t\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t\t<span class=\"title uploaded_on\">' + uploaded + '</span>\\\n\t\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t\t<span class=\"title captured_on\">' + captured + '</span>\\\n\t\t\t\t\t\t<span class=\"title dimension\">' + content.width + ' x ' + content.height + '</span>\\\n\t\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t\t<span class=\"title aspect_ratio\">' + content.aspect_ratio + '</span>\\\n\t\t\t\t\t\t<span class=\"title cnt\">' + (index + 1) + '</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell vis\">' + content.visibility.clean + '</span>\\\n\t\t\t\t</li>';\n\n\t\t\t}\n\n\t\t\treturn str;\n\t\t},\n\n\t\tload_content: function(obj, restart) {\n\n\t\t\trestart = restart || false;\n\t\t\tobj = obj || { load_until: false, cb: false };\n\t\t\tthis.observers.is_loading = true;\n\n\t\t\tvar url\t\t\t\t\t= this.observers.api_url() + '/limit:50',\n\t\t\t\ttimer\t\t\t\t= +new Date(),\n\t\t\t\tloaded_from_cache\t= false;\n\n\t\t\tif (this.observers.passengers.next_page && !restart) {\n\n\t\t\t\tvar start = (this.observers.passengers.next_page*50) - 50,\n\t\t\t\t\tend = Math.min(start+50, this.observers.properties.overall.total());\n\n\t\t\t\t$('#scroll-tick p:last').text(start + ' - ' + end);\n\t\t\t\t$('#scroll-tick p:first').text('Loading');\n\t\t\t\t$('#scroll-tick').addClass('loading');\n\t\t\t\t$('#scroll-tick').css({\n\t\t\t\t\tmarginLeft: '-' + ( $('#scroll-tick').width() / 2 ) + 'px'\n\t\t\t\t});\n\n\t\t\t\turl += '/page:' + this.observers.passengers.next_page;\n\n\t\t\t}\n\n\t\t\tthis.observers.loadstamp = timer;\n\n\t\t\tif ( this.config.cache && this.internalcache[url] ) {\n\n\t\t\t\tvar parts = url.split('/'),\n\t\t\t\t\tval;\n\n\t\t\t\t$.each( this.internalcache, function(k,v) {\n\n\t\t\t\t\tvar _parts = k.split('/');\n\n\t\t\t\t\tif ( parts[0] === _parts[0] && parts[1] === _parts[1] ) {\n\t\t\t\t\t\tval = v;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\t$('#content_list').hide().html(val.src).show();\n\t\t\t\t$('#content_list').closest('.scroll_wrapper').scrollTop(val.scroll);\n\n\t\t\t\tloaded_from_cache = true;\n\n\t\t\t}\n\n\t\t\tthis.cache(url);\n\n\t\t\t// This prevents loading spinners when the user has no content uploaded.\n\t\t\tif (!this.observers.properties.hasUploadedContent) {\n\t\t\t\tthis.observers.loading(false);\n\t\t\t} else if (!this.observers.passengers.next_page || restart) {\n\t\t\t\tthis.observers.loading(true);\n\t\t\t}\n\n\t\t\tif (this.classes.channel.library.firstLoad) {\n\t\t\t\tthis.classes.channel.library.firstLoad = false;\n\t\t\t\tthis.observers.loading(true);\n\t\t\t}\n\n\t\t\tthis.sync({ context: this, request: [\n\t\t\t\t{\n\t\t\t\trequest: url,\n\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif ( data.total > 0 ) {\n\t\t\t\t\t\tthis.observers.properties.hasUploadedContent = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If it errors for any reason, jump back to the default view\n\t\t\t\t\tif ( data.error ) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.firstTime(false);\n\n\t\t\t\t\tif (timer !== this.observers.loadstamp) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar xhr_queue\t= [],\n\t\t\t\t\t\tpages\t\t= data.pages,\n\t\t\t\t\t\t_data\t\t= [],\n\t\t\t\t\t\tself\t\t= this,\n\t\t\t\t\t\ti,\n\n\t\t\t\t\tdone = function(d, first, page) {\n\n\t\t\t\t\t\tif (data.trash) {\n\t\t\t\t\t\t\td = d.map( function(item) {\n\t\t\t\t\t\t\t\treturn item.data;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar fragment = [];\n\n\t\t\t\t\t\t$.each( d, function(i, content) {\n\t\t\t\t\t\t\tnew self.klass.asset(content);\n\t\t\t\t\t\t\tfragment.push( self.controllers.create_node( content, i + (page - 1)*50 ) );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (first) {\n\t\t\t\t\t\t\tself.observers.properties.overall.total(data.total);\n\t\t\t\t\t\t\tif (data.counts) {\n\t\t\t\t\t\t\t\t$.each(data.counts, function(n, c) {\n\t\t\t\t\t\t\t\t\tself.observers.properties.overall.counts[n](c);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.content(d);\n\n\t\t\t\t\t\t\tif ( !self.config.cache || !loaded_from_cache ) {\n\t\t\t\t\t\t\t\t$('#content_list').html(fragment.join(''));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\t\tvar ids = $.map( d, function(c) {\n\t\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\t\tif (self.observers.passengers.next_page) {\n\t\t\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tobj.load_until = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.classes.scrollbar.mid_multi.reset();\n\t\t\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t\t\t\tself.views.album_fan();\n\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.call(self, d); }\n\n\t\t\t\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\t\t\t\tif (d[0].album_type) {\n\t\t\t\t\t\t\t\t\tself.observers.view('grid');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: (self.observers.selection().length > 0) ? self.observers.selection() : [d[0]] });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.content( self.observers.content().concat( d ) );\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\t\t\tif ( !self.config.cache || !loaded_from_cache ) {\n\t\t\t\t\t\t\t\t\t$('#content_list').append(fragment.join(''));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\t\t\tvar ids = $.map( d, function(c) {\n\t\t\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\t\t\tif (self.observers.passengers.next_page) {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t\t\t\t\tself.views.album_fan();\n\t\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.call(self, d); }\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif (data.page === 1) {\n\n\t\t\t\t\t\tif (data.album) {\n\t\t\t\t\t\t\tthis.observers.properties.album.selected(data);\n\n\t\t\t\t\t\t\tthis.observers.order_by(data.album.sort.by);\n\t\t\t\t\t\t\tthis.observers.order_direction(data.album.sort.direction);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.properties.album.selected({});\n\n\t\t\t\t\t\t\tif (data.sort) {\n\t\t\t\t\t\t\t\tthis.observers.order_by(data.sort.by);\n\t\t\t\t\t\t\t\tthis.observers.order_direction(data.sort.direction);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.observers.search().length || url.match(/search:[^\\/]/)) {\n\t\t\t\t\t\t\t$('#multi-search-head').show();\n\t\t\t\t\t\t\tthis.observers.sidebar.id('search');\n\t\t\t\t\t\t\tthis.observers.header.title('Search');\n\t\t\t\t\t\t\tthis.observers.header.icon('label-search');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#multi-search-head').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.total === 0) {\n\n\t\t\t\t\t\t\t$.each(self.observers.properties.overall.counts, function(n) {\n\t\t\t\t\t\t\t\tself.observers.properties.overall.counts[n](0);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.observers.properties.overall.total(0);\n\n\t\t\t\t\t\t\tthis.observers.content( [] );\n\n\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.apply(self); }\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdone(data.content || data.albums || data.trash, true, data.page);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdone(data.content || data.albums || data.trash, false, data.page);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.pages > 1 && data.pages != data.page) {\n\t\t\t\t\t\tthis.observers.passengers.next_page = data.page + 1;\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tif (self.observers.view() !== 'single' && $('#content_list li:last-child').offset().top < $(window).height()) {\n\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.passengers.next_page = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.is_loading = false;\n\n\t\t\t\t}\n\n\t\t\t}]});\n\t\t}\n\n\t},\n\n\tviews: {\n\n\t\talbum_fan: function() {\n\n\t\t\tvar stacks\t= $('#content_list a.album-stack'),\n\t\t\t\tindex\t= 0,\n\t\t\t\tloaded\t= 0,\n\t\t\t\ttotal\t= 0,\n\t\t\t\tself\t= this,\n\n\n\t\t\tfinish = function(li) {\n\t\t\t\tli.addClass('loaded');\n\n\t\t\t\tvar a = self.observers.content()[index];\n\t\t\t\tif (a) a.loaded = true;\n\n\t\t\t\tloaded = 0;\n\t\t\t\tindex++;\n\t\t\t\tload();\n\t\t\t},\n\n\t\t\tload = function() {\n\t\t\t\tvar imgs\t= stacks.eq(index).find('img');\n\t\t\t\t\ttotal\t= imgs.length;\n\n\t\t\t\timgs.bind( 'load', function() {\n\t\t\t\t\t$(this).fadeIn();\n\t\t\t\t\tloaded++;\n\t\t\t\t\tif (loaded === total) {\n\t\t\t\t\t\tfinish($(this).parents('li'));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\timgs.each(function(i, img) {\n\t\t\t\t\t$(img).attr('src', $(img).data('src'));\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tload();\n\t\t},\n\n\t\topen_sidebar_drawer: function(el) {\n\n\t\t\tvar head\t= el.closest('#content_sidebar_info_container').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra'),\n\t\t\t\tlabel\t= '',\n\t\t\t\tself\t= this;\n\n\t\t\tthis.observers.drawerOpen = el;\n\n\t\t\tswitch( this.observers.drawer.id() ) {\n\t\t\t\tcase 'iptc_edit':\n\t\t\t\t\tlabel = 'IPTC';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'exif_edit':\n\t\t\t\t\tlabel = 'EXIF';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'license_edit':\n\t\t\t\t\tlabel = 'Edit license';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'maxdl_edit':\n\t\t\t\t\tlabel = 'Edit max download size';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'site_link_edit':\n\t\t\t\t\tlabel = 'Edit site link';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'captured_uploaded_edit':\n\t\t\t\t\tlabel = 'Edit date captured';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multi_history':\n\t\t\t\t\tvar _type = el.closest('.col-row').data('type');\n\t\t\t\t\tthis.observers.multiHistory.drawer(_type);\n\t\t\t\t\tif (_type === 'published_on') {\n\t\t\t\t\t\tlabel = 'Edit date published';\n\t\t\t\t\t} else if (_type === 'uploaded_on') {\n\t\t\t\t\t\tlabel = 'Edit date uploaded';\n\t\t\t\t\t} else if (_type === 'captured_on') {\n\t\t\t\t\t\tlabel = 'Edit date captured';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'history_published_edit':\n\t\t\t\t\tlabel = 'Edit date published';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'history_uploaded_edit':\n\t\t\t\t\tlabel = ( this.observers.sidebar.id() === 'content' ) ? 'Edit date uploaded' : 'Edit date created';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'visibility_edit':\n\t\t\t\t\tlabel = 'Edit visibility';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'album_visibility_edit':\n\t\t\t\t\tlabel = 'Edit album visibility';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tags_edit':\n\t\t\t\t\tlabel = 'Edit tags';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'category_edit':\n\t\t\t\t\tlabel = 'Edit category';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (this.observers.drawer.id() === 'history_published_edit') {\n\t\t\t\t$('#right-col-data [name=\"pub_on\"]').on('click', function() {\n\t\t\t\t\tself.observers.singleHistory.type($(this).val());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.observers.drawer.id() === 'history_published_edit') {\n\t\t\t\tif (this.observers.singleHistory.type() === 'assign') {\n\t\t\t\t\t$('#date_pub_single').prop('checked', false);\n\t\t\t\t\t$('#date_new_single').prop('checked', true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.observers.multiHistory.drawer() === 'published_on' || this.observers.multiHistory.drawer() === 'captured_on' || this.observers.multiHistory.drawer() === 'uploaded_on') {\n\t\t\t\tif (this.observers.multiHistory.type() === 'assign') {\n\t\t\t\t\t$('#date_new').prop('checked', true);\n\t\t\t\t\t$('#date_shift').prop('checked', false);\n\t\t\t\t\t$('#date_pub').prop('checked', false);\n\t\t\t\t}\n\t\t\t\t$('#right-col-data [name=\"multi_history\"]').on('click', function() {\n\t\t\t\t\tself.observers.multiHistory.type($(this).val());\n\t\t\t\t});\n\t\t\t\t$('#right-col-data input[type=\"number\"]').on('change', function() {\n\t\t\t\t\tself.observers.multiHistory.date[$(this).data('type')]($(this).val());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( this.observers.drawer.id() === 'category_edit' ) {\n\n\t\t\t\tthis.pubsub( 'category.save', function(e,data) {\n\n\t\t\t\t\tvar ids = (self.observers.selection().length > 0) ? self.observers.selection() : [self.observers.sidebar.asset],\n\t\t\t\t\t\tidsToSend = [],\n\t\t\t\t\t\tcatsToAdd = [],\n\t\t\t\t\t\tcatsToDelete = [],\n\t\t\t\t\t\tasset_type;\n\n\t\t\t\t\tids.forEach(function(item) {\n\t\t\t\t\t\tidsToSend.push((item.id) ? item.id() : item);\n\t\t\t\t\t\tasset_type = (this.observers.sidebar.id() === 'album' || $( '#list_item_' + idsToSend[idsToSend.length - 1]).find('.album-stack').length > 0 ) ? 'albums' : 'content';\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t$('div#category_edit_drawer').find('input:checked').each(function(idx, item) {\n\t\t\t\t\t\t// For some reason, dupes can get into this and can cause problems with deletes\n\t\t\t\t\t\tif ($(item).is(':visible')) {\n\t\t\t\t\t\t\tcatsToAdd.push(parseInt($(item).closest('div[data-id]').data('id'), 10));\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t$('div#category_edit_drawer').find('input:checkbox').each(function() {\n\t\t\t\t\t\tif ($(this).prop('indeterminate') == false && $(this).prop('checked') == false) catsToDelete.push(parseInt($(this).attr('id').replace('content_category_',''), 10));\n\t\t\t\t\t});\n\n\t\t\t\t\tif (catsToDelete.length) {\n\t\t\t\t\t\tself.observers.selection_categories('Loading...');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'categories/' + catsToDelete.join(',') + '/' + asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tif (!catsToAdd.length) this.observers.get_selected_asset_categories(ids);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (catsToAdd.length) {\n\t\t\t\t\t\tself.observers.selection_categories('Loading...');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'categories/' + catsToAdd.join(',') + '/' + asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tthis.observers.get_selected_asset_categories(ids);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.views.close_sidebar_drawer();\n\n\t\t\t\t});\n\n\t\t\t\tif (this.observers.sidebar.asset.categories) {\n\t\t\t\t\t// Reset all the checkboxes\n\t\t\t\t\t$('#right-col-xtra').find('.col-row input').prop('checked',false);\n\n\t\t\t\t\t// Loop through and activate necessary checkboxes\n\t\t\t\t\tif ($.isArray(this.observers.selection_categories())) {\n\t\t\t\t\t\tthis.observers.categories().forEach(function(allCategory) {\n\t\t\t\t\t\t\tthis.observers.selection_categories().forEach(function(selectedCategory) {\n\t\t\t\t\t\t\t\tif ((typeof selectedCategory == 'object' ? selectedCategory.id : selectedCategory) == allCategory.id ) $('#right-col-xtra').find('.col-row[data-id=\"' + allCategory.id + '\"] input').attr('checked', 'checked');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.observers.drawer.id() === 'tags_edit' ) {\n\n\t\t\t\tthis.classes.autocomplete.library.tags($('#enterTagsInput input'), '#enterTagsInput', $('#tags_edit_drawer').find('button.create-tag'));\n\n\t\t\t\tthis.pubsub( 'tags.delete', function(e, data) {\n\t\t\t\t\tvar\tasset_type = self.observers.sidebar.id() === 'album' ? 'albums' : 'content';\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: asset_type + '/' + self.observers.sidebar.asset.id(),\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(updatedData) {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.tags(updatedData.tags);\n\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\titem.tags = $.grep(item.tags, function(tag) {\n\t\t\t\t\t\t\t\t\treturn tag.id !== data.id;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub( 'tags.save', function(e, data) {\n\n\t\t\t\t\tvar ids = (self.observers.selection().length) ? self.observers.selection() : [self.observers.sidebar.asset],\n\t\t\t\t\t\tidsToSend = [],\n\t\t\t\t\t\ttagsToAdd = [];\n\n\t\t\t\t\tids.forEach(function(item) {\n\t\t\t\t\t\tidsToSend.push((item.id) ? item.id() : item);\n\t\t\t\t\t\tasset_type = (this.observers.sidebar.id() === 'album' || $( '#list_item_' + idsToSend[idsToSend.length - 1]).find('.album-stack').length > 0 ) ? 'albums' : 'content';\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'tags=' + data.data,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.tags(data.tags);\n\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\tif (item.id == data.id) item.tags = data.tags;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\tvar hasBeenEdited = false;\n\t\t\t\t$('div#tags_edit_drawer').on('click', 'input:checkbox', function(e) {\n\t\t\t\t\thasBeenEdited = true;\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub('tags.multisave', function(e, data) {\n\t\t\t\t\tif (self.observers.selection().length > 1) {\n\t\t\t\t\t\tif (data && data.type === 'create') {\n\t\t\t\t\t\t\t$.each(data.data.split(','), function(i, tag) {\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags.push({title: tag});\n\t\t\t\t\t\t\t\t$('#tags_edit_drawer label:contains(' + tag + ')').parent().find('input').prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\thasBeenEdited = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!hasBeenEdited) return;\n\t\t\t\t\t\t\thasBeenEdited = false;\n\n\t\t\t\t\t\t\tvar toBeAdded = [],\n\t\t\t\t\t\t\t\ttoBeRemoved = [],\n\t\t\t\t\t\t\t\ttoBeDetermined = [],\n\t\t\t\t\t\t\t\ttagsCommonAcrossAll = [];\n\n\t\t\t\t\t\t\t$('div#tags_edit_drawer').find('input:checkbox').each(function() {\n\t\t\t\t\t\t\t\tif ( $(this).prop('indeterminate') == false && $(this).prop('checked') == false ) {\n\t\t\t\t\t\t\t\t\ttoBeRemoved.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t} else if ( $(this).prop('indeterminate') == false && $(this).prop('checked') == true ) {\n\t\t\t\t\t\t\t\t\ttoBeAdded.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoBeDetermined.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\ttoBeAdded.forEach(function(tag) {\n\t\t\t\t\t\t\t\ttagsCommonAcrossAll.push({title: tag});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (toBeRemoved.length) {\n\t\t\t\t\t\t\t\tvar sidebarTags = [];\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags().forEach(function(tag) {\n\t\t\t\t\t\t\t\t\tif (toBeRemoved.indexOf(tag.title) === -1) sidebarTags.push(tag);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags(sidebarTags);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar note = this.notify().wait('Updating tags');\n\n\t\t\t\t\t\t\t$.each(self.observers.selection(), function(i, asset) {\n\n\t\t\t\t\t\t\t\tvar item = self.controllers.get_asset_by_id(asset),\n\t\t\t\t\t\t\t\t\tdataType = (self.observers.sidebar.id() === 'album' || $('#content_list li.album').length) ? 'albums' : 'content',\n\t\t\t\t\t\t\t\t\ttoBeAddedClone = toBeAdded.slice();\n\n\t\t\t\t\t\t\t\t// Add back indeterminate tags to the toBeAdded tags array\n\t\t\t\t\t\t\t\titem.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\t\tif (toBeDetermined.indexOf(tag.title) !== -1) toBeAddedClone.push(tag.title);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\trequest: dataType + '/' + item.id,\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\tdata: 'tags=' + self.helpers.unique(toBeAddedClone).join(','),\n\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.id == data.id) {\n\t\t\t\t\t\t\t\t\t\t\t\titem.tags = data.tags;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (!data.tags.length) self.observers.selectionHasTags(false);\n\t\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\t\tnote.success('Tags updated for ' + self.observers.selection().length + ' items');\n\t\t\t\t\t\t\t\t\t\t\tdelete note;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.observers.tagsCommonAcrossAll(tagsCommonAcrossAll);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tsidebar.find('.col-top-panel:first h5').text(label).closest('.col-top-panel').css('zIndex','1');\n\n\t\t\tthis.observers.drawer.state('open');\n\n\t\t\tif (this.observers.drawer.id() === 'site_link_edit') {\n\t\t\t\tvar input = $('[data-submit=\"site_link\"]').find('input[type=\"text\"]'),\n\t\t\t\t\thidden = $('[data-submit=\"site_link\"]').find('input[type=\"hidden\"]');\n\n\t\t\t\tinput.val(hidden.val());\n\n\t\t\t\tinput.off('keyup.slug').on('keyup.slug', function(e) {\n\n\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t$(this).parents('[data-submit]').find('button').trigger('click');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t    var start = this.selectionStart,\n\t\t\t\t    \tend = this.selectionEnd;\n\n\t\t\t\t\tinput.val(input.val().toLowerCase().replace(/\\s/g, '-'));\n\n\t\t\t\t\tthis.setSelectionRange(start, end);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$(window).trigger('resize');\n\n\t\t\tsidebar.show().animate({\n\t\t\t\tright: '0px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tif (self.observers.drawer.id() === 'tags_edit') {\n\t\t\t\t\t\t$('#tags_edit_drawer input[placeholder=\"Enter tags\"]').focus();\n\t\t\t\t\t}\n\t\t\t\t\tif (self.observers.drawer.id() === 'category_edit') {\n\t\t\t\t\t\t$('#category_edit_drawer input[placeholder=\"Enter categories\"]').focus();\n\t\t\t\t\t}\n\n\t\t\t\t\t$('[data-submit=\"site_link\"] input[type=\"text\"]').focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('input.field').off('.drawer_e').on('keydown.drawer_e', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ($(e.target).val() !== '' && !$(e.target).hasClass('autocompleting')) {\n\t\t\t\t\t\t$(e.target).parent().next().find('button').length && $(e.target).parent().next().find('button').trigger('click');\n\t\t\t\t\t\t$(e.target).parent().next().find('button').length && $(e.target).val('').focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tclose_sidebar_drawer: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.observers.drawer.state('closed');\n\n\t\t\t$('#right-col-xtra').animate({\n\t\t\t\tright: '-250px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tself.observers.multiHistory.reset();\n\t\t\t\t\tself.observers.singleHistory.reset();\n\t\t\t\t\t$(this).height(1).hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tasset_multi_view: function(asset) {\n\n\t\t\tthis.observers.sidebar.id('content');\n\n\t\t\tvar sel\t\t= $('#lib-content-sel'),\n\t\t\t\timg\t\t= sel.find('img'),\n\t\t\t\tself\t= this,\n\t\t\t\tw, h, path;\n\n\t\t\tif (asset.html) {\n\t\t\t\timg.hide();\n\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\tsel.fitVids();\n\t\t\t\tsel.css('height', sel.find('div').height());\n\n\t\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\t\tthis.views.asset_single_view();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.observers.sidebar.last.id === asset.id &&\n\t\t\t\tthis.observers.sidebar.last.modified === asset.modified_on.timestamp)\n\t\t\t{\n\t\t\t\tsel.height(this.observers.sidebar.last.height);\n\t\t\t\tthis.views.asset_single_view()\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( asset.visibility.raw === 'private' ) {\n\t\t\t\t$('#mid-menu-top [data-menu=\"share_dropdown_menu\"]').addClass('disabled');\n\t\t\t} else {\n\t\t\t\t$('#mid-menu-top [data-menu=\"share_dropdown_menu\"]').removeClass('disabled');\n\t\t\t}\n\n\t\t\tif (asset.file_type === 'image') {\n\n\t\t\t\tif ( asset.aspect_ratio > (219/165) ) {\n\t\t\t\t\tw = 219;\n\t\t\t\t\th = Math.round( 219 / asset.aspect_ratio );\n\t\t\t\t} else {\n\t\t\t\t\tw = Math.round( 165 * asset.aspect_ratio );\n\t\t\t\t\th = 165;\n\t\t\t\t}\n\n\t\t\t\tpath = asset.presets.medium[this.config.retina ? 'hidpi_url' : 'url'];\n\n\t\t\t} else {\n\n\t\t\t\tw = 219;\n\t\t\t\th = 165;\n\t\t\t\tpath = asset.original.url;\n\n\t\t\t}\n\n\t\t\tsel.addClass('loading');\n\n\t\t\tif ( this.observers.sidebar.last.id ) {\n\t\t\t\tsel.height(this.observers.sidebar.last.height);\n\t\t\t} else {\n\t\t\t\tsel.height(h);\n\t\t\t}\n\n\t\t\tif (asset.file_type === 'image') {\n\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\timg.show();\n\t\t\t\tif (path !== img.attr('src')) {\n\n\t\t\t\t\timg.attr( 'width', w )\n\t\t\t\t\t\t.attr( 'height', h )\n\t\t\t\t\t\t.css({ opacity: 0 })\n\t\t\t\t\t\t.unbind('load')\n\t\t\t\t\t\t.bind( 'load', function() {\n\t\t\t\t\t\t\tsel.stop().animate({\n\t\t\t\t\t\t\t\theight: $(this).height() + 'px'\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tduration: 300,\n\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\tsel.removeClass('loading');\n\t\t\t\t\t\t\t\t\timg.animate({ opacity: 1 }, 300);\n\t\t\t\t\t\t\t\t\t$(window).trigger('library.resize');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr( 'src', path );\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\timg.hide();\n\n\t\t\t\tif (sel.find('video') && sel.find('video').attr('src') !== path) {\n\n\t\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\t\tvar vid = $('<video/>')\n\t\t\t\t\t\t\t\t.attr('width', w)\n\t\t\t\t\t\t\t\t.attr('height', h)\n\t\t\t\t\t\t\t\t.attr('src', path);\n\n\t\t\t\t\tvid.appendTo(sel);\n\n\t\t\t\t\tsel.removeClass('loading');\n\t\t\t\t\tsel.animate({\n\t\t\t\t\t\theight: h +'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tsel.stop().animate({\n\t\t\t\t\t\theight: h + 'px'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tduration: 300,\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$(window).trigger('library.resize');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tvid.mediaelementplayer({\n\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\tvideoWidth: w,\n\t\t\t\t\t\tvideoHeight: h,\n\t\t\t\t\t\tflashName: 'flashmediaelement.swf'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.sidebar.last = {\n\t\t\t\tid: asset.id,\n\t\t\t\twidth: w,\n\t\t\t\theight: h,\n\t\t\t\tmodified: asset.modified_on.timestamp\n\t\t\t};\n\n\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\tthis.views.asset_single_view();\n\t\t\t}\n\n\t\t},\n\n\t\tasset_position_focal: function() {\n\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\tindex\t= $('#list_item_' + id).data('index'),\n\t\t\t\tasset = this.observers.content()[index],\n\t\t\t\timg = $('#mid-single-wrap').find('img');\n\n\t\t\tvar wrap_offset = $('#mid-single-wrap').offset();\n\t\t\tvar img_offset = img.offset();\n\n\t\t\t$('#focal_point_wrapper').css({\n\t\t\t\twidth: img.width(),\n\t\t\t\theight: img.height(),\n\t\t\t\ttop: img_offset.top - wrap_offset.top,\n\t\t\t\tleft: img_offset.left - wrap_offset.left\n\t\t\t});\n\n\t\t\t$('#focal_point').css({\n\t\t\t\ttop: img.height() * (asset.focal_point.y / 100) - 25,\n\t\t\t\tleft: img.width() * (asset.focal_point.x / 100) - 25\n\t\t\t});\n\t\t},\n\n\t\tasset_single_view: function() {\n\n\t\t\tif ( this.observers.selection().length ) {\n\n\t\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\t\tindex\t= $('#list_item_' + id).data('index'),\n\t\t\t\t\tasset = this.observers.content()[index];\n\n\t\t\t\tif (asset) {\n\n\t\t\t\t\tvar mid_single = $('#mid-single-img'),\n\t\t\t\t\t\tmid_div\t= $('#mid-single-wrap'),\n\t\t\t\t\t\tdims,\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tmid_single.addClass('loading');\n\t\t\t\t\tmid_div.children().not('#focal_point_wrapper,#focal_point,#custom_single_html,.kspinner').remove();\n\n\t\t\t\t\tif (asset.html) {\n\t\t\t\t\t\tmid_single.removeClass('loading');\n\t\t\t\t\t\tmid_single.fitVids();\n\t\t\t\t\t}\n\t\t\t\t\telse if ( asset.file_type === 'image' ) {\n\n\t\t\t\t\t\t$('<img/>').css({ opacity: 0 })\n\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\tmid_single.removeClass('loading');\n\t\t\t\t\t\t\t\t$(this).animate({ 'opacity': 1 });\n\n\t\t\t\t\t\t\t\tself.asset_position_focal();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.appendTo(mid_div);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmid_single.removeClass('loading');\n\n\t\t\t\t\t\tdims = this.helpers.viewport_area();\n\n\t\t\t\t\t\tvar vid = $('<video/>')\n\t\t\t\t\t\t\t\t\t.attr('src', asset.original.url)\n\t\t\t\t\t\t\t\t\t.attr('poster', asset.presets ? asset.presets.medium[this.config.retina ? 'hidpi_url' : 'url'] : '');\n\n\t\t\t\t\t\t$('<div/>')\n\t\t\t\t\t\t\t.attr('id', 'mid-single-video')\n\t\t\t\t\t\t\t.append(vid)\n\t\t\t\t\t\t\t.prependTo(mid_div);\n\n\t\t\t\t\t\t\tvid.mediaelementplayer({\n\t\t\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\t\t\tenableAutosize: true,\n\t\t\t\t\t\t\t\tvideoWidth: '100%',\n\t\t\t\t\t\t\t\tvideoHeight: '100%',\n\t\t\t\t\t\t\t\tflashName: 'flashmediaelement.swf',\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tself.asset_resize(asset);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.asset_resize(asset);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tasset_resize: function(asset) {\n\t\t\tif (!asset) {\n\t\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\t\tindex\t= $('#list_item_' + id).data('index');\n\n\t\t\t\tasset = this.observers.content()[index];\n\n\t\t\t\tif (!asset) { return; }\n\t\t\t}\n\n\t\t\tif (asset.html) {\n\n\t\t\t\tvar el = $('#custom_single_html').children().first(),\n\t\t\t\t\th = el.outerHeight(),\n\t\t\t\t\ttop = (($('#custom_single_html').height() - h) / 2);\n\n\t\t\t\tel.css('top', top);\n\n\t\t\t\tif (h === 0) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.asset_resize(asset);\n\t\t\t\t\t}, 100);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t} else if (asset.file_type === 'image') {\n\t\t\t\tvar dims\t= this.asset_dimensions(asset);\n\n\t\t\t\tvar w = dims.width,\n\t\t\t\t\th = dims.height;\n\n\t\t\t\tthis.asset_position_focal();\n\n\t\t\t\tvar img = $('#mid-single-img img'),\n\t\t\t\t\tsrc;\n\n\t\t\t\tif (asset.presets) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t$.each(asset.presets, function(i, p) {\n\t\t\t\t\t\tif (p.width > w && p.height > h) {\n\t\t\t\t\t\t\tsrc = p[self.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsrc = p[self.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsrc = this.config.fallback_previews[asset.file_type];\n\t\t\t\t}\n\n\t\t\t\timg.attr('src', src);\n\n\t\t\t\tthis.controllers.focal_draggable();\n\t\t\t} else {\n\t\t\t\tthis.observers.focal_point(false);\n\t\t\t}\n\n\t\t},\n\n\t\tasset_dimensions: function(asset) {\n\n\t\t\tvar dims\t\t= this.helpers.viewport_area(),\n\t\t\t\tmid_w\t\t= dims.width - 60,\n\t\t\t\tmid_h\t\t= dims.height - 60,\n\t\t\t\tmid_aspect\t= mid_w / mid_h,\n\t\t\t\th\t\t\t= mid_h,\n\t\t\t\taspect\t\t= asset.aspect_ratio === null ? 1 : asset.aspect_ratio,\n\t\t\t\tw\t\t\t= Math.round( h * aspect );\n\n\t\t\tif ( aspect >= mid_aspect ) {\n\t\t\t\tw = mid_w;\n\t\t\t\th = Math.round( w / asset.aspect_ratio );\n\t\t\t}\n\n\t\t\tif (asset.width && asset.width < w) {\n\t\t\t\tw = asset.width;\n\t\t\t\th = Math.round( w / asset.aspect_ratio );\n\t\t\t}\n\n\t\t\tif (asset.height && asset.height < h) {\n\t\t\t\th = asset.height;\n\t\t\t\tw = Math.round( h * aspect );\n\t\t\t}\n\n\t\t\treturn { mid_w: mid_w, mid_h: mid_h, width: w, height: h };\n\n\t\t}\n\n\t},\n\n\tmodels: function() {\n\n\t\tvar self = this;\n\n\t\treturn {\n\n\t\t\talbums: {\n\n\t\t\t\tcovers: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + val.album + '/covers/' + val.ids,\n\t\t\t\t\t\t\tmethod: val.type,\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif ( data !== null ) {\n\t\t\t\t\t\t\t\t\tself.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (val.rmId) {\n\t\t\t\t\t\t\t\t\t\tvar cov = [];\n\t\t\t\t\t\t\t\t\t\t$.each( self.observers.properties.album.selected().album.covers, function(k,v) {\n\t\t\t\t\t\t\t\t\t\t\tif ( v.id != val.rmId ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcov.push(v);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tself.observers.properties.album.selected().album.covers = cov;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.each( val.ids, function(i, id) {\n\t\t\t\t\t\t\t\t\t\tif (self.observers.api_url().match(/covers:1/)) {\n\t\t\t\t\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$('#list_item_' + id).removeClass('cover');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,data); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfeatured: {\n\n\t\t\t\tcontent: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tvar accept = [];\n\n\t\t\t\t\t\t$.each( val, function(k,v) {\n\t\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') === 'none' && $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') === 'none' ) {\n\t\t\t\t\t\t\t\taccept.push(v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tval = accept;\n\n\t\t\t\t\t\tif ( val.length > 0 ) {\n\n\t\t\t\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\t\t\t\tself.controllers.update('content', val, {\n\t\t\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\t\t\tupdated: function(items) {\n\n\t\t\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\t\t\tself.notify().success(items[0].filename + ' added to Featured content');\n\t\t\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' items added to Featured content');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,false); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\talbums: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\t\tself.controllers.update('albums', val, {\n\t\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\t\tupdated: function(items) {\n\t\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\t\tself.notify().success('\"' + items[0].title + '\" added to Featured albums');\n\t\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' albums added to Featured albums');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,false); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\ttrash: {\n\n\t\t\t\talbums: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tvar album = $('#content_subnav li[data-id=\"' + val + '\"]');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'trash/albums:' + val,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\tthis.notify().success( album.find('.item').text() + ' was moved to the Trash');\n\t\t\t\t\t\t\t\tif (this.observers.api_url().indexOf('albums/' + val) !== -1) {\n\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(this,false); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tobservers: function() {\n\n\t\tvar self = this,\n\t\tcookies = {};\n\n\t\tcookies.search_filter = ( this.cookie('library:search_filter') !== null ) ? this.cookie('library:search_filter') : 'tags';\n\t\tcookies.open_sets = ( this.cookie('library:open_sets') !== null ) ? $.map( this.cookie('library:open_sets').split(','), function(k,v) { return parseInt(k,10); }) : [];\n\t\tcookies.thumbnail_scale = ( this.cookie('library:thumbnail_scale') !== null ) ? parseInt(this.cookie('library:thumbnail_scale'), 10) : 100;\n\n\t\treturn {\n\n\t\t\tis_uploadable: ko.observable(false),\n\t\t\tis_sortable: ko.observable(false),\n\t\t\tis_quick_collection: ko.observable(false),\n\t\t\tisContent: ko.observable(true),\n\t\t\tshow_root_site_links: ko.observable(false),\n\t\t\tdefault_sort: ko.observable('published_on'),\n\t\t\tsortable: ko.observable(false),\n\t\t\tsession: self.session(),\n\t\t\tapi_url: ko.observable(''),\n\t\t\tselection: ko.observableArray([]),\n\t\t\tview: ko.observable('grid'),\n\t\t\tthumbnail_scale: ko.observable(cookies.thumbnail_scale),\n\t\t\torder_by: ko.observable('published_on'),\n\t\t\torder_direction: ko.observable('desc'),\n\t\t\tloading: ko.observable(false),\n\t\t\tsearch_filter: ko.observable(cookies.search_filter),\n\t\t\tsearch: ko.observable(''),\n\t\t\tquick_collection: ko.observableArray( self.persist('library.quick_collection') ? self.persist('library.quick_collection').split(',').map( function(id) { return Number(id); }) : [] ),\n\t\t\tyear: ko.observable(false),\n\t\t\tmonth: ko.observable(false),\n\t\t\tyears: ko.observableArray([]),\n\t\t\tfirstTime: ko.observable(true),\n\t\t\tis_collection: ko.observable(false),\n\t\t\tisBeingDropped: false,\n\t\t\tdrawerOpen: false,\n\t\t\tpluginPath: ko.observable(''),\n\t\t\tfocal_point: ko.observable(false),\n\t\t\tmultiTagsBeingPushed: ko.observableArray([]),\n\t\t\ttagsCommonAcrossAll: ko.observableArray([]),\n\t\t\tselectionHasTags: ko.observable(false),\n\t\t\ttrashRestoreDisabled: ko.observable('disabled'),\n\n\t\t\tsingleHistory: {\n\t\t\t\ttype: ko.observable('assign'),\n\t\t\t\treset: function() {\n\t\t\t\t\tthis.type('assign');\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiHistory: {\n\t\t\t\tnote: null,\n\t\t\t\tdrawer: ko.observable(''),\n\t\t\t\ttype: ko.observable('assign'),\n\t\t\t\tdate: {\n\t\t\t\t\tyears: ko.observable(0),\n\t\t\t\t\tmonths: ko.observable(0),\n\t\t\t\t\tdays: ko.observable(0),\n\t\t\t\t\thours: ko.observable(0),\n\t\t\t\t\tminutes: ko.observable(0)\n\t\t\t\t},\n\t\t\t\tgetNow: function() {\n\t\t\t\t\treturn moment(Date()).format('YYYY/MM/DD HH:mm:SS');\n\t\t\t\t},\n\t\t\t\treset: function() {\n\t\t\t\t\tthis.date.years(0);\n\t\t\t\t\tthis.date.months(0);\n\t\t\t\t\tthis.date.days(0);\n\t\t\t\t\tthis.date.hours(0);\n\t\t\t\t\tthis.date.minutes(0);\n\t\t\t\t\tthis.type('assign');\n\t\t\t\t\tthis.drawer('');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tnext_item: function() {\n\t\t\t\t$('object, embed').remove();\n\t\t\t\tvar new_index = this.observers.properties.content.selected.index() + 1;\n\t\t\t\tif (new_index < this.observers.content().length) {\n\t\t\t\t\tvar item  = this.observers.content()[ new_index ];\n\t\t\t\t\tnew_index = item.id;\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: new_index });\n\t\t\t\t} else if (this.observers.content().length < this.observers.properties.overall.total()) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.controllers.load_content({\n\t\t\t\t\t\tcb: function(data) {\n\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: data[0].id });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tprev_item: function() {\n\t\t\t\t$('object, embed').remove();\n\t\t\t\tvar new_index = this.observers.properties.content.selected.index() - 1;\n\t\t\t\tif (new_index >= 0) {\n\t\t\t\t\tvar item  = this.observers.content()[ new_index ];\n\t\t\t\t\tnew_index = item.id;\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: new_index });\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tloadstamp: 0,\n\t\t\tis_loading: false,\n\t\t\tpassengers: {\n\t\t\t\tqueue: {},\n\t\t\t\tinterval: false,\n\t\t\t\tnext_page: false\n\t\t\t},\n\t\t\theader: {\n\t\t\t\ttitle: ko.observable('Content'),\n\t\t\t\ticon: ko.observable('label-every'),\n\t\t\t\tcollection: ko.observable('Content')\n\t\t\t},\n\t\t\tproperties: {\n\t\t\t\thasUploadedContent: false,\n\t\t\t\tcollections: {\n\t\t\t\t\tselected: ko.observable('Everything')\n\t\t\t\t},\n\t\t\t\tpaths: self.config.paths,\n\t\t\t\toverall: {\n\t\t\t\t\ttotal: ko.observable(0),\n\t\t\t\t\tcounts: {\n\t\t\t\t\t\timages: ko.observable(0),\n\t\t\t\t\t\tvideos: ko.observable(0),\n\t\t\t\t\t\taudio: ko.observable(0),\n\t\t\t\t\t\talbums: ko.observable(0),\n\t\t\t\t\t\tsets: ko.observable(0),\n\t\t\t\t\t\ttotal: ko.observable(0)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tselected: {\n\t\t\t\t\t\tid: ko.observable([]),\n\t\t\t\t\t\tindex: ko.observable(-1),\n\t\t\t\t\t\ttotal: ko.observable(0),\n\t\t\t\t\t\ttext: ko.observable('Select all')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talbum: {\n\t\t\t\t\tselected: ko.observable({})\n\t\t\t\t},\n\t\t\t\tmulti: {\n\t\t\t\t\tselected: ko.observable({}),\n\t\t\t\t\tlabels: ko.observable({})\n\t\t\t\t},\n\t\t\t\ttrash: {\n\t\t\t\t\ttotal: ko.observable(0)\n\t\t\t\t}\n\t\t\t},\n\t\t\topen_sets: ko.observableArray(cookies.open_sets),\n\t\t\tisMultiAlbum: ko.observable(false),\n\t\t\tsidebar: {\n\t\t\t\tid: ko.observable('fixed'),\n\t\t\t\tlast: {},\n\t\t\t\thasgeo: ko.observable(false),\n\t\t\t\tasset: {\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\talbum_type: ko.observable(false),\n\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\tcategories: {\n\t\t\t\t\t\tcount: ko.observable(0),\n\t\t\t\t\t\turl: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tmax_download: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tsource: {\n\t\t\t\t\t\turl: ko.observable(false)\n\t\t\t\t\t},\n\t\t\t\t\tlicense: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tvisibility: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\turl: ko.observable(false),\n\t\t\t\t\thtml: ko.observable(false)\n\t\t\t\t},\n\t\t\t\tmulti: {\n\t\t\t\t\ttags: {\n\t\t\t\t\t\tcommon: ko.observableArray([]),\n\t\t\t\t\t\tall: ko.observableArray([])\n\t\t\t\t\t},\n\t\t\t\t\tcategories: ko.observableArray([])\n\t\t\t\t}\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tsearch: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by tag',\n\t\t\t\t\t\t\t'class': 'opt-tags',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by category',\n\t\t\t\t\t\t\t'class': 'opt-category',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by file name',\n\t\t\t\t\t\t\t'class': 'opt-filename',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('search'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t},\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tif ( this.observers.api_url().indexOf('albums') >= 0 ) {\n\t\t\t\t\t\t\t$('#search_dd li:last .w span').text('Search by title').removeClass('opt-filename').addClass('opt-title');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#search_dd li:last .w span').text('Search by file name').removeClass('opt-title').addClass('opt-filename');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tedit: {\n\t\t\t\t\tfeatured: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tcontent\t\t= c.content(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\t$.each( content, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.id == v ) {\n\t\t\t\t\t\t\t\t\tif ( w.featured == 0 ) {\n\t\t\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Unmark' : 'Mark';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfavorite: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tcontent\t\t= c.content(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\t$.each( content, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.id == v ) {\n\t\t\t\t\t\t\t\t\tif ( w.favorite == 0 ) {\n\t\t\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Unmark' : 'Mark';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tquick: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tquick\t\t= c.quick_collection(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\tif ($.inArray(v, quick) === -1) {\n\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Remove from' : 'Add to';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcovers: function(c,bool) {\n\n\t\t\t\t\t\tif ( ! c.properties.album.selected().album ) { return ''; }\n\n\t\t\t\t\t\tvar selected\t= c.selection(),\n\t\t\t\t\t\t\tcontent\t\t= c.properties.album.selected().album.covers,\n\t\t\t\t\t\t\tret\t\t\t= [];\n\n\t\t\t\t\t\t$.each(self.observers.properties.album.selected().album.covers, function(i, cover) {\n\t\t\t\t\t\t\tif ($('#mid-content li.selected').data('id') == cover.id) {\n\t\t\t\t\t\t\t\tret.push(cover)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( content.length > 3 ) {\n\t\t\t\t\t\t\t$('#al-covers').show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( ret.length > 0 ) {\n\t\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#al-covers').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( c.properties.album.selected().album.album_type == 'set' ) {\n\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (content.length <= 3 && ret.length > 0) {\n\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ( ret.length > 0 ) ? 'Unassign' : 'Assign';\n\n\t\t\t\t\t},\n\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Rotate left',\n\t\t\t\t\t\t\tdesc\t: 'Rotate original counter-clockwise',\n\t\t\t\t\t\t\t'class'\t: 'opt-rotate-l',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Rotate right',\n\t\t\t\t\t\t\tdesc\t: 'Rotate original clockwise',\n\t\t\t\t\t\t\t'class'\t: 'opt-rotate-r',\n\t\t\t\t\t\t\tbind\t: \"visible: sidebar.asset && selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Replace original',\n\t\t\t\t\t\t\tdesc\t: 'Replace original with new upload',\n\t\t\t\t\t\t\tid\t\t: 'replace_content',\n\t\t\t\t\t\t\t'class'\t: 'opt-replace',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && (!sidebar.asset.html || !sidebar.asset.html())\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Download original',\n\t\t\t\t\t\t\tdesc\t: 'Download original file to hard drive',\n\t\t\t\t\t\t\t'class'\t: 'opt-dl',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && (!sidebar.asset.html || !sidebar.asset.html())\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"feat-type bind\" data-bind=\"text: dropdowns.edit.featured(observers)\"></span></span> as featured',\n\t\t\t\t\t\t\tdesc\t: 'Mark selection as featured',\n\t\t\t\t\t\t\t'class'\t: 'opt-feat',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() !== ''\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"fav-type bind\" data-bind=\"text: dropdowns.edit.favorite(observers)\"></span></span> as favorite',\n\t\t\t\t\t\t\tdesc\t: 'Mark selection as a favorite',\n\t\t\t\t\t\t\t'class'\t: 'opt-fave',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"feat-cover bind\" data-bind=\"text: dropdowns.edit.covers(observers)\"></span></span> as cover',\n\t\t\t\t\t\t\tdesc\t: 'Add selection to album covers',\n\t\t\t\t\t\t\t'class'\t: 'opt-cover',\n\t\t\t\t\t\t\tid\t\t: 'al-covers',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length == 1 && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Display at sign-in',\n\t\t\t\t\t\t\tdesc\t: 'Use selection as background image',\n\t\t\t\t\t\t\t'class'\t: 'opt-bg',\n\t\t\t\t\t\t\tbind\t: \"visible: sidebar.asset && selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from album',\n\t\t\t\t\t\t\tdesc\t: 'Remove selection from this album',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from set',\n\t\t\t\t\t\t\tdesc\t: 'Remove album from this set',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'set' && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from collection',\n\t\t\t\t\t\t\tdesc\t: 'Remove selection from this collection',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && is_collection()\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Move to trash',\n\t\t\t\t\t\t\tdesc\t: 'Move selection to trash',\n\t\t\t\t\t\t\t'class'\t: 'opt-trash'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tif ( $('.opt-replace').closest('li').css('display') !== 'none' ) {\n\t\t\t\t\t\t\tthis.interfaces.app.controllers.replace.init.call(self);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tevent: ko.observable('edit_menu'),\n\t\t\t\t\tid: ko.observable('edit'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '8px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Manual',\n\t\t\t\t\t\t\tdesc\t: 'User defined sort order',\n\t\t\t\t\t\t\tbind\t: \"visible: sortable() === true || api_url().match(/^albums\\\\/\\\\d+\\\\/content/), css: { check: order_by() === 'manual' }, click: function() { change_order_by('manual'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Aspect ratio',\n\t\t\t\t\t\t\tdesc\t: 'Sort by aspect ratio',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'aspect_ratio' }, click: function() { change_order_by('aspect_ratio'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date captured',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date captured',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'captured_on' }, click: function() { change_order_by('captured_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date created',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date created',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'set', css: { check: order_by() === 'created_on' }, click: function() { change_order_by('created_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date modified',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date modified',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'modified_on' }, click: function() { change_order_by('modified_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date published',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date published',\n\t\t\t\t\t\t\tbind\t: \"visible: !api_url().match(/\\\\/(unlisted|privat)/), css: { check: order_by() === 'published_on' }, click: function() { change_order_by('published_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date uploaded',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date uploaded',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'uploaded_on' }, click: function() { change_order_by('uploaded_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Dimension',\n\t\t\t\t\t\t\tdesc\t: 'Sort by dimension',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'dimension' }, click: function() { change_order_by('dimension'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Filename',\n\t\t\t\t\t\t\tdesc\t: 'Sort by filename',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'filename' }, click: function() { change_order_by('filename'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Title',\n\t\t\t\t\t\t\tdesc\t: 'Sort by title',\n\t\t\t\t\t\t\tbind\t: \"visible: sortable() === true, css: { check: order_by() === 'title' }, click: function() { change_order_by('title'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'insert_break'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Ascending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results ascending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'asc' }, click: function() { change_order_direction('asc'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Descending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results descending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'desc' }, click: function() { change_order_direction('desc'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('sort'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\tposition: ko.observable('above'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'None',\n\t\t\t\t\t\t\tdesc\t: 'No filters',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'none' }, click: function() { dropdowns.filter.selected('none'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Covers',\n\t\t\t\t\t\t\tdesc\t: 'Show album cover images only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album, css: { check: dropdowns.filter.selected() === 'covers' }, click: function() { dropdowns.filter.selected('covers'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Public',\n\t\t\t\t\t\t\tdesc\t: 'Show public content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'public' }, click: function() { dropdowns.filter.selected('public'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Unlisted',\n\t\t\t\t\t\t\tdesc\t: 'Show unlisted content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'unlisted' }, click: function() { dropdowns.filter.selected('unlisted'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Private',\n\t\t\t\t\t\t\tdesc\t: 'Show private content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'private' }, click: function() { dropdowns.filter.selected('private'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Independent',\n\t\t\t\t\t\t\tdesc\t: 'Show content not in a collection',\n\t\t\t\t\t\t\tbind\t: \"visible: !properties.album.selected().album, css: { check: dropdowns.filter.selected() === 'independent' }, click: function() { dropdowns.filter.selected('independent'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Photo',\n\t\t\t\t\t\t\tdesc\t: 'Show photos only',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'photo' }, click: function() { dropdowns.filter.selected('photo'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Video',\n\t\t\t\t\t\t\tdesc\t: 'Show videos only',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'video' }, click: function() { dropdowns.filter.selected('video'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tselected: ko.observable('none'),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\tid: ko.observable('filter'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshare: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Twitter',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-twitter'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Facebook',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-facebook'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Google+',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-google'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Tumblr',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-tumblr'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Embed',\n\t\t\t\t\t\t\t'class'\t: 'opt-embed',\n\t\t\t\t\t\t\tbind\t: \"click: function() { this.classes.modal.share_asset.show(); }, visible: sidebar.asset.file_type() === 'image'\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('share'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '82px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrawer: {\n\t\t\t\tid: ko.observable('default_edit'),\n\t\t\t\tstate: ko.observable('closed'),\n\t\t\t\ttemplate: function(c) {\n\t\t\t\t\treturn c.drawer.id();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent_type: function(c) {\n\t\t\t\tif ( c.album_type ) {\n\t\t\t\t\treturn 'mid_multi_album_item';\n\t\t\t\t} else if ( c.data ) {\n\t\t\t\t\treturn 'mid_multi_trash_item';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'mid_multi_content_item';\n\t\t\t\t}\n\t\t\t},\n\t\t\talbum_class: function(data) {\n\n\t\t\t\tvar type = '';\n\n\t\t\t\tif ( data.album_type === 'smart' ) {\n\t\t\t\t\ttype = '-smart';\n\t\t\t\t} else if ( data.album_type === 'set' ) {\n\t\t\t\t\ttype = '-set';\n\t\t\t\t}\n\n\t\t\t\treturn 'icon16 label-album' + type;\n\n\t\t\t},\n\t\t\t// Selected assets need to call a separate API request to get the albums\n\t\t\t// they are a part of, these get pushed into the `selection_albums` observable\n\t\t\tselection_albums: ko.observable([]),\n\t\t\tget_selected_asset_albums: function() {\n\t\t\t\tthis.selection_albums('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/' + this.sidebar.asset.id() + '/albums/context',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.albums.length) {\n\t\t\t\t\t\t\tthis.selection_albums(data.albums);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selection_albums('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//\n\t\t\tselection_categories: ko.observable([]),\n\t\t\tmultiselection_categories: [],\n\t\t\tget_selected_asset_categories: function(val) {\n\t\t\t\tthis.selection_categories('Loading...');\n\t\t\t\tif ($.isArray(val) && val.length > 1) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: ((this.sidebar.asset.album_type && this.sidebar.asset.album_type()) ? 'albums' : 'content') + '/' + val.join(',') + '/categories',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.multiselection_categories = data;\n\n\t\t\t\t\t\t\tif (!data.common.length && data.mixed.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories('- mixed -');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!data.common.length && !data.mixed.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories('- none -');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.common.length) {\n\t\t\t\t\t\t\t\tvar commonCats = [];\n\t\t\t\t\t\t\t\t$.each(this.observers.categories(), function(idx, cat) {\n\t\t\t\t\t\t\t\t\tif (data.common.indexOf(cat.id) !== -1) commonCats.push(cat.title);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.selection_categories(commonCats.join(', '));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.selection_categories('- error -');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (this.sidebar.asset.categories.url && this.sidebar.asset.categories.url().length) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: this.sidebar.asset.categories.url(),\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.categories.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories(data.categories);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.selection_categories('- none -');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\thas_tag: function(t) {\n\t\t\t\treturn $.inArray(t, this.sidebar.asset.tags()) === -1;\n\t\t\t},\n\t\t\tis_closed: function(item) {\n\t\t\t\tvar check = $.inArray(item.id, this.open_sets());\n\t\t\t\tif (check !== -1) { return false; }\n\t\t\t\tvar current = this.properties.album.selected().album;\n\t\t\t\tif ( $('#three-col-left .selected').closest('ol').parent().data('id') == item.id ) { return true; }\n\t\t\t\tif (!current || current.level == 1) { return true; }\n\t\t\t\tif ( item.album_type === 'set' ) {\n\t\t\t\t\tvar isChild = false;\n\t\t\t\t\t$.each(item.children, function(i,child) {\n\t\t\t\t\t\tif (current && child.id === current.id) {\n\t\t\t\t\t\t\tisChild = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!isChild) { return true; }\n\t\t\t\t}\n\t\t\t\tif (parseInt(current.left_id, 10) > parseInt(item.left_id, 10) && parseInt(current.level, 10) > parseInt(item.level, 10)) { return false; }\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tselected_type: ko.observable('content'),\n\t\t\tis_cover: function(d) {\n\t\t\t\tvar album\t= this.properties.album.selected().album,\n\t\t\t\t\tv\t\t= -1;\n\t\t\t\tif (album && album.id) {\n\t\t\t\t\tvar cover_ids = album.covers.map(function(img) {\n\t\t\t\t\t\treturn img.id;\n\t\t\t\t\t});\n\t\t\t\t\tv = $.inArray(d.id, cover_ids);\n\t\t\t\t}\n\t\t\t\tif (v === -1) {\n\t\t\t\t\treturn ' hide';\n\t\t\t\t} else if (v === 0) {\n\t\t\t\t\treturn '-top';\n\t\t\t\t} else {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t},\n\t\t\tin_array: function(needle, haystack) {\n\t\t\t\treturn $.inArray(needle, haystack) !== -1;\n\t\t\t},\n\t\t\texif_label: function() {\n\t\t\t\tvar exif = $.extend(true, {}, this.sidebar.asset.exif());\n\t\t\t\tvar fields = [ 'iso_speed_ratings', 'focal_length', 'aperture', 'exposure' ];\n\t\t\t\tvar out = [];\n\t\t\t\t$.each(exif, function(i, obj) {\n\t\t\t\t\tif ($.inArray(obj.key, fields) !== -1) {\n\t\t\t\t\t\tif (obj.key === 'aperture') {\n\t\t\t\t\t\t\tobj.clean = obj.clean.replace('f', '<span class=\"fstop\">f</span>');\n\t\t\t\t\t\t} else if (obj.clean) {\n\t\t\t\t\t\t\tobj.clean = obj.clean.replace(' ', '&nbsp;');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tout.push( obj.clean || obj.raw);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn out.join(' &nbsp;');\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tcreate_collection: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_collection'),\n\t\t\t\t\tvalidated: ko.observable(),\n\t\t\t\t\tcategory: ko.observable(),\n\t\t\t\t\ttag: ko.observable(),\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.find('input:first').focus();\n\t\t\t\t\t\tthis.classes.autocomplete.library.tags($('#cc_tag_input'), $('#cc_tag_input').parent(), $('#cc_tag_input').parent().find('button'));\n\n\t\t\t\t\t\tthis.observers.sheets.create_collection.properties.visibility(this.observers.settings.uploading_default_album_visibility());\n\n\t\t\t\t\t\t// Reset collection type to album on sheet load\n\t\t\t\t\t\tthis.observers.sheets.create_collection.collection.call(this.observers.sheets.create_collection.properties, 0);\n\t\t\t\t\t},\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tthis.properties.type(0);\n\t\t\t\t\t\tthis.validated(null);\n\t\t\t\t\t\tfor ( var k in this.properties ) {\n\t\t\t\t\t\t\tif ( k !== 'type' ) {\n\t\t\t\t\t\t\t\tthis.properties[k].reset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\ttype: ko.observable(0),\n\t\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\t\tsummary: ko.observable(''),\n\t\t\t\t\t\tdescription: ko.observable(''),\n\t\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\t\tcategories: ko.observableArray([]),\n\t\t\t\t\t\tvisibility: ko.observable('public')\n\t\t\t\t\t},\n\t\t\t\t\tcollection: function(type) {\n\t\t\t\t\t\tthis.type(type);\n\t\t\t\t\t\tif (type === 0) {\n\t\t\t\t\t\t\t$('#create_collection').find('li[data-event=\"create_collection\"] button').text('Create album');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#create_collection').find('li[data-event=\"create_collection\"] button').text('Create set');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( this.title().trim().length <= 0 ) {\n\t\t\t\t\t\t\t$('#create_collection').find('input:first').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tadd_tag: function(data) {\n\n\t\t\t\t\t\tvar self\t= this.interfaces.library.observers,\n\t\t\t\t\t\t\tt\t\t= ( typeof data.tag === 'function' ) ? this.helpers.parse_tag_input( ko.utils.unwrapObservable( $('#cc_tag_input').val() ) ) : [data.title];\n\n\t\t\t\t\t\t$.each( t, function(o) {\n\t\t\t\t\t\t\tself.sheets.create_collection.properties.tags.push(this.toString());\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.sheets.create_collection.properties.tags( self.helpers.unique( self.sheets.create_collection.properties.tags() ) );\n\t\t\t\t\t\tself.sheets.create_collection.tag('');\n\n\t\t\t\t\t},\n\t\t\t\t\tremove_tag: function(data) {\n\n\t\t\t\t\t\tvar self = this.interfaces.library.observers;\n\n\t\t\t\t\t\t$.each( self.sheets.create_collection.properties.tags(), function(i,tag) {\n\t\t\t\t\t\t\tif ( tag === data ) {\n\t\t\t\t\t\t\t\tself.sheets.create_collection.properties.tags.splice(i,1);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timport_content: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('import_content'),\n\t\t\t\t\tvalidate: false,\n\t\t\t\t\tonload: function(sheet) {\n\t\t\t\t\t\t// TODO: Cleanup this selectors nightmare\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tinitUpload = function() {\n\t\t\t\t\t\t\t\tself.interfaces.app.controllers.upload.cleanup();\n\t\t\t\t\t\t\t\tself.interfaces.app.controllers.upload.init.call(self.interfaces.library);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t_selected = $.param.fragment(),\n\t\t\t\t\t\t\tlastSelected;\n\n\t\t\t\t\t\tvar setSelected = function(name, plugin) {\n\t\t\t\t\t\t\tif (lastSelected) $('#import_content').removeClass(lastSelected);\n\t\t\t\t\t\t\t$('#import_content').addClass(lastSelected = name.toLowerCase());\n\n\t\t\t\t\t\t\t// Update scrollbars\n\t\t\t\t\t\t\tif (plugin && plugin.activated) {\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\tswitch(plugin.php_class_name) {\n\t\t\t\t\t\t\t\t\t\tcase 'KokenVimeo':\n\t\t\t\t\t\t\t\t\t\t\tself.classes.scrollbar['vimeo-browse-middle-scroll'] && self.classes.scrollbar['vimeo-browse-middle-scroll'].update();\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'KokenInstagram':\n\t\t\t\t\t\t\t\t\t\t\tself.classes.scrollbar['inst-browse-middle-scroll'] && self.classes.scrollbar['inst-browse-middle-scroll'].update();\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#upload_visibility').val(self.observers.settings.uploading_default_visibility());\n\n\t\t\t\t\t\t// Used when route includes instagram to prevent flashing of elements caused by a trigger\n\t\t\t\t\t\tif (_selected.indexOf('instagram') !== -1) {\n\t\t\t\t\t\t\t$('.option_square_grid').find('.selected').removeClass('selected');\n\t\t\t\t\t\t\t$('.option_square_grid').find('a.import_inst').closest('li').addClass('selected');\n\n\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t$('#import_upload_content').hide();\n\t\t\t\t\t\t\t$('.section_selected').hide();\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tsetSelected('kokeninstagram');\n\t\t\t\t\t\t\t\t$('section#import_content_inst').addClass('section_selected').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//\n\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.album_type === 'standard') {\n\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum(true);\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = true;\n\t\t\t\t\t\t\t$('.al-display', sheet).show();\n\t\t\t\t\t\t\t$('.al-title', sheet).text('Add to ' + self.observers.truncate(this.observers.properties.album.selected().album.title, 25) + ' after import');\n\t\t\t\t\t\t\t$('.al-display', sheet).off('.rm').on('click.rm', function(e) {\n\t\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = $(this).find('input').is(':checked');\n\t\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum($(this).find('input').is(':checked'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = false;\n\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum(false);\n\t\t\t\t\t\t\t$('.al-display', sheet).hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#upload_visibility', sheet).off('.uv').on('change.uv', function(e) {\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance && self.interfaces.app.controllers.upload.instance.settings.multipart_params) self.interfaces.app.controllers.upload.instance.settings.multipart_params.visibility = $(this).find('option:selected').val();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#upload_queued_num').text('0');\n\t\t\t\t\t\t$('#upload-drop-start').show();\n\t\t\t\t\t\t$('#upload-drop-queued').hide();\n\n\t\t\t\t\t\t// Import service button events\n\t\t\t\t\t\t$('#import_content').off('.importservice').on('click.importservice', '.option_square_grid li', function() {\n\t\t\t\t\t\t\t// Show/hide selected states for import buttons\n\t\t\t\t\t\t\t$(this).closest('ul').find('.selected').removeClass('selected');\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\n\t\t\t\t\t\t\t$('.import_sheet_sections input').val('');\n\t\t\t\t\t\t\t$('button.import').addClass('disabled');\n\t\t\t\t\t\t\t$('.valerror').removeClass('valerror');\n\t\t\t\t\t\t\t$('.form-error-msg').hide();\n\t\t\t\t\t\t\tself.observers.valid(false);\n\n\t\t\t\t\t\t\t// Show/hide sections\n\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t$('.section_selected').hide();\n\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t$('#import_upload_content').hide();\n\n\t\t\t\t\t\t\tvar a = $(this).find('a'),\n\t\t\t\t\t\t\t\tphp = a.data('plugin-php'),\n\t\t\t\t\t\t\t\tplugin = false;\n\n\t\t\t\t\t\t\tif (php) {\n\t\t\t\t\t\t\t\tplugin = self.observers.hasPlugin('php_class_name', php) || {};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (plugin.php_class_name) {\n\t\t\t\t\t\t\t\tsetSelected(plugin.php_class_name, plugin);\n\t\t\t\t\t\t\t} else if ($(this).find('a').attr('class') === 'import_link') {\n\t\t\t\t\t\t\t\tsetSelected('importlink');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetSelected('');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ($('section.' + a.attr('class')).length) {\n\t\t\t\t\t\t\t\t$('section.' + a.attr('class')).show().addClass('section_selected');\n\t\t\t\t\t\t\t} else if (plugin && !plugin.activated) {\n\t\t\t\t\t\t\t\tif (plugin.activated === false) {\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate .title').text(a.data('title'));\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').show();\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate a').data('php', php);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar\turl = a.data('plugin');\n\t\t\t\t\t\t\t\t\tvar bttn = $('#import_content_plugin_disabled a');\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled .title').text(a.data('title'));\n\t\t\t\t\t\t\t\t\tif (url) {\n\t\t\t\t\t\t\t\t\t\tbttn.attr('href', url).show();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbttn.hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').show();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ($(this).find('a').attr('class') === 'import_link') {\n\t\t\t\t\t\t\t\tself.classes.form_validation.library.valid('import_content_url', true);\n\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t\t$('#import_content_url').show();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#import_upload_content').show();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance.files.length > 0) {\n\t\t\t\t\t\t\t\t\t$('button.import').removeClass('disabled');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinitUpload();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.classes.form_validation.library.valid('import_content', true);\n\n\t\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Import button click event\n\t\t\t\t\t\t$('#import_content_url input').val('').focus();\n\t\t\t\t\t\t$('#import_content .import').off('.importev').on('click.importev', function(e) {\n\t\t\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ($('#import_upload_content:visible').length > 0) return;\n\t\t\t\t\t\t\t$(this).addClass('disabled');\n\n\t\t\t\t\t\t\tvar kguid = $('#import_content .option_square_grid li.selected').data('kguid');\n\t\t\t\t\t\t\tif (!kguid) {\n\t\t\t\t\t\t\t\tvar stamp = Math.floor(new Date().getTime() / 1000),\n\t\t\t\t\t\t\t\t\turl = $('#import_content_url input').val(),\n\t\t\t\t\t\t\t\t\tn = self.notify().wait('Importing ' + url);\n\n\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\trequest: 'content',\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\tdata: 'from_url=' + encodeURIComponent(url) + '&visibility=' + $('#upload_visibility').val(),\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\t\t\t\tn.warn('Error importing file from URL. Check the URL and try again');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tn.success('Import complete');\n\n\t\t\t\t\t\t\t\t\t\t\tif ($('#import_tar_coll:checked:visible').length) {\n\t\t\t\t\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest: 'albums/' + self.observers.properties.album.selected().album.id + '/content/' + data.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#import_content .modal-close').trigger('click');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content/order_by:uploaded_on/visibility:any/after:' + stamp + '/selection:' + data.id + '/view:single', 2 );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$.each(self.plugins[kguid].events, function(i, ev) {\n\t\t\t\t\t\t\t\t\tif (ev._type === 'import') {\n\t\t\t\t\t\t\t\t\t\tev._callback.call(self.plugins[kguid]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tinitUpload();\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$('#upload_visibility option:eq(0)').prop('selected', true);\n\t\t\t\t\t\t$('#import_upload_content').find('.open').removeClass('open');\n\t\t\t\t\t\t$('#import_upload_content [data-event=\"toggle_visibility\"]').next().hide();\n\t\t\t\t\t\tthis.classes.channel.library.isUploading = false;\n\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiedit: {\n\t\t\t\tselected: ko.observableArray([]),\n\t\t\t\tchanged: {}\n\t\t\t},\n\t\t\tcontent: ko.observableArray([]),\n\t\t\tgetContentById: function(id) {\n\t\t\t\tvar found;\n\t\t\t\tself.observers.content().forEach(function(item) {\n\t\t\t\t\tif (item.id == id) {\n\t\t\t\t\t\tfound = item;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn found;\n\t\t\t},\n\t\t\tcontent_loading: false\n\t\t};\n\n\t}\n\n};\n\t_Koken.prototype.login = {\n\n\tinit: function() {\n\t\tvar self = this;\n\t\twindow.setTimeout(function() {\n\t\t\tif (location.hash === '#/reset') {\n\t\t\t\tlocation.hash = '';\n\t\t\t\tself.observers.message_state('after_reset');\n\t\t\t\tself.observers.change_state('after_reset');\n\t\t\t} else {\n\t\t\t\tself.observers.change_state('login');\n\t\t\t}\n\t\t}, location.hash === '#/reset' ? 500 : 0);\n\n\t\tvar message_interval;\n\n\t\tthis.observers.message_state.subscribe( function() {\n\t\t\tclearTimeout(message_interval);\n\t\t\tmessage_interval = setTimeout(function() {\n\t\t\t\t$('#help').removeClass('active');\n\t\t\t}, 5000);\n\t\t}, this);\n\t},\n\n\tobservers: function() {\n\n\t\treturn {\n\n\t\t\tstate: ko.observable(''),\n\t\t\tmessage_state: ko.observable(''),\n\t\t\tmessage_interval: false,\n\n\t\t\tchange_state: function(new_state) {\n\t\t\t\tif ($('#login_form').get(0)) {\n\t\t\t\t\t$('#login_form')[0].reset();\n\t\t\t\t\t$('#reset_form')[0].reset();\n\t\t\t\t\tif (new_state === 'after_reset') {\n\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#help').removeClass('active');\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.state(new_state);\n\n\t\t\t\t\tif (new_state === 'reset' || new_state === 'login') {\n\t\t\t\t\t\t$('#' + new_state + '_form input').first().focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tretrieve_password: function() {\n\t\t\t\tthis.observers.change_state('reset');\n\t\t\t},\n\n\t\t\tback_to_login: function() {\n\t\t\t\tthis.observers.change_state('login');\n\t\t\t},\n\n\t\t\treset: function() {\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/reset_password',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tdata: $('form#reset_form').serialize(),\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif ( data && data.success ) {\n\t\t\t\t\t\t\tthis.observers.message_state('reset_init');\n\t\t\t\t\t\t\tthis.observers.change_state('login');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.message_state('reset_fail');\n\t\t\t\t\t\t\t$('#reset_form')[0].reset();\n\t\t\t\t\t\t\t$('#reset_form input:first').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tlogin: function() {\n\n\t\t\t\t$('#login_submit').addClass('disabled').text('Signing in');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tdata: $('#login_form').serialize(),\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t$('#login_submit').removeClass('disabled').text('Sign in');\n\t\t\t\t\t\t\tthis.observers.message_state('login_incorrect');\n\t\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t\t\t$('#login_form input[name=\"password\"]').val('');\n\t\t\t\t\t\t\t$('#login_form input:first').focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\t_Koken.prototype.settings = {\n\n\tinit: function() {\n\n\t\tvar self = this;\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('settings');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('settings');\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$('.help-toggle').bind( 'click', function() {\n\n\t\t\tvar self = $(this);\n\n\t\t\tif ( ! self.hasClass('open') ) {\n\t\t\t\tself.addClass('open');\n\t\t\t\t$('div',this).slideDown();\n\t\t\t} else {\n\t\t\t\t$('div',this).slideUp( 250, function() {\n\t\t\t\t\tself.removeClass('open');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t});\n\n\t\t$(document).off('.pluginSettings').on('input.pluginSettings change.pluginSettings', '#plugin_settings .row', function(e) {\n\n\t\t\tvar preview = $(this).find('span.display_value');\n\n\t\t\tif (preview.length) {\n\t\t\t\tpreview.html($(this).find('input').val());\n\t\t\t}\n\n\t\t\t$.each(self.observers.edit_plugin_data(), function(i, option) {\n\t\t\t\tif (option.dependencies) {\n\t\t\t\t\tvar strict = option.dependencies.evaluate === 'all',\n\t\t\t\t\t\tpass = false;\n\n\t\t\t\t\t$.each(option.dependencies.conditions, function(i, condition) {\n\t\t\t\t\t\tvar input = $('#plugin-edit-' + condition.option);\n\t\t\t\t\t\tif (condition.equals !== undefined) {\n\t\t\t\t\t\t\tpass = condition.equals === ( input.attr('type') === 'checkbox' ? input.is(':checked') : input.val());\n\t\t\t\t\t\t} else if (condition.not !== undefined) {\n\t\t\t\t\t\t\tpass = condition.not !== ( input.attr('type') === 'checkbox' ? input.is(':checked') : input.val());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pass && !strict || !pass && strict) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\t$('#plugin-edit-' + option.key).parents('.row')[pass ? 'show' : 'hide']();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('input:visible').trigger('keyup');\n\t\t});\n\n\t\t$(document).on('keyup', '.plural', function() {\n\t\t\tvar parent = $(this).parents('li'),\n\t\t\t\toptions = parent.find('option'),\n\t\t\t\tstat = parent.find('.static'),\n\t\t\t\tval = $(this).val(),\n\t\t\t\tsingular = val.singularize();\n\n\t\t\tparent.find('.singular').val( singular.length ? singular : val ).trigger('keydown');\n\t\t});\n\n\t\tthis.observers.console_url( this.config.paths.admin );\n\t\tthis.observers.base_url( this.config.paths.base );\n\n\t\tthis.observers.settings.site_url.subscribe(function(val) {\n\t\t\tthis.observers.settings.__site_url_has_changed(true);\n\t\t\tvar base = window.location.protocol + '//' + window.location.host + '/';\n\t\t\tif (val.indexOf(base) === -1) {\n\t\t\t\tthis.observers.settings.site_url(base);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.view.subscribe(function(val) {\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 'console' :\n\t\t\t\t\tthis.observers.state.view_clean('Console');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'administrator' :\n\t\t\t\t\tthis.observers.state.view_clean('Administrator');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importing' :\n\t\t\t\t\tthis.observers.state.view_clean('Importing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'publishing' :\n\t\t\t\t\tthis.observers.state.view_clean('Site publishing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'photos' :\n\t\t\t\t\tthis.observers.state.view_clean('Image publishing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'applications' :\n\t\t\t\t\tthis.observers.state.view_clean('Applications');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'system' :\n\t\t\t\t\tthis.observers.state.view_clean('System');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'plugins' :\n\t\t\t\t\tthis.observers.state.view_clean('Plugins');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email' :\n\t\t\t\t\tthis.observers.state.view_clean('Email');\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (val !== 'plugins' && val !== 'plugins_edit') {\n\t\t\t\tvar self = this;\n\t\t\t\tself.observers.valid(false);\n\t\t\t\t$(document)\n\t\t\t\t\t.off('.settings_change')\n\t\t\t\t\t.on('input.settings_change change.settings_change', '.rangeinput input, select,:checkbox, input[type=\"radio\"], input[type=\"number\"]', function(evt) {\n\t\t\t\t\t\tif (evt.originalEvent) {\n\t\t\t\t\t\t\tself.observers.valid(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\t\tthis.observers.state.view.valueHasMutated(); // Forcing handlers in subscribe to setup\n\n\t\tthis.observers.settings.image_use_defaults.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tvar quality_defaults = {\n\t\t\t\t\t\ttiny: 80,\n\t\t\t\t\t\tsmall: 80,\n\t\t\t\t\t\tmedium: 85,\n\t\t\t\t\t\tmedium_large: 85,\n\t\t\t\t\t\tlarge: 85,\n\t\t\t\t\t\txlarge: 90,\n\t\t\t\t\t\thuge: 90\n\t\t\t\t\t},\n\t\t\t\t\tsharpening_defaults = {\n\t\t\t\t\t\ttiny: 0.7,\n\t\t\t\t\t\tsmall: 0.6,\n\t\t\t\t\t\tmedium: 0.6,\n\t\t\t\t\t\tmedium_large: 0.6,\n\t\t\t\t\t\tlarge: 0.6,\n\t\t\t\t\t\txlarge: 0.3,\n\t\t\t\t\t\thuge: 0\n\t\t\t\t\t};\n\n\t\t\t\t$.each(quality_defaults, function(name, value) {\n\t\t\t\t\tself.observers.settings['image_' + name + '_quality'](value);\n\t\t\t\t});\n\n\t\t\t\t$.each(sharpening_defaults, function(name, value) {\n\t\t\t\t\tself.observers.settings['image_' + name + '_sharpening'](value);\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tvar tz = [];\n\t\t$.each(moment.tz._zones, function(i, t) {\n\t\t\tvar offset = moment().tz(t.name).zone()/60;\n\t\t\t\toffset_label = '';\n\n\t\t\tif (offset > 0) {\n\t\t\t\toffset_label = ' (-' + offset + ' GMT)';\n\t\t\t} else if (offset < 0) {\n\t\t\t\toffset_label = ' (+' + Math.abs(offset) + ' GMT)';\n\t\t\t}\n\n\t\t\toffset_label = offset_label.replace('.5', ':30').replace('.75', ':45');\n\n\t\t\ttz.push({\n\t\t\t\tvalue: t.name,\n\t\t\t\tlabel: t.name.replace('_', ' ') + offset_label\n\t\t\t});\n\t\t});\n\n\t\tthis.observers.timezones = tz;\n\n\t\tthis.sync({\n\t\t\trequest: 'auth',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.applications(data.applications);\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.settings.use_default_labels_links.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tvar defaults = {\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tsingular: 'Content',\n\t\t\t\t\t\tplural: 'Content',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\talbum: {\n\t\t\t\t\t\tsingular: 'Album',\n\t\t\t\t\t\tplural: 'Albums',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\tset: {\n\t\t\t\t\t\tsingular: 'Set',\n\t\t\t\t\t\tplural: 'Sets'\n\t\t\t\t\t},\n\t\t\t\t\tessay: {\n\t\t\t\t\t\tsingular: 'Essay',\n\t\t\t\t\t\tplural: 'Essays',\n\t\t\t\t\t\turl: 'date+slug'\n\t\t\t\t\t},\n\t\t\t\t\tpage: {\n\t\t\t\t\t\tsingular: 'Page',\n\t\t\t\t\t\tplural: 'Pages',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\ttag: {\n\t\t\t\t\t\tsingular: 'Tag',\n\t\t\t\t\t\tplural: 'Tags'\n\t\t\t\t\t},\n\t\t\t\t\tcategory: {\n\t\t\t\t\t\tsingular: 'Category',\n\t\t\t\t\t\tplural: 'Categories'\n\t\t\t\t\t},\n\t\t\t\t\ttimeline: {\n\t\t\t\t\t\tsingular: 'Timeline',\n\t\t\t\t\t\tplural: 'Timeline'\n\t\t\t\t\t},\n\t\t\t\t\thome: 'Home'\n\t\t\t\t};\n\n\t\t\t\t$.each(defaults, function(key, info) {\n\t\t\t\t\tvar o = self.observers.url_data[key];\n\t\t\t\t\tif (key === 'home') {\n\t\t\t\t\t\to(info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.singular(info.singular);\n\t\t\t\t\t\to.plural(info.plural);\n\t\t\t\t\t}\n\t\t\t\t\tif (info.url) {\n\t\t\t\t\t\to.url(info.url);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\t$(document).on('change', 'select.update-observer', function() {\n\t\t\tself.observers.url_data[$(this).attr('data-obs')].url( $(this).val() );\n\t\t});\n\n\t\t$(document).trigger('settings.loaded');\n\n\t},\n\n\tevents: {\n\n\t\tclear_image_cache: function() {\n\t\t\tvar n = this.notify();\n\t\t\tn.wait('Clearing image cache');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'content/cache',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tn.success('Image cache cleared');\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclear_system_cache: function() {\n\t\t\tvar n = this.notify();\n\t\t\tn.wait('Clearing system caches');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'update/migrate/schema',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'system/clear_caches',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tn.success('System caches cleared');\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tbuild_image_cache: function() {\n\t\t\tvar _this = this;\n\t\t\tvar n = this.notify();\n\t\t\t_n = n.wait('Building image cache');\n\n\t\t\t(function _next(page) {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/cache/page:' + page,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.next_page) {\n\t\t\t\t\t\t\tvar pct = parseInt((data.next_page - 1) / data.total_pages * 100);\n\n\t\t\t\t\t\t\t_n.wait('Building image cache ' + pct + '% complete');\n\t\t\t\t\t\t\t_next.call(this, data.next_page);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tn.success('Image cache built');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).call(this, 1);\n\t\t},\n\n\t\tcreate_api_token: function() {\n\t\t\tvar o = this.observers.sheets.new_api_token,\n\t\t\t\tnotify = this.notify();\n\n\t\t\tnotify.wait('Creating');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: \"name=\" + o.name() + '&role=' + o.role(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tnotify.success('Token successfully created');\n\t\t\t\t\tthis.events.toggle_sheet('new_api_token');\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttoggle_plugin: function(el) {\n\t\t\tthis.controllers.toggle_plugin(ko.dataFor(el[0]));\n\t\t},\n\n\t\tdeny_app_access: function() {\n\t\t\tvar cb = this.observers.application_request.callback();\n\n\t\t\tif (cb === 'oob') {\n\t\t\t\t$.bbq.pushState('/settings/applications', 2);\n\t\t\t} else {\n\t\t\t\tlocation.href = cb;\n\t\t\t}\n\t\t},\n\n\t\trevoke_app_access: function(el, parent) {\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\tnotify = this.notify();\n\n\t\t\tnotify.wait('Revoking');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth/' + d.id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t\tnotify.success(d.name + ' access has been revoked');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgrant_app_access: function() {\n\n\t\t\tvar props = [];\n\t\t\t$.each( this.observers.application_request, function(i, obs) {\n\t\t\t\tif (i === 'callback' || i === 'active') return;\n\t\t\t\tprops.push( i + '=' + obs() );\n\t\t\t});\n\n\t\t\tprops.push('user_id=' + this.session().user.id);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth/grant',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: props.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar cb = this.observers.application_request.callback();\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t\tif (cb === 'oob') {\n\t\t\t\t\t\t$.bbq.pushState('/settings/applications/granted', 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.href = cb;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsend_test_email: function() {\n\t\t\tvar delivery_address = this.observers.settings.email_delivery_address(),\n\t\t\t\tsender = this.observers.settings.email_handler();\n\n\t\t\tvar n = this.notify().wait('Sending test email');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'settings/test_email',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'delivery_address=' + encodeURIComponent(delivery_address) + '&sender=' + sender,\n\t\t\t\tfinished: function() {\n\t\t\t\t\tn.success('Test email sent to ' + delivery_address);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsave_plugin: function() {\n\t\t\tvar payload = [],\n\t\t\t\tvalid = true,\n\t\t\t\tnew_data = [],\n\t\t\t\tself = this;\n\n\t\t\t$.each( this.observers.edit_plugin_data(), function(i, data) {\n\t\t\t\tvar val;\n\t\t\t\tif (data.type === 'hidden') {\n\t\t\t\t\tval = data.value;\n\t\t\t\t} else {\n\t\t\t\t\tvar input = $('#plugin-edit-' + data.key);\n\t\t\t\t\tval = input.val();\n\n\t\t\t\t\tif (input.attr('type') === 'checkbox') {\n\t\t\t\t\t\tval = input.is(':checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = val || '';\n\t\t\t\t\t\tval = val.toString().trim();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnew_data.push( $.extend({}, data, { value: val }));\n\t\t\t\tpayload.push(data.key + '=' + encodeURIComponent(val));\n\t\t\t});\n\n\t\t\tif (valid) {\n\t\t\t\tvar plugin = ko.utils.arrayFirst( this.observers.plugins(), function(item) {\n\t\t\t\t\treturn item.path == self.observers.edit_plugin().path;\n\t\t\t\t});\n\n\t\t\t\tplugin.data = new_data;\n\n\t\t\t\tvar notify = this.notify();\n\n\t\t\t\tnotify.wait('Saving');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins/' + this.observers.edit_plugin().id,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: payload.join('&'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(data.error);\n\t\t\t\t\t\t\tnotify.warn('Settings did not save.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplugin.setup = true;\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(false);\n\t\t\t\t\t\t\tnotify.success('Settings successfully saved');\n\t\t\t\t\t\t\tlocation.hash = '#/settings/plugins';\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'settings',\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.observers.reset_settings(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsave: function() {\n\t\t\tvar props = [],\n\t\t\t\tself = this,\n\t\t\t\tvalid = true;\n\n\t\t\t$.each( this.observers.settings, function(i, obs) {\n\t\t\t\tif (i === '__site_url_has_changed') return true;\n\n\t\t\t\tvar val = obs();\n\t\t\t\tif (i === 'site_url') {\n\t\t\t\t\tif (self.observers.settings.__site_url_has_changed()) {\n\t\t\t\t\t\tval = val.replace(window.location.protocol + '//' + window.location.host, '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!/object object/i.test(val)) {\n\t\t\t\t\tprops.push( i + '=' + encodeURIComponent(val) );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(this.observers.url_data, function(key, data) {\n\t\t\t\tif (data.plural && data.plural().toLowerCase() === 'admin') {\n\t\t\t\t\tself.notify().warn('\"Admin\" is a reserved path and cannot be used for URLs. Please choose another label.');\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!valid) { return; }\n\n\t\t\tprops.push('url_data=' + encodeURIComponent(JSON.stringify(this.unmap(this.observers.url_data))));\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Saving');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'settings',\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: props.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.notify().warn(data.error);\n\t\t\t\t\t\t$('#Publishing input:first').get(0).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotify.success('Settings successfully saved');\n\t\t\t\t\t\tthis.observers.reset_settings(data);\n\t\t\t\t\t\tthis.observers.valid(false);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsave_user: function() {\n\n\t\t\tvar old = $('#oldpw').val(),\n\t\t\t\tnew_pwd = $('#pw1').val(),\n\t\t\t\tconfirm_pwd = $('#pw2').val(),\n\t\t\t\tsave_password = false;\n\n\t\t\tvar save = $.proxy( function() {\n\n\t\t\t\tvar props = [];\n\t\t\t\t$.each( this.observers.user, function(i, obs) {\n\t\t\t\t\tif (/_on$/.test(i)) return;\n\n\t\t\t\t\tif (typeof obs() === 'string') {\n\t\t\t\t\t\tprops.push( i + '=' + encodeURIComponent(obs()) );\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (save_password) {\n\t\t\t\t\tprops.push('password=' + encodeURIComponent(save_password));\n\t\t\t\t}\n\n\t\t\t\tvar notify = this.notify();\n\t\t\t\tnotify.wait('Saving');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/' + this.observers.user.id(),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: props.join('&'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnotify.success('Administrator information saved');\n\t\t\t\t\t\tvar old = this._session;\n\t\t\t\t\t\told.user = data;\n\t\t\t\t\t\tthis.session( old );\n\t\t\t\t\t\tthis.map( this.observers.user, data);\n\t\t\t\t\t\tthis.observers.valid(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, this);\n\n\t\t\tif (old.length || new_pwd.length || confirm_pwd.length) {\n\t\t\t\tif (!old.length) {\n\t\t\t\t\t$('#pwd_error').text('To change your password you must first enter your current password.').show();\n\t\t\t\t\t$('#oldpw')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!new_pwd.length) {\n\t\t\t\t\t$('#pwd_error').text('Please enter a new password.').show();\n\t\t\t\t\t$('#pw1')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (new_pwd !== confirm_pwd) {\n\t\t\t\t\t$('#pwd_error').text('Your new password must match in both new password fields.').show();\n\t\t\t\t\t$('#pw2')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/verify_password',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: 'password=' + encodeURIComponent(old),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif ( data && data.error ) {\n\t\t\t\t\t\t\t$('#pwd_error').text('The current password you entered is not correct.').show();\n\t\t\t\t\t\t\t$('#oldpw')[0].focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#pwd_error').hide();\n\t\t\t\t\t\t\tsave_password = new_pwd;\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$('#pwd_error').hide();\n\t\t\t\tsave();\n\t\t\t}\n\n\t\t},\n\n\t\thelp: function(el,parent) {\n\n\t\t\tif ( ! parent.hasClass('open') ) {\n\t\t\t\tparent.addClass('open');\n\t\t\t\tparent.parent().find('div').slideDown();\n\t\t\t} else {\n\t\t\t\tparent.parent().find('div').slideUp( 250, function() {\n\t\t\t\t\tparent.removeClass('open');\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_license: function(el,parent) {\n\n\t\t\tvar commons = $('#commons_group');\n\n\t\t\tif ( el.is(':checked') ) {\n\t\t\t\tthis.observers.settings.uploading_default_license('n,n');\n\n\t\t\t\t// Because KO keeps wanting to override this checkbox with its own internal checking we are circumventing it\n\t\t\t\tif (this.observers.settings.uploading_default_license().substr(0,1) === 'n' || this.observers.settings.uploading_default_license() == 'all') {\n\t\t\t\t\t$('#l_n2').prop('checked', true);\n\t\t\t\t} else {\n\t\t\t\t\t$('#l_n2').prop('checked', false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.observers.settings.uploading_default_license('all');\n\t\t\t}\n\n\t\t},\n\n\t\tcommons_change: function(el, parent) {\n\t\t\tthis.observers.settings.uploading_default_license(\n\t\t\t\tparent.find('input[name=lic2]:checked').val() + ',' + parent.find('input[name=lic3]:checked').val()\n\t\t\t);\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'(console|administrator|importing|publishing|photos|applications|plugins|email|system|cache|advanced)(\\/(.*))?': function(matches) {\n\n\t\t\t\tif (matches[1] === 'system' && this.observers.settings.disable_system_info && this.observers.settings.disable_system_info()) {\n\t\t\t\t\t$.bbq.pushState('/settings', 2);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'applications' && matches[2]) {\n\t\t\t\t\tif (matches[2] === '/granted') {\n\t\t\t\t\t\tthis.observers.application_request.active(false);\n\t\t\t\t\t\tthis.observers.application_request.complete(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar r = /([a-z_]+):([^\\/]+)/g;\n\n\t\t\t\t\t\twhile (( param = r.exec(matches[2])) !== null ) {\n\t\t\t\t\t\t\tthis.observers.application_request[param[1]]( decodeURIComponent(param[2]) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.observers.application_request.active(true);\n\t\t\t\t\t\tthis.observers.application_request.complete(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.application_request.active(false);\n\t\t\t\t\tthis.observers.application_request.complete(false);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'plugins' && matches[2]) {\n\t\t\t\t\tif (matches[2].indexOf('/install/') === 0 && /[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/.test(matches[2])) {\n\t\t\t\t\t\tthis.observers.state.view('plugins');\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\turi = matches[2].replace('/install/', '').split(':'),\n\t\t\t\t\t\t\tslug = uri[0],\n\t\t\t\t\t\t\tguids = uri[1].split('/'),\n\t\t\t\t\t\t\tguid = guids[0],\n\t\t\t\t\t\t\tpurchase = guids.length > 1 ? '&purchase=' + guids[1] : '',\n\t\t\t\t\t\t\tpath = 'plugins/' + slug + '-' + guid,\n\t\t\t\t\t\t\tn = '&new=1';\n\n\t\t\t\t\t\t$.each(this.observers.user_plugins(), function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.koken_store_guid === guid) {\n\t\t\t\t\t\t\t\tpath = 'plugins/' + plugin.path + (plugin.id ? '&id=' + plugin.id : '');\n\t\t\t\t\t\t\t\tn = '';\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout( $.proxy(function() {\n\t\t\t\t\t\t\tthis.classes.modal.install_plugin.show();\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid() + n + purchase,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tif (data.done) {\n\t\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.process_plugin_data(d, true);\n\t\t\t\t\t\t\t\t\t\t\t\t// Not using bbq here as it doesn't have a replaceState\n\t\t\t\t\t\t\t\t\t\t\t\t// and we don't want the install URL in the history\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: still ends up in lastHash, which can cause probs.\n\t\t\t\t\t\t\t\t\t\t\t\thistory.replaceState('', '', '#/settings/plugins');\n\t\t\t\t\t\t\t\t\t\t\t\tthis.classes.modal.install_plugin.hide();\n\t\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(data.info.name + ' installed');\n\n\t\t\t\t\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// TODO\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, this), 500);\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar plugin = ko.utils.arrayFirst( this.observers.plugins(), function(item) {\n\t\t\t\t\t\t\treturn item.path == matches[2].substr(1);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (plugin) {\n\t\t\t\t\t\t\tthis.observers.edit_plugin(plugin);\n\t\t\t\t\t\t\tthis.observers.edit_plugin_data(plugin.data || []);\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(false);\n\n\t\t\t\t\t\t\t// Check if plugin has validations to determine if the save button\n\t\t\t\t\t\t\t// should be enabled/disabled on page load\n\t\t\t\t\t\t\tvar doesNotHaveValidations = true;\n\t\t\t\t\t\t\t$.each(plugin.data, function(i,plugin) {\n\t\t\t\t\t\t\t\tif (plugin.validation) {\n\t\t\t\t\t\t\t\t\tdoesNotHaveValidations = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.observers.valid(doesNotHaveValidations);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocation.hash = '#/settings/plugins';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.edit_plugin(false);\n\t\t\t\t\tthis.observers.edit_plugin_data([]);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'plugins' && matches[2]) {\n\t\t\t\t\tthis.observers.state.view('plugins_edit');\n\t\t\t\t\t$('#container').trigger('settings.edit.' + plugin.php_class_name);\n\t\t\t\t\tif ($('#plugin_settings input').length) {\n\t\t\t\t\t\t$('#plugin_settings input:first').trigger('change');\n\n\t\t\t\t\t\t$('input[type=\"ccolor\"]').spectrum({\n\t\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ($('.plugin-upload').length) {\n\t\t\t\t\t\t\tthis.interfaces.app.controllers.plugin_upload.init.call(this.interfaces.settings, $('.plugin-upload'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.state.view(matches[1]);\n\t\t\t\t}\n\n\t\t\t\t$(window).trigger('resize');\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tobservers: function() {\n\n\t\treturn {\n\n\t\t\tdate: function(format, timestamp) {\n\t\t\t\tvar that = this,\n\t\t\t\t\tjsdate, f, formatChr = /\\\\?([a-z])/gi,\n\t\t\t\t\tformatChrCb,\n\t\t\t\t\t// Keep this here (works, but for code commented-out\n\t\t\t\t\t// below for file size reasons)\n\t\t\t\t\t//, tal= [],\n\t\t\t\t\t_pad = function (n, c) {\n\t\t\t\t\t\tif ((n = n + '').length < c) {\n\t\t\t\t\t\t\treturn new Array((++c) - n.length).join('0') + n;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn n;\n\t\t\t\t\t},\n\t\t\t\t\ttxt_words = [\"Sun\", \"Mon\", \"Tues\", \"Wednes\", \"Thurs\", \"Fri\", \"Satur\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\t\t\t\tformatChrCb = function (t, s) {\n\t\t\t\t\treturn f[t] ? f[t]() : s;\n\t\t\t\t};\n\t\t\t\tf = {\n\t\t\t\t\t// Day\n\t\t\t\t\td: function () { // Day of month w/leading 0; 01..31\n\t\t\t\t\t\treturn _pad(f.j(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tD: function () { // Shorthand day name; Mon...Sun\n\t\t\t\t\t\treturn f.l().slice(0, 3);\n\t\t\t\t\t},\n\t\t\t\t\tj: function () { // Day of month; 1..31\n\t\t\t\t\t\treturn jsdate.getDate();\n\t\t\t\t\t},\n\t\t\t\t\tl: function () { // Full day name; Monday...Sunday\n\t\t\t\t\t\treturn txt_words[f.w()] + 'day';\n\t\t\t\t\t},\n\t\t\t\t\tN: function () { // ISO-8601 day of week; 1[Mon]..7[Sun]\n\t\t\t\t\t\treturn f.w() || 7;\n\t\t\t\t\t},\n\t\t\t\t\tS: function () { // Ordinal suffix for day of month; st, nd, rd, th\n\t\t\t\t\t\tvar j = f.j();\n\t\t\t\t\t\treturn j < 4 | j > 20 && ['st', 'nd', 'rd'][j%10 - 1] || 'th';\n\t\t\t\t\t},\n\t\t\t\t\tw: function () { // Day of week; 0[Sun]..6[Sat]\n\t\t\t\t\t\treturn jsdate.getDay();\n\t\t\t\t\t},\n\t\t\t\t\tz: function () { // Day of year; 0..365\n\t\t\t\t\t\tvar a = new Date(f.Y(), f.n() - 1, f.j()),\n\t\t\t\t\t\t\tb = new Date(f.Y(), 0, 1);\n\t\t\t\t\t\treturn Math.round((a - b) / 864e5) + 1;\n\t\t\t\t\t},\n\n\t\t\t\t\t// Week\n\t\t\t\t\tW: function () { // ISO-8601 week number\n\t\t\t\t\t\tvar a = new Date(f.Y(), f.n() - 1, f.j() - f.N() + 3),\n\t\t\t\t\t\t\tb = new Date(a.getFullYear(), 0, 4);\n\t\t\t\t\t\treturn _pad(1 + Math.round((a - b) / 864e5 / 7), 2);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Month\n\t\t\t\t\tF: function () { // Full month name; January...December\n\t\t\t\t\t\treturn txt_words[6 + f.n()];\n\t\t\t\t\t},\n\t\t\t\t\tm: function () { // Month w/leading 0; 01...12\n\t\t\t\t\t\treturn _pad(f.n(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tM: function () { // Shorthand month name; Jan...Dec\n\t\t\t\t\t\treturn f.F().slice(0, 3);\n\t\t\t\t\t},\n\t\t\t\t\tn: function () { // Month; 1...12\n\t\t\t\t\t\treturn jsdate.getMonth() + 1;\n\t\t\t\t\t},\n\t\t\t\t\tt: function () { // Days in month; 28...31\n\t\t\t\t\t\treturn (new Date(f.Y(), f.n(), 0)).getDate();\n\t\t\t\t\t},\n\n\t\t\t\t\t// Year\n\t\t\t\t\tL: function () { // Is leap year?; 0 or 1\n\t\t\t\t\t\tvar j = f.Y();\n\t\t\t\t\t\treturn j%4==0 & j%100!=0 | j%400==0;\n\t\t\t\t\t},\n\t\t\t\t\to: function () { // ISO-8601 year\n\t\t\t\t\t\tvar n = f.n(),\n\t\t\t\t\t\t\tW = f.W(),\n\t\t\t\t\t\t\tY = f.Y();\n\t\t\t\t\t\treturn Y + (n === 12 && W < 9 ? -1 : n === 1 && W > 9);\n\t\t\t\t\t},\n\t\t\t\t\tY: function () { // Full year; e.g. 1980...2010\n\t\t\t\t\t\treturn jsdate.getFullYear();\n\t\t\t\t\t},\n\t\t\t\t\ty: function () { // Last two digits of year; 00...99\n\t\t\t\t\t\treturn (f.Y() + \"\").slice(-2);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Time\n\t\t\t\t\ta: function () { // am or pm\n\t\t\t\t\t\treturn jsdate.getHours() > 11 ? \"pm\" : \"am\";\n\t\t\t\t\t},\n\t\t\t\t\tA: function () { // AM or PM\n\t\t\t\t\t\treturn f.a().toUpperCase();\n\t\t\t\t\t},\n\t\t\t\t\tB: function () { // Swatch Internet time; 000..999\n\t\t\t\t\t\tvar H = jsdate.getUTCHours() * 36e2,\n\t\t\t\t\t\t\t// Hours\n\t\t\t\t\t\t\ti = jsdate.getUTCMinutes() * 60,\n\t\t\t\t\t\t\t// Minutes\n\t\t\t\t\t\t\ts = jsdate.getUTCSeconds(); // Seconds\n\t\t\t\t\t\treturn _pad(Math.floor((H + i + s + 36e2) / 86.4) % 1e3, 3);\n\t\t\t\t\t},\n\t\t\t\t\tg: function () { // 12-Hours; 1..12\n\t\t\t\t\t\treturn f.G() % 12 || 12;\n\t\t\t\t\t},\n\t\t\t\t\tG: function () { // 24-Hours; 0..23\n\t\t\t\t\t\treturn jsdate.getHours();\n\t\t\t\t\t},\n\t\t\t\t\th: function () { // 12-Hours w/leading 0; 01..12\n\t\t\t\t\t\treturn _pad(f.g(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tH: function () { // 24-Hours w/leading 0; 00..23\n\t\t\t\t\t\treturn _pad(f.G(), 2);\n\t\t\t\t\t},\n\t\t\t\t\ti: function () { // Minutes w/leading 0; 00..59\n\t\t\t\t\t\treturn _pad(jsdate.getMinutes(), 2);\n\t\t\t\t\t},\n\t\t\t\t\ts: function () { // Seconds w/leading 0; 00..59\n\t\t\t\t\t\treturn _pad(jsdate.getSeconds(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tu: function () { // Microseconds; 000000-999000\n\t\t\t\t\t\treturn _pad(jsdate.getMilliseconds() * 1000, 6);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Timezone\n\t\t\t\t\te: function () { // Timezone identifier; e.g. Atlantic/Azores, ...\n\t\t\t\t\t\t// The following works, but requires inclusion of the very large\n\t\t\t\t\t\t// timezone_abbreviations_list() function.\n\t\t\t/*              return that.date_default_timezone_get();\n\t\t\t*/\n\t\t\t\t\t\tthrow 'Not supported (see source code of date() for timezone on how to add support)';\n\t\t\t\t\t},\n\t\t\t\t\tI: function () { // DST observed?; 0 or 1\n\t\t\t\t\t\t// Compares Jan 1 minus Jan 1 UTC to Jul 1 minus Jul 1 UTC.\n\t\t\t\t\t\t// If they are not equal, then DST is observed.\n\t\t\t\t\t\tvar a = new Date(f.Y(), 0),\n\t\t\t\t\t\t\t// Jan 1\n\t\t\t\t\t\t\tc = Date.UTC(f.Y(), 0),\n\t\t\t\t\t\t\t// Jan 1 UTC\n\t\t\t\t\t\t\tb = new Date(f.Y(), 6),\n\t\t\t\t\t\t\t// Jul 1\n\t\t\t\t\t\t\td = Date.UTC(f.Y(), 6); // Jul 1 UTC\n\t\t\t\t\t\treturn 0 + ((a - c) !== (b - d));\n\t\t\t\t\t},\n\t\t\t\t\tO: function () { // Difference to GMT in hour format; e.g. +0200\n\t\t\t\t\t\tvar tzo = jsdate.getTimezoneOffset(),\n\t\t\t\t\t\t\ta = Math.abs(tzo);\n\t\t\t\t\t\treturn (tzo > 0 ? \"-\" : \"+\") + _pad(Math.floor(a / 60) * 100 + a % 60, 4);\n\t\t\t\t\t},\n\t\t\t\t\tP: function () { // Difference to GMT w/colon; e.g. +02:00\n\t\t\t\t\t\tvar O = f.O();\n\t\t\t\t\t\treturn (O.substr(0, 3) + \":\" + O.substr(3, 2));\n\t\t\t\t\t},\n\t\t\t\t\tT: function () { // Timezone abbreviation; e.g. EST, MDT, ...\n\t\t\t\t\t\t// The following works, but requires inclusion of the very\n\t\t\t\t\t\t// large timezone_abbreviations_list() function.\n\t\t\t/*              var abbr = '', i = 0, os = 0, default = 0;\n\t\t\t\t\t\tif (!tal.length) {\n\t\t\t\t\t\t\ttal = that.timezone_abbreviations_list();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (that.php_js && that.php_js.default_timezone) {\n\t\t\t\t\t\t\tdefault = that.php_js.default_timezone;\n\t\t\t\t\t\t\tfor (abbr in tal) {\n\t\t\t\t\t\t\t\tfor (i=0; i < tal[abbr].length; i++) {\n\t\t\t\t\t\t\t\t\tif (tal[abbr][i].timezone_id === default) {\n\t\t\t\t\t\t\t\t\t\treturn abbr.toUpperCase();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (abbr in tal) {\n\t\t\t\t\t\t\tfor (i = 0; i < tal[abbr].length; i++) {\n\t\t\t\t\t\t\t\tos = -jsdate.getTimezoneOffset() * 60;\n\t\t\t\t\t\t\t\tif (tal[abbr][i].offset === os) {\n\t\t\t\t\t\t\t\t\treturn abbr.toUpperCase();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t*/\n\t\t\t\t\t\treturn 'UTC';\n\t\t\t\t\t},\n\t\t\t\t\tZ: function () { // Timezone offset in seconds (-43200...50400)\n\t\t\t\t\t\treturn -jsdate.getTimezoneOffset() * 60;\n\t\t\t\t\t},\n\n\t\t\t\t\t// Full Date/Time\n\t\t\t\t\tc: function () { // ISO-8601 date.\n\t\t\t\t\t\treturn 'Y-m-d\\\\TH:i:sP'.replace(formatChr, formatChrCb);\n\t\t\t\t\t},\n\t\t\t\t\tr: function () { // RFC 2822\n\t\t\t\t\t\treturn 'D, d M Y H:i:s O'.replace(formatChr, formatChrCb);\n\t\t\t\t\t},\n\t\t\t\t\tU: function () { // Seconds since UNIX epoch\n\t\t\t\t\t\treturn jsdate / 1000 | 0;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.date = function (format, timestamp) {\n\t\t\t\t\tthat = this;\n\t\t\t\t\tjsdate = (timestamp == null ? new Date() : // Not provided\n\t\t\t\t\t\t(timestamp instanceof Date) ? new Date(timestamp) : // JS Date()\n\t\t\t\t\t\tnew Date(timestamp * 1000) // UNIX timestamp (auto-convert to int)\n\t\t\t\t\t);\n\t\t\t\t\treturn format.replace(formatChr, formatChrCb);\n\t\t\t\t};\n\t\t\t\treturn this.date(format, timestamp);\n\t\t\t},\n\t\t\tconsole_url: ko.observable(''),\n\t\t\tbase_url: ko.observable(''),\n\t\t\tapplications: ko.observableArray([]),\n\t\t\tedit_plugin: ko.observable(false),\n\t\t\tedit_plugin_error: ko.observable(false),\n\t\t\tedit_plugin_data: ko.observableArray([]),\n\t\t\tdate_options: [\n\t\t\t\t'F j, Y',\n\t\t\t\t'j F Y',\n\t\t\t\t'Y/m/d',\n\t\t\t\t'm/d/Y',\n\t\t\t\t'd/m/Y'\n\t\t\t],\n\t\t\ttime_options: [\n\t\t\t\t'g:i a',\n\t\t\t\t'g:i A',\n\t\t\t\t'H:i'\n\t\t\t],\n\t\t\tstate: {\n\t\t\t\tview: ko.observable('console'),\n\t\t\t\tview_clean: ko.observable('Console')\n\t\t\t},\n\n\t\t\tapplication_request: {\n\t\t\t\tname: ko.observable(''),\n\t\t\t\trole: ko.observable(''),\n\t\t\t\tcallback: ko.observable(''),\n\t\t\t\tnonce: ko.observable(''),\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\tcomplete: ko.observable(false)\n\t\t\t},\n\n\t\t\tsheets: {\n\t\t\t\tnew_api_token: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('new_api_token'),\n\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\trole: ko.observable('read'),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tthis.name('');\n\t\t\t\t\t\tthis.role('read');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdate_is_custom: ko.observable(false),\n\t\t\ttime_is_custom: ko.observable(false),\n\n\t\t\tcustom_time_change: function(obs, el) {\n\t\t\t\tobs.time_is_custom(true);\n\t\t\t\tvar val = $(el.target).val();\n\n\t\t\t\tif (val.length) {\n\t\t\t\t\tobs.settings.site_time_format( val );\n\t\t\t\t\t$('#custom_time_format_preview').text( obs.date(val) );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttime_change: function(obs, el) {\n\t\t\t\tvar val = $(el.target).val(),\n\t\t\t\t\tcustom = $('#custom_time_format').val() || '';\n\t\t\t\tif (val === 'custom') {\n\t\t\t\t\tif (custom.length) {\n\t\t\t\t\t\tobs.settings.site_time_format( custom );\n\t\t\t\t\t}\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').show();\n\t\t\t\t\tobs.time_is_custom(true);\n\t\t\t\t} else {\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').hide();\n\t\t\t\t\tobs.settings.site_time_format( val );\n\t\t\t\t\tobs.time_is_custom(false);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcustom_date_change: function(obs, el) {\n\t\t\t\tobs.date_is_custom(true);\n\t\t\t\tvar val = $(el.target).val();\n\n\t\t\t\tif (val.length) {\n\t\t\t\t\tobs.settings.site_date_format( val );\n\t\t\t\t\t$('#custom_date_format_preview').text( obs.date(val) );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdate_change: function(obs, el) {\n\t\t\t\tvar val = $(el.target).val(),\n\t\t\t\t\tcustom = $('#custom_date_format').val() || '';\n\n\t\t\t\tif (val === 'custom') {\n\t\t\t\t\tif (custom.length) {\n\t\t\t\t\t\tobs.settings.site_date_format( custom );\n\t\t\t\t\t}\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').show();\n\t\t\t\t\tobs.date_is_custom(true);\n\t\t\t\t} else {\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').hide();\n\t\t\t\t\tobs.settings.site_date_format( val );\n\t\t\t\t\tobs.date_is_custom(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremove_selected: function(a) {\n\t\t\t\t// Stupid hack to remove empty selected statements in inputs that KO insists on putting in\n\t\t\t\t$('[selected=\"\"]').removeAttr('selected');\n\t\t\t}\n\t\t};\n\n\t}\n\n};\n\n\t_Koken.prototype.site = {\n\n\tinit: function() {\n\n\t\tvar self\t\t= this,\n\t\t\tfirstRun\t= true;\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('site');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('site');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('site');\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('keydown', function(e) {\n\n\t\t\tif (e.target.tagName === 'INPUT') return;\n\n\t\t\tswitch( e.which ) {\n\n\t\t\t\tcase 83 :\n\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) {\n\t\t\t\t\t\t$('a[data-state=\"settings_panel\"]').first().trigger('click');\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 39 :\n\t\t\t\t\t$('a.fwd').trigger('click');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37 :\n\t\t\t\t\t$('a.back').trigger('click');\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t});\n\n\t\t// Exposing functions to window for access from iframe\n\t\twindow.__koken__ = {\n\t\t\tshortcuts: function(e) {\n\t\t\t\tvar ev = $.Event('keydown',e);\n\t\t\t\t$(window).trigger(e);\n\t\t\t},\n\t\t\tpanel: function() {\n\t\t\t\t$('#siteui-panel-settings').removeClass('move_offscreen');\n\t\t\t}\n\t\t};\n\n\t\tvar _self = this;\n\n\t\tvar run_expand = function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tif (!val) {\n\n\t\t\t\tvar panel\t= $('#siteui-panel-settings'),\n\t\t\t\t\tleft\t= parseInt( panel.css('left'), 10 );\n\n\t\t\t\tif ( !isNaN(left) && ( left + panel.width() ) > ( $('#siteui-iframe').width() - 200 ) ) {\n\t\t\t\t\tpanel.css({\n\t\t\t\t\t\tleft: 'auto',\n\t\t\t\t\t\tright: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (val) {\n\t\t\t\t$('#app').addClass('site-expand');\n\t\t\t} else {\n\t\t\t\t$('#app').removeClass('site-expand');\n\t\t\t}\n\n\t\t\tif (_self.classes.editor && _self.classes.editor.css) {\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.editor.css.editorWindow.focus();\n\t\t\t\t\tself.classes.editor.css.editorWindow.resize(true);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\tvar isNavBeingDragged;\n\t\t$('body')\n\t\t\t.on( 'mouseover', '.lib-nav li', function(e) {\n\t\t\t\tif (isNavBeingDragged) { return; }\n\t\t\t\t$(e.target).closest('li').find('.item-edit').show().addClass('edit-hoverable');\n\t\t\t\t$(e.target).closest('li').find('a.item').first().addClass('hoverable');\n\t\t\t})\n\t\t\t.on( 'mouseout', '.lib-nav li', function(e) {\n\t\t\t\tif (isNavBeingDragged) { return; }\n\t\t\t\tif ( $('#gear_pop').css('display') !== 'block' || $(e.target).closest('li').attr('id') != $('#gear_pop').data('id') ) {\n\t\t\t\t\t$(e.target).closest('li').find('.item-edit').show().removeClass('edit-hoverable');\n\t\t\t\t\t$(e.target).closest('li').find('a.item').first().removeClass('hoverable');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on( 'mousedown', '.lib-nav li', function(e) {\n\t\t\t\tisNavBeingDragged = true;\n\t\t\t})\n\t\t\t.on ( 'mouseup', '.lib-nav li', function(e) {\n\t\t\t\tisNavBeingDragged = false;\n\t\t\t});\n\n\t\tfunction settings_visibility(skip_deps) {\n\t\t\tskip_deps = skip_deps || false;\n\t\t\tvar els = skip_deps ? $('.group-wrap:not(.dependent)') : $('.group-wrap');\n\t\t\tels.show().each( function(i, g) {\n\t\t\t\tvar el = $(g);\n\t\t\t\tif (!el.find('div.theme_option').filter(function() {\n\t\t\t\t\treturn $(this).css('display') !== 'none';\n\t\t\t\t}).length) {\n\t\t\t\t\tel.hide();\n\t\t\t\t} else {\n\t\t\t\t\tel.show();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!$('#site-inspector .scroll_content div.group-wrap:visible').length) {\n\t\t\t\t$('#empty_settings').show();\n\t\t\t} else {\n\t\t\t\t$('#empty_settings').hide();\n\t\t\t}\n\t\t\t$(window).trigger('resize');\n\t\t}\n\n\t\t$(document).off('previewdomready').on('previewdomready', function(e) {\n\n\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument),\n\t\t\t\tpulses = win.find('[data-pulse-group]');\n\n\t\t\tif ( self.cookie('editor:state') && self.cookie('editor:state') === 'on' && $('.ace_editor').length <= 0 ) {\n\t\t\t\t$('a.button-ui[data-event=\"toggle_css_editor\"]').trigger('click');\n\t\t\t}\n\n\t\t\t$.each(pulses, function(i, pulse) {\n\n\t\t\t\tvar gear = $('<div/>').on('click', function() {\n\n\t\t\t\t\tself.observers.state.settings_panel(false);\n\t\t\t\t\twin.find('[data-pulse-group] div.cover').removeClass('active');\n\n\t\t\t\t\tif ( self.observers.sitepanel_pulse.title() == $(pulse).data('pulse-group') ) {\n\t\t\t\t\t\tself.observers.sitepanel_pulse.title('');\n\t\t\t\t\t\tself.observers.sitepanel_pulse.active( false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.sitepanel_pulse.active( true );\n\t\t\t\t\t\tself.observers.sitepanel_pulse.id( $(pulse).attr('id') );\n\t\t\t\t\t\tself.observers.sitepanel_pulse.title( $(pulse).data('pulse-group') );\n\t\t\t\t\t\t$(this).parent().addClass('active');\n\n\t\t\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K,\n\t\t\t\t\t\t\toverrides = $K.pulse.groups[$(pulse).data('pulse-group')];\n\n\t\t\t\t\t\tself.observers.override_pulse_settings(overrides);\n\n\t\t\t\t\t\tcheck_dependencies();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\t$(pulse).find('div.cover').remove();\n\n\t\t\t\t$('<div/>')\n\t\t\t\t\t.addClass('cover')\n\t\t\t\t\t.append(gear)\n\t\t\t\t\t.appendTo(pulse);\n\n\t\t\t});\n\t\t});\n\n\t\tfunction check_dependencies() {\n\n\t\t\tsettings_visibility();\n\n\t\t\t$('div.plugin-enabler').each(function(i, div) {\n\t\t\t\tvar $div = $(div);\n\t\t\t\tif ($div.find('input').is(':checked')) {\n\t\t\t\t\t$div.siblings('div.theme_option').show();\n\t\t\t\t} else {\n\t\t\t\t\t$div.siblings('div.theme_option').hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($('#pulse_option_transition_type').is(':visible')) {\n\t\t\t\tvar val = $('#pulse_option_transition_type').val();\n\t\t\t\t$('#pulse_option_transition_easing').parents('.theme_option')[ $.inArray( val, self.observers.pulse_transitions_that_ease() ) === -1 ? 'hide' : 'show' ]();\n\t\t\t}\n\n\t\t\t$('div.dependent').each( function(i, d) {\n\n\t\t\t\tvar data = ko.dataFor(d),\n\t\t\t\t\tel = $(d),\n\t\t\t\t\tshow = true;\n\n\t\t\t\tif (data.setting.scope && $.inArray(self.observers.state.loaded_page().path, data.setting.scope) === -1) {\n\t\t\t\t\tshow = false;\n\t\t\t\t} else if (data.setting.dependencies && data.setting.dependencies.conditions) {\n\t\t\t\t\tvar all = data.setting.dependencies.evaluate === \"all\";\n\n\t\t\t\t\t$.each( data.setting.dependencies.conditions, function(i, d) {\n\n\t\t\t\t\t\tvar c = $('#' + data.prefix + 'option_' + d.option);\n\n\t\t\t\t\t\tif (!c.length) {\n\t\t\t\t\t\t\tc = $('#' + data.prefix + 'option___scoped_' + self.observers.state.loaded_page().path.replace('.', '-') + '_' + d.option);\n\t\t\t\t\t\t\tif (!c.length) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tval = c.val();\n\t\t\t\t\t\tif (c.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\tval = c.is(':checked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar compare = ( d.hasOwnProperty('equals') && d.equals ) || ( d.hasOwnProperty('not') && d.not ) || ( d.hasOwnProperty('greater_than') && d.greater_than ) || ( d.hasOwnProperty('less_than') && d.less_than );\n\n\t\t\t\t\t\tif (compare === 'true') {\n\t\t\t\t\t\t\tcompare = true;\n\t\t\t\t\t\t} else if (compare === 'false') {\n\t\t\t\t\t\t\tcompare = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (c.is(':visible') && (d.hasOwnProperty('equals') && val == compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('not') && val != compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('greater_than') && val > compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('less_than') && val < compare)) {\n\t\t\t\t\t\t\tshow = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (show && !all || !show && all) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\tif (show) {\n\t\t\t\t\tel.show();\n\t\t\t\t} else {\n\t\t\t\t\tel.hide();\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tsettings_visibility(true);\n\t\t}\n\n\t\t$(document).off('previewready').on('previewready', function(e, url) {\n\n\t\t\t$('.sp-container').remove();\n\t\t\turl = url || false;\n\t\t\tvar siteframe\t= $('#siteui-iframe'),\n\t\t\t\tiframe\t\t= document.getElementById('siteui-iframe').contentWindow;\n\n\t\t\tif (url) {\n\t\t\t\tif (self.observers.state.iframe.cache) {\n\t\t\t\t\tself.observers.state.iframe.history.push(url);\n\t\t\t\t\tif ( self.observers.state.iframe.updateloc && ! firstRun ) {\n\t\t\t\t\t\tself.observers.state.iframe.location( self.observers.state.iframe.location() + 1 );\n\t\t\t\t\t\tself.observers.state.iframe.historycache().push(url);\n\t\t\t\t\t}\n\t\t\t\t\tif ( firstRun ) {\n\t\t\t\t\t\tself.observers.state.iframe.historycache([url]);\n\t\t\t\t\t\tfirstRun = false;\n\t\t\t\t\t}\n\t\t\t\t\tself.observers.state.iframe.updateloc = true;\n\t\t\t\t}\n\t\t\t\t// Need to force a switch here so that path updates on a page refresh (settings change, etc)\n\t\t\t\tself.observers.state.iframe.path(false);\n\t\t\t\tself.observers.state.iframe.path( url.replace(/&rand=[0-9]+/, '') );\n\t\t\t}\n\n\t\t\tcheck_dependencies();\n\n\t\t\tsiteframe.show();\n\t\t\t$('#siteui-frame').removeClass('loading');\n\n\t\t\t$( iframe.document ).bind('click', function() {\n\n\t\t\t\t// Hide the gear menu if its open when the iframe is clicked\n\t\t\t\tif ( $('.lib-nav').find('.hoverable').length > 0 ) {\n\t\t\t\t\t$(document).trigger('click.outside');\n\t\t\t\t}\n\n\t\t\t\tif ( self.observers.state.iframe.path() !== url ) {\n\t\t\t\t\tself.observers.state.iframe.cache = true;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tnew self.klass.colorpicker('site', $('input[type=\"ccolor\"]'));\n\n\t\t\t$('#siteui-panel-settings').draggable({\n\t\t\t\thandle: '.panel-handle h5',\n\t\t\t\tiframeFix: true,\n\t\t\t\tcontainment: 'parent'\n\t\t\t});\n\n\t\t\t$('#siteui-panel-pulse .modal-close').on('click', function() {\n\t\t\t\tself.observers.sitepanel_pulse.active(false);\n\t\t\t});\n\n\t\t\t$('#siteui-panel-pulse').draggable({\n\t\t\t\thandle: '.panel-handle h5',\n\t\t\t\tiframeFix: true,\n\t\t\t\tcontainment: 'parent'\n\t\t\t});\n\n\t\t});\n\n\t\t$(document).off('.siteinspector').on('keydown.siteinspector', '#site-inspector input', function(e) {\n\t\t\tif (e.which === 13) {\n\t\t\t\t$(this).blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tvar range_listen = false;\n\n\t\t// Listen for site settings and save when changed\n\t\t$(document).off('.settings').on('input.settings change_trigger.settings change.settings mouseup.settings colorupdate.settings', 'div.theme_option input, div.theme_option select', function(e) {\n\n\t\t\tif ( $(e.target).attr('type') === 'text' && e.type !== 'change_trigger' ) {\n\t\t\t\tvar el = $(e.target);\n\n\t\t\t\tif (el.data('timeout_id')) {\n\t\t\t\t\tclearTimeout(el.data('timeout_id'));\n\t\t\t\t}\n\n\t\t\t\tel.data('timeout_id', setTimeout(function() {\n\t\t\t\t\tel.trigger('change_trigger');\n\t\t\t\t}, 2000));\n\t\t\t}\n\n\t\t\tif (Object.keys(self.observers.site.settings_flat).length === 0) return;\n\n\t\t\tclearTimeout(range_listen);\n\t\t\tif (e.type === 'mouseup' && (e.target.tagName.toLowerCase() === 'select' || (e.target.tagName.toLowerCase() === 'input' && e.target.type === 'checkbox'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If an input with type=\"number\" stop\n\t\t\tif ( $(e.target).attr('type') === 'number' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar n = $(this).attr('name'),\n\t\t\t\twin = document.getElementById('siteui-iframe').contentDocument,\n\t\t\t\tlive_updates = n === '__style' ? 'reload' : self.observers.site.live_updates && (!self.observers.site.settings_flat[n] || !self.observers.site.settings_flat[n].reload_preview) && self.observers.site.live_updates[n] && self.observers.site.live_updates[n](),\n\t\t\t\tsave = true,\n\t\t\t\tli = $(this).parents('div.theme_option'),\n\t\t\t\tis_pulse = $(this).attr('id') && $(this).attr('id').indexOf('pulse') === 0,\n\t\t\t\tv;\n\n\t\t\tif (this.type === 'checkbox') {\n\t\t\t\tvar data = ko.dataFor(this);\n\t\t\t\tif (data.setting.values) {\n\t\t\t\t\tv = $(this).is(':checked') ? data.setting.values['true'] : data.setting.values['false'];\n\t\t\t\t} else {\n\t\t\t\t\tv = $(this).is(':checked');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tv = $(this).val();\n\t\t\t}\n\n\t\t\tif (n === '__style') {\n\n\t\t\t\tvar current = self.observers.site.style.key(),\n\t\t\t\t\tcurrent_style_defaults = [],\n\t\t\t\t\tnew_style_variables;\n\n\t\t\t\t$.each(self.observers.site.styles(), function(i, style) {\n\t\t\t\t\tif (style.key === v) {\n\t\t\t\t\t\tnew_style_variables = style.variables || {};\n\t\t\t\t\t} else if (style.key === current) {\n\t\t\t\t\t\tcurrent_style_defaults = style.variables || {};\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(self.observers.styled_settings, function(i, setting) {\n\n\t\t\t\t\tvar el = $('[name=' + setting + ']'),\n\t\t\t\t\t\tel_val = el.val();\n\t\t\t\t\t\tval = false,\n\t\t\t\t\t\tcurrent_style_default = current_style_defaults[setting] || false;\n\n\t\t\t\t\tif (current_style_default && typeof(current_style_default) === 'string' && ((m = current_style_default.match(/^#([a-z0-9]{3})$/)))) {\n\t\t\t\t\t\tcurrent_style_default += m[1];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el.length && (m = el_val.match(/^#([a-z0-9]{3})$/))) {\n\t\t\t\t\t\tel_val += m[1];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (new_style_variables[setting] !== undefined) {\n\t\t\t\t\t\tval = new_style_variables[setting];\n\t\t\t\t\t} else if (!current_style_default || el_val === current_style_default || Number(el_val) === current_style_default) {\n\t\t\t\t\t\tval = el.data('default-value');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (val !== false) {\n\n\t\t\t\t\t\tif (el.is(':checkbox')) {\n\t\t\t\t\t\t\tif (val === true || val === el.data('true-val')) {\n\t\t\t\t\t\t\t\tel.attr('checked', true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.attr('checked', false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (typeof val === 'string' && val.indexOf('rgba') === 0) {\n\t\t\t\t\t\t\t\tvar alpha,\n\t\t\t\t\t\t\t\t\tcolor = val.replace('rgba', 'rgb').replace(/,\\s?([0-9\\.]+)\\)$/, function(match) {\n\t\t\t\t\t\t\t\t\t\talpha = match.replace(/[^0-9\\.]/g, '')*100;\n\t\t\t\t\t\t\t\t\t\treturn ')';\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tvar alphaInput = el.parents('.theme_option').find('.coloralpha');\n\t\t\t\t\t\t\t\talphaInput.val(alpha);\n\t\t\t\t\t\t\t\talphaInput.siblings('span.display_value').text(alpha);\n\t\t\t\t\t\t\t\tel.spectrum('set', color);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (el.attr('type') === 'ccolor') {\n\t\t\t\t\t\t\t\t\tel.spectrum('set', val);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tel.val(val);\n\t\t\t\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\t\t\t\tel.siblings('span.display_value').text(val);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.site.settings_send[setting] = val;\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Mouseup only for range elements\n\t\t\tif (e.type === 'mouseup' && this.type != 'range') {\n\t\t\t\tif (live_updates) {\n\t\t\t\t\tsave = false;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.type === 'colorupdate') {\n\t\t\t\tsave = false;\n\t\t\t}\n\n\t\t\tif ($(this).siblings('span.display_value').length) {\n\t\t\t\t$(this).siblings('span.display_value').html(v);\n\t\t\t}\n\n\t\t\tif (li.find('.coloralpha').length && li.find('input[type=\"ccolor\"]').length) {\n\t\t\t\tvar root = li.find('input[type=\"ccolor\"]');\n\t\t\t\tis_pulse = root.attr('id').indexOf('pulse_') === 0;\n\t\t\t\tvar r = root.spectrum('get').toRgbString().replace('rgb(', 'rgba(');\n\t\t\t\tv = r.substr(0, r.length-1) + ',' + li.find('.coloralpha').val() / 100 + ')';\n\t\t\t\tn = root.attr('name');\n\t\t\t\tlive_updates = self.observers.site.live_updates && self.observers.site.live_updates[n] && self.observers.site.live_updates[n]();\n\t\t\t}\n\n\t\t\tif (live_updates && typeof live_updates === 'object') {\n\n\t\t\t\tvar style_text = '', lb_style_text = '';\n\n\t\t\t\t$.each( live_updates, function(i, obj) {\n\n\t\t\t\t\tvar template = obj.template.replace(/\\[?\\$([a-z_0-9]+)\\]?/g, function() {\n\n\t\t\t\t\t\tvar field = arguments[1];\n\n\t\t\t\t\t\tif (n === field) {\n\t\t\t\t\t\t\treturn v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $('#option_' + field).val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).replace(/to_rgb\\(#([0-9a-zA-z]{3,6})\\)/g, function() {\n\t\t\t\t\t\tvar color = arguments[1];\n\t\t\t\t\t\tif (color.length === 3) {\n\t\t\t\t\t\t\tcolor = color + color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn parseInt(color.substr(0, 2), 16) + ',' + parseInt(color.substr(2, 2), 16) + ',' + parseInt(color.substr(4, 2), 16);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (obj.lightbox) {\n\t\t\t\t\t\tlb_style_text += obj.selector + ' {' + obj.property + ': ' + template + '}';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle_text += obj.selector + ' {' + obj.property + ': ' + template + '}';\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tself.controllers.live_update_css(style_text, true);\n\t\t\t\tself.controllers.live_update_css(lb_style_text, true, true);\n\n\t\t\t} else if (self.observers.site.settings_flat[n] && !self.observers.site.settings_flat[n].reload_preview && $(win).find('[data-' + n + ']').length) {\n\n\t\t\t\tlive_updates = true;\n\n\t\t\t\tvar clean_v;\n\n\t\t\t\t$.each($(win).find('[data-' + n + ']'), function(i, control) {\n\t\t\t\t\tvar condition = $(control).data('control-condition').replace(/__setting.([a-z\\-_]+)/g, function(m) {\n\t\t\t\t\t\tvar el = $('#option_' + m.replace('__setting.', '')),\n\t\t\t\t\t\t\t_v;\n\n\t\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\tvar data = ko.dataFor(el.get(0));\n\t\t\t\t\t\t\tif (data.setting.values) {\n\t\t\t\t\t\t\t\t_v = el.is(':checked') ? data.setting.values['true'] : data.setting.values['false'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_v = el.is(':checked');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_v = el.val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_v !== true && _v !== false) {\n\t\t\t\t\t\t\t_v = \"'\" + _v + \"'\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn _v;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (eval(condition)) {\n\t\t\t\t\t\t$(control).css('display', 'inline');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(control).css('display', 'none');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif (live_updates) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t// Okkaaaaaay...for some reason we have to use the iframe's copy of jQuery to trigger the resize\n\t\t\t\t\tdocument.getElementById('siteui-iframe').contentWindow.$(document.getElementById('siteui-iframe').contentWindow).trigger('resize');\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tif (save) {\n\t\t\t\tif (is_pulse) {\n\t\t\t\t\tself.observers.site.pulse_settings_group = self.observers.sitepanel_pulse.title();\n\t\t\t\t\tself.observers.site.pulse_settings_send[n] = v;\n\t\t\t\t\tlive_updates = 'pulse';\n\t\t\t\t} else {\n\t\t\t\t\tvar s = self.observers.site.settings_flat[n];\n\t\t\t\t\tif (s.send_as) {\n\t\t\t\t\t\t$('[data-send-as=\"' + s.send_as() + '\"]').each(function(i, input) {\n\t\t\t\t\t\t\tvar el = $(input);\n\t\t\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\t\tvar data = ko.dataFor(input),\n\t\t\t\t\t\t\t\t\tchecked;\n\t\t\t\t\t\t\t\tif (data.setting.values) {\n\t\t\t\t\t\t\t\t\tchecked = v === data.settings.values[v ? 'true' : 'false'];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchecked = v;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tel.attr('checked', v);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.val(v);\n\t\t\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\t\t\tel.siblings('span.display_value').text(v);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tself.observers.site.settings_send[s.send_as ? s.send_as() : n] = v;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Only continue to save for ranges if the drag is finished\n\t\t\tif (this.type === 'range' && save) {\n\t\t\t\tclearTimeout(range_listen);\n\t\t\t\trange_listen = setTimeout(function() {\n\t\t\t\t\tself.events.save(false, live_updates);\n\t\t\t\t}, 1000);\n\t\t\t} else if (save) {\n\t\t\t\tself.events.save(false, live_updates);\n\t\t\t}\n\n\t\t});\n\n\t\t$(document).on('change', '#edit_link_data select.filter', function(e) {\n\n\t\t\tvar s = $(e.target),\n\t\t\t\tval = s.val(),\n\t\t\t\tp = s.parents('ol');\n\n\t\t\tp.find('select:not(.filter),input:not(.filter),').hide();\n\t\t\tp.find('.filter_' + val).show();\n\n\t\t});\n\n\t\tthis.events.refresh_site_data();\n\n\t\tthis.controllers.fetch_themes(function() {\n\t\t\tif (this.observers.state.type() === 'themes') {\n\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t}\n\t\t});\n\n\t\tthis.controllers.load_albums_full();\n\n\t\tthis.sync({\n\t\t\trequest: 'text/type:page',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.pages( data.text );\n\t\t\t}\n\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'drafts',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.sitepanel_pulse.active.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\t$('#siteui-panel-pulse').removeClass('move_offscreen');\n\t\t\t} else {\n\t\t\t\t$('#siteui-panel-pulse').addClass('move_offscreen');\n\t\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\t\t\t\twin.find('[data-pulse-group] div.cover').removeClass('active');\n\t\t\t\tthis.observers.sitepanel_pulse.title('');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.filter.subscribe( function(val) {\n\t\t\tsetTimeout( function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t}, 0);\n\t\t});\n\n\t\t$(document).on('change', '#source_filter_filter', function() {\n\t\t\tself.observers.sheets.source_filter.filter($(this).val());\n\t\t});\n\n\t\tthis.observers.sheets.source_filter.type.subscribe( function(val) {\n\t\t\tif (val === 'archive' || val === 'index') {\n\t\t\t\tif (val === 'archive') {\n\t\t\t\t\tthis.observers.sheets.source_filter.filter('date');\n\t\t\t\t\tthis.observers.sheets.source_filter.index_route = this.observers.sheets.source_filter.route;\n\t\t\t\t\tthis.observers.sheets.source_filter.route = {};\n\t\t\t\t\tthis.observers.sheets.source_filter.current(false);\n\t\t\t\t} else {\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.observers.sheets.source_filter.filter('none');\n\t\t\t\t\t});\n\t\t\t\t\tthis.observers.sheets.source_filter.route = this.observers.sheets.source_filter.index_route;\n\t\t\t\t}\n\t\t\t\tthis.observers.sheets.source_filter.category(0);\n\t\t\t\tthis.observers.sheets.source_filter.tags([]);\n\t\t\t\tthis.observers.sheets.source_filter.year(0);\n\t\t\t\tthis.observers.sheets.source_filter.month(0);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.tags.subscribe(function(val) {\n\t\t\tif (val.length <= 0) {\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.autocomplete.site.tags($('#source_filter input.widefilter_tag'), $('#source_filter input.widefilter_tag').parent(), $('#source_filter [data-event=\"add_filter_tag\"]'));\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.order_by.subscribe( function(val) {\n\t\t\tif (val.match(/_on$/) || val === 'count') {\n\t\t\t\tthis.observers.sheets.source_filter.order_direction('desc');\n\t\t\t} else {\n\t\t\t\tthis.observers.sheets.source_filter.order_direction('asc');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.preview.subscribe( function(val) {\n\n\t\t\tvar frame = $('#preview-frame'),\n\t\t\t\twrap = $('#preview-frame-wrap'),\n\t\t\t\tthumb = $('#preview-thumb-' + val),\n\t\t\t\ttop = $('#siteui-lcol-themes'),\n\t\t\t\tself = this,\n\t\t\t\tspeed = 400;\n\n\t\t\tif (val) {\n\n\t\t\t\tvar shade = $('<div />').attr('id', 'theme-preview-shade').appendTo('#theme-selection'),\n\t\t\t\t\tspriteCoords = {\n\t\t\t\t\t\ttop: thumb.offset().top - 54,\n\t\t\t\t\t\tleft: thumb.offset().left\n\t\t\t\t\t},\n\t\t\t\t\tsprite = thumb\n\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: spriteCoords.top,\n\t\t\t\t\t\t\tleft: spriteCoords.left\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.data('coords', spriteCoords)\n\t\t\t\t\t\t.on('load', function() {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tshade.animate({\n\t\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t\t}, speed);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr('id', 'theme-preview-sprite')\n\t\t\t\t\t\t.appendTo($('#themes-browse'));\n\n\t\t\t\t$('#theme-preview-info .theme-info').css('margin-top', thumb.height() + 33);\n\n\t\t\t\tframe.off('load').on('load', function() {\n\t\t\t\t\tif (frame.attr('src') === 'templates/blank.html') {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tvar css = {\n\t\t\t\t\t\t\t\tleft: 20\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// Necessary due to an odd issue in animated-enhanced\n\t\t\t\t\t\t\t// https://github.com/benbarnett/jQuery-Animate-Enhanced/issues/97\n\t\t\t\t\t\t\tif (spriteCoords.top !== 103) {\n\t\t\t\t\t\t\t\tcss.top = 103;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('#theme-preview-sprite').animate(css, speed);\n\t\t\t\t\t\t\t$('#theme-preview-wrap').animate({ left: 0 }, speed, function() {\n\t\t\t\t\t\t\t\tframe.attr('src', self.config.paths.base + 'preview.php?/&preview=' + val);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tframe.attr('src', 'templates/blank.html');\n\n\t\t\t} else {\n\t\t\t\t$('#theme-preview-shade').animate({opacity: 0}, speed, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\tvar coords = $('#theme-preview-sprite').data('coords');\n\n\t\t\t\tif (parseInt($('#theme-preview-sprite').css('top'), 10) === coords.top) {\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tleft: coords.left\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t$('#theme-preview-sprite').animate(coords, speed, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\tframe.off('load');\n\t\t\t\t$('#theme-preview-wrap').animate({ left: -$(window).width() }, speed, function() {\n\t\t\t\t\tframe.attr('src', 'templates/blank.html');\n\t\t\t\t\t$(this).css('left', '-100%');\n\t\t\t\t});\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.state.type.subscribe( function(val) {\n\n\t\t\tif (val === 'themes') {\n\t\t\t\t$('#theme-preview-shade').add('#theme-preview-sprite').remove();\n\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t\tif ( this.observers.state.expand() ) {\n\t\t\t\t\tthis.observers.state.expand(false);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar iframe = $('#siteui-iframe'),\n\t\t\t\tcurrent = iframe.attr('src') || '';\n\n\t\t\tif (val === 'live') {\n\t\t\t\tiframe.attr('src', this.config.paths.base).show();\n\t\t\t} else if (current.indexOf('/preview.php?/') === -1) {\n\t\t\t\tiframe.attr('src', this.config.paths.base + 'preview.php?/');\n\t\t\t}\n\n\t\t\tif (val === 'draft' && this.cookie('editor:state') && this.cookie('editor:state') === 'on' && $('#docked_editor').css('display') !== 'block') {\n\t\t\t\t$('.item[data-event=\"toggle_css_editor\"]').trigger('click');\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.state.expand.subscribe( run_expand, this );\n\n\t\tif ( this.observers.state.expand() === true ) {\n\t\t\trun_expand(true);\n\t\t}\n\n\t\tthis.observers.state.sidebar.subscribe( function(val) {\n\t\t\tsetTimeout( function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t\tsettings_visibility();\n\t\t\t}, 0);\n\t\t});\n\n\t\tthis.observers.site.custom_css.subscribe(function(val) {\n\t\t\tif (this.classes.editor && this.classes.editor.css.editorWindow.getValue() !== val) {\n\t\t\t\tthis.classes.editor.css.editorWindow.autosave = false;\n\t\t\t\tthis.classes.editor.css.editorWindow.setValue(val);\n\t\t\t\tthis.classes.editor.css.editorWindow.autosave = true;\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.editor.css.editorWindow.gotoLine(1);\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.editor_type.subscribe(function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.controllers.live_update_css( self.classes.editor.css.editorWindow.getValue() );\n\n\t\t\tif ( val === 'dock' ) {\n\t\t\t\t$('#docked_editor').empty();\n\t\t\t\t$('#siteui-css-editor-frame').appendTo('#docked_editor');\n\t\t\t} else {\n\t\t\t\t$('#undocked_editor').empty();\n\t\t\t\t$('#siteui-css-editor-frame').appendTo('#undocked_editor');\n\t\t\t}\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tself.classes.editor.css.editorWindow.focus();\n\t\t\t\tself.classes.editor.css.editorWindow.resize(true);\n\t\t\t});\n\n\t\t}, this);\n\n\t\tthis.observers.state.settings_panel.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tself.observers.sitepanel_pulse.active(false);\n\t\t\t\t$('#siteui-panel-pulse').addClass('move_offscreen');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.iframe.path.subscribe( function(val) {\n\n\t\t\tif (!val) return;\n\n\t\t\tval = val.replace( RegExp('^' + this.helpers.rtrim( this.config.paths.base, '/') + '(/(index|preview).php\\\\?)?'), '').replace(/&.*=.*$/, '');\n\n\t\t\tif (this.observers.state.type() != 'themes') {\n\t\t\t\tlocation.hash = '/site/' + this.observers.state.type() + '/' + this.observers.state.sidebar() + '/url:' + ( val || '/' );\n\t\t\t}\n\n\t\t\tif (this.observers.state.type() === 'draft') {\n\t\t\t\tvar self = this,\n\t\t\t\t\tt;\n\n\t\t\t\tthis.observers.state.iframe.rel_path( val );\n\n\t\t\t\tif (val === '/') {\n\t\t\t\t\t$.each(this.observers.site.navigation.items(), function(i, obj) {\n\t\t\t\t\t\tif (obj.front) {\n\t\t\t\t\t\t\tval = obj.path;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tval = val.replace(/\\/[a-z_]+:[^\\/]+/g, '').replace(/\\/$/, '') + '/';\n\n\t\t\t\t$.each(this.observers.site.routes(), function(i, obj) {\n\t\t\t\t\tif (obj.template && obj.template.indexOf('redirect:') === 0) return true;\n\t\t\t\t\tvar p = '^/?' + obj.path.substring(1).replace(/\\:[a-z_-]+/g, function(match) {\n\t\t\t\t\t\tif (match === ':year') {\n\t\t\t\t\t\t\treturn '[0-9]{4}';\n\t\t\t\t\t\t} else if (match === ':month' || match === ':day') {\n\t\t\t\t\t\t\treturn '[0-9]{1,2}';\n\t\t\t\t\t\t} else if (match === ':id') {\n\t\t\t\t\t\t\treturn '(?:(?:[0-9]+)|(?:[0-9a-z]{32}))';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '[^/]+';\n\t\t\t\t\t\t}\n\t\t\t\t\t}).replace(/\\?P<[^>]+>/, '').replace(/\\/\\$$/, '/?$').replace(/\\$$/, '') + '$';\n\n\t\t\t\t\tif (val.match(RegExp(p))) {\n\t\t\t\t\t\tt = obj;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!t) {\n\t\t\t\t\tt = {\n\t\t\t\t\t\ttemplate: val.replace(/\\//g, ''),\n\t\t\t\t\t\tpath: val\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (t) {\n\n\t\t\t\t\t$.each( this.observers.site.templates(), function(i, obj) {\n\t\t\t\t\t\tif (obj.path === t.template) {\n\t\t\t\t\t\t\tif (t.source) {\n\t\t\t\t\t\t\t\tobj.info.source = t.source;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (t.filters) {\n\t\t\t\t\t\t\t\tobj.info.filters = t.filters;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (obj.info.source) {\n\t\t\t\t\t\t\t\tvar label = '', hash, filters = [];\n\t\t\t\t\t\t\t\tif (obj.info.source.collection) {\n\t\t\t\t\t\t\t\t\tlabel = 'All public ' + obj.info.source.collection;\n\n\t\t\t\t\t\t\t\t\tif (obj.info.source.featured) {\n\t\t\t\t\t\t\t\t\t\tlabel.replace('public', 'featured');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (obj.info.source.category) {\n\t\t\t\t\t\t\t\t\t\tvar cat = ko.utils.arrayFirst(self.observers.categories(), function(item) {\n\t\t\t\t\t\t\t\t\t\t\treturn item.id == obj.info.source.category;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tlabel += ' in category \"' + cat.title + '\"';\n\t\t\t\t\t\t\t\t\t} else if (obj.info.source.tag) {\n\t\t\t\t\t\t\t\t\t\tlabel += ' tagged with \"' + obj.info.source.tag + '\"';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tobj.info.source_label = label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.observers.state.loaded_route(t);\n\t\t\t\t\t\t\tself.observers.state.loaded_page(obj);\n\n\t\t\t\t\t\t\tvar is_sub_archive = false,\n\t\t\t\t\t\t\t\tcurrent_page_nav =  $('.lib-nav .selected').length;\n\n\t\t\t\t\t\t\tif (obj.info.source === 'timeline') {\n\t\t\t\t\t\t\t\tvar matches = self.observers.state.iframe.rel_path().match(RegExp(t.path.substr(1).replace(':year', '([0-9]{4})').replace(':month', '([0-9]{1,2})')));\n\t\t\t\t\t\t\t\tis_sub_archive = matches && matches.length > 1 && !isNaN(matches[1]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.sheets.source_filter.available(\n\t\t\t\t\t\t\t\t(obj.info.source === 'timeline' && (!t.section || (is_sub_archive && current_page_nav))) ||\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t$.inArray(obj.info.source, ['contents', 'favorites', 'featured_albums', 'albums', 'sets', 'album', 'set', 'essays', 'tags', 'categories']) !== -1 &&\n\t\t\t\t\t\t\t\t\t(!t.section || $.inArray(obj.info.source, ['contents', 'favorites', 'albums', 'album', 'set', 'sets', 'essays']) === -1)\n\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t( $.inArray(obj.info.source, [ 'tag', 'category', 'archive' ]) !== -1 && ( current_page_nav || t.path.indexOf(':') === -1 ))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this );\n\n\t\tthis.observers.sheets.edit_nav.active.subscribe( function(val) {\n\t\t\tif ( val === true ) {\n\t\t\t\tvar self = this;\n\t\t\t\t$('#primary_links').sortable({\n\t\t\t\t\taxis: 'y',\n\t\t\t\t\tplaceholder: 'links-place',\n\t\t\t\t\tcontainment: 'parent',\n\t\t\t\t\tcancel: '#primary_links .head',\n\t\t\t\t\thandle: '.drag',\n\t\t\t\t\titems: 'li.listed',\n\t\t\t\t\tupdate: function() {\n\t\t\t\t\t\tvar nav = [];\n\t\t\t\t\t\t$('#primary_links li').not('.head').each( function(k,v) {\n\t\t\t\t\t\t\tnav.push(ko.dataFor(v));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Necessary for some reason, otherwise the table gets funky\n\t\t\t\t\t\tself.observers.site.navigation_draft([]);\n\t\t\t\t\t\tself.observers.site.navigation_draft(nav);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.site.templates.subscribe( function(val) {\n\n\t\t\tvar index = [],\n\t\t\t\tspecial = [],\n\t\t\t\tspecial_paths = [],\n\t\t\t\tarchives = [],\n\t\t\t\ttmp = {},\n\t\t\t\tself = this;\n\n\t\t\tthis.observers.site.has_page_template(false);\n\n\t\t\t$.each( val, function(i, template) {\n\t\t\t\ttmp[template.path] = template;\n\t\t\t\tif (template.info.source === 'page') {\n\t\t\t\t\tself.observers.site.has_page_template(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.sheets.source_filter.templates.supported_archives([]);\n\n\t\t\t$.each( this.observers.site.templates(), function(i, template) {\n\n\t\t\t\tif (/.rss$/.test(template.path)) return true;\n\n\t\t\t\ttemplate.info.path = template.path;\n\n\t\t\t\tif (template.path === 'timeline' || (template.info.source && $.inArray(template.info.source, [ 'albums', 'contents', 'essays', 'featured_albums', 'featured_content', 'favorites']) !== -1)) {\n\t\t\t\t\tif (template.path === 'timeline') {\n\t\t\t\t\t\ttemplate.info.source = 'timeline';\n\t\t\t\t\t// If template path === source, it is a core section, so skip. UNLESS featured, which aren't core\n\t\t\t\t\t} else if (template.path !== template.info.source || template.info.source.indexOf('featured') === 0) {\n\t\t\t\t\t\tindex.push(template.info);\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(template.path, [ 'archive.essays', 'archive.contents', 'archive.albums']) !== -1) {\n\t\t\t\t\tself.observers.sheets.source_filter.templates.supported_archives.push( template.path.match(/archive\\.(essays|contents|albums)/)[1] );\n\t\t\t\t} else if (template.path === 'date') {\n\t\t\t\t\tself.observers.sheets.source_filter.templates.supported_archives.push('date');\n\t\t\t\t} else if (!template.info.source) {\n\t\t\t\t\tspecial.push(template.info);\n\t\t\t\t\tspecial_paths.push(template.info.path);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.observers.site.templates_grouped.indexes( index.reverse() );\n\t\t\tthis.observers.site.templates_grouped.specials( special );\n\t\t\tthis.observers.site.templates_grouped.special_paths( special_paths );\n\n\t\t}, this);\n\n\t},\n\n\tcontrollers: {\n\n\t\tlive_update_css: function(cssText, append, lightbox) {\n\n\t\t\tappend = append || false;\n\t\t\tlightbox = lightbox || false;\n\n\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\n\t\t\tif (lightbox) {\n\t\t\t\tvar lb = win.find('#k-lightbox-iframe');\n\t\t\t\tif (lb.length) {\n\t\t\t\t\twin = $(lb.get(0).contentDocument);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\tstyle = append ? win.find('style.__live') : win.find('#koken_custom_css');\n\n\t\t\tif (!style.length) {\n\t\t\t\tstyle = $('<style/>').addClass('__live');\n\t\t\t\twin.find('#koken_custom_css').before(style);\n\t\t\t}\n\n\t\t\tif (append) {\n\t\t\t\tcssText = style.text() + cssText;\n\t\t\t}\n\n\t\t\tstyle.text( cssText );\n\t\t},\n\n\t\tload_theme_previews: function() {\n\t\t\tvar intId = setInterval(function() {\n\t\t\t\tif (!$('#themes-browse li.loading').length) return;\n\t\t\t\tclearInterval(intId);\n\t\t\t\t$('#themes-browse li.loading').each(function(i, li) {\n\t\t\t\t\tvar img = $(li).find('img:first');\n\t\t\t\t\tif (img.attr('src') && img.attr('src').indexOf('data:') === -1) return;\n\t\t\t\t\timg.bind('load', function() {\n\t\t\t\t\t\t$(this).animate({opacity: 1}, 400, function() {\n\t\t\t\t\t\t\t$(li).removeClass('loading');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\timg.attr('src', img.data('src'));\n\t\t\t\t});\n\t\t\t}, 20);\n\t\t},\n\n\t\tparse_filters: function(filters) {\n\t\t\tvar obj = {};\n\t\t\t$.each(filters, function(i, f) {\n\t\t\t\tif (f.indexOf('=') === 0) {\n\t\t\t\t\tobj[f] = true;\n\t\t\t\t} else {\n\t\t\t\t\tvar bits = f.split('=');\n\t\t\t\t\tobj[bits[0]] = bits[0] === 'tags' ? bits[1].split(',') : bits[1];\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn obj;\n\t\t}\n\n\t},\n\n\tevents: {\n\n\t\ttoggle_css_editor: function() {\n\n\t\t\tif ( this.observers.state.mid_col() === 'preview' && $('#undocked_editor').html() !== '' && this.classes.editor ) {\n\t\t\t\tthis.observers.state.mid_col('custom_css');\n\t\t\t\tthis.cookie( 'editor:state', 'on' );\n\t\t\t} else if ( this.observers.state.mid_col() === 'preview' && this.observers.state.editor_type() === 'dock' ) {\n\t\t\t\tthis.observers.state.mid_col('custom_css');\n\t\t\t\tthis.cookie( 'editor:state', 'on' );\n\t\t\t\tnew this.klass.editor('css', this.observers.site.custom_css(), 'siteui-css-editor');\n\t\t\t} else {\n\t\t\t\tthis.cookie( 'editor:state', 'off' );\n\t\t\t\tthis.observers.state.mid_col('preview');\n\t\t\t}\n\n\t\t\tif (this.observers.state.mid_col() === 'custom_css') {\n\t\t\t\tvar self = this,\n\t\t\t\t\tid;\n\t\t\t\tthis.classes.editor.css.editorWindow.focus();\n\t\t\t\tthis.classes.editor.css.editorWindow.clearSelection();\n\t\t\t\tthis.classes.editor.css.editorWindow.gotoLine(1);\n\t\t\t\tthis.classes.editor.css.editorWindow.on('change', function(e) {\n\t\t\t\t\tif (!self.classes.editor.css.editorWindow.autosave) return;\n\t\t\t\t\tclearTimeout(id);\n\t\t\t\t\tvar val = self.classes.editor.css.editorWindow.getValue();\n\t\t\t\t\tself.observers.site.custom_css(val);\n\t\t\t\t\tif (self.observers.state.editor_type() === 'dock') {\n\t\t\t\t\t\tself.controllers.live_update_css(val);\n\t\t\t\t\t}\n\t\t\t\t\tid = setTimeout(function() {\n\t\t\t\t\t\tself.events.save(false, true);\n\t\t\t\t\t}, 1000);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.classes.editor.css.editorWindow.resize(true);\n\n\t\t},\n\n\t\ttoggle_editor_theme: function() {\n\n\t\t\tvar editor = this.classes.editor.css.editorWindow,\n\t\t\t\tkokentheme = 'ace/theme/koken',\n\t\t\t\tkokenlighttheme = 'ace/theme/kokenlight';\n\n\t\t\tif ( editor.getTheme() === kokentheme ) {\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#fff');\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokenlighttheme + '\"' );\n\t\t\t\teditor.setTheme(kokenlighttheme);\n\t\t\t} else {\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#141414');\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokentheme + '\"' );\n\t\t\t\teditor.setTheme(kokentheme);\n\t\t\t}\n\n\t\t\teditor.focus();\n\n\t\t},\n\n\t\tcheck_for_custom_styling: function() {\n\t\t\tvar style = this.observers.site.style,\n\t\t\t\tself = this,\n\t\t\t\tcustom = false;\n\n\t\t\tif (!style) return;\n\n\t\t\tif (style.variables) {\n\t\t\t\t$.each(style.variables, function(i, v) {\n\t\t\t\t\tif (self.observers.site.settings_flat[i] && self.observers.site.settings_flat[i].value() != v()) {\n\t\t\t\t\t\tcustom = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.observers.site.custom_style(custom);\n\t\t\t\t// Needed to make Style <select> to update with the proper selected style\n\t\t\t\tthis.observers.site.styles.valueHasMutated();\n\t\t\t}\n\t\t},\n\n\t\tmanage_filter_tag: function(el, parent) {\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\to = this.observers.sheets.source_filter.tags,\n\t\t\t\ttag = d.title || d;\n\n\t\t\tif ($.inArray(tag, o()) === -1) {\n\t\t\t\to.push(tag);\n\t\t\t} else {\n\t\t\t\to.remove(tag);\n\t\t\t}\n\n\t\t},\n\n\t\tadd_filter_tag: function(el, parent) {\n\t\t\tvar tag = el.parents('ul').find('input').val(),\n\t\t\t\to = this.observers.sheets.source_filter.tags;\n\n\t\t\tif (tag.length && $.inArray(tag, o()) === -1) {\n\t\t\t\to.push(tag);\n\t\t\t}\n\n\t\t\tel.parents('ul').find('input').val('');\n\t\t},\n\n\t\tapply_filters: function(el, parent) {\n\n\t\t\tvar o = this.observers.sheets.source_filter,\n\t\t\t\tr = o.current() ? this.observers.state.loaded_route() : o.route,\n\t\t\t\tnew_route = o.current() ? $.extend({}, r) : $.extend(r, {\n\t\t\t\t\tpath: '/' + this.observers.make_url_safe(o.label()) + '/'\n\t\t\t\t}),\n\t\t\t\treplace = o.current() && $('.lib-nav .selected').length ? ko.dataFor($('.lib-nav .selected').get(0)) : false,\n\t\t\t\ttype = o.type(),\n\t\t\t\turl_data = this.observers.site.url_data[ o.source().replace(/s$/, '') ];\n\n\n\t\t\tif (o.type() === 'index' &&\n\t\t\t\t\to.display() === 'all' &&\n\t\t\t\t\to.section() &&\n\t\t\t\t\turl_data && url_data.order &&\n\t\t\t\t\turl_data.order().toLowerCase() === o.order_by() + ' ' + o.order_direction() &&\n\t\t\t\t\to.filter() !== 'none' &&\n\t\t\t\t\t$.inArray(o.source(), this.observers.sheets.source_filter.templates.supported_archives()) !== -1) {\n\t\t\t\ttype = 'archive';\n\t\t\t}\n\n\t\t\tif (o.source() === 'timeline') {\n\n\t\t\t\tvar m = o.month() > 0 ? ( o.month() < 10 ? '0' + o.month() : o.month() ) : false;\n\t\t\t\tthis.events._manage_link({\n\t\t\t\t\tlabel: o.current() ? $('.lib-nav .selected').find('span.icon16').text() : o.label(),\n\t\t\t\t\tallow_label: true,\n\t\t\t\t\tauto: 'timeline',\n\t\t\t\t\tyear: o.year(),\n\t\t\t\t\tmonth: m,\n\t\t\t\t\tpath: this.observers.urls['timeline'] + o.year() + ( m ? '/' + m : '' ) + '/'\n\t\t\t\t}, false, replace);\n\n\t\t\t} else if (o.current() && o.section()) {\n\n\t\t\t\tthis.observers.site.url_data_send = {\n\t\t\t\t\t'source': o.source(),\n\t\t\t\t\t'order': 'order',\n\t\t\t\t\t'value': o.order_by() + ' ' + o.order_direction()\n\t\t\t\t};\n\n\t\t\t} else if (type === 'archive') {\n\n\t\t\t\tvar key = (o.filter() === 'date' ? 'archive' : o.filter()) + '_' + o.source(),\n\t\t\t\t\tpath = this.observers.urls[key].replace(/(\\(\\?\\:)|(\\)\\?)/g, ''),\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tlabel: o.current() ? $('.lib-nav .selected').find('span.icon16').text() : o.label(),\n\t\t\t\t\t\tauto: key\n\t\t\t\t\t};\n\n\t\t\t\tif (o.filter() === 'date') {\n\t\t\t\t\tobj.month = o.month() === 'any' ? '' : o.month();\n\t\t\t\t\tobj.year = o.year();\n\t\t\t\t\tobj.day = '';\n\n\t\t\t\t\tif (!isNaN(obj.month) && obj.month < 10) {\n\t\t\t\t\t\tobj.month = '0' + obj.month;\n\t\t\t\t\t}\n\t\t\t\t} else if (o.filter() === 'category') {\n\t\t\t\t\tobj.id = o.category();\n\t\t\t\t} else {\n\t\t\t\t\tobj.slug = o.tags().join(',');\n\t\t\t\t}\n\n\t\t\t\tobj.path = path.replace(/\\:[a-z_]+/g, function(match) {\n\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\treturn obj[m];\n\t\t\t\t}).replace(/\\/+$/, '/');\n\n\t\t\t\tthis.events._manage_link(obj, false, replace);\n\n\t\t\t} else {\n\n\t\t\t\tnew_route.source = o.is_album() ? (o.source() === 'contents' ? 'album' : 'set' ) : o.source();\n\t\t\t\tnew_route.filters = new_route.filters || [];\n\t\t\t\tif (o.is_album() && r.filters) {\n\t\t\t\t\t$.each(r.filters, function(i, f) {\n\t\t\t\t\t\tif (f && f.match(/^id=/)) {\n\t\t\t\t\t\t\tnew_route.filters = [ f ];\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (o.display() === 'all') {\n\t\t\t\t\tnew_route.filters = $.grep(new_route.filters, function(filter) {\n\t\t\t\t\t\tvar f = filter.split('=')[0];\n\t\t\t\t\t\treturn $.inArray(f, ['featured', 'favorites', 'category', 'tags', 'year', 'month']) === -1;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnew_route.filters.push( o.display() );\n\t\t\t\t}\n\n\t\t\t\tif (o.filter() === 'category') {\n\t\t\t\t\tnew_route.filters.push('category=' + o.category());\n\t\t\t\t} else if (o.filter() === 'tag') {\n\t\t\t\t\tnew_route.filters.push('tags=' + o.tags().join(','));\n\t\t\t\t} else if (o.source() === 'archives') {\n\t\t\t\t\tnew_route.filters.push('year=' + o.year());\n\t\t\t\t\tif (o.month() != 'any') {\n\t\t\t\t\t\tnew_route.filters.push('month=' + o.month());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (o.type() === 'index') {\n\t\t\t\t\tnew_route.filters.push('order_by=' + o.order_by());\n\t\t\t\t\tnew_route.filters.push('order_direction=' + o.order_direction());\n\t\t\t\t}\n\n\t\t\t\tif (o.current()) {\n\t\t\t\t\tthis.observers.site.routes.remove( r );\n\t\t\t\t}\n\n\t\t\t\tvar filterTmp = [];\n\t\t\t\tvar filterObj = {};\n\n\t\t\t\t// Weed out duplicates\n\t\t\t\t// Last in take precedence\n\t\t\t\t$.each(new_route.filters, function(i, f) {\n\t\t\t\t\tif (f.indexOf('=') === -1) {\n\t\t\t\t\t\tfilterTmp.push(f);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar parts = f.split('=');\n\t\t\t\t\t\tfilterObj[parts[0]] = parts[1];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(filterObj, function(key, value) {\n\t\t\t\t\tfilterTmp.push(key + '=' + value);\n\t\t\t\t});\n\n\t\t\t\t// Remove dupes from filters\n\t\t\t\tnew_route.filters = $.grep(filterTmp, function(el, index) {\n\t\t\t        return index === $.inArray(el, filterTmp);\n\t\t\t    });\n\n\t\t\t\tnew_route = this.events.push_route(new_route);\n\n\t\t\t}\n\n\t\t\tif (o.current() || type === 'archive' || o.source() === 'timeline') {\n\t\t\t\tthis.events.save.call(this);\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t} else {\n\n\t\t\t\tthis.events._manage_link({\n\t\t\t\t\tlabel: o.label(),\n\t\t\t\t\tpath: new_route.path\n\t\t\t\t}, false);\n\n\t\t\t\tthis.events.save_nav(el, parent);\n\t\t\t}\n\n\t\t},\n\n\t\tfilter_current: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.source_filter,\n\t\t\t\tobj = this.observers.state.loaded_page().info,\n\t\t\t\tc = false;\n\n\t\t\tif (obj.path.indexOf('archive') !== 0 && obj.path !== 'timeline') {\n\t\t\t\to.set( obj, this.observers.state.loaded_route(), this.observers.site.url_data );\n\t\t\t} else {\n\n\t\t\t\tif ($('.lib-nav .selected').length) {\n\t\t\t\t\tc = ko.dataFor($('.lib-nav .selected').get(0));\n\t\t\t\t}\n\n\t\t\t\tvar filters = false;\n\t\t\t\tif (obj.filters) {\n\t\t\t\t\tfilters = this.controllers.parse_filters(obj.filters);\n\t\t\t\t}\n\n\t\t\t\tif (obj.path === 'timeline') {\n\t\t\t\t\to.source('timeline');\n\t\t\t\t\to.type('timeline');\n\t\t\t\t} else {\n\t\t\t\t\tif (filters && filters.members) {\n\t\t\t\t\t\to.source(filters.members);\n\t\t\t\t\t}\n\t\t\t\t\to.type('archive');\n\t\t\t\t}\n\n\t\t\t\to.display('all');\n\t\t\t\to.category(0);\n\t\t\t\to.month('any');\n\t\t\t\to.year(o.years[0]);\n\t\t\t\to.tags([]);\n\n\t\t\t\tif (c && c.auto) {\n\t\t\t\t\tvar parts = c.auto.split('_');\n\t\t\t\t\to.filter( parts[0].indexOf('archive') === 0  ? 'date' : parts[0]);\n\t\t\t\t\tif (o.filter() === 'date' || o.source() === 'timeline') {\n\t\t\t\t\t\to.year(c.year);\n\t\t\t\t\t\to.month(c.month || 'any');\n\t\t\t\t\t} else if (o.filter() === 'category') {\n\t\t\t\t\t\to.category(c.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.tags(c.slug.split(','));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\to.filter(obj.source);\n\t\t\t\t\tif (obj.source === 'tag') {\n\t\t\t\t\t\to.tags( filters.id.split(',') );\n\t\t\t\t\t} else if (obj.source === 'archive' || obj.source === 'timeline') {\n\t\t\t\t\t\to.year( filters.year );\n\t\t\t\t\t\tif (filters.month) {\n\t\t\t\t\t\t\to.month(filters.month);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.category( filters.id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\to.current(true);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_gear_popout: function(el,parent) {\n\n\t\t\tvar group\t= parent.closest('ol'),\n\t\t\t\ttop\t\t= parent.closest('li').position().top + 50,\n\t\t\t\tself\t= this;\n\n\t\t\tparent.closest('li').find('a.item').addClass('hoverable');\n\t\t\t$('#gear_pop').data( 'id', el.closest('li').attr('id') );\n\n\t\t\tthis.events.update_state( '', 'gear' );\n\n\t\t\tthis.helpers.outside( $('#gear_pop'), function() {\n\t\t\t\tself.events.update_state( '', 'gear' );\n\t\t\t\t$('.lib-nav').find('.hoverable').removeClass('hoverable');\n\t\t\t\t$('.lib-nav').find('.edit-hoverable').removeClass('edit-hoverable');\n\t\t\t});\n\n\t\t\t$('#gear_pop li').show();\n\n\t\t\tif ( group.hasClass('primary') ) {\n\t\t\t\tvar data = ko.dataFor(parent[0]);\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === data.path && v.front === true ) {\n\t\t\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t\t\t$('#gear_pop li.delete').hide();\n\t\t\t\t\t\tif (v.hide) {\n\t\t\t\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t\t\t\t$('#gear_pop li.show-home').show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#gear_pop li.hide-home').show();\n\t\t\t\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttop += 13;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (data.path.indexOf('http://') === 0 || (data.auto && data.auto === 'profile')) {\n\t\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t\ttop += 13;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\ttop += 13;\n\t\t\t}\n\n\t\t\t$('#gear_pop').css( 'top', top ).data('ref',parent);\n\n\t\t},\n\n\t\tgear_menu: function(el,parent) {\n\n\t\t\tvar data\t= $('#gear_pop').data(),\n\t\t\t\tgroup\t= data.ref.closest('ol'),\n\t\t\t\tlink = ko.dataFor($('#' + data.id)[0]),\n\t\t\t\tref, items;\n\n\t\t\tif ( el.hasClass('opt-edit') ) {\n\t\t\t\tthis.events.edit_link(data.ref,data.ref);\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-front') ) {\n\n\t\t\t\tvar front = false;\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\tv.front = true;\n\t\t\t\t\t\tfront = v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv.front = false;\n\t\t\t\t\t\tdelete(v.hide);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (front) {\n\t\t\t\t\tthis.observers.site.navigation.items.remove(front);\n\t\t\t\t\tthis.observers.site.navigation.items.unshift(front);\n\t\t\t\t}\n\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\tvar front = false;\n\t\t\t\t\t$.each(v.items, function(i, item) {\n\t\t\t\t\t\tif ( item.path === link.path ) {\n\t\t\t\t\t\t\tfront = i;\n\t\t\t\t\t\t\titem.front = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.front = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (front) {\n\t\t\t\t\t\tvar push = v.items[front];\n\t\t\t\t\t\tv.items.splice(front, 1);\n\t\t\t\t\t\tv.items.unshift(push);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.events.save_nav();\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-delete') ) {\n\n\t\t\t\tvar selectedLabel = $('.lib-nav .selected .in span:first').text();\n\n\t\t\t\tvar label;\n\t\t\t\tif ( group.hasClass('primary') ) {\n\t\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\t\tref = k;\n\t\t\t\t\t\t\tlabel = link.label;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.observers.site.navigation.items.splice( ref, 1 );\n\t\t\t\t} else {\n\t\t\t\t\t$.each( this.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\t\tif ( ( 'group-' + v.key ) === group.attr('id') ) {\n\t\t\t\t\t\t\t$.each( v.items, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.path === link.path ) {\n\t\t\t\t\t\t\t\t\tref = j;\n\t\t\t\t\t\t\t\t\tlabel = link.label;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tv.items.splice(ref,1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (selectedLabel === label) this.observers.state.iframe.path(this.config.paths.base  + 'preview.php?/');\n\n\t\t\t\tthis.events.save_nav();\n\t\t\t\tthis.notify().success('Link to \"' + label + '\" removed');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-hide') || el.hasClass('opt-show') ) {\n\n\t\t\t\tvar replace = false;\n\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\treplace = v;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar n = $.extend({}, replace),\n\t\t\t\t\tmsg;\n\n\t\t\t\tif (n.hide) {\n\t\t\t\t\tdelete(n.hide);\n\t\t\t\t\tmsg = 'Front link set to show in navigation';\n\t\t\t\t} else {\n\t\t\t\t\tn.hide = true;\n\t\t\t\t\tmsg = 'Front link hidden from navigation';\n\t\t\t\t}\n\n\t\t\t\tthis.observers.site.navigation.items.replace( replace, n );\n\t\t\t\tthis.notify().success(msg);\n\n\t\t\t\tthis.events.save_nav();\n\n\t\t\t}\n\n\t\t\tthis.events.update_state( '', 'gear' );\n\n\t\t\t$('.lib-nav').find('.hoverable').removeClass('hoverable');\n\t\t\t$('.lib-nav').find('.edit-hoverable').removeClass('edit-hoverable');\n\n\t\t},\n\n\t\tnavigation_sort: function() {\n\n\t\t\tvar self\t\t= this,\n\t\t\t\tsortables\t= $('ol.lib-nav').not('.template_nav,.single');\n\n\t\t\tsortables.sortable({\n\t\t\t\taxis: 'y',\n\t\t\t\tcontainment: 'parent',\n\t\t\t\titems: 'li:not(.create_new)',\n\t\t\t\tupdate: function(e,ui) {\n\n\t\t\t\t\tvar current_nav, index, clone, key = '', new_nav = [];\n\n\t\t\t\t\tif ( $(e.target).hasClass('primary') ) {\n\t\t\t\t\t\tcurrent_nav = self.observers.site.navigation.items();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.each( self.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\t\t\tif ( $(e.target).attr('id') === 'group-' + v.key ) {\n\t\t\t\t\t\t\t\tcurrent_nav = v.items;\n\t\t\t\t\t\t\t\tindex = k;\n\t\t\t\t\t\t\t\tkey = v.key + '_';\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( $(this).sortable('toArray'), function(k,v) {\n\t\t\t\t\t\tnew_nav.push( current_nav[parseInt( v.replace( key + 'nav_item_', '' ), 10 )] );\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( $(e.target).hasClass('primary') ) {\n\t\t\t\t\t\tself.observers.site.navigation.items([]);\n\t\t\t\t\t\tself.observers.site.navigation.items(new_nav);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.site.navigation.groups()[index].items = new_nav;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.events.save_nav();\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttheme_view: function() {\n\t\t\tlocation.hash = '/site/draft/theme/url:' + this.observers.state.iframe.rel_path();\n\t\t},\n\n\t\tpage_view: function() {\n\t\t\tlocation.hash = '/site/draft/page/url:' + this.observers.state.iframe.rel_path();\n\t\t},\n\n\t\tiframe_loaded: function() {\n\t\t\tif (this.observers.state.type() === 'live') {\n\t\t\t\tthis.observers.state.iframe.path( document.getElementById('siteui-iframe').contentWindow.location.href );\n\t\t\t}\n\t\t},\n\n\t\tnav_from_link: function(el) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\t\t\tif (/^https?:\\/\\//.test(data.path)) {\n\t\t\t\twindow.open(data.path);\n\t\t\t} else {\n\t\t\t\tthis.events.refresh( data.front ? '/' : data.path );\n\t\t\t}\n\t\t},\n\n\t\treset_link_form: function() {\n\t\t\t$('select.filter_list').val('off').trigger('change');\n\t\t\t$('select.collection_albums').val('default').trigger('change');\n\t\t\t$('select.collection_content').val('default').trigger('change');\n\t\t\t$('select.single_album').val(0).trigger('change');\n\t\t\t$('input.single_tag').val('').trigger('change');\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.front(false);\n\t\t},\n\n\t\tlink_to_current: function(el, parent) {\n\t\t\tvar loaded = this.observers.state.loaded_page(),\n\t\t\t\troute = this.observers.state.loaded_route(),\n\t\t\t\tcurrent_path = this.observers.state.iframe.rel_path(),\n\t\t\t\tpage = {\n\t\t\t\t\ttemplate: loaded.path\n\t\t\t\t},\n\t\t\t\tlbl = $('#link_to_current_label').val(),\n\t\t\t\tlink,\n\t\t\t\talbum_content = false;\n\n\t\t\tif (route.section) {\n\t\t\t\tvar type,\n\t\t\t\t\tmatches;\n\n\t\t\t\t$.each(this.observers.site.urls, function(i, url) {\n\t\t\t\t\turl = url();\n\t\t\t\t\tif (i === 'timeline') {\n\t\t\t\t\t\turl += ':year(/:month)?/';\n\t\t\t\t\t}\n\t\t\t\t\tvar regex = url.replace(':slug', '((?!lightbox)\\\\d*[\\\\-_a-z][\\\\-_a-z0-9]*)')\n\t\t\t\t\t\t\t\t\t\t.replace(':id', '((?:[0-9]+)|(?:[0-9a-z]{32}))')\n\t\t\t\t\t\t\t\t\t\t.replace(':year', '([0-9]{4})')\n\t\t\t\t\t\t\t\t\t\t.replace(':month', '([0-9]{1,2})')\n\t\t\t\t\t\t\t\t\t\t.replace(':day', '([0-9]{1,2})');\n\t\t\t\t\tmatches = current_path.match(RegExp('^' + regex + '(?:lightbox/)?$'));\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\ttype = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!type) {\n\t\t\t\t\tvar content_url = this.observers.site.url_data.content.plural().toLowerCase() + '/:' + ( this.observers.site.url_data.content.url().indexOf('slug') !== -1 ? 'slug' : 'id') + '/';\n\t\t\t\t\tvar album = this.observers.site.urls.album() + content_url;\n\t\t\t\t\tvar regex = album.replace(/:(?:album_)?slug/g, '((?!lightbox)\\\\d*[\\\\-_a-z][\\\\-_a-z0-9]*)')\n\t\t\t\t\t\t\t\t\t\t.replace(/:(?:album_)?id/g, '((?:[0-9]+)|(?:[0-9a-z]{32}))')\n\t\t\t\t\t\t\t\t\t\t.replace(':year', '([0-9]{4})')\n\t\t\t\t\t\t\t\t\t\t.replace(':month', '([0-9]{1,2})')\n\t\t\t\t\t\t\t\t\t\t.replace(':day', '([0-9]{1,2})');\n\t\t\t\t\tmatches = current_path.match(RegExp('^' + regex + '(?:lightbox/)?$'));\n\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\ttype = 'content';\n\t\t\t\t\t\talbum_content = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (type) {\n\t\t\t\t\tlink = {\n\t\t\t\t\t\tlabel: lbl,\n\t\t\t\t\t\tallow_label: true,\n\t\t\t\t\t\tpath: current_path,\n\t\t\t\t\t\tauto: type\n\t\t\t\t\t};\n\n\t\t\t\t\tif (/\\/lightbox\\/$/.test(current_path)) {\n\t\t\t\t\t\tlink.lightbox = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tif (type.indexOf('archive') === 0 || type === 'timeline') {\n\t\t\t\t\t\t\tlink.year = matches[1];\n\t\t\t\t\t\t\tlink.month = matches[2] || false;\n\t\t\t\t\t\t\tlink.day = matches[3] || false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink.id = matches.pop();\n\t\t\t\t\t\t\tif (album_content) {\n\t\t\t\t\t\t\t\tlink.album_id = matches.pop();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$.each( this.observers.site.routes(), function(i, p) {\n\n\t\t\t\t\tif (p.template === loaded.path) {\n\n\t\t\t\t\t\tvar _magics = [],\n\t\t\t\t\t\t\t_p = p.path.replace(/\\:[a-z_]+/g, function(match) {\n\t\t\t\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\t\t\t\t_magics.push(m);\n\t\t\t\t\t\t\t\treturn '([^/]+)';\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_p = RegExp(_p);\n\n\t\t\t\t\t\tif (_p.test(current_path)) {\n\n\t\t\t\t\t\t\tvar matches = current_path.match(_p),\n\t\t\t\t\t\t\t\tmatch_data = {};\n\n\t\t\t\t\t\t\t$.each(_magics, function(i, name) {\n\t\t\t\t\t\t\t\tmatch_data[name] = matches[i+1];\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (p.variables) {\n\t\t\t\t\t\t\t\tpage.variables = p.variables;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (loaded.info.source) {\n\t\t\t\t\t\t\t\tpage.source = loaded.info.source;\n\t\t\t\t\t\t\t\tpage.filters = loaded.info.filters || [];\n\n\t\t\t\t\t\t\t\t$.each(match_data, function(key, val) {\n\t\t\t\t\t\t\t\t\tpage.filters.push(key + '=' + val);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tpage.path = '/' + this.observers.make_url_safe(lbl.toLowerCase()) + '/';\n\t\t\t\tpage = this.events.push_route(page);\n\n\t\t\t\tlink = {\n\t\t\t\t\tlabel: lbl,\n\t\t\t\t\tpath: page.path\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.observers.site.navigation.groups().length) {\n\t\t\t\t$('input[data-current-group]:checked').each( function() {\n\t\t\t\t\tvar group = ko.dataFor(this);\n\t\t\t\t\tgroup.items.push(link);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($('#current_link_primary').is(':checked') || !$('#current_link_primary').is(':visible')) {\n\t\t\t\tthis.observers.site.navigation.items.push(link);\n\t\t\t}\n\n\t\t\tthis.events.save_nav(el, parent);\n\n\t\t\t$('#link_to_current_label').val('');\n\t\t\t$('input[data-current-group]:checked').attr('checked', false);\n\t\t\t$('#current_link_primary').attr('checked', true);\n\t\t},\n\n\t\tupdate_link: function(el, parent) {\n\t\t\tvar\tlink = this.observers.sheets.edit_nav.link_to_edit,\n\t\t\t\tupdated = {\n\t\t\t\t\tlabel: link.label(),\n\t\t\t\t\tpath: link.path(),\n\t\t\t\t\tfront: link.front()\n\t\t\t\t};\n\n\t\t\tif (link.auto && link.auto()) {\n\t\t\t\tupdated.auto = link.auto();\n\t\t\t\tif (link.id && link.id()) {\n\t\t\t\t\tupdated.id = link.id();\n\t\t\t\t}\n\t\t\t\tupdated.allow_label = true;\n\t\t\t}\n\n\t\t\tthis.events._manage_link(updated, false, link.clone);\n\t\t\tthis.events.save_nav(el, parent);\n\t\t},\n\n\t\tedit_link: function(el, parent) {\n\n\t\t\tvar clone = ko.dataFor(el[0]),\n\t\t\t\tdata = $.extend({}, clone),\n\t\t\t\tgroup = $(el).closest('a').data('group'),\n\t\t\t\tpage, template, source = false,\n\t\t\t\tindex;\n\n\t\t\tif (!data.front) {\n\t\t\t\tdata.front = false;\n\t\t\t}\n\n\t\t\tif (!data.id) {\n\t\t\t\tdata.id = false;\n\t\t\t}\n\n\t\t\tif (!data.auto) {\n\t\t\t\tdata.auto = false;\n\t\t\t}\n\n\t\t\tif (!group) {\n\t\t\t\tgroup = false;\n\t\t\t}\n\n\t\t\tthis.observers.site.navigation.active.group( group );\n\n\t\t\tdata.checked = data.target && data.target === '_blank' ? true : false;\n\t\t\tdata.is_new = false;\n\n\t\t\t$.each(this.observers.site.routes(), function(i, p) {\n\t\t\t\tif (p.path === data.path) {\n\t\t\t\t\tpage = p;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (page) {\n\t\t\t\tif (page.source) {\n\t\t\t\t\tsource = $.extend({}, page.source);\n\t\t\t\t} else {\n\t\t\t\t\t$.each( this.observers.site.templates(), function(i, t) {\n\t\t\t\t\t\tif (t.path === page.template) {\n\t\t\t\t\t\t\tif (t.info.source) {\n\t\t\t\t\t\t\t\tsource = $.extend({}, t.info.source);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (source && source.collection) {\n\t\t\t\tdata.source = source;\n\t\t\t} else {\n\t\t\t\tthis.observers.sheets.edit_nav.link_to_edit.source.collection(false);\n\t\t\t}\n\n\t\t\tthis.map( this.observers.sheets.edit_nav.link_to_edit, $.extend({}, data) );\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.clone = clone;\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tthis.observers.valid(true);\n\n\t\t\tif (data.source) {\n\t\t\t\tif (source.featured || source.filter === 'featured') {\n\t\t\t\t\t$('select.collection_filter').val('featured');\n\t\t\t\t} else if (source.type) {\n\t\t\t\t\t$('select.collection_filter').val(source.type);\n\t\t\t\t} else {\n\t\t\t\t\t$('select.collection_filter').val('default');\n\t\t\t\t}\n\n\t\t\t\tif (source.category) {\n\t\t\t\t\t$('select.filter_list').val('category').trigger('change');\n\t\t\t\t\t$('select.filter_category').val( source.category );\n\t\t\t\t} else if (source.tag) {\n\t\t\t\t\t$('select.filter_list').val('tag').trigger('change');\n\t\t\t\t\t$('input.filter_tag').val( source.tag );\n\t\t\t\t} else {\n\t\t\t\t\t$('select.filter_list').val('off').trigger('change');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tadd_custom_link: function(el, parent) {\n\t\t\tvar clean = {\n\t\t\t\tlabel: '',\n\t\t\t\tpath: '',\n\t\t\t\tchecked: false,\n\t\t\t\tis_new: true\n\t\t\t};\n\t\t\tthis.map( this.observers.sheets.edit_nav.link_to_edit, clean );\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.clone = false;\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t$('#create_custom_link input:first').focus();\n\t\t},\n\n\t\tcreate_custom_link: function(el, parent) {\n\t\t\tvar obj = this.observers.sheets.edit_nav.link_to_edit,\n\t\t\t\tinfo = {\n\t\t\t\t\tlabel: obj.label(),\n\t\t\t\t\ttarget: obj.checked() ? '_blank' : false,\n\t\t\t\t\tcustom: true,\n\t\t\t\t\tpath: obj.path()\n\t\t\t\t};\n\n\t\t\tif (info.path.indexOf(this.config.paths.base) === 0) {\n\t\t\t\tinfo.path = '/' + info.path.replace(RegExp(this.config.paths.base + '((index|preview).php\\\\?/)?'), '');\n\t\t\t\tdelete(info.custom);\n\t\t\t} else if (!/^(mailto|https?)/.test(info.path)) {\n\t\t\t\tinfo.path = 'http://' + info.path;\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, false, obj.clone);\n\t\t\tthis.events.save_nav(el, parent);\n\t\t},\n\n\t\tedit_nav_group: function(el, parent) {\n\t\t\tvar items;\n\t\t\tvar group = $(el).parents('li').data('group');\n\n\t\t\tif (group) {\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(i, g) {\n\t\t\t\t\tif (g.key === group) {\n\t\t\t\t\t\titems = g.items;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titems = this.observers.site.navigation.items();\n\t\t\t\tgroup = false;\n\t\t\t}\n\n\t\t\tthis.observers.site.navigation.active.group(group);\n\n\t\t\tvar map = {},\n\t\t\t\tused = [],\n\t\t\t\tused_albums = [],\n\t\t\t\tused_pages = [],\n\t\t\t\tused_sections = [],\n\t\t\t\tsupported_sections = [],\n\t\t\t\trss = [],\n\t\t\t\tpages = this.observers.site.routes(),\n\t\t\t\tself = this;\n\n\t\t\t$.each( ['albums', 'sets', 'contents', 'essays', 'favorites', 'tags', 'categories', 'timeline'], function(i, section) {\n\t\t\t\tif (self.observers.site.urls[section]) {\n\t\t\t\t\tsupported_sections.push(section);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each( pages, function(i, page) {\n\t\t\t\tmap[page.path] = page;\n\t\t\t});\n\n\t\t\tthis.observers.site.navigation.active.profiles([]);\n\n\t\t\t$.each( items, function(i, item) {\n\t\t\t\tif (item.auto && (item.auto === 'album' || item.auto === 'set' || item.auto === 'page') && item.id) {\n\t\t\t\t\tif (item.auto === 'page') {\n\t\t\t\t\t\tused_pages.push(item.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tused_albums.push(item.id);\n\t\t\t\t\t}\n\t\t\t\t} else if (item.auto && item.auto === 'profile') {\n\t\t\t\t\tself.observers.site.navigation.active.profiles.push(item.id);\n\t\t\t\t} else if (item.auto && item.auto === 'rss') {\n\t\t\t\t\trss.push(item.id);\n\t\t\t\t} else if (item.auto && (item.auto === 'timeline' || /s$/.test(item.auto))) {\n\t\t\t\t\tused_sections.push(item.auto);\n\t\t\t\t} else if (item.path) {\n\t\t\t\t\tvar info = map[item.path];\n\t\t\t\t\tif ($.inArray(( info ? info.path : item.path.substr(1) ), self.observers.site.templates_grouped.special_paths()) !== -1) {\n\t\t\t\t\t\tused.push( info ? info.path: item.path.substr(1) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.site.navigation.active.internals( used );\n\t\t\tthis.observers.site.navigation.active.rss( rss );\n\t\t\tthis.observers.site.navigation.active.albums( used_albums );\n\t\t\tthis.observers.site.navigation.active.sections( used_sections );\n\t\t\tthis.observers.site.navigation.active.supported_sections( supported_sections );\n\t\t\tthis.observers.site.navigation.active.pages( used_pages );\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_link_specials: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = $.inArray(data.path, this.observers.site.navigation.active.internals()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tpath: '/' + data.path + '/',\n\t\t\t\t\tlabel: data.name\n\t\t\t\t};\n\n\t\t\tthis.events._manage_link(info, active);\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.internals.remove(data.path);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.internals.push(data.path);\n\t\t\t}\n\t\t},\n\n\t\t_manage_link: function(info, remove, replace) {\n\t\t\tvar group = this.observers.site.navigation.active.group(),\n\t\t\t\treplace = replace || false,\n\t\t\t\tindex,\n\t\t\t\tlabel = info.label;\n\n\t\t\tif (group) {\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(i, g) {\n\t\t\t\t\tif (g.key === group) {\n\t\t\t\t\t\tgroup = g;\n\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (remove) {\n\t\t\t\tif (group) {\n\t\t\t\t\tgroup.items = ko.utils.arrayFilter( group.items, function(item) {\n\t\t\t\t\t\tif (item.path === info.path) {\n\t\t\t\t\t\t\tlabel = item.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (info.auto) {\n\t\t\t\t\t\t\tif (info.auto !== item.auto) return true;\n\n\t\t\t\t\t\t\tif (info.id) {\n\t\t\t\t\t\t\t\treturn info.id !== item.id;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn info.auto !== item.auto;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn item.path !== info.path;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.site.navigation.items.remove( function(item) {\n\t\t\t\t\t\tif (item.path === info.path) {\n\t\t\t\t\t\t\tlabel = item.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (info.auto) {\n\t\t\t\t\t\t\treturn item.auto === info.auto && (!item.id || item.id === info.id);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn item.path === info.path;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (replace) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar _index = ko.utils.arrayIndexOf( group.items, replace );\n\t\t\t\t\t\tgroup.items.splice(_index, 1, info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.site.navigation.items.replace( replace, info );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tgroup.items.push(info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.site.navigation.items.push(info);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (group) {\n\t\t\t\tthis.observers.site.navigation.groups.replace( this.observers.site.navigation.groups()[index], $.extend({}, group) );\n\t\t\t}\n\n\t\t\tif (!remove && !info.path.match(/\\.rss$/)) {\n\t\t\t\tthis.observers.refresh_destination = info.front ? '/' : info.path.replace(/\\(.*\\/$/, '/');\n\t\t\t}\n\n\t\t\tthis.notify().success('Link to \"' + label + '\" ' + ( remove ? 'removed' : (replace ? 'updated' : 'created') ) );\n\n\t\t},\n\n\t\tadd_index_link: function(el, parent) {\n\n\t\t\tvar data = {};\n\t\t\tif (parent.data('index')) {\n\t\t\t\tdata.source = parent.data('index');\n\t\t\t\tdata.path = parent.data('index');\n\t\t\t} else {\n\t\t\t\tdata = ko.dataFor(el[0]);\n\t\t\t}\n\n\t\t\tthis.observers.sheets.source_filter.current(false);\n\n\t\t\tthis.observers.sheets.source_filter.set( {\n\t\t\t\tsource: data.source,\n\t\t\t\tsheet_title: data.name,\n\t\t\t\tfilters: [],\n\t\t\t\tlabel: ''\n\t\t\t} );\n\n\t\t\tthis.observers.sheets.source_filter.route = {\n\t\t\t\ttemplate: data.template || data.path,\n\t\t\t\tfilters: data.filters || []\n\t\t\t};\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tthis.observers.valid(false);\n\n\t\t},\n\n\t\tadd_archive_link: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.source_filter;\n\n\t\t\to.sheet_title('Add ' + ( el.data('type') === 'archive' ? 'date' : el.data('type') ) + ' archive');\n\t\t\to.display('all');\n\t\t\to.filter('none');\n\t\t\to.category(0);\n\t\t\to.month('any');\n\t\t\to.year(o.years[0]);\n\t\t\to.tags([]);\n\t\t\to.label('');\n\t\t\to.route = {};\n\t\t\to.current(false);\n\t\t\to.type('archive');\n\t\t\to.filter('tag');\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_link_sections: function(el, parent) {\n\t\t\tvar section = el.data('section'),\n\t\t\t\tsingular = section === 'categories' ? 'category' : section.replace(/s$/, ''),\n\t\t\t\tactive = $.inArray(section, this.observers.site.navigation.active.sections()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: section,\n\t\t\t\t\tlabel: this.observers.site.url_data[singular].plural(),\n\t\t\t\t\tpath: this.observers.site.urls[section]()\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.sections.remove(section);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.sections.push(section);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_rss: function(el, parent) {\n\t\t\tvar type = el.data('type'),\n\t\t\t\tactive = $.inArray(type, this.observers.site.navigation.active.rss()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'rss',\n\t\t\t\t\tid: type,\n\t\t\t\t\tlabel: this.observers.site.url_data[type].plural() + ' RSS',\n\t\t\t\t\tpath: '/feed/' + type + ( type === 'essay' ? 's' : '' ) + '/recent.rss'\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.rss.remove(type);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.rss.push(type);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_profiles: function(el, parent) {\n\t\t\tvar service = $(el).data('service'),\n\t\t\t\tservice_key = service.toLowerCase(),\n\t\t\t\tactive = $.inArray(service_key, this.observers.site.navigation.active.profiles()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'profile',\n\t\t\t\t\tid: service_key,\n\t\t\t\t\tlabel: service === 'Google' ? 'Google+' : service,\n\t\t\t\t\tallow_label: true\n\t\t\t\t};\n\n\t\t\tswitch(service_key) {\n\t\t\t\tcase 'twitter':\n\t\t\t\t\tinfo.path = 'https://twitter.com/' + this.observers.user.twitter();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tinfo.path = this.observers.user[service_key]();\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.profiles.remove(service_key);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.profiles.push(service_key);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_pages: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = this.observers.multi_in_array([ data.id, data.slug ], this.observers.site.navigation.active.pages()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'page',\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tlabel: data.title\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tif ($.inArray(data.slug, this.observers.site.navigation.active.pages()) === -1) {\n\t\t\t\t\tthis.observers.site.navigation.active.pages.remove(data.id);\n\t\t\t\t} else {\n\t\t\t\t\tinfo.id = data.slug;\n\t\t\t\t\tthis.observers.site.navigation.active.pages.remove(data.slug);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar path = this.observers.site.urls.page();\n\t\t\t\tpath = path.replace(/\\:[a-z_]+/, function(match) {\n\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\treturn data[m];\n\t\t\t\t});\n\t\t\t\tinfo.path = path;\n\t\t\t\tthis.observers.site.navigation.active.pages.push(data.id);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_albums: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = this.observers.multi_in_array([ data.id, data.slug ], this.observers.site.navigation.active.albums()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: data.album_type === 'set' ? 'set' : 'album',\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tlabel: data.title\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tif ($.inArray(data.slug, this.observers.site.navigation.active.albums()) === -1) {\n\t\t\t\t\tthis.observers.site.navigation.active.albums.remove(data.id);\n\t\t\t\t} else {\n\t\t\t\t\tinfo.id = data.slug;\n\t\t\t\t\tthis.observers.site.navigation.active.albums.remove(data.slug);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar url = this.observers.site.urls[info.auto],\n\t\t\t\t\tpath;\n\t\t\t\tif (!url) {\n\t\t\t\t\tpath = '#';\n\t\t\t\t} else {\n\t\t\t\t\tpath = this.observers.site.urls[info.auto]();\n\t\t\t\t\tpath = path.replace(/\\:[a-z_]+/, function(match) {\n\t\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\t\treturn data[m];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tinfo.path = path;\n\t\t\t\tthis.observers.site.navigation.active.albums.push(data.id);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\tpush_route: function(route) {\n\t\t\tvar routes = this.observers.site.routes(),\n\t\t\t\tindex = $.inArray(route, routes);\n\t\t\tif (index === -1) {\n\t\t\t\tvar i = 0,\n\t\t\t\t\tvalid_path = route.path,\n\t\t\t\t\texisting_paths = $.map( routes, function(r, i) {\n\t\t\t\t\t\treturn r.path;\n\t\t\t\t\t});\n\n\t\t\t\tif (valid_path === '/admin') {\n\t\t\t\t\tvalid_path += '-1';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\twhile($.inArray(valid_path, existing_paths) !== -1) {\n\t\t\t\t\ti++;\n\t\t\t\t\tvalid_path = route.path.replace(/\\/$/, '') + '-' + i + '/';\n\t\t\t\t}\n\n\t\t\t\troute.path = valid_path;\n\t\t\t\tthis.observers.site.routes.push(route);\n\t\t\t\treturn route;\n\t\t\t} else {\n\t\t\t\treturn routes[index];\n\t\t\t}\n\t\t},\n\n\t\tsave_nav: function(el, parent) {\n\n\t\t\tvar n = this.observers.site.navigation;\n\n\t\t\t$.each(n.items(), function(i, item) {\n\t\t\t\tif (item.auto) {\n\t\t\t\t\tdelete(item.path);\n\t\t\t\t\tif (item.auto.indexOf('_') === -1 && !item.allow_label) {\n\t\t\t\t\t\tdelete(item.label);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(n.groups(), function(i, group) {\n\t\t\t\t$.each(group.items, function(n, item) {\n\t\t\t\t\tif (item.auto) {\n\t\t\t\t\t\tdelete(item.path);\n\t\t\t\t\t\tif (item.auto.indexOf('_') === -1 && !item.allow_label) {\n\t\t\t\t\t\t\tdelete(item.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.events.save.call(this);\n\n\t\t\tif ( el && parent ) {\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t}\n\n\t\t},\n\n\t\tchange_link_type: function(el) {\n\t\t\tvar t = el.closest('li').data('type');\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.path('');\n\t\t\tthis.observers.sheets.edit_nav.link_type( t );\n\t\t},\n\n\t\tchange_nav_filter: function(v) {\n\t\t\tthis.observers.sheets.edit_nav.filter(v);\n\t\t},\n\n\t\tdo_revert: function() {\n\t\t\tthis.events.save('all', false);\n\t\t},\n\n\t\trevert: function() {\n\t\t\tthis.classes.modal.confirm_site_revert.show();\n\t\t},\n\n\t\trevert_settings: function() {\n\t\t\tthis.classes.modal.confirm_site_revert_settings.show();\n\t\t},\n\n\t\tdo_revert_settings: function() {\n\t\t\tthis.events.save('settings', false);\n\t\t},\n\n\t\tpublish: function(el,override) {\n\n\t\t\tif ( this.observers.published_theme().toLowerCase() != this.observers.drafts.current.theme.path().toLowerCase() && override !== true ) {\n\t\t\t\tthis.classes.modal.theme_change.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Publishing');\n\t\t\tel.text('Publishing');\n\t\t\tel.parents('div').addClass('saving');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/publish/' + this.observers.site.draft_id(),\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tel.parents('div').removeClass('saving');\n\t\t\t\t\tthis.observers.drafts.current.modified_on( Math.floor( +new Date() / 1000 ) );\n\t\t\t\t\tnotify.success('Site successfully published');\n\t\t\t\t\tel.text('No changes');\n\t\t\t\t\tel.addClass('disabled');\n\t\t\t\t\tvar self = this;\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.observers.site.published(true);\n\t\t\t\t\t}, 2000);\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'drafts',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'site',\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.map( this.observers.default_links, data.default_links);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcontext: this\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\trefresh_site_data: function(new_draft) {\n\n\t\t\tnew_draft = new_draft || false;\n\t\t\tthis.events.navigation_sort();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/draft:true',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.observers.error(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.error(false);\n\t\t\t\t\t\tthis.observers.site.settings_flat = {};\n\t\t\t\t\t\tthis.observers.site.urls = {};\n\t\t\t\t\t\tthis.map( this.observers.site, data );\n\n\t\t\t\t\t\tif (new_draft) {\n\t\t\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t\t\t\tlocation.hash = '/site/draft/theme/url:/';\n\t\t\t\t\t\t\tthis.events.refresh('/', true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar styled_settings = [];\n\t\t\t\t\t\tif (data.styles.length) {\n\t\t\t\t\t\t\t$.each(data.styles, function(i, style) {\n\t\t\t\t\t\t\t\tif (style.variables) {\n\t\t\t\t\t\t\t\t\t$.each(style.variables, function(key, val) {\n\t\t\t\t\t\t\t\t\t\tif ($.inArray(key, styled_settings) === -1) {\n\t\t\t\t\t\t\t\t\t\t\tstyled_settings.push(key);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.styled_settings = styled_settings;\n\n\t\t\t\t\t\tthis.events.check_for_custom_styling();\n\t\t\t\t\t\tthis.observers.site_loaded(true);\n\t\t\t\t\t\tthis.events.check_for_custom_styling();\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tinit_draft: function(el,override) {\n\n\t\t\tvar p = ko.dataFor(el[0]).path,\n\t\t\t\tself = this,\n\t\t\t\tdraftExists = false;\n\n\t\t\t$.each(this.observers.drafts.history(), function(i,draft) {\n\t\t\t\tif (draft.theme.path === p) {\n\t\t\t\t\tdraftExists = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (draftExists && override != true) {\n\t\t\t\tself.classes.modal.draft_exists.show();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Assigning theme');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + p + '&refresh=true',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tnotify.success('Theme successfully assigned');\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh_site_data(true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\treset_nav: function(el, override) {\n\n\t\t\tif (override !== true) {\n\t\t\t\tthis.classes.modal.reset_links.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($('#create_link').is(':visible')) {\n\t\t\t\tthis.events.toggle_sheet('create_link');\n\t\t\t}\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + this.observers.drafts.current.theme.path() + '&refresh=nav',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.notify().success('Site links successfully reset');\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh_site_data();\n\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t\tlocation.hash = '/site/draft/theme/url:/';\n\t\t\t\t\tthis.events.refresh('/');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tswitch_draft: function(el,cb) {\n\n\t\t\tvar p = typeof el === 'string' ? el : ko.dataFor(el[0]).theme.path;\n\n\t\t\tvar note = this.notify().wait('Assigning draft');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + p,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh('/');\n\t\t\t\t\tthis.events.refresh_site_data();\n\t\t\t\t\tnote.success(p.slice(0,1).toUpperCase() + p.slice(1) + ' assigned as current draft');\n\t\t\t\t\tif (cb && typeof cb === 'function') { cb(); }\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tdelete_draft: function(el,override) {\n\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\tp = d.theme.path;\n\n\t\t\tel.closest('ol .selected').removeClass('selected');\n\t\t\tel.closest('li').addClass('selected');\n\n\t\t\tif ( override !== true ) {\n\t\t\t\tthis.classes.modal.delete_draft.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.observers.drafts.history.remove(d);\n\n\t\t\tvar note = this.notify().wait('Deleting draft');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tdata: 'theme=' + p,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function() {\n\t\t\t\t\t// Otherwise the modal won't resize if necessary\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\tnote.success(p.slice(0,1).toUpperCase() + p.slice(1) + ' deleted from saved drafts');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tparse_draft_data: function(data) {\n\t\t\tvar current, saved = [], self = this;\n\n\t\t\t$.each(data, function(i, draft) {\n\t\t\t\tif (draft.published) {\n\t\t\t\t\tself.observers.published_theme( draft.theme.path );\n\t\t\t\t}\n\t\t\t\tif (draft.active) {\n\t\t\t\t\tcurrent = draft;\n\t\t\t\t} else {\n\t\t\t\t\tsaved.push( draft );\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.observers.drafts.all( data );\n\t\t\tthis.map( this.observers.drafts.current, current );\n\t\t\tthis.observers.drafts.history( saved );\n\t\t},\n\n\t\tresize: {\n\n\t\t\tiframe: function(c,w) {\n\n\t\t\t\tif (c.observers.state.expand()) {\n\t\t\t\t\t$('#siteui-wrap').height( w.height() );\n\t\t\t\t}\n\n\t\t\t\tvar h = $('#siteui-wrap').height();\n\n\t\t\t\tif (this.attr('id').match(/siteui\\-iframe/)) {\n\t\t\t\t\th -= 28;\n\t\t\t\t}\n\n\t\t\t\tthis.height( h );\n\t\t\t},\n\n\t\t\tsettings_position: function(c,w) {\n\n\t\t\t\tvar panel = this.parent(),\n\t\t\t\t\t_h = panel.height() + 60,\n\t\t\t\t\t_w = panel.width() + 20,\n\t\t\t\t\tph = panel.parent().height(),\n\t\t\t\t\tpw = panel.parent().width();\n\n\n\t\t\t\tvar top = parseInt( panel.css('top'), 10 ),\n\t\t\t\t\tvdiff = ph - ( _h + top ),\n\t\t\t\t\tleft = parseInt( panel.css('left'), 10 ),\n\t\t\t\t\thdiff = pw - ( _w + left );\n\n\t\t\t\tif (top > 0 && vdiff <= 0) {\n\t\t\t\t\tpanel.css('top', Math.max(0, top + vdiff));\n\t\t\t\t}\n\n\t\t\t\tif (left > 0 && hdiff <= 0) {\n\t\t\t\t\tpanel.css('left', Math.max(0, left + hdiff));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\trefresh: function(path, force) {\n\t\t\tforce = force || false;\n\t\t\tif (this.observers.state.type() !== 'live') {\n\t\t\t\tif (this.observers.refresh_destination) {\n\t\t\t\t\tpath = this.observers.refresh_destination;\n\t\t\t\t\tthis.observers.refresh_destination = false;\n\t\t\t\t}\n\t\t\t\tpath = (typeof path === 'string') ? this.config.paths.base  + 'preview.php?' + path : this.observers.state.iframe.path();\n\n\t\t\t\tvar iframe = document.getElementById('siteui-iframe');\n\n\t\t\t\tif (iframe.contentWindow.$K && !force) {\n\t\t\t\t\tiframe.contentWindow.$K.loadUrl(path);\n\t\t\t\t} else {\n\t\t\t\t\t$(iframe).attr('src', path);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thistory: function(el,parent) {\n\n\t\t\tvar loc\t\t= this.observers.state.iframe.location,\n\t\t\t\tcache\t= this.observers.state.iframe.historycache,\n\t\t\t\tsrc;\n\n\t\t\tif ( el.closest('li').find('.icon-solo-thin').hasClass('site-bwd') ) {\n\n\t\t\t\tif ( loc() == 0 ) { return; }\n\n\t\t\t\tloc( loc() - 1 );\n\n\t\t\t}\n\n\t\t\tif ( el.closest('li').find('.icon-solo-thin').hasClass('site-fwd') ) {\n\n\t\t\t\tif ( this.observers.state.iframe.history().length <= 1 || this.observers.state.iframe.history().length == loc() ) { return; }\n\n\t\t\t\tloc( loc() + 1 );\n\n\t\t\t}\n\n\t\t\tsrc = this.observers.state.iframe.historycache()[loc()];\n\n\t\t\tif (src) {\n\n\t\t\t\tif ( this.observers.state.iframe.history().length == loc() ) {\n\n\t\t\t\t\tcache = cache();\n\t\t\t\t\tcache.push(src);\n\n\t\t\t\t\tthis.observers.state.iframe.historycache(cache);\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.state.iframe.updateloc = false;\n\n\t\t\t\t$('#siteui-iframe').attr( 'src', src );\n\n\t\t\t}\n\n\t\t},\n\n\t\tsubnavigation: function(el,parent) {\n\n\t\t\tvar id = el.closest('li').attr('id');\n\n\t\t\t$('#' + $('.current').attr('id')).hide();\n\t\t\t$('.current',parent).removeClass('current');\n\t\t\t$('#' + id).addClass('current').show();\n\n\t\t\tthis.events.ui_init.call(this);\n\n\t\t},\n\n\t\tupdate_state: function(el,parent) {\n\n\t\t\tvar data\t= typeof parent === 'string' && parent || parent.data('state'),\n\t\t\t\tstate\t= this.observers.state[data],\n\t\t\t\ttype\t= typeof state(),\n\t\t\t\tout\t\t= ( type === 'string' ) ? el.text().trim().toLowerCase().replace( ' ', '_' ) : !state();\n\n\t\t\tthis.cookie( 'site:state:' + data, '\"' + out + '\"' );\n\n\t\t\tstate(out);\n\n\t\t},\n\n\t\tview_change: function(el) {\n\t\t\tthis.observers.state.view(el.text().toLowerCase());\n\t\t},\n\n\t\tsave: function(revert, live_updates) {\n\n\t\t\tvar self\t= this,\n\t\t\t\tvis\t\t= [],\n\t\t\t\tbttn\t= $('div#siteui-publish-buttons'),\n\t\t\t\tdata;\n\n\t\t\tvar site_inspector_scrollTop = $('#site-inspector .scroll_wrapper')[0].scrollTop;\n\n\t\t\t$('ol.lib-nav').each( function() {\n\t\t\t\tif ( $(this).css('display') !== 'none' && $(this).attr('id') ) {\n\t\t\t\t\tvis[vis.length] = $(this).attr('id');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.state.left_col_vis(vis);\n\n\t\t\trevert = revert || false;\n\n\t\t\tif (revert) {\n\t\t\t\tvar revertNote, revertCompleteMessage;\n\t\t\t\tif (revert === 'all') {\n\t\t\t\t\trevertNote = this.notify().wait('Reverting');\n\t\t\t\t\trevertCompleteMessage = 'Draft successfully reverted to live site.';\n\t\t\t\t} else {\n\t\t\t\t\trevertNote = this.notify().wait('Resetting theme');\n\t\t\t\t\trevertCompleteMessage = 'Draft successfully reset to theme defaults.';\n\t\t\t\t}\n\t\t\t\tdata = 'data={\"revert\": \"' + revert + '\"}';\n\t\t\t} else {\n\t\t\t\tvar d = $.extend({}, this.unmap(this.observers.site), true),\n\t\t\t\t\tonly = [ 'custom_css', 'navigation', 'routes', 'settings_send', 'url_data_send', 'pulse_settings_send', 'pulse_settings_group' ];\n\n\t\t\t\t$.each(d, function (i, obj) {\n\t\t\t\t\tif ($.inArray(i, only) === -1) {\n\t\t\t\t\t\tdelete(d[i]);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tdata = 'data=' + encodeURIComponent(JSON.stringify(d));\n\t\t\t}\n\n\t\t\tbttn.addClass('saving');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/draft:' + this.observers.site.draft_id(),\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: data,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tbttn.removeClass('saving');\n\t\t\t\t\tthis.observers.drafts.current.modified_on( Math.floor( +new Date() / 1000 ) );\n\t\t\t\t\t// Need this to force re-render of page_type settings, to update dependencies\n\t\t\t\t\tthis.observers.state.main_menu('display');\n\n\t\t\t\t\tif (revert) {\n\t\t\t\t\t\tthis.observers.state.loaded_page( this.observers.state.loaded_page() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete(data.settings);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.observers.site.style) {\n\t\t\t\t\t\tthis.observers.site.style.variables = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete(data.custom_css);\n\n\t\t\t\t\tthis.map( this.observers.site, data );\n\t\t\t\t\tthis.events.check_for_custom_styling();\n\n\t\t\t\t\tif (live_updates) {\n\t\t\t\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\n\t\t\t\t\t\tif (live_updates === 'reload') {\n\t\t\t\t\t\t\tvar sheet = win.find('#koken_settings_css_link');\n\t\t\t\t\t\t\tsheet.after(sheet.clone());\n\t\t\t\t\t\t\tsheet.attr('id', null);\n\n\t\t\t\t\t\t\tif (win.find('#k-lightbox-iframe').length) {\n\t\t\t\t\t\t\t\tvar lightbox = $(win.find('#k-lightbox-iframe').get(0).contentDocument)\n\n\t\t\t\t\t\t\t\tsheet = lightbox.find('#koken_settings_css_link');\n\t\t\t\t\t\t\t\tsheet.after(sheet.clone());\n\t\t\t\t\t\t\t\tsheet.attr('id', null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (live_updates === 'pulse') {\n\t\t\t\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K,\n\t\t\t\t\t\t\t\tgroup = $K.pulse.groups[ this.observers.site.pulse_settings_group ],\n\t\t\t\t\t\t\t\tpulses = win.find('div[data-pulse-group=' + this.observers.site.pulse_settings_group + ']');\n\n\t\t\t\t\t\t\tgroup = $.extend( group, data.pulse_groups[ this.observers.site.pulse_settings_group || {} ] );\n\n\t\t\t\t\t\t\tthis.observers.override_pulse_settings(group);\n\n\t\t\t\t\t\t\t$.each(pulses, function(i, pulse) {\n\t\t\t\t\t\t\t\t$K.pulse.register({ id: $(pulse).attr('id'), options: {} });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(document).trigger('previewready');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.events.refresh();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.site.settings_send = {};\n\t\t\t\t\tthis.observers.site.pulse_settings_send = {};\n\n\t\t\t\t\t$('#site-inspector .scroll_wrapper')[0].scrollTop = site_inspector_scrollTop;\n\n\t\t\t\t\tif (revertNote) revertNote.success(revertCompleteMessage);\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdate_link_filters: function(data, e) {\n\t\t\tvar val = data.link_to_edit.page_type(),\n\t\t\t\tpage_select = $(e.target),\n\t\t\t\tcontainer = page_select.parents('ul'),\n\t\t\t\tklass;\n\n\t\t\tcontainer.children('li').not(':first').hide();\n\t\t\tcontainer.children('li:nth-child(2)').find('select, input').hide();\n\n\t\t\t$.each(this.observers.site.templates(), function(i, p) {\n\t\t\t\tif (p.path === val) {\n\t\t\t\t\tif (p.info.source) {\n\t\t\t\t\t\tif (p.info.source.collection) {\n\t\t\t\t\t\t\tcontainer.children('li').show();\n\t\t\t\t\t\t\tklass = '.collection_' + p.info.source.collection;\n\t\t\t\t\t\t\tcontainer.find(klass).show();\n\t\t\t\t\t\t} else if (p.info.source.single) {\n\t\t\t\t\t\t\tcontainer.children('li').not(':last').show();\n\t\t\t\t\t\t\tklass = '.single_' + p.info.source.single;\n\t\t\t\t\t\t\tcontainer.find(klass).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpage_select.parent().find('span').text( p.info.description );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'themes\\/install\\/([^\\:]+)\\:([a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12})(?:\\/(\\\\d+))?$': function(matches) {\n\t\t\t\tthis.observers.state.type('themes');\n\n\t\t\t\tvar self = this,\n\t\t\t\t\tslug = matches[1],\n\t\t\t\t\tguid = matches[2],\n\t\t\t\t\tpurchase = matches[3] ? '&purchase=' + matches[3] : '',\n\t\t\t\t\tpath = 'themes/' + slug + '-' + guid,\n\t\t\t\t\tn = '&new=1';\n\n\t\t\t\t$.each(this.observers.themes(), function(i, theme) {\n\t\t\t\t\tif (theme.koken_store_guid === guid) {\n\t\t\t\t\t\tpath = 'themes/' + theme.path;\n\t\t\t\t\t\tn = '';\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsetTimeout( $.proxy(function() {\n\t\t\t\t\tthis.classes.modal.install_theme.show();\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid() + n + purchase,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.done) {\n\t\t\t\t\t\t\t\tthis.controllers.fetch_themes(function() {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t\t\t\t\t\t\tthis.classes.modal.install_theme.hide();\n\t\t\t\t\t\t\t\t\tthis.notify().success(data.info.name + ' installed');\n\n\t\t\t\t\t\t\t\t\t// Not using bbq here as it doesn't have a replaceState\n\t\t\t\t\t\t\t\t\t// and we don't want the install URL in the history\n\t\t\t\t\t\t\t\t\thistory.replaceState('', '', '#/site/themes');\n\t\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, this), 500);\n\n\n\t\t\t},\n\n\t\t\t'themes\\/?(preview:([^\\/]+)\\/?)?': function(matches) {\n\n\t\t\t\tthis.observers.state.type('themes');\n\n\t\t\t\tif (matches[1]) {\n\n\t\t\t\t\tvar self = this, t;\n\n\t\t\t\t\t// Wait for list to be rendered before transitioning to preview\n\t\t\t\t\tvar interval = setInterval( function() {\n\t\t\t\t\t\tif ($('#themes-browse li').length > 1 && !$('#themes-browse li.loading').length) {\n\t\t\t\t\t\t\t$.each(self.observers.themes(), function(i, theme) {\n\t\t\t\t\t\t\t\tif (theme.path === matches[2]) {\n\t\t\t\t\t\t\t\t\tt = theme;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tself.observers.state.preview_obj(t);\n\t\t\t\t\t\t\t\tself.observers.state.preview(matches[2]);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t'(draft|live)\\/?((theme|page)\\/?)?(url:(.*)$)?': function(matches) {\n\n\t\t\t\tthis.observers.sitepanel_pulse.active(false);\n\n\t\t\t\tthis.observers.state.type(matches[1]);\n\t\t\t\tthis.observers.state.preview(false);\n\n\t\t\t\tif (matches[1] === 'draft' && matches[2]) {\n\t\t\t\t\tthis.observers.state.sidebar(matches[3]);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'live') {\n\t\t\t\t\tthis.observers.state.mid_col('preview');\n\t\t\t\t}\n\n\t\t\t\tif (matches[4]) {\n\t\t\t\t\tvar iframe = $('#siteui-iframe'),\n\t\t\t\t\t\turl = matches[5] || '/',\n\t\t\t\t\t\tcurrent = this.observers.state.iframe.path().split('preview.php?')[1];\n\n\t\t\t\t\tif (current != url) {\n\t\t\t\t\t\tthis.events.refresh(url);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t'default': function() {\n\t\t\t\t$.bbq.pushState('/site/draft/theme/url:/', 2);\n\t\t\t}\n\n\t\t};\n\t},\n\n\tobservers: function() {\n\n\t\tvar cookies = {};\n\t\tvar self = this;\n\n\t\tcookies.settings_panel\t= ( this.cookie('site:state:settings_panel') === null ) ? false : this.helpers.bool( this.cookie('site:state:settings_panel') );\n\t\tcookies.settings_panel_docked\t= ( this.cookie('site:state:settings_panel_docked') === null ) ? false : this.helpers.bool( this.cookie('site:state:settings_panel_docked') );\n\t\tcookies.expand\t\t\t= ( this.cookie('site:state:expand') === null ) ? false: this.helpers.bool( this.cookie('site:state:expand') );\n\t\tcookies.pages\t\t\t= ( this.cookie('site:state:pages') === null ) ? true : this.helpers.bool( this.cookie('site:state:pages') );\n\n\t\treturn {\n\t\t\trefresh_destination: false,\n\t\t\tempty: ko.observable(1), // Reason for the one is so we can do a strict bool check up in the router, line 2180ish\n\t\t\terror: ko.observable(false),\n\t\t\tpages: ko.observableArray([]),\n\t\t\tsite: {\n\t\t\t\tcustom_style: ko.observable(false),\n\t\t\t\thas_page_template: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\ttagline: ko.observable(''),\n\t\t\t\tdraft_id: ko.observable(0),\n\t\t\t\tnavigation_groups: ko.observableArray([]),\n\t\t\t\tnavigation: {\n\t\t\t\t\titems: ko.observableArray([]),\n\t\t\t\t\tgroups: ko.observableArray([]),\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tinternals: ko.observableArray([]),\n\t\t\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\t\t\trss: ko.observableArray([]),\n\t\t\t\t\t\tsections: ko.observableArray([]),\n\t\t\t\t\t\tsupported_sections: ko.observableArray([]),\n\t\t\t\t\t\tpages: ko.observableArray([]),\n\t\t\t\t\t\tprofiles: ko.observableArray([]),\n\t\t\t\t\t\tgroup: ko.observable('')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnavigation_draft: ko.observableArray([]),\n\t\t\t\tsettings: ko.observableArray([]),\n\t\t\t\tsettings_flat: {},\n\t\t\t\tsettings_send: {},\n\t\t\t\turl_data_send: {},\n\t\t\t\turl_data: {\n\t\t\t\t\thome: ko.observable(false)\n\t\t\t\t},\n\t\t\t\tcustom_css: ko.observable(''),\n\t\t\t\tpulse_settings_send: {},\n\t\t\t\troutes: ko.observableArray([]),\n\t\t\t\ttemplates: ko.observableArray([]),\n\t\t\t\ttemplates_grouped: {\n\t\t\t\t\tindexes: ko.observableArray([]),\n\t\t\t\t\tspecials: ko.observableArray([]),\n\t\t\t\t\tspecial_paths: ko.observableArray([])\n\t\t\t\t},\n\t\t\t\tstyles: ko.observableArray([]),\n\t\t\t\tpublished: ko.observable(true)\n\t\t\t},\n\t\t\tpublished_theme: ko.observable(''),\n\t\t\tsite_loaded: ko.observable(false),\n\t\t\tsitepanel_pulse: {\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\tid: ko.observable('')\n\t\t\t},\n\t\t\tdrafts: {\n\t\t\t\tall: ko.observableArray([]),\n\t\t\t\thistory: ko.observableArray([]),\n\t\t\t\tcurrent: {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\t\tpreview: ko.observable(''),\n\t\t\t\t\t\tauthor: {\n\t\t\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\t\t\tlink: ko.observable('')\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpublished: ko.observable(false),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tcreated_on: ko.observable(0),\n\t\t\t\t\tmodified_on: ko.observable(0)\n\t\t\t\t}\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tdraft_history: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('draft_history')\n\t\t\t\t},\n\t\t\t\tcreate_link_template: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_link_template')\n\t\t\t\t},\n\t\t\t\tcreate_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_link')\n\t\t\t\t},\n\t\t\t\tedit_link_data: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('edit_link_data'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\t$('#edit_link_data li input').focus().off('.edit_link_data').on('keyup.edit_link_data', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#edit_link_data li button[data-event=\"update_link\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.interfaces.app.observers.valid(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcurrent_page_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('current_page_link'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar title = (document.getElementById('siteui-iframe').contentDocument.title || '').replace(RegExp('[^a-zA-Z]+' + this.observers.site.title()), '');\n\t\t\t\t\t\t$('#current_page_link #link_to_current_label').val(title).trigger('keyup').focus().off('keydown').on('keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#current_page_link li button[data-event=\"link_to_current\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.observers.valid(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreate_custom_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_custom_link')\n\t\t\t\t},\n\t\t\t\tedit_nav: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('edit_nav'),\n\t\t\t\t\tlink_type: ko.observable('internal'),\n\t\t\t\t\tfilter: ko.observable('All'),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\t$('#sheetview-edit-nav').css({\n\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t}).parent()\n\t\t\t\t\t\t.find('#sheetview-create-link').css('left', '680px');\n\t\t\t\t\t},\n\t\t\t\t\tlink_to_edit: {\n\t\t\t\t\t\tlabel: ko.observable(''),\n\t\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\t\tchecked: ko.observable(false),\n\t\t\t\t\t\tgroups: ko.observableArray( ['Primary'] ),\n\t\t\t\t\t\tis_new: ko.observable(true),\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tcollection: ko.observable(false)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclone: {},\n\t\t\t\t\t\tpage_type: ko.observable(''),\n\t\t\t\t\t\tfront: ko.observable(false)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsource_filter: {\n\t\t\t\t\tavailable: ko.observable(false),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('source_filter'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\t$('#source_filter li input:first').focus().off('click').on('keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#source_filter li button[data-event=\"apply_filters\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.classes.autocomplete.site.tags($('#source_filter input.widefilter_tag'), $('#source_filter input.widefilter_tag').parent(), $('#source_filter [data-event=\"add_filter_tag\"]'));\n\t\t\t\t\t},\n\t\t\t\t\tsource: ko.observable(''),\n\t\t\t\t\tis_album: ko.observable(false),\n\t\t\t\t\tis_orderable: ko.observable(true),\n\t\t\t\t\tdisplay: ko.observable('all'),\n\t\t\t\t\tfilter: ko.observable('none'),\n\t\t\t\t\torder_by: ko.observable(''),\n\t\t\t\t\torder_direction: ko.observable(''),\n\t\t\t\t\tcategory: ko.observable(0),\n\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\tcustom_source_keys: ko.observableArray([]),\n\t\t\t\t\tcurrent: ko.observable(true),\n\t\t\t\t\tlabel: ko.observable(''),\n\t\t\t\t\ttype: ko.observable('index'),\n\t\t\t\t\tsection: ko.observable(false),\n\t\t\t\t\troute: {},\n\t\t\t\t\tindex_route: {},\n\t\t\t\t\tmonth: ko.observable('any'),\n\t\t\t\t\tyear: ko.observable(''),\n\t\t\t\t\tyears: function() {\n\t\t\t\t\t\tvar now = +new Date().getFullYear(),\n\t\t\t\t\t\t\tarr = [];\n\n\t\t\t\t\t\twhile (now >= 2000) {\n\t\t\t\t\t\t\tarr.push(now);\n\t\t\t\t\t\t\tnow--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}(),\n\t\t\t\t\ttag_option: ko.observable('any'),\n\t\t\t\t\tsheet_title: ko.observable(''),\n\t\t\t\t\ttemplates: {\n\t\t\t\t\t\tsupported_archives: ko.observableArray([])\n\t\t\t\t\t},\n\t\t\t\t\tset: function(obj, route, url_data) {\n\t\t\t\t\t\tvar source = obj.source;\n\t\t\t\t\t\tif (source === 'album') {\n\t\t\t\t\t\t\tsource = 'contents';\n\t\t\t\t\t\t\tthis.is_album(true);\n\t\t\t\t\t\t} else if (source === 'set') {\n\t\t\t\t\t\t\tsource = 'albums';\n\t\t\t\t\t\t\tthis.is_album(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.is_album(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($.inArray(source, [ 'favorites', 'featured_albums', 'featured_content', 'featured_essays', 'contents', 'albums', 'sets', 'essays', 'tags', 'categories', 'timeline']) !== -1) {\n\t\t\t\t\t\t\tvar title, order_set = false;\n\t\t\t\t\t\t\tif ($.inArray(source, ['tags', 'categories', 'archives']) !== -1) {\n\t\t\t\t\t\t\t\tthis.type('archives');\n\t\t\t\t\t\t\t\ttitle = source === 'archives' ? 'date' : source;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.type('index');\n\t\t\t\t\t\t\t\tif (source === 'contents') {\n\t\t\t\t\t\t\t\t\ttitle = 'content';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle = source;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.is_orderable( (source === 'contents' && this.is_album()) || ( source.indexOf('featured_') === 0 || source === 'favorites' || source === 'albums' ) || ( source === 'essays' && this.display === 'featured' ) );\n\n\t\t\t\t\t\t\tthis.sheet_title('Add new ' + (obj.sheet_title || title.replace('_', ' ')) + ' page');\n\t\t\t\t\t\t\tthis.source(source);\n\t\t\t\t\t\t\tthis.display('all');\n\t\t\t\t\t\t\tthis.filter('none');\n\t\t\t\t\t\t\tthis.category(0);\n\t\t\t\t\t\t\tthis.month('any');\n\t\t\t\t\t\t\tthis.year(this.years[0]);\n\t\t\t\t\t\t\tthis.tags([]);\n\t\t\t\t\t\t\tthis.section(route && route.section);\n\n\t\t\t\t\t\t\tif (this.section() && source !== 'timeline') {\n\n\t\t\t\t\t\t\t\tvar order_type = 'order',\n\t\t\t\t\t\t\t\t\torder = url_data[ source === 'categories' ? 'category' : source.replace(/s$/, '') ][order_type]().toLowerCase().split(' ');\n\n\t\t\t\t\t\t\t\tthis.order_by(order[0]);\n\t\t\t\t\t\t\t\tthis.order_direction(order[1]);\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tswitch(source) {\n\t\t\t\t\t\t\t\t\tcase 'albums':\n\t\t\t\t\t\t\t\t\tcase 'featured_albums':\n\t\t\t\t\t\t\t\t\tcase 'featured_content':\n\t\t\t\t\t\t\t\t\tcase 'featured_essays':\n\t\t\t\t\t\t\t\t\tcase 'favorites':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('manual');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('asc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'contents':\n\t\t\t\t\t\t\t\t\tcase 'essays':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('published_on');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('desc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'sets':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('title');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('desc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (obj.filters) {\n\t\t\t\t\t\t\t\t\tvar order_direction = false;\n\n\t\t\t\t\t\t\t\t\t$.each(obj.filters, function(i,f) {\n\t\t\t\t\t\t\t\t\t\tif (f === 'featured') {\n\t\t\t\t\t\t\t\t\t\t\tthis.display('featured');\n\t\t\t\t\t\t\t\t\t\t} else if (f === 'favorites') {\n\t\t\t\t\t\t\t\t\t\t\tthis.display('favorites');\n\t\t\t\t\t\t\t\t\t\t} else if ($.inArray(f, self.observers.user_custom_sources_keys[source]()) !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.display(f);\n\t\t\t\t\t\t\t\t\t\t} else if (f.indexOf('tags=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\tthis.filter('tag');\n\t\t\t\t\t\t\t\t\t\t\tthis.tags( f.split('tags=')[1].split(',') );\n\t\t\t\t\t\t\t\t\t\t} else if (f.indexOf('order_') === 0 || f.indexOf('category=') === 0 || f.indexOf('month=') === 0 || f.indexOf('year=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\tvar bits = f.split('=');\n\n\t\t\t\t\t\t\t\t\t\t\tif (bits[0] === 'order_by') {\n\t\t\t\t\t\t\t\t\t\t\t\torder_set = true;\n\t\t\t\t\t\t\t\t\t\t\t} else if (bits[0] === 'order_direction') {\n\t\t\t\t\t\t\t\t\t\t\t\t// See below\n\t\t\t\t\t\t\t\t\t\t\t\torder_direction = bits[1];\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (typeof this[bits[0]] === 'function') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis[bits[0]](bits[1]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (f.indexOf('category=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.filter('category');\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (f.indexOf('month=') === 0 || f.indexOf('year=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.filter('archive');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}.bind(this));\n\n\t\t\t\t\t\t\t\t\t// Set this here to prevent order_by subscriber from trampling user value\n\t\t\t\t\t\t\t\t\tif (order_direction) {\n\t\t\t\t\t\t\t\t\t\tthis.order_direction(order_direction);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!order_set && (source === 'favorites' || source === 'contents' || source === 'albums' || source.indexOf('featured_') === 0) && (this.display() !== 'all' || this.is_album())) {\n\t\t\t\t\t\t\t\t\tthis.order_by('manual');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.label( obj.label || '');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstate: {\n\t\t\t\tpages: ko.observable(cookies.pages),\n\t\t\t\tedit: ko.observable('edit_theme'),\n\t\t\t\texpand: ko.observable(cookies.expand),\n\t\t\t\tleft_col: ko.observable('settings'),\n\t\t\t\tleft_col_vis: ko.observable([]),\n\t\t\t\tright_col: ko.observable('info'),\n\t\t\t\tmid_col: ko.observable('preview'),\n\t\t\t\tmain_menu: ko.observable('display'),\n\t\t\t\tadd_link: ko.observable(false),\n\t\t\t\tview: ko.observable('customize'),\n\t\t\t\tgear: ko.observable(false),\n\t\t\t\tthemes: ko.observable('installed'),\n\t\t\t\tcreate_link: ko.observable(false),\n\t\t\t\tcreate_custom_link: ko.observable(false),\n\t\t\t\tedit_link_data: ko.observable(false),\n\t\t\t\tcurrent_page_link: ko.observable(false),\n\t\t\t\tsource_filter: ko.observable(false),\n\t\t\t\ttype: ko.observable('draft'),\n\t\t\t\tloaded_page: ko.observable({}),\n\t\t\t\tloaded_route: ko.observable({}),\n\t\t\t\tsettings_panel: ko.observable(cookies.settings_panel),\n\t\t\t\tsettings_panel_docked: ko.observable(cookies.settings_panel_docked),\n\t\t\t\tpreview: ko.observable(false),\n\t\t\t\tpreview_obj: ko.observable({}),\n\t\t\t\tsidebar: ko.observable('theme'),\n\t\t\t\teditor_type: ko.observable('dock'),\n\t\t\t\tiframe: {\n\t\t\t\t\tcache: true,\n\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\trel_path: ko.observable(''),\n\t\t\t\t\thistory: ko.observableArray([]),\n\t\t\t\t\tfwd: ko.observableArray([]),\n\t\t\t\t\tupdateloc: true,\n\t\t\t\t\tlocation: ko.observable(0),\n\t\t\t\t\thistorycache: ko.observableArray([])\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttop_content: ko.observable(0),\n\t\t\ttop_essay: ko.observable(0),\n\n\t\t\toverride_pulse_settings: function(overrides) {\n\n\t\t\t\tfunction set_val(el, val) {\n\n\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\tel.attr('checked', val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.val(val);\n\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\tel.siblings('span.display_value').text(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el.attr('type') === 'ccolor' && el.parents('.theme_option').find('.coloralpha').length) {\n\t\t\t\t\t\tvar alpha = el.parents('.theme_option').find('.coloralpha'),\n\t\t\t\t\t\t\tvalue = val.match(/\\,\\s?([\\d\\.]+)\\)$/)[1]*100;\n\n\t\t\t\t\t\talpha.val(value);\n\t\t\t\t\t\talpha.siblings('span.display_value').text(value);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar settings = {};\n\n\t\t\t\t$.each($('#siteui-panel-pulse input[data-default-value], #siteui-panel-pulse select[data-default-value]'), function(i, el) {\n\t\t\t\t\tsettings[$(el).attr('id')] = $(el).data('default-value');\n\t\t\t\t});\n\n\t\t\t\tif (overrides.width || overrides.height) {\n\t\t\t\t\t$('#pulse_option_size').parents('.theme_option').hide();\n\t\t\t\t}\n\n\t\t\t\t$.each(overrides, function(i, setting) {\n\t\t\t\t\tsettings['pulse_option_' + i] = setting;\n\t\t\t\t});\n\n\t\t\t\t$.each(settings, function(i, setting) {\n\t\t\t\t\tset_val($('#' + i), setting);\n\t\t\t\t});\n\n\t\t\t\tnew this.klass.colorpicker('site', $('input[type=\"ccolor\"]'));\n\n\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K;\n\n\t\t\t\t$('#pulse_option_link_to').find('option[value=\"album\"]').remove();\n\n\t\t\t\tif (this.observers.sitepanel_pulse.active() && $K.pulse.refs[this.observers.sitepanel_pulse.id()]) {\n\t\t\t\t\tif ($K.pulse.refs[this.observers.sitepanel_pulse.id()].options().can_link_to_album) {\n\t\t\t\t\t\t$('#pulse_option_link_to').append(\n\t\t\t\t\t\t\t$('<option/>').attr({\n\t\t\t\t\t\t\t\t\tvalue: 'album',\n\t\t\t\t\t\t\t\t\tselected: overrides.link_to === 'album'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.text('Load album page')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpage_data_label: function(d) {\n\t\t\t\tvar capitalize = function(str) {\n\t\t\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t\t\t\t};\n\t\t\t\tif (d.collection) {\n\t\t\t\t\treturn capitalize( d.collection ) + ' list';\n\t\t\t\t} else if (d.single) {\n\t\t\t\t\treturn 'Single ' + d.single;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\talbum_id: function(path) {\n\t\t\t\tvar p = this.site.routes[path].source;\n\n\t\t\t\tif (!p) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if (p.single && p.id) {\n\t\t\t\t\treturn p.id;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t},\n\n\t\t\tselected_options: function(path) {\n\t\t\t\tvar p = this.site.routes[path].source;\n\n\t\t\t\tif (!p) {\n\t\t\t\t\treturn 'default';\n\t\t\t\t} else if (p.featured) {\n\t\t\t\t\treturn 'featured';\n\t\t\t\t} else if (p.category) {\n\t\t\t\t\treturn 'category';\n\t\t\t\t} else if (p.tag) {\n\t\t\t\t\treturn 'tag';\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\t}\n\n};\n\n\t_Koken.prototype.store = {\n\n\tmailbox: false,\n\n\texit: function() {\n\t\t$(window).off('message');\n\t},\n\n\tinit: function() {\n\t\tvar self = this,\n\t\t\t// Keep track of iframe src outside of observer\n\t\t\t// Helps with back/fwd button without causing refreshes\n\t\t\tcurrent_iframe_src = '';\n\n\t\t// Store sends messages back in the form of a payload object\n\t\t// Useing e.originalEvent because jQuery overwrites original event\n\t\t$(window).off('message').on('message', function(e) {\n\t\t\t// lastClickedElement doesn't pick up clicks from inside the iframe,\n\t\t\t// so we have to empty it here to keep the hashchange event from\n\t\t\t// bouncing right back to /store.\n\t\t\tself.classes.app.koken.lastClickedElement = {};\n\n\t\t\tvar data = e.originalEvent.data;\n\n\t\t\tswitch(data.action) {\n\t\t\t\tcase 'force_store':\n\t\t\t\t\tlocation.href = self.config.paths.store + data.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'loaded':\n\t\t\t\t\tif (data.uuid !== self.observers.settings.uuid()) {\n\t\t\t\t\t\tself.mailbox.postMessage({\n\t\t\t\t\t\t\tresetContext: true\n\t\t\t\t\t\t}, self.config.paths.store);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent_iframe_src = data.url.replace(self.config.paths.store + '/', '');\n\t\t\t\t\t\tif (self.observers.history.moving) {\n\t\t\t\t\t\t\tself.observers.history.moving = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.history.entries(self.observers.history.entries.slice(0, self.observers.history.index()+1));\n\t\t\t\t\t\t\tself.observers.history.entries.push(current_iframe_src);\n\t\t\t\t\t\t\tself.observers.history.index(self.observers.history.entries().length-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.observers.store_url(current_iframe_src);\n\t\t\t\t\t\tself.observers.title(data.title);\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'observers':\n\t\t\t\t\t$.each(data.observers, function(i, value) {\n\t\t\t\t\t\tif (self.observers[i]) {\n\t\t\t\t\t\t\tself.observers[i](value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ping':\n\t\t\t\t\tself.mailbox.postMessage({\n\t\t\t\t\t\tuuid: self.observers.settings.uuid(),\n\t\t\t\t\t\tpath: self.config.paths.base_relative,\n\t\t\t\t\t\tphp: self.system.php_version,\n\t\t\t\t\t\tversion: self.system.version,\n\t\t\t\t\t\timage_processing: self.system.image_processing_support\n\t\t\t\t\t}, self.config.paths.store);\n\t\t\t\t\tself.observers.pinged(true);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'notification':\n\t\t\t\t\tself.notify()[data.type](data.message);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'update':\n\t\t\t\t\tself.controllers.update_products(data.guid);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'update_koken':\n\t\t\t\t\tself.events.install_release();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'cookie':\n\t\t\t\t\t// A message is posted from the store here when the cookie has not been set properly.\n\t\t\t\t\t// For Chrome, we immediately show a walkthrough on how to enable 3rd party cookies,\n\t\t\t\t\t// as redirecting to the store then back won't help. So Chrome users never get here.\n\n\t\t\t\t\t// For everything else, try a redirect. This will work for Safari as well as\n\t\t\t\t\t// Firefox if the 3rd party cookie setting is set to \"From visited\". If Firefox\n\t\t\t\t\t// is set to \"Never\", it won't work and when it bounces back we'll show a walkthrough\n\t\t\t\t\t// on how to enable 3rd party cookies via exceptions.\n\n\t\t\t\t\t// FFFFFFFUUUUUUUUUUU\n\t\t\t\t\tvar redirect = location.href.replace(/\\/(cookie_return\\/?)?$/, '') + '/cookie_return';\n\t\t\t\t\tlocation.href = self.config.paths.store + '/sing?redirect=' + encodeURIComponent(redirect);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$.bbq.pushState( data.url, 2 );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.store_url.subscribe(function(val) {\n\t\t\t$.bbq.pushState('/store/' + val, 2);\n\t\t\tif (val !== current_iframe_src && this.observers.pinged()) {\n\t\t\t\tthis.mailbox.postMessage({\n\t\t\t\t\tnavigate: '/' + val\n\t\t\t\t}, self.config.paths.store);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.expand.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\t$('#app').addClass('site-expand');\n\t\t\t} else {\n\t\t\t\t$('#app').removeClass('site-expand');\n\t\t\t}\n\t\t}, this );\n\n\t\tvar init_url = this.config.paths.store + '/';\n\t\tif (!this.observers.pinged()) {\n\t\t\tinit_url += 'create_context?to=/' + (location.hash.indexOf('cookie_return') !== -1 ? '&cookietry=1' : '');\n\t\t}\n\n\t\tsetTimeout(function() {\n\t\t\tself.mailbox = document.getElementById('store-iframe').contentWindow;\n\t\t\t$('#store-iframe').attr('src', init_url\t+ self.observers.store_url());\n\t\t}, 0);\n\t},\n\n\tcontrollers: {\n\t\tupdate_products: function(guids) {\n\n\t\t\tthis.classes.modal.update_products.show();\n\n\t\t\tvar notification,\n\t\t\t\tsingle = guids.length === 1;\n\n\t\t\tif (!single) {\n\t\t\t\tnotification = guids.length + ' products updated';\n\t\t\t}\n\n\t\t\tvar refresh_themes = false,\n\t\t\t\trefresh_plugins = false,\n\t\t\t\ttotal = guids.length;\n\n\t\t\tvar next = $.proxy(function() {\n\t\t\t\tvar guid = guids.shift(),\n\t\t\t\t\tpath = false,\n\t\t\t\t\tname;\n\n\t\t\t\tthis.classes.modal.update_products.progress((total-guids.length)/total);\n\n\t\t\t\t$.each(this.observers.themes(), function(i, theme) {\n\t\t\t\t\tif (theme.koken_store_guid === guid) {\n\t\t\t\t\t\tpath = 'themes/' + theme.path;\n\t\t\t\t\t\trefresh_themes = true;\n\t\t\t\t\t\tname = theme.name;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!path) {\n\t\t\t\t\t$.each(this.observers.user_plugins(), function(i, plugin) {\n\t\t\t\t\t\tif (plugin.koken_store_guid === guid) {\n\t\t\t\t\t\t\tpath = 'plugins/' + plugin.path + (plugin.id ? '&id=' + plugin.id : '');\n\t\t\t\t\t\t\trefresh_plugins = true;\n\t\t\t\t\t\t\tname = plugin.name;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (single) {\n\t\t\t\t\tnotification = name + ' updated';\n\t\t\t\t}\n\n\t\t\t\tif (path) {\n\t\t\t\t\t$('#product_update_label').text('Please wait. \"' + name + '\" is being updated.')\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid(),\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.done) {\n\n\t\t\t\t\t\t\t\tthis.observers.update_count( this.observers.update_count() - 1 );\n\n\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t}, $.proxy(function() {\n\t\t\t\t\t\t\t\t\tif (guids.length) {\n\t\t\t\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (refresh_plugins) {\n\t\t\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.process_plugin_data(d, true);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (refresh_themes) {\n\t\t\t\t\t\t\t\t\t\t\tthis.controllers.fetch_themes();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tthis.classes.modal.update_products.hide();\n\n\t\t\t\t\t\t\t\t\t\tthis.notify().success(notification);\n\n\t\t\t\t\t\t\t\t\t\tthis.mailbox.postMessage({\n\t\t\t\t\t\t\t\t\t\t\tnavigate: '/updates'\n\t\t\t\t\t\t\t\t\t\t}, this.config.paths.store);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\tthis.classes.modal.update_products_fail.show();\n\t\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\t\t\tself.classes.modal.update_products_fail.hide();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tnext();\n\t\t}\n\t},\n\n\tevents: {\n\t\thistory: function(el, parent) {\n\t\t\tif ($(parent).hasClass('back')) {\n\t\t\t\tvar index = this.observers.history.index() - 1;\n\t\t\t} else {\n\t\t\t\tvar index = this.observers.history.index() + 1;\n\t\t\t}\n\n\t\t\tthis.observers.history.moving = true;\n\t\t\tthis.observers.history.index(index);\n\n\t\t\tthis.mailbox.postMessage({\n\t\t\t\tnavigate: '/' + this.observers.history.entries()[index]\n\t\t\t}, this.config.paths.store);\n\t\t},\n\n\t\tupdate_state: function(el,parent) {\n\n\t\t\tvar data\t= typeof parent === 'string' && parent || parent.data('state'),\n\t\t\t\tstate\t= this.observers.state[data],\n\t\t\t\ttype\t= typeof state(),\n\t\t\t\tout\t\t= ( type === 'string' ) ? el.text().trim().toLowerCase().replace( ' ', '_' ) : !state();\n\n\t\t\tif (data === 'pages') {\n\t\t\t\tthis.cookie( 'store:state:' + data, '\"' + out + '\"' );\n\t\t\t}\n\n\t\t\tstate(out);\n\n\t\t},\n\t},\n\n\tobservers: function() {\n\t\tvar cookies = {\n\t\t\tpages: ( this.cookie('store:state:pages') === null ) ? true : this.helpers.bool( this.cookie('store:state:pages') )\n\t\t};\n\n\t\treturn {\n\t\t\tstate: {\n\t\t\t\texpand: ko.observable(false),\n\t\t\t\tpages: ko.observable(cookies.pages)\n\t\t\t},\n\t\t\tstore_url: ko.observable(''),\n\t\t\tcart_count: ko.observable(0),\n\t\t\tupdates_count: ko.observable(0),\n\t\t\tusername: ko.observable('Account'),\n\t\t\tsupport_link: ko.observable(''),\n\t\t\tpinged: ko.observable(false),\n\t\t\ttitle: ko.observable('Koken Store'),\n\t\t\thistory: {\n\t\t\t\tentries: ko.observableArray([]),\n\t\t\t\tindex: ko.observable(0),\n\t\t\t\tmoving: false\n\t\t\t}\n\t\t}\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\t\t\t\turl = url || '';\n\t\t\t\tthis.observers.store_url(url);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\t_Koken.prototype.text = {\n\n\texit: function() {\n\t\tthis.controllers.end_autosave();\n\t},\n\n\tinit: function() {\n\n\t\tvar self = this;\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('text.resize', function() {\n\t\t\t$('#rcol-entry-edit').css('height', $('#three-col-right').height() - ( $('#text_feat_img').is(':visible') ? $('#text_feat_img').height() : 0 ) - 30);\n\n\t\t\tvar head = $('#three-col-right').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra');\n\n\t\t\tif ( head.length <= 0 || !head.is(':visible') ) {\n\t\t\t\thead = $('#three-col-right div').eq(1);\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: 0 + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 19 + 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: ( head.height() + 29 ) + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 46 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$(document).on('change.custom-fields', 'select.fields-data, input[type=\"checkbox\"]', function() {\n\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\tself.observers.current_shortcode_data([]);\n\t\t\tself.observers.current_shortcode_data(data);\n\t\t});\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('text');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('text');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('text');\n\n\t\t$(document)\n\t\t\t.off('.text-editor')\n\t\t\t.on('click.text-editor', '#entry-edit', function(e) {\n\t\t\t\t// Ignore header and toolbar\n\t\t\t\tif (e.target.nodeName !== 'DIV') {\n\t\t\t\t\t$('.entry-elem').removeClass('selected');\n\t\t\t\t\t$('p.media-row').not(':last-child').filter(function() { return $(this).children().length === 1 && e.target !== this; }).remove();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.entry-elem', function(e) {\n\t\t\t\tvar t = $(e.target);\n\n\t\t\t\tif (t.hasClass('entry-elem')) {\n\t\t\t\t\t$('.entry-elem').not(t).removeClass('selected');\n\t\t\t\t\tt.toggleClass('selected');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.redactor_btn_formatting', function() {\n\t\t\t\tif ( parseInt( $('.redactor_air').css('top'), 10 ) > $(window).height() - 300 ) {\n\t\t\t\t\t$('.redactor_dropdown').css( 'top', parseInt( $('.redactor_dropdown').css('top'), 10 ) - 300 );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.elem-title', function(e) {\n\n\t\t\t\tvar p = $(this).parent('div'),\n\t\t\t\t\tpreview = p.find('.elem-preview');\n\n\t\t\t\tif (preview.children().length) {\n\t\t\t\t\tif (preview.is(':visible') && (preview.hasClass('slideshow') || preview.find('video'))) {\n\t\t\t\t\t\tpreview.replaceWith($('<div/>').addClass('elem-preview'));\n\t\t\t\t\t}\n\t\t\t\t\tpreview.toggle();\n\t\t\t\t} else {\n\t\t\t\t\tvar info = self.controllers.parse_shortcode(p.find('.raw-code').text());\n\n\t\t\t\t\tif (info.params.id && info.params.media_type) {\n\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\t$.get(self.config.paths.base + 'api.php?/content/' + info.params.id, function(data) {\n\t\t\t\t\t\t\tif (data.file_type === 'image') {\n\t\t\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t\t\t.attr('src', data.presets.medium_large[self.config.retina ? 'hidpi_url' : 'url'])\n\t\t\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\tif (data.original && data.original.url) {\n\t\t\t\t\t\t\t\t\tvar v = $('<video/>').attr({\n\t\t\t\t\t\t\t\t\t\tsrc: data.original.url,\n\t\t\t\t\t\t\t\t\t\tcontrols: true,\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tpreload: 'metadata'\n\t\t\t\t\t\t\t\t\t}).appendTo(preview);\n\n\t\t\t\t\t\t\t\t\tv.mediaelementplayer({\n\t\t\t\t\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\t\t\t\t\tflashName: 'flashmediaelement.swf'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (data.content_html) {\n\t\t\t\t\t\t\t\t\t$(data.content_html).width('100%').height(400).appendTo(preview);\n\t\t\t\t\t\t\t\t} else if (data.html) {\n\t\t\t\t\t\t\t\t\t$(data.html).width('100%').height(400).appendTo(preview);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else if (info.params.album || info.params.content) {\n\n\t\t\t\t\t\tvar id = 'pulse-' + $('#edit-area').children().index(p),\n\t\t\t\t\t\t\t\ttarget = $('<span/>').attr('id', id).appendTo(preview);\n\n\t\t\t\t\t\tpreview.addClass('slideshow');\n\t\t\t\t\t\tp.addClass('loading');\n\n\t\t\t\t\t\tvar script = document.createElement('script');\n\t\t\t\t\t\tscript.src = self.config.paths.base + 'app/site/themes/common/js/pulse.js';\n\t\t\t\t\t\tscript.onload = function() {\n\t\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\t\tsize: '3:2',\n\t\t\t\t\t\t\t\tdataUrl: self.config.paths.base + 'api.php?/',\n\t\t\t\t\t\t\t\tlink_to: 'advance',\n\t\t\t\t\t\t\t\tautostart: true\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (info.params.content) {\n\t\t\t\t\t\t\t\topts.dataUrl += 'content/' + info.params.content;\n\t\t\t\t\t\t\t} else if (info.params.album) {\n\t\t\t\t\t\t\t\topts.dataUrl += 'albums/' + info.params.album + '/content';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\tpreview.toggle();\n\n\t\t\t\t\t\t\tPulse('#' + id, opts);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\n\t\t\t\t\t} else if (info.name === 'koken_oembed') {\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/oembed_preview',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: 'url=' + encodeURIComponent(info.params.endpoint + ( info.params.endpoint.indexOf('?') === -1 ? '?' : '&' ) + 'url=' + info.params.url),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif (data.html) {\n\t\t\t\t\t\t\t\t\tvar html = $(data.html);\n\t\t\t\t\t\t\t\t\thtml.appendTo(preview);\n\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\tpreview.fitVids();\n\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t\t\t\t.attr('src', data.url)\n\t\t\t\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (info.params.filename) {\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t.attr('src', info.params.filename.indexOf('http') === 0 ? info.params.filename : self.config.paths.base + 'storage/custom/' + info.params.filename)\n\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).parent().find('a[data-event=\"edit_shortcode\"]').trigger('click');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\n\t\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'favorites',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.sheets.shortcode_collection.favorites( $.map(data.content, function(c) { return c.id; }) );\n\t\t\t}\n\t\t});\n\n\t\tif (this.observers.settings.last_upload()) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'content/after:' + this.observers.settings.last_upload() + '/order_by:uploaded_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.sheets.shortcode_collection.last_upload( $.map(data.content, function(c) { return c.id; }) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.persist('library.quick_collection') && this.persist('library.quick_collection').length > 1) {\n\t\t\tthis.observers.sheets.shortcode_collection.quick_collection( this.persist('library.quick_collection').split(',').map( function(id) { return Number(id); }) );\n\t\t}\n\n\t\tfunction trip_sheet_resize() {\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t});\n\t\t}\n\n\t\tthis.observers.sheets.shortcode_media.editing.subscribe(trip_sheet_resize);\n\t\tthis.observers.sheets.insert_link.state.type.subscribe(trip_sheet_resize);\n\n\t\tthis.observers.page_to_edit.__featured_image.subscribe(function(val) {\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t}, 250);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar src = val.presets.medium[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tvar i = new Image();\n\t\t\t\ti.onload = function() {\n\t\t\t\t\tvar img = $('#text_feat_img img'),\n\t\t\t\t\t\th,\n\t\t\t\t\t\tcss = {};\n\t\t\t\t\tif (i.width > i.height) {\n\t\t\t\t\t\tcss = {\n\t\t\t\t\t\t\twidth: 219,\n\t\t\t\t\t\t\theight: 219/(i.width/i.height)\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcss = {\n\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\theight: 219\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tcss.opacity = 0;\n\n\t\t\t\t\timg.css(css);\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.attr('src', src).css('opacity', 1);\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\timg.parents('.loading').removeClass('loading');\n\t\t\t\t\t}, 500);\n\t\t\t\t};\n\t\t\t\ti.src = src;\n\t\t\t});\n\t\t}, this);\n\n\t\tthis.observers.current_shortcode_data.subscribe(function() {\n\t\t\tthis.controllers.setup_custom_shortcode_sort();\n\t\t}, this);\n\n\t\tthis.observers.current_shortcode.subscribe(function(val) {\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\n\t\t\tvar obj = {};\n\n\t\t\tif (this.observers.to_replace) {\n\t\t\t\tvar code = this.observers.to_replace.find('.raw-code').text();\n\t\t\t\tobj = this.controllers.parse_shortcode(code).params;\n\t\t\t}\n\n\t\t\tvar data = [],\n\t\t\t\tself = this;\n\n\t\t\tif (val.data) {\n\t\t\t\t$.each(val.data, function(key, info) {\n\t\t\t\t\tvar info_clone = $.extend(info, { key: key });\n\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\tinfo_clone.value = self.controllers.unescape_code(obj[key]);\n\t\t\t\t\t\tif (info.type === 'fields_array') {\n\t\t\t\t\t\t\tinfo_clone.value = JSON.parse(info_clone.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (info.type === 'link') {\n\t\t\t\t\t\tinfo_clone.value = 'false';\n\t\t\t\t\t} else if (self.observers.to_replace) {\n\t\t\t\t\t\tdelete(info_clone.value);\n\t\t\t\t\t}\n\t\t\t\t\tdata.push( info_clone );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.observers.current_shortcode_data(data);\n\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.isreplacing.subscribe( function(val) {\n\t\t\tif ( val === true ) {\n\n\t\t\t\tthis.observers.sheets.shortcode_media.isreplacing(false);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tif ( this.observers.sheets.shortcode_media.loaded() ) {\n\t\t\t\t\tvar cp = $('#sheetview-img-insert .lib-content').empty().closest('section').parent().html();\n\t\t\t\t\t$('#sheetview-img-insert').empty().html(cp);\n\t\t\t\t}\n\n\t\t\t\tthis.observers.sheets.shortcode_media.selected.view('/content');\n\t\t\t\tthis.controllers.load_content( '.lib-content', 'content', '#sheetview-img-insert', self.observers.sheets.shortcode_media.type(), 'public' );\n\t\t\t\tthis.observers.sheets.shortcode_media.loaded(true);\n\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.theme.subscribe(function(val) {\n\n\t\t\tvar klass = '';\n\n\t\t\tthis.cookie( 'text:theme', '\"' + val + '\"' );\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 0:\n\t\t\t\t\tklass = 'light';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tklass = 'dark';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$('#entry-edit-area').removeAttr('class').addClass(klass);\n\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.active.subscribe(function(val) {\n\t\t\tif ( val === true ) {\n\n\t\t\t\tvar self = this,\n\t\t\t\t\ttype = this.observers.sheets.shortcode_media.type(),\n\t\t\t\t\tlibUrl = $('.head-link.library-interface').attr('href').replace('#/library', ''),\n\t\t\t\t\tfirstRun = true,\n\t\t\t\t\tloadOverridden = false,\n\t\t\t\t\tnavItems = ['albums','after','last_upload','favorites','featured','quick_collection'];\n\n\t\t\t\t$.each(navItems, function(i, item) {\n\t\t\t\t\tif (libUrl.indexOf(item) !== -1) {\n\t\t\t\t\t\tvar urlToLoad;\n\t\t\t\t\t\tif (item === 'albums') {\n\t\t\t\t\t\t\turlToLoad = libUrl;\n\t\t\t\t\t\t} else if (item === 'after') {\n\t\t\t\t\t\t\turlToLoad = 'last_upload';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlToLoad = $('#view_select').find('option[class=\"' + item + '\"]').val();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloadOverridden = true;\n\t\t\t\t\t\tself.observers.sheet_media_chosen.primary((item !== 'after') ? item : 'last_upload');\n\t\t\t\t\t\tself.observers.sheets.shortcode_media.selected.view(item);\n\t\t\t\t\t\tself.controllers.load_content('.lib-content', urlToLoad, '#sheetview-img-insert', type, 'public');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$('#view_select').off('change').on('change', function(e) {\n\n\t\t\t\t\tvar sel\t= $(this).find('option:selected'),\n\t\t\t\t\t\turl\t= sel.val();\n\n\t\t\t\t\tself.observers.sheet_media_chosen.primary( sel.attr('class') );\n\t\t\t\t\tself.observers.sheets.shortcode_media.selected.view(url);\n\n\t\t\t\t\t$('#container').trigger('sheet.insert_media');\n\n\t\t\t\t\tif (url === 'public_albums') {\n\t\t\t\t\t\t$('#album_select').on('change', function(e) {\n\t\t\t\t\t\t\tvar url\t= $(this).find('option:selected').val();\n\t\t\t\t\t\t\tself.observers.sheet_media_chosen.secondary( $(this).find('option:selected').attr('data-id') );\n\t\t\t\t\t\t\tself.controllers.load_content( '.lib-content', url, '#sheetview-img-insert', type, 'public' );\n\t\t\t\t\t\t\tself.classes.scrollbar['sheetview-img-insert'].reset();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (!loadOverridden) {\n\t\t\t\t\t\tif ( $('#sheetview-img-insert li').length > 0 ) $('#sheetview-img-insert ul').empty();\n\t\t\t\t\t\t$('#album_select option.none').prop('selected', 'selected');\n\t\t\t\t\t\tself.observers.sheet_media_chosen.secondary('0');\n\t\t\t\t\t\tself.controllers.load_content( '.lib-content', url, '#sheetview-img-insert', type, 'public' );\n\t\t\t\t\t}\n\n\t\t\t\t\tloadOverridden = false;\n\n\t\t\t\t\tif (url === 'content') $('#album_select').hide();\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tif (firstRun && libUrl.indexOf('albums') >= 0) {\n\t\t\t\t\t\t\tfirstRun = false;\n\t\t\t\t\t\t\t$('#album_select')\n\t\t\t\t\t\t\t\t.find('option[value=\"' + libUrl + '\"]')\n\t\t\t\t\t\t\t\t.prop('selected', 'selected');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.type.subscribe( function(val) {\n\t\t\tthis.observers.sheets.shortcode_media.loaded(false);\n\t\t}, this);\n\n\t\tthis.controllers.fetch_drafts();\n\n\t\tthis.observers.selection.subscribe(function(val) {\n\n\t\t\tif (val) {\n\n\t\t\t\tvar index = $('#entry-' + val).data('index'),\n\t\t\t\t\titem = this.observers.list()[index];\n\n\t\t\t\tthis.controllers.load_edit(item);\n\n\t\t\t} else if (this.observers.last_edit) {\n\n\t\t\t\tvar el = $('#entry-' + this.observers.last_edit);\n\t\t\t\t$('#edit-area').destroyEditor();\n\t\t\t\t$('#entry-edit').remove();\n\t\t\t\tself.observers.view('list');\n\t\t\t\tthis.events.close_sidebar_drawer();\n\n\t\t\t}\n\n\t\t\tthis.observers.last_edit = val;\n\t\t}, this);\n\n\t\tvar excerpt_timer;\n\t\tthis.observers.page_to_edit.excerpt.subscribe(function(val) {\n\t\t\tif ( this.observers.firstPageLoad() ) { this.observers.firstPageLoad(false); return false; }\n\t\t\tvar self = this;\n\t\t\tclearTimeout(excerpt_timer);\n\t\t\texcerpt_timer = window.setTimeout(function() {\n\t\t\t\tclearTimeout(excerpt_timer);\n\t\t\t\t$('#entries li[id=\"entry-' + self.observers.page_to_edit.id() + '\"] .entry-text .entry-p p').text(self.observers.truncate(val, 150));\n\t\t\t\t$.each( self.observers.list(), function(k,v) {\n\t\t\t\t\tif ( v.id === self.observers.page_to_edit.id() ) {\n\t\t\t\t\t\tself.observers.list()[k].excerpt = val;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'excerpt=' + val,\n\t\t\t\t\tcontext: self\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t}, this);\n\n\t\tthis.observers.page_to_edit.draft_title.subscribe(function(val) {\n\t\t\tvar current = $('#entry-edit #entry-title h2');\n\t\t\tif (current.is(':visible') && current.text() !== val) {\n\t\t\t\t$('#entry-edit #entry-title h2').text(val);\n\t\t\t\tthis.observers.hasChanges(true);\n\t\t\t\tthis.controllers.start_autosave();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.subscribe(function(val) {\n\t\t\tthis.controllers.rewrite_hash({ name: 'state', val: val === 'draft' ? val : false });\n\t\t}, this);\n\n\t\tthis.observers.drawer.state.subscribe( function(val) {\n\t\t\tif ( val === 'closed' ) {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\t\t}, this);\n\n\t\tvar\told_title = '';\n\n\t\t$(document)\n\t\t\t.off('.textedit')\n\t\t\t.on('keyup.textedit', '#edit-area', function(e) {\n\n\t\t\t\tvar scrollOffset = $(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight - (parseInt($(this).closest('#entry-scroll').find('.scroll_track').height(), 10) + parseInt($(this).closest('#entry-scroll').find('.scroll_wrapper').scrollTop(), 10 ));\n\n\t\t\t\tif ( scrollOffset <= 100 && scrollOffset > 0 ) {\n\t\t\t\t\t$(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollTop = $(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight;\n\t\t\t\t}\n\n\t\t\t\tself.observers.hasChanges(true);\n\n\t\t\t\t$(this).find('p').each(function(i, p) {\n\t\t\t\t\tif ($.trim(p.textContent).length === 0 && $(p).html() === '<br>') {\n\t\t\t\t\t\t$(p).addClass('media-row').html('<br />');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(p).removeClass('media-row');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar sel = $('.entry-elem.selected');\n\n\t\t\t\tif (sel.length && e.keyCode === 13) {\n\t\t\t\t\tvar p = $('<p/>').addClass('media-row').html('<br />');\n\t\t\t\t\tsel.before(p);\n\t\t\t\t\twindow.Selection.setSelection(window, p.get(0));\n\t\t\t\t\tsel.removeClass('selected');\n\t\t\t\t}\n\n\t\t\t\tself.controllers.start_autosave();\n\t\t\t})\n\t\t\t.on('focus.textedit', '#entry-title h2', function(e) {\n\t\t\t\t// Save title in case user escapes while typing\n\t\t\t\told_title = $('#entry-title h2:first').text();\n\t\t\t})\n\t\t\t.on('paste.textedit', '#entry-title h2', function(e) {\n\t\t\t\tvar s = $(this);\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\ts.text( s.text() );\n\t\t\t\t});\n\t\t\t})\n\t\t\t.on('keyup.textedit keydown.textedit', '#entry-title h2:first', function(e) {\n\n\t\t\t\tvar tgt = $('#entry-title h2:first');\n\n\t\t\t\tif (e.type === 'keydown') {\n\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\t// ESC\n\t\t\t\t\t\ttgt.text( old_title );\n\t\t\t\t\t\ttgt.blur();\n\t\t\t\t\t} else if (e.keyCode === 13) {\n\t\t\t\t\t\t// RETURN\n\t\t\t\t\t\ttgt.blur();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.observers.page_to_edit.draft_title( tgt.text() );\n\t\t\t\t}\n\n\t\t\t\tif (e.keyCode !== 13 && e.keyCode !== 27) {\n\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t\tself.controllers.start_autosave();\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.on('dblclick.textedit', '#media-browse-content li', function(e) {\n\t\t\t\t$('button[data-event=\"insert_photo\"]').trigger('click');\n\t\t\t});\n\n\t\tthis.controllers.load_albums_full();\n\n\t},\n\n\tcontrollers: {\n\t\tsetup_custom_shortcode_sort: function() {\n\t\t\tvar self = this;\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$('.fields-data-sortable').sortable({\n\t\t\t\t\thandle: 'td:first-child',\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\tvar $el = $(this);\n\t\t\t\t\t\tvar key = $el.attr('data-field');\n\n\t\t\t\t\t\tvar newData = $.map($el.find('tr.fields-data-row'), function(tr) {\n\t\t\t\t\t\t\treturn [ko.dataFor(tr)];\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar shortData = self.observers.current_shortcode_data();\n\t\t\t\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\t\t\t\tif (field.key === key) {\n\t\t\t\t\t\t\t\tfield.value = newData;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\tself.observers.current_shortcode_data(shortData);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tfetch_drafts: function() {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/drafts/limit:5/order_by:modified_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.drafts( data.text );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfeatured_from_oembed: function(obj) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/oembed_preview',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'url=' + encodeURIComponent(obj.endpoint + ( obj.endpoint.indexOf('?') === -1 ? '?' : '&' ) + 'url=' + obj.url),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.type !== 'photo' && (data.large_thumbnail_url || data.thumbnail_url)) {\n\t\t\t\t\t\tthis.events.save_feature(data.large_thumbnail_url || data.thumbnail_url);\n\t\t\t\t\t} else if (data.url) {\n\t\t\t\t\t\tthis.events.save_feature(data.url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfeatured_order: function() {\n\t\t\tvar self = this;\n\t\t\t$('#entries').sortable({\n\t\t\t\tdistance: 10,\n\t\t\t\taxis: 'y',\n\t\t\t\thandle: '.move',\n\t\t\t\tcontainment: '#entry-list-all',\n\t\t\t\tupdate: function(a) {\n\t\t\t\t\tvar order = [],\n\t\t\t\t\t\tnote = self.notify().wait('Reordering featured essays');\n\t\t\t\t\t$('#entries li').each(function(i, el) {\n\t\t\t\t\t\torder.push($(el).data('id'));\n\t\t\t\t\t});\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'text/featured/order:' + order.join(','),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tnote.success('Featured essay order updated');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tescape_code: function(str) {\n\t\t\treturn encodeURIComponent(str.replace(/\"/gm, '__quot__').replace(/</gm, '__lt__').replace(/>/gm, '__gt__').replace(/\\r?\\n\\r?/gm, '__n__').replace(/\\[/gm, '__lb__').replace(/\\]/gm, '__rb__').replace(/%/gm, '__perc__'));\n\t\t},\n\n\t\tunescape_code: function(str) {\n\t\t\treturn decodeURIComponent(str).replace(/(__quot__)/gm, '\"').replace(/(__lt__)/gm, '<').replace(/(__gt__)/gm, '>').replace(/(__n__)/gm, \"\\n\").replace(/(__lb__)/gm, \"[\").replace(/(__rb__)/gm, \"]\").replace(/(__perc__)/gm, '%');\n\t\t},\n\n\t\tstart_autosave: function() {\n\t\t\tclearTimeout(this.observers.autosave_timeout_id);\n\t\t\tvar self = this;\n\t\t\tthis.observers.autosave_text_id = this.observers.page_to_edit.id();\n\t\t\tthis.observers.autosave_timeout_id = setTimeout(function() {\n\t\t\t\tif (self.observers.autosave_text_id === self.observers.page_to_edit.id()) {\n\t\t\t\t\tself.events.save();\n\t\t\t\t}\n\t\t\t}, 7000);\n\t\t},\n\n\t\tend_autosave: function() {\n\t\t\tthis.observers.autosave_text_id = false;\n\t\t\tif (this.observers.autosave_timeout_id) {\n\t\t\t\tclearTimeout(this.observers.autosave_timeout_id);\n\t\t\t\tthis.observers.autosave_timeout_id = false;\n\t\t\t}\n\t\t},\n\n\t\tinit_copiers: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$('a.copier').each( function(i, a) {\n\t\t\t\t$(a).off().zclip({\n\t\t\t\t\tcopy: $(a).parent().parent().find('textarea').val(),\n\t\t\t\t\tpath: 'js/ZeroClipboard.swf',\n\t\t\t\t\tafterCopy: function() { self.notify().success('Link copied to clipboard'); }\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tmid_scroll_finish: function() {\n\t\t\tif (this.observers.next_page && !this.observers.is_loading) {\n\t\t\t\tthis.controllers.load_text();\n\t\t\t}\n\t\t},\n\n\t\tcreate_node: function(item, index) {\n\n\t\t\tvar klass\t= [],\n\t\t\t\tpub\t\t= ( item.published ) ? 'Published' : 'Draft',\n\t\t\t\tself\t= this,\n\t\t\t\torder\t= $.inArray(this.observers.order_by(), ['manual', 'title']) !== -1 ? 'published_on' : this.observers.order_by(),\n\t\t\t\tts\t\t= item[order].timestamp*1000;\n\n\t\t\tif (!item.published) {\n\t\t\t\tklass.push('draft');\n\t\t\t} else if (item.content !== item.draft && item.published) {\n\t\t\t\tklass.push('edited');\n\t\t\t}\n\n\t\t\tvar getCatsTopics = function(item,type) {\n\t\t\t\tif (item[type].count === 0) {\n\t\t\t\t\treturn '<span class=\"none\">- none -</span>';\n\t\t\t\t} else {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: item[type].url,\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tvar res = (type === 'categories') ? data.categories : data.albums,\n\t\t\t\t\t\t\t\tout = '';\n\t\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\t\tres.forEach(function(_item) {\n\t\t\t\t\t\t\t\t\tout += _item.title + ', ';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tout = self.helpers.rtrim( out, ', ');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tout = '<span class=\"none\">- none -</span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('.' + type + '_' + item.id).html(out);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn 'Loading ...';\n\t\t\t\t}\n\t\t\t}.bind(this);\n\n\t\t\treturn '<li class=\"' + klass.join(' ') + '\" id=\"entry-' + item.id + '\" data-index=\"' + index + '\" data-id=\"' + item.id + '\">\\\n\t\t\t\t<span class=\"list-cell date\">\\\n\t\t\t\t\t<span class=\"day\">\\\n\t\t\t\t\t\t' + moment(ts).format('DD') + '\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"myd\">\\\n\t\t\t\t\t\t<span class=\"month-year\">\\\n\t\t\t\t\t\t\t' + moment(ts).format('MMM') + ' ' + moment(ts).format('YYYY') + '\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"day-name\">\\\n\t\t\t\t\t\t\t' + moment(ts).format('dddd') + '\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell title\" data-event=\"edit_page\">\\\n\t\t\t\t\t<span class=\"entry-text-h\">\\\n\t\t\t\t\t\t<h2>' + item.draft_title + '</h2>\\\n\t\t\t\t\t\t<span class=\"text-badge draft\">Draft</span>\\\n\t\t\t\t\t\t<span class=\"text-badge edited\">Edited</span>\\\n\t\t\t\t\t\t<span class=\"entry-date\">' + this.helpers.capitalize(order.replace('_', ' ')) + ' ' + moment(ts).format('MMMM DD YYYY') + ' at ' + moment(ts).format('h:mm a') + '</span>\\\n\t\t\t\t\t\t<span class=\"entry-p\">\\\n\t\t\t\t\t\t\t<p>' + this.observers.truncate(item.excerpt, 170) + '</p>\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell cat\">\\\n\t\t\t\t\t<strong>Category</strong>\\\n\t\t\t\t\t<span class=\"categories_' + item.id + '\">' + getCatsTopics(item,'categories') + '</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell top\">\\\n\t\t\t\t\t<strong>Topic</strong>\\\n\t\t\t\t\t<span class=\"topics_' + item.id + '\">' + getCatsTopics(item,'topics') + '</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell bttns\">\\\n\t\t\t\t' + ( item.page_type === 'essay' && this.observers.api_url() === 'text/featured/render:0' ? '\\\n\t\t\t\t\t<a href=\"#\" class=\"text-bttn move\" title=\"Reorder\"></a>' : '') +\n\t\t\t\t\t(  item.page_type === 'essay' && item.published ? '<a href=\"#\" data-event=\"toggle_featured\" class=\"text-bttn feat' + ( item.featured ? ' active' : '' ) + '\" title=\"Feature this essay\"></a>' : '') +\n\t\t\t\t\t'<a href=\"#\" class=\"text-bttn del\" data-event=\"delete_from_list\" title=\"Delete\"></a>\\\n\t\t\t\t</span>\\\n\t\t\t</li>';\n\t\t},\n\n\t\tload_text: function(obj, restart) {\n\n\t\t\trestart = restart || false;\n\n\t\t\tthis.observers.is_loading = true;\n\n\t\t\tobj = obj || { load_until: false, cb: false };\n\t\t\tvar url = this.observers.api_url();\n\n\t\t\tif (this.observers.next_page && !restart) {\n\t\t\t\turl += '/page:' + this.observers.next_page;\n\t\t\t}\n\n\t\t\tthis.sync({\n\t\t\t\trequest: url,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.observers.loading(false);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar fragment = [],\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (data.page === 1 && data.sort && this.observers.is_sortable()) {\n\t\t\t\t\t\tthis.observers.order_by(data.sort.by);\n\t\t\t\t\t\tthis.observers.order_direction(data.sort.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( data.text, function(i, text) {\n\t\t\t\t\t\tfragment.push( self.controllers.create_node( text, i + (data.page - 1)*100 ) );\n\t\t\t\t\t});\n\n\t\t\t\t\tif (data.page === 1) {\n\t\t\t\t\t\tthis.observers.list( data.text );\n\t\t\t\t\t\tthis.observers.total( data.total );\n\t\t\t\t\t\tthis.observers.calendar_data = data.dates;\n\t\t\t\t\t\tvar years = [];\n\t\t\t\t\t\t$.each( data.dates, function(i, m) {\n\t\t\t\t\t\t\tvar months = $.map(m, function(count, month) {\n\t\t\t\t\t\t\t\treturn { month: month, count: count, year: i };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tyears.push({ year: i, months: months.reverse() });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.observers.years(years.reverse());\n\t\t\t\t\t\tthis.observers.years.valueHasMutated();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.list( this.observers.list().concat(data.text) );\n\t\t\t\t\t}\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\tif (data.page === 1) {\n\n\t\t\t\t\t\t\t$('#entries').html(fragment.join(''));\n\n\t\t\t\t\t\t\tself.observers.loading(false);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#entries').append(fragment.join(''));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfragment = [];\n\n\t\t\t\t\t\tif (data.page < data.pages) {\n\t\t\t\t\t\t\tself.observers.next_page = data.page + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.next_page = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\tvar ids = $.map( data.text, function(c) {\n\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\tif (self.observers.next_page) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_text( obj );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash('selection', false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof obj.cb === 'function') {\n\t\t\t\t\t\t\tobj.cb();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.is_loading = false;\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\trewrite_hash: function(arr) {\n\n\t\t\tif (!$.isArray(arr)) {\n\t\t\t\tarr = [ arr ];\n\t\t\t}\n\n\t\t\tvar frag = $.param.fragment();\n\n\t\t\t$.each(arr, function(i, obj) {\n\t\t\t\tvar replace = obj.replace || [ obj.name ];\n\n\t\t\t\tif ($.isArray(obj.val)) {\n\t\t\t\t\tobj.val = obj.val.join(',');\n\t\t\t\t}\n\n\t\t\t\t$.each( replace, function(i, str) {\n\t\t\t\t\tfrag = frag.replace(RegExp('\\/' + str + ':[^\\/]+'), '');\n\t\t\t\t});\n\n\t\t\t\tif (obj.name !== 'none' && obj.val) {\n\t\t\t\t\tfrag += '/' + obj.name + ':' + obj.val;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.bbq.pushState( frag, 2 );\n\t\t},\n\n\t\ttext_wrap: function(content) {\n\t\t\tvar self = this,\n\t\t\t\tshortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed', 'read_more']).join('|');\n\n\t\t\tcontent = content || '';\n\n\t\t\treturn content.replace(RegExp('\\\\[(' + shortcode_keys + ').*?\\\\]', 'g'), function(t) {\n\t\t\t\treturn self.controllers.shortcode_wrap(t);\n\t\t\t});\n\t\t},\n\n\t\tparse_shortcode: function(code) {\n\t\t\tif (code === '[read_more]') return { name: 'read_more', params: {} };\n\t\t\tvar matches = code.match(/\\[([a-z_]+)\\s(.*)\\]/),\n\t\t\t\tre = RegExp('([a-z_]+)=\"([^\"]+)?\"', 'g'),\n\t\t\t\tobj = {\n\t\t\t\t\tname: matches[1],\n\t\t\t\t\tparams: {}\n\t\t\t\t};\n\n\t\t\tif (matches[2]) {\n\t\t\t\twhile((m = re.exec(matches[2])) !== null) {\n\t\t\t\t\tobj.params[m[1]] = m[2] || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\tshortcode_wrap: function(params) {\n\n\t\t\tvar key,\n\t\t\t\tparam_arr = [];\n\n\t\t\tif (typeof params === 'string') {\n\t\t\t\tvar obj = this.parse_shortcode(params);\n\t\t\t\tparams = obj.params;\n\n\t\t\t\tif (obj.name === 'koken_oembed') {\n\t\t\t\t\tkey = 'koken_oembed';\n\t\t\t\t} else {\n\t\t\t\t\tkey = obj.name;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar plugin = this.observers.current_shortcode();\n\t\t\t\tkey = plugin.key;\n\t\t\t}\n\n\t\t\t$.each(params, function(key, val) {\n\t\t\t\tparam_arr.push(key + '=\"' + val + '\"');\n\t\t\t});\n\n\t\t\tif (key === 'read_more') {\n\t\t\t\tparams.label = params.label || 'Read more';\n\t\t\t}\n\n\t\t\tvar code = '[' + key + ' ' + param_arr.join(' ') + ']';\n\n\t\t\tvar icon = key === 'koken_oembed' ? this.observers.user_shortcodes_icons['koken_oembed_' + params.oembed] : this.observers.user_shortcodes_icons[key];\n\n\t\t\treturn '<div contenteditable=\"false\" unselectable=\"on\" class=\"entry-elem' + (key === 'read_more' ? ' read-more' : '') + '\">\\\n\t\t\t\t<span class=\"mod-links\">\\\n\t\t\t\t\t<ul>' + ((key === 'koken_oembed' && $.inArray(params.oembed, this.observers.user_oembed_thumbs) !== -1) || params.media_type && params.media_type === 'image' || params.filename ? '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn feature\" title=\"Assign as featured image\" data-event=\"assign_feature\"></a> \\\n\t\t\t\t\t\t</li>' : '') + (key !== 'koken_oembed' ? '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn edit\" title=\"Edit content\" data-event=\"edit_shortcode\"></a>\\\n\t\t\t\t\t\t</li>' : '') + '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn remove\" title=\"Remove content\" data-event=\"remove_shortcode\"></a>\\\n\t\t\t\t\t\t</li>\\\n\t\t\t\t\t</ul>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"icon\" style=\"background-image: url(' + icon + ')\"></span>\\\n\t\t\t\t<a href=\"#\" class=\"elem-title\">' + decodeURIComponent(params.label) + '</a>\\\n\t\t\t\t<a style=\"display:none\" class=\"raw-code\" href=\"#\">' + code + '</a>\\\n\t\t\t\t<div class=\"elem-preview\"></div>\\\n\t\t\t</div>';\n\n\t\t},\n\n\t\ttext_unwrap: function() {\n\n\t\t\tvar c = $('#edit-area').clone();\n\n\t\t\t// Unwrap shortcode formatting\n\t\t\tc.find('div[contenteditable=false]').each(function(i, div) {\n\t\t\t\t$(div).replaceWith( $(div).find('a.raw-code').text() );\n\t\t\t});\n\n\t\t\tc.find('p:empty').remove();\n\t\t\tc.find('p.media-row').remove();\n\n\t\t\t// Convert non-blanking spaces to actual spaces for save to database\n\t\t\tc = c.html().replace( '&nbsp;', ' ' );\n\n\t\t\treturn c;\n\n\t\t},\n\n\t\tload_edit: function(item) {\n\n\t\t\tif ($('#entry-edit').length) {\n\t\t\t\t$('#entry-edit').off().remove();\n\t\t\t}\n\n\t\t\titem = $.extend({}, item);\n\n\t\t\tvar is_new = item.draft === null;\n\n\t\t\tthis.controllers.end_autosave();\n\n\t\t\titem.draft = this.controllers.text_wrap(item.draft);\n\n\t\t\tthis.events._map_page_to_edit(item, true);\n\t\t\tthis.observers.page_to_edit.__loaded(true);\n\t\t\tthis.observers.sheets.create_text.wasCreated(false);\n\n\t\t\t$('#entry-edit-tmpl')\n\t\t\t\t.clone()\n\t\t\t\t.attr('id', 'entry-edit')\n\t\t\t\t.css({\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tmarginTop: 30\n\t\t\t\t})\n\t\t\t\t.appendTo($('#entry-list-all').parent().parent());\n\n\t\t\tthis.controllers.init_copiers();\n\t\t\tthis.observers.view('edit');\n\n\t\t\t$('#excerpt-text').focus(function() {\n\t\t\t\t$(this).parent().find('.field-links').show();\n\t\t\t}).blur(function() {\n\t\t\t\t$(this).parent().find('.field-links').hide();\n\t\t\t});\n\n\t\t\tvar _airButtons = ['formatting','|','bold','italic','|','unorderedlist','orderedlist','outdent','indent','|','klink'],\n\t\t\t\t_buttonsCustom = {},\n\t\t\t\tself = this,\n\t\t\t\tobs = this.observers;\n\n\t\t\tvar save_selection = function() {\n\t\t\t\tvar r = $('#edit-area').data('redactor'),\n\t\t\t\t\tp = r.getSelection();\n\n\t\t\t\tobs.to_replace = $(p.anchorNode);\n\t\t\t}\n\n\t\t\tvar media_sheet = function(t) {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.load_content.selected.content([]);\n\t\t\t\tobs.sheets.shortcode_media.type(t);\n\t\t\t\tobs.sheets.shortcode_media.album(0);\n\t\t\t\tself.events.toggle_sheet('shortcode_media');\n\t\t\t};\n\n\t\t\tvar album_sheet = function() {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.sheets.shortcode_collection.state.selected('');\n\t\t\t\tobs.sheets.shortcode_collection.state.selected_text('');\n\t\t\t\t$('#album_sheet_topic').attr('checked', false);\n\t\t\t\tself.events.toggle_sheet('shortcode_collection');\n\t\t\t};\n\n\t\t\tvar upload_sheet = function(o,e) {\n\t\t\t\tsave_selection();\n\t\t\t\tself.events.toggle_sheet('shortcode_upload');\n\t\t\t\tobs.sheets.shortcode_upload._reset();\n\t\t\t\tself.interfaces.app.controllers.text_upload.init.call(self.interfaces.text);\n\t\t\t\to.saveSelection();\n\t\t\t};\n\n\t\t\tvar custom_sheet = function(data) {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.sheets.shortcode_custom.fields(data.fields);\n\t\t\t\tobs.sheets.shortcode_custom.data(data);\n\t\t\t\tself.events.toggle_sheet('shortcode_custom');\n\t\t\t};\n\n\t\t\t$.each( this.observers.user_shortcodes(), function(i,plugin) {\n\n\t\t\t\tif (plugin.essays_only && item.page_type !== 'essay') return;\n\t\t\t\tif (plugin.pages_only && item.page_type !== 'page') return;\n\n\t\t\t\tvar shortcode = 'kshortcode' + i,\n\t\t\t\t\tstyleEl = $('head').find('style'),\n\t\t\t\t\tstyleOut = '';\n\n\t\t\t\tplugin.key = i;\n\n\t\t\t\tstyleOut += 'body .redactor_air.media .redactor_toolbar li a.redactor_btn_' + shortcode + ' { display: block; background-image: url(' + plugin.icon + '); background-repeat: no-repeat !important; }';\n\t\t\t\tstyleOut += 'body .redactor_air .redactor_toolbar li a.redactor_btn_' + shortcode + ' { display: none; }';\n\n\t\t\t\tif ( styleEl.length <= 0 ) {\n\t\t\t\t\t$('<style/>').attr({\n\t\t\t\t\t\ttype: 'text/css'\n\t\t\t\t\t}).append(styleOut).appendTo('head');\n\t\t\t\t} else {\n\t\t\t\t\tstyleEl.append(styleOut);\n\t\t\t\t}\n\n\t\t\t\t_buttonsCustom[shortcode] = {\n\t\t\t\t\ttitle: plugin.title,\n\t\t\t\t\tcallback: function(o,e) {\n\t\t\t\t\t\tself.observers.to_replace = false;\n\t\t\t\t\t\tself.observers.current_shortcode(plugin);\n\n\t\t\t\t\t\tif ( plugin.media && $.inArray(plugin.media, [ 'video', 'photo', 'collection', 'upload' ]) !== -1) {\n\t\t\t\t\t\t\tif ( plugin.media === 'video' || plugin.media === 'photo' ) {\n\t\t\t\t\t\t\t\tmedia_sheet(plugin.media);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( plugin.media === 'collection' ) {\n\t\t\t\t\t\t\t\talbum_sheet();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( plugin.media === 'upload' ) {\n\t\t\t\t\t\t\t\tupload_sheet(o,e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (plugin.key === 'read_more') {\n\t\t\t\t\t\t\t$('.entry-elem.read-more').remove();\n\t\t\t\t\t\t\tself.events.insert_shortcode({ label: 'Read more'});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcustom_sheet(plugin.data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_airButtons.push(shortcode);\n\n\t\t\t});\n\n\t\t\t_buttonsCustom.klink = {\n\t\t\t\ttitle: 'Add link',\n\t\t\t\tcallback: function(obj, ev, key) {\n\t\t\t\t\tvar s = self.observers.sheets['insert_link'],\n\t\t\t\t\t\tp = obj.getSelection();\n\t\t\t\t\ts._reset();\n\t\t\t\t\tif (p && p.anchorNode && p.anchorNode.parentNode.tagName === 'A') {\n\t\t\t\t\t\tvar a = p.anchorNode.parentNode;\n\t\t\t\t\t\tif ($(a).attr('data-koken-album-id')) {\n\t\t\t\t\t\t\ts.state.type('internal');\n\t\t\t\t\t\t\ts.state.album(Number($(a).attr('data-koken-album-id')));\n\t\t\t\t\t\t\tif ($(a).attr('data-koken-lightbox')) {\n\t\t\t\t\t\t\t\ts.state.lightbox(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts.state.album_type($(a).attr('data-koken-album-type') || 'standard');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.state.url( a.href.replace(/lightbox\\/?$/, '') );\n\t\t\t\t\t\tif (a.target === '_blank') {\n\t\t\t\t\t\t\ts.state.new_window(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.state.existing(true);\n\t\t\t\t\t\tself.observers.link.replace = a;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts.state.existing(false);\n\t\t\t\t\t\tself.observers.link.replace = false;\n\t\t\t\t\t}\n\t\t\t\t\tobj.saveSelection();\n\t\t\t\t\tself.observers.link.redactor = obj;\n\t\t\t\t\tself.events.toggle_sheet('insert_link');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$('#edit-area')\n\t\t\t\t.redactor({\n\t\t\t\t\tcallback: function(obj) {\n\t\t\t\t\t\t$('#edit-area p:empty').remove();\n\t\t\t\t\t\tif (!$('#edit-area p').length) {\n\t\t\t\t\t\t\t$('#edit-area').append('<p class=\"media-row\"><br /></p>');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.events.shim_paragraph(obj);\n\t\t\t\t\t},\n\t\t\t\t\tobserveImages: false,\n\t\t\t\t\tfocus: true,\n\t\t\t\t\tair: true,\n\t\t\t\t\tconvertDivs: false,\n\t\t\t\t\tairButtons: _airButtons,\n\t\t\t\t\tbuttonsCustom: _buttonsCustom\n\t\t\t\t})\n\t\t\t\t.on('paste', function() {\n\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\tvar scrollOffset = $('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight - (parseInt($('#edit-area').closest('#entry-scroll').find('.scroll_track').height(), 10) + parseInt($('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').scrollTop(), 10 ));\n\n\t\t\t\t\t\tif ( scrollOffset <= 100 && scrollOffset > 0 ) {\n\t\t\t\t\t\t\t$('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollTop = $('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.each($('p.media-row a'), function(i, row) {\n\t\t\t\t\t\t\tvar link = $(this).text();\n\t\t\t\t\t\t\t$(this).parent().text(link);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.each(self.observers.user_oembeds(), function(key, info) {\n\t\t\t\t\t\t\tif (info.regex) {\n\n\t\t\t\t\t\t\t\tvar regex = RegExp('<p class=\"media-row\">(' + info.regex + ')(<br>)?</p>'),\n\t\t\t\t\t\t\t\t\tstr = $('#edit-area').html(),\n\t\t\t\t\t\t\t\t\tmatches;\n\n\t\t\t\t\t\t\t\tif ( regex.test(str) ) {\n\n\t\t\t\t\t\t\t\t\tmatches = str.match(regex);\n\t\t\t\t\t\t\t\t\tself.observers.current_shortcode($.extend(info, { key: 'koken_oembed' }));\n\t\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\t\toembed: key,\n\t\t\t\t\t\t\t\t\t\tlabel: info.title,\n\t\t\t\t\t\t\t\t\t\turl: matches[1].replace('<br>', ''),\n\t\t\t\t\t\t\t\t\t\tendpoint: info.endpoint\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tself.events.insert_shortcode(obj);\n\n\t\t\t\t\t\t\t\t\tif (!self.observers.page_to_edit.__featured_image() && info.has_thumbnail) {\n\t\t\t\t\t\t\t\t\t\tself.controllers.featured_from_oembed(obj);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Check for image URL paste\n\t\t\t\t\t\tvar html = $('#edit-area').html(),\n\t\t\t\t\t\t\timage_regex = RegExp('<p class=\"media-row\">(http://.*\\.(?:gif|jpe?g|png))(<br>)?</p>');\n\n\t\t\t\t\t\tif (image_regex.test(html)) {\n\t\t\t\t\t\t\tvar matches = html.match(image_regex);\n\t\t\t\t\t\t\tself.observers.current_shortcode({ key: 'koken_upload' });\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfilename: matches[1],\n\t\t\t\t\t\t\t\tlabel: matches[1].replace(/^https?:\\/\\//, '')\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tself.events.insert_shortcode(obj);\n\n\t\t\t\t\t\t\tif (!self.observers.page_to_edit.__featured_image()) {\n\t\t\t\t\t\t\t\tself.events.save_feature(obj.filename);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tvar self = this;\n\t\t\t$('#edit-area').off('.editor').on('keyup.editor', function() {\n\t\t\t\tself.events.update_editor();\n\t\t\t});\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\t$('#edit-area').data('redactor').air.hide();\n\t\t\t}, 50);\n\n\t\t\t$(window).trigger('resize');\n\n\t\t}\n\n\t},\n\n\tevents: {\n\n\t\tshortcode_remove_field: function(el) {\n\t\t\tvar shortData = this.observers.current_shortcode_data();\n\n\t\t\tvar key = el.attr('data-field');\n\n\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\tif (field.key === key) {\n\t\t\t\t\tfield.value.splice(el.attr('data-index'), 1);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\t\t\tthis.observers.current_shortcode_data(shortData);\n\t\t},\n\n\t\tshortcode_add_field: function(el) {\n\t\t\tvar data = ko.dataFor(el.get(0));\n\n\t\t\tvar shortData = this.observers.current_shortcode_data();\n\n\t\t\tvar filler = [];\n\t\t\t$.each(data.setting.fields, function(i) {\n\t\t\t\tfiller.push('');\n\t\t\t});\n\n\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\tif (field.key === data.setting.key) {\n\t\t\t\t\tfield.value.push(filler);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\t\t\tthis.observers.current_shortcode_data(shortData);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$(\".fields-data:text:visible:last\").focus();\n\t\t\t});\n\t\t},\n\n\t\tundo_draft: function() {\n\t\t\tvar content = this.observers.page_to_edit.content();\n\t\t\tthis.observers.page_to_edit.draft(content);\n\t\t\tthis.observers.page_to_edit.draft_title(this.observers.page_to_edit.title());\n\t\t\t$('#edit-area').html(this.controllers.text_wrap(content));\n\t\t\tvar n = this.notify().wait('Removing draft changes');\n\t\t\tthis.events.save(n);\n\t\t},\n\n\t\topen_in_site: function(ret) {\n\t\t\tret = ret === true;\n\t\t\tvar p = this.observers.page_to_edit,\n\t\t\t\turl = p.url();\n\n\t\t\tif (this.observers.hasChanges()) {\n\t\t\t\tthis.events.save($('<div/>').attr('data-action', 'preview'));\n\t\t\t} else {\n\t\t\t\tif (!p.published() || p.content() !== p.draft() || p.draft_title() !== p.title()) {\n\t\t\t\t\turl += (url.indexOf('?') === -1 ? '?' : '&') + 'preview_draft=' + p.internal_id();\n\t\t\t\t}\n\t\t\t\tif (ret) {\n\t\t\t\t\treturn url;\n\t\t\t\t}\n\t\t\t\twindow.open(url);\n\t\t\t}\n\t\t},\n\n\t\tdelete_from_list: function(el) {\n\t\t\tthis.observers.list_index_to_delete = el.parents('li').data('index');\n\t\t\tthis.classes.modal.delete_text.show();\n\t\t},\n\n\t\ttoggle_featured: function(el) {\n\t\t\tvar item = this.observers.list()[ el.parents('li').data('index') ];\n\t\t\t\tfeatured = !item.featured,\n\t\t\t\tn = this.notify().wait((featured ? 'Adding ' : 'Removing') + ' feature');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/featured/' + item.id,\n\t\t\t\tmethod: featured ? 'POST' : 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar copy = $.extend(true, {}, item);\n\t\t\t\t\tcopy.featured = featured;\n\t\t\t\t\tn.success( item.title + ' ' + ( featured ? 'added to' : 'removed from') + ' Featured essays' );\n\t\t\t\t\tif (this.observers.api_url().indexOf('text/featured') === 0) {\n\t\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t\tthis.controllers.load_text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar el = $('#entry-' + copy.id);\n\t\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\t\tel.replaceWith( this.controllers.create_node( copy, el.data('index') ));\n\t\t\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\t\t\tthis.observers.list.splice(index, 1, copy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_editor: function() {\n\t\t\tif ( this.classes.editor && this.classes.editor.text ) {\n\t\t\t\tvar shortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed']).join('|'),\n\t\t\t\t\tval = this.controllers.text_unwrap().replace(RegExp('(\\\\[(' + shortcode_keys + ')[^\\\\]]+\\\\])', 'g'), \"\\n\\n$1\").replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2}/g, \"\\n\\n\").replace(/^\\n*/, ''),\n\t\t\t\t\t_editor = this.classes.editor.text.editorWindow;\n\n\t\t\t\tif (_editor) {\n\t\t\t\t\t_editor.setValue(val);\n\t\t\t\t\t_editor.getSession().setScrollTop(0);\n\t\t\t\t\t_editor.clearSelection();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttoggle_html: function(el,parent) {\n\n\t\t\tvar shortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed']).join('|'),\n\t\t\t\tval = this.controllers.text_unwrap().replace(RegExp('(\\\\[(' + shortcode_keys + ')[^\\\\]]+\\\\])', 'g'), \"\\n\\n$1\").replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2}/g, \"\\n\\n\").replace(/^\\n*/, ''),\n\t\t\t\tself = this;\n\n\t\t\tif (this.classes.editor && this.classes.editor.text && this.classes.editor.text.editorWindow) {\n\t\t\t\tthis.classes.editor.text.editorWindow.destroy();\n\t\t\t\tdelete this.classes.editor.text;\n\t\t\t}\n\n\t\t\tthis.events.toggle_editor();\n\n\t\t\t$('#container').find('.ui-sheet').each(function() {\n\t\t\t\tself.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')].active(false);\n\t\t\t});\n\n\t\t\tif (this.observers.editor_on()) {\n\t\t\t\tnew this.klass.editor('text', val, 'html-edit-area');\n\n\t\t\t\tvar _editor = this.classes.editor.text.editorWindow;\n\t\t\t\t_editor.getSession().setMode('ace/mode/html');\n\t\t\t\t_editor.getSession().setUseWrapMode(true);\n\t\t\t\t_editor.getSession().setWrapLimitRange(null,100);\n\n\t\t\t\t$('#html-edit-area').off('.editor').on('keyup.editor', function() {\n\t\t\t\t\tself.controllers.start_autosave();\n\t\t\t\t\tself.observers.page_to_edit.draft(self.classes.editor.text.editorWindow.getValue());\n\t\t\t\t\t$('#edit-area').html(self.controllers.text_wrap(self.classes.editor.text.editorWindow.getValue()));\n\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t});\n\n\t\t\t\t_editor.resize();\n\t\t\t\t_editor.focus();\n\t\t\t\t_editor.clearSelection();\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t_editor.gotoLine(1);\n\t\t\t\t});\n\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').hide();\n\t\t\t} else {\n\t\t\t\t$('#edit-area').off('.editor')\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_editor: function() {\n\t\t\tthis.observers.editor_on(!this.observers.editor_on());\n\t\t\tif (this.observers.editor_on()) {\n\t\t\t\t$('a[data-event=\"toggle_html\"]').addClass('selected');\n\t\t\t\t$('#docked_editor').show();\n\t\t\t\t$('#entry-edit-area').addClass('docked');\n\t\t\t\tif (this.observers.text_edit_full()) {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('a[data-event=\"toggle_html\"]').removeClass('selected');\n\t\t\t\t$('#docked_editor').hide();\n\t\t\t\t$('#entry-edit-area').removeClass('docked');\n\t\t\t\tif ($('#entry-edit-area').css('display') === 'none') {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttoggle_editor_view: function(el,parent) {\n\n\t\t\tif ($('#entry-edit-area').css('display') !== 'none') {\n\t\t\t\tparent && parent.find('.bicon_sm').removeClass('dock_up').addClass('dock_down');\n\t\t\t\t$('#entry-edit-area').hide();\n\t\t\t\t$('#docked_editor').height('100%');\n\t\t\t\t$('#entry-list-bar').hide();\n\t\t\t\t$('#entry-edit').css('margin-top','0px');\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').show();\n\t\t\t\t$('#html-edit-area').height('100%');\n\t\t\t\tthis.classes.editor.text.editorWindow && this.classes.editor.text.editorWindow.resize();\n\t\t\t} else {\n\t\t\t\tparent && parent.find('.bicon_sm').removeClass('dock_down').addClass('dock_up');\n\t\t\t\t$('#entry-edit-area').show();\n\t\t\t\t$('#docked_editor').height('30%');\n\t\t\t\t$('#entry-list-bar').show();\n\t\t\t\t$('#entry-edit').css('margin-top','30px');\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').hide();\n\t\t\t\t$('#html-edit-area').height('');\n\t\t\t\tthis.classes.editor.text.editorWindow && this.classes.editor.text.editorWindow.resize();\n\t\t\t}\n\n\t\t\tif (el) {\n\t\t\t\tthis.observers.text_edit_full(!this.observers.text_edit_full());\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_editor_theme: function() {\n\t\t\tvar editor = this.classes.editor.text.editorWindow,\n\t\t\t\tkokentheme = 'ace/theme/koken',\n\t\t\t\tkokenlighttheme = 'ace/theme/kokenlight';\n\n\t\t\t$('style#ace-tm,style#ace-koken').remove();\n\n\t\t\tif ( editor.getTheme() === kokentheme ) {\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokenlighttheme + '\"' );\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#fff');\n\t\t\t\teditor.setTheme(kokenlighttheme);\n\t\t\t} else {\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokentheme + '\"' );\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#141414');\n\t\t\t\teditor.setTheme(kokentheme);\n\t\t\t}\n\n\t\t\teditor.focus();\n\t\t},\n\n\t\ttoggle_theme: function() {\n\t\t\tif ( this.observers.theme() != 1 ) {\n\t\t\t\tthis.observers.theme(1);\n\t\t\t} else {\n\t\t\t\tthis.observers.theme(0);\n\t\t\t}\n\t\t\tif (this.observers.editor_on()){\n\t\t\t\t$('#docked_editor').show();\n\t\t\t\t$('#entry-edit-area').addClass('docked');\n\t\t\t} else {\n\t\t\t\t$('#docked_editor').hide();\n\t\t\t\t$('#entry-edit-area').removeClass('docked');\n\t\t\t\tif ($('#entry-edit-area').css('display') === 'none') {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdelete_text: function() {\n\n\t\t\tvar view = this.observers.view(),\n\t\t\t\titem = view === 'list' ? this.observers.list()[ this.observers.list_index_to_delete ] : this.observers.page_to_edit,\n\t\t\t\tid = view === 'list' ? item.id : item.id(),\n\t\t\t\ttitle = view === 'list' ? item.title : item.title();\n\n\t\t\tvar note = this.notify().wait('Deleting ' + title);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function() {\n\t\t\t\t\tif (view === 'list') {\n\t\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t\tthis.controllers.load_text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.api_url('');\n\t\t\t\t\t\t$.bbq.pushState( '/text/type:' + this.observers.type(), 2 );\n\t\t\t\t\t}\n\t\t\t\t\tnote.success( title + ' has been deleted' );\n\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tbrowser_valid: function(el,parent) {\n\t\t\tparent.closest('.sheet-wrap').find('input').trigger('keyup');\n\t\t},\n\n\t\tnav: function(el,parent) {\n\n\t\t\tel = el.closest('li').find('.icon16');\n\n\t\t\tif ( el.hasClass('label-drafts') ) {\n\t\t\t\tthis.observers.state('draft');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('label-essays') ) {\n\t\t\t\tthis.observers.state('');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('label-pages') ) {\n\t\t\t\tthis.observers.state('pages');\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_expand: function(el,parent) {\n\n\t\t\tthis.observers.expand( ! this.observers.expand() );\n\t\t\t$('#app').toggleClass('text-expand');\n\n\t\t},\n\n\t\ttoggle_grid: function(el,parent) {\n\n\t\t\tthis.observers.grid( el.closest('li').attr('class') );\n\t\t\tthis.cookie( 'text:view', el.closest('li').attr('class') );\n\n\t\t},\n\n\t\ttoggle_topic: function(el) {\n\t\t\tvar\tdata = ko.dataFor(el[0]),\n\t\t\t\tis_topic = this.observers.is_topic(data.id),\n\t\t\t\tnote;\n\n\t\t\tnote = this.notify().wait( (is_topic) ? 'Removing topic' : 'Adding topic' );\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + data.id,\n\t\t\t\tmethod: is_topic ? 'DELETE' : 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(d) {\n\t\t\t\t\tnote.success( (is_topic) ? data.title + ' removed as topic' : data.title + ' added as topic' );\n\t\t\t\t\tthis.events._map_page_to_edit(d);\n\t\t\t\t\tthis.observers.get_selected_topics();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!is_topic && data.covers.length && !this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(data.covers[0].id);\n\t\t\t}\n\t\t},\n\n\t\tcreate_text: function() {\n\n\t\t\tvar ob = this.observers.sheets.create_text;\n\n\t\t\t$('li[data-event=\"create_text\"] button').addClass('disabled');\n\n\t\t\tif ( ob.title().trim().length <= 0 ) {\n\t\t\t\tthis.notify().warn('Title field cannot be left blank');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar n = this.notify().wait('Creating \"' + ob.title() + '\"');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'title=' + encodeURIComponent(ob.title()) + '&page_type=' + ob.type(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.sheets.create_text.wasCreated(true);\n\t\t\t\t\tn.success('\"' + ob.title() + '\" added');\n\t\t\t\t\tob.title('');\n\t\t\t\t\tob.type('essay');\n\t\t\t\t\tob.active(false);\n\t\t\t\t\tthis.observers.api_url('');\n\t\t\t\t\t$.bbq.pushState('/text/' + (data.page_type === 'page' ? 'type:page' : 'drafts') + '/selection:' + data.id, 2);\n\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tarrow_toggle: function(el,parent) {\n\n\t\t\tvar nav\t\t= parent.closest('.lib-nav'),\n\t\t\t\topen\t= [],\n\t\t\t\tnarr\t= '';\n\n\t\t\tparent.parent().find('ol').toggle();\n\t\t\tparent.toggleClass('open');\n\t\t\tnav.find('li[data-event=\"sort_year\"] a.open').each(function() {\n\t\t\t\topen.push($(this).next().text().trim());\n\t\t\t});\n\t\t\tnarr = open.join(',');\n\t\t\tthis.cookie( 'text:nav', narr );\n\t\t\t$.each(open,function(k,v) {\n\t\t\t\topen[k] = parseInt(v,10);\n\t\t\t});\n\t\t\tthis.observers.open_year(open);\n\n\t\t},\n\n\t\tclear_filters: function(el) {\n\t\t\t$('#entry-list-filter').hide();\n\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t{ name: 'year', val: false },\n\t\t\t\t{ name: 'state', val: false }\n\t\t\t]);\n\t\t},\n\n\t\tsort_year: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: false }\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: data.year }\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\n\t\tsort_month: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tp = el.parent();\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: false }\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: data.month },\n\t\t\t\t\t{ name: 'year', val: data.year }\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\n\t\tleave_edit: function(canLeave) {\n\n\t\t\tvar self = this;\n\n\t\t\tvar leave = function() {\n\n\t\t\t\tself.controllers.end_autosave();\n\n\t\t\t\tif (!self.observers.sheets.create_text.wasCreated()) {\n\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t}\n\n\t\t\t\tif ( self.observers.expand() ) {\n\t\t\t\t\tself.events.toggle_expand();\n\t\t\t\t}\n\n\t\t\t\tself.events.close_sidebar_drawer();\n\t\t\t\tself.observers.hasChanges(false);\n\n\t\t\t};\n\n\t\t\tif ( canLeave === true ) { leave(); return; }\n\n\t\t\tif ( ! this.observers.hasChanges() ) {\n\t\t\t\tleave();\n\t\t\t} else {\n\t\t\t\tthis.classes.modal.unsaved_changes.show();\n\t\t\t}\n\n\t\t\t$('#entry-list-bar').show();\n\t\t},\n\n\t\tedit_shortcode_media: function() {\n\t\t\tthis.events.toggle_sheet('shortcode_edit');\n\n\t\t\tswitch(this.observers.current_shortcode().media) {\n\t\t\t\tcase 'photo':\n\t\t\t\tcase 'video':\n\t\t\t\t\tthis.observers.sheets.shortcode_media.type(this.observers.current_shortcode().media);\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_media');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'upload':\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_upload');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'collection':\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_collection');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tedit_shortcode: function(el, parent) {\n\t\t\tvar wrap = el.parents('div[contenteditable=false]'),\n\t\t\t\tcode = wrap.find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code),\n\t\t\t\tself = this,\n\t\t\t\tplugin;\n\n\t\t\tthis.observers.to_replace = wrap;\n\n\t\t\tif (obj.name === 'koken_oembed') {\n\n\t\t\t} else {\n\t\t\t\t$.each(this.observers.user_shortcodes(), function(key, info) {\n\t\t\t\t\tif (key === obj.name) {\n\t\t\t\t\t\tif (info.title_alt) {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t$('.sheet-title').text(info.title_alt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (info.description_alt) {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t$('.sheet-desc').text(info.description_alt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplugin = $.extend(true, {}, info);\n\t\t\t\t\t\tself.observers.current_shortcode(plugin);\n\t\t\t\t\t\tself.observers.current_shortcode.valueHasMutated();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (plugin.media) {\n\t\t\t\t\tswitch(plugin.media) {\n\t\t\t\t\t\tcase 'collection':\n\t\t\t\t\t\t\t$('#shortcode_option_link_to').find('option[value=\"album\"]').remove();\n\t\t\t\t\t\t\tif (obj.params.album) {\n\t\t\t\t\t\t\t\tvar value = '';\n\t\t\t\t\t\t\t\t$.each(this.observers.current_shortcode_data(), function(i, info) {\n\t\t\t\t\t\t\t\t\tif (info.key === 'link_to') {\n\t\t\t\t\t\t\t\t\t\tvalue = info.value;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').append(\n\t\t\t\t\t\t\t\t\t$('<option/>').attr({\n\t\t\t\t\t\t\t\t\t\t\tvalue: 'album'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.text('Load album page')\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').find('option[value=\"false\"]:first-child').attr('value', 'default');\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').val(value || 'default');\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected('album-' + obj.params.album);\n\t\t\t\t\t\t\t\tvar a = ko.utils.arrayFirst( self.observers.albums_flat(), function(item) {\n\t\t\t\t\t\t\t\t\treturn item.id == obj.params.album;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected_text(a.title);\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(a.title);\n\t\t\t\t\t\t\t} else if (obj.params.content) {\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected(obj.params.content.split(','));\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected_text('Mixed content');\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected('Mixed content');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'upload':\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename(obj.params.filename);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(obj.params.filename);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('ready');\n\t\t\t\t\t\t\tself.interfaces.app.controllers.text_upload.init.call(self.interfaces.text);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'photo':\n\t\t\t\t\t\tcase 'video':\n\t\t\t\t\t\t\tself.observers.load_content.selected.content([ Number(obj.params.id) ]);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(obj.params.label);\n\n\t\t\t\t\t\t\tvar album = obj.params.link === 'album';\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.link(obj.params.link || 'none');\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.albums([]);\n\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.album(obj.params.album || 0);\n\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.custom_url(obj.params.custom_url || '');\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'content/' + obj.params.id + '/albums',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.albums(data.albums);\n\t\t\t\t\t\t\t\t\tif (album) {\n\t\t\t\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.link('album');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (plugin.data) {\n\t\t\t\t\tself.events.toggle_sheet('shortcode_edit');\n\t\t\t\t} else if (plugin.media) {\n\t\t\t\t\tself.events.toggle_sheet('shortcode_' + plugin.media);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\n\t\tremove_shortcode: function(el) {\n\t\t\tel.parents('div[contenteditable=false]').remove();\n\t\t\tvar clean = this.controllers.text_unwrap();\n\t\t\t$('#edit-area').html( this.controllers.text_wrap( clean ) );\n\t\t\tthis.events.shim_paragraph();\n\t\t\tthis.observers.hasChanges(true);\n\t\t},\n\n\t\tsave: function(el, parent, e, unpublish) {\n\n\t\t\tthis.controllers.end_autosave();\n\n\t\t\tvar c = encodeURIComponent(this.controllers.text_unwrap()),\n\t\t\t\tt = $('#entry-edit #entry-title h2').text(),\n\t\t\t\tself = this,\n\t\t\t\tindex,\n\t\t\t\tpublish = false,\n\t\t\t\tpreview = false,\n\t\t\t\tupdate = false,\n\t\t\t\tauto = !el,\n\t\t\t\trevert = el && el.warn,\n\t\t\t\tnotify;\n\n\t\t\tunpublish = unpublish || false;\n\n\t\t\tif (!unpublish && !auto && !revert) {\n\t\t\t\t// Using el.data() here seems to get cached and lead to inconsistent notifications\n\t\t\t\tpublish = el.attr('data-action') && el.attr('data-action') === 'publish',\n\t\t\t\tupdate = el.attr('data-action') && el.attr('data-action') === 'update',\n\t\t\t\tpreview = el.attr('data-action') && el.attr('data-action') === 'preview',\n\t\t\t\tunpublish = el.attr('data-action') && el.attr('data-action') === 'unpublish';\n\n\t\t\t\tif (unpublish) {\n\t\t\t\t\tthis.classes.modal.unpublish_essay.show();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (publish && el.data('publish') != 'true') {\n\t\t\t\tthis.classes.modal.text_live.show();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (auto) {\n\t\t\t\tthis.observers.is_autosaving(true);\n\t\t\t} else if (revert) {\n\t\t\t\tnotify = el;\n\t\t\t} else if (el.data && el.data('publish')) {\n\t\t\t\tel.data('publish','false');\n\t\t\t}\n\n\t\t\tif (!auto && !revert) {\n\t\t\t\tnotify = this.notify().wait(publish || update ? 'Publishing' : 'Saving');\n\t\t\t}\n\n\t\t\tif (unpublish) {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\n\t\t\tthis.observers.hasChanges(false);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/render:0',\n\t\t\t\tdata: (publish || update ? 'content' : 'draft') + '=' + c + '&' + (publish || update ? 'title' : 'draft_title')  + '=' + encodeURIComponent(t) + ( publish ? '&published=1' : '' ) + ( unpublish ? '&unpublish=1' : '' ),\n\t\t\t\tcontext: this,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (!auto) {\n\t\t\t\t\t\tif (revert) {\n\t\t\t\t\t\t\tnotify.success('Draft changes removed');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( publish || update ) {\n\t\t\t\t\t\t\t\tnotify.success('\"' + data.title + '\" has been published');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnotify.success('\"' + data.draft_title + '\" has been saved' + ( unpublish ? ' as a draft' : '' ));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.is_autosaving(false);\n\t\t\t\t\tif (preview) {\n\t\t\t\t\t\tlocation.href = this.events.open_in_site(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.firstPageLoad(true);\n\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\tif (publish || unpublish) {\n\t\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_map_page_to_edit: function(data, silent) {\n\n\t\t\tsilent = silent || false;\n\n\t\t\tif (silent || (this.observers.page_to_edit.id && data.id === this.observers.page_to_edit.id())) {\n\n\t\t\t\tthis.map( this.observers.page_to_edit, data );\n\n\t\t\t\tif (\n\t\t\t\t\t!data.featured_image ||\n\t\t\t\t\t!this.observers.page_to_edit.__featured_image().presets || data.featured_image.presets.medium.url !== this.observers.page_to_edit.__featured_image().presets.medium.url\n\t\t\t\t) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(data.featured_image);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tvar el = $('#entry-' + data.id);\n\t\t\t\tif (el.length) {\n\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\tel.replaceWith( this.controllers.create_node( data, index ) );\n\t\t\t\t\tthis.observers.list.splice(index, 1, data);\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.drafts().length) {\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tdraft = ko.utils.arrayFirst( this.observers.drafts(), function(item) {\n\t\t\t\t\t\t\treturn item.id === self.observers.page_to_edit.id();\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (draft) {\n\t\t\t\t\t\tvar dindex = ko.utils.arrayIndexOf( this.observers.drafts(), draft );\n\t\t\t\t\t\tthis.observers.drafts.splice(dindex, 1, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_internal_link: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\t\t\tthis.observers.sheets.insert_link.state.album(data.id);\n\t\t\tthis.observers.sheets.insert_link.state.album_type(data.album_type);\n\t\t\tthis.observers.sheets.insert_link.state.url(data.url);\n\t\t\tthis.observers.valid(true);\n\t\t},\n\n\t\tinsert_collection: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.shortcode_collection.state,\n\t\t\t\tsel = o.selected(),\n\t\t\t\tparams = {};\n\n\t\t\tif (typeof sel === 'string' && (matches = sel.match(/album-(\\d+)/))) {\n\t\t\t\tparams.album = matches[1];\n\t\t\t\tparams.label = o.selected_text();\n\n\t\t\t\tif ($('#album_sheet_topic').is(':checked')) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + matches[1],\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (typeof sel === 'string') {\n\t\t\t\tparams.content = this.observers.sheets.shortcode_collection[sel]().join(',');\n\t\t\t\tparams.label = 'Mixed content';\n\t\t\t} else {\n\t\t\t\tparams.label = 'Mixed content';\n\t\t\t\tparams.content = sel.join(',');\n\t\t\t}\n\n\t\t\tif (this.observers.sheets.shortcode_collection[sel] && this.observers.sheets.shortcode_collection[sel]().length <= 1 && (sel === 'favorites' || sel === 'quick_collection' || sel === 'last_upload')) {\n\t\t\t\tthis.notify().warn('You need to have 2 or more images in ' + sel.replace('_', ' ') + ' to insert this slideshow');\n\t\t\t} else {\n\t\t\t\tthis.events.insert_shortcode(params);\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\t\tif (params.album) {\n\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + params.album,\n\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif (data.covers.length) {\n\t\t\t\t\t\t\t\t\tthis.events.save_feature( data.covers[0].id );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.events.save_feature( this.observers.sheets.shortcode_collection[sel]()[0] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\tinsert_custom: function(el, parent) {\n\t\t\tvar params = {\n\t\t\t\tlabel: this.observers.current_shortcode().media_row_label || 'Code'\n\t\t\t},\n\t\t\t\tself = this;\n\n\t\t\t$('.shortcode-settings input, .shortcode-settings select, .shortcode-settings textarea').not('.fields-data').each(function() {\n\t\t\t\tvar $el = $(this),\n\t\t\t\t\tval = self.controllers.escape_code($el.val());\n\n\t\t\t\tparams[$el.attr('name')] = val;\n\t\t\t});\n\n\t\t\t$.each(this.observers.current_shortcode_data(), function(i, field) {\n\t\t\t\tif (field.type === 'fields_array') {\n\t\t\t\t\tparams[field.key] = self.controllers.escape_code(JSON.stringify(field.value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.insert_shortcode(params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\tinsert_shortcode: function(params) {\n\n\t\t\tvar replace = this.observers.to_replace,\n\t\t\t\tshortcode = this.controllers.shortcode_wrap(params),\n\t\t\t\tr = $('#edit-area').data('redactor');\n\n\t\t\tif (!replace) {\n\t\t\t\tvar p = r.getSelection();\n\t\t\t\treplace = $(p.anchorNode);\n\t\t\t}\n\n\t\t\tif ( shortcode ) {\n\t\t\t\treplace.replaceWith($(shortcode));\n\t\t\t}\n\n\t\t\tthis.observers.to_replace = false;\n\n\t\t\t$('div.entry-elem').each(function(i, div) {\n\t\t\t\t$(div).attr('contenteditable', false).siblings('br').remove();\n\t\t\t\tif ($(div).parent().get(0).nodeName.toLowerCase() === 'p') {\n\t\t\t\t\t$(div).unwrap();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.shim_paragraph();\n\t\t\tthis.observers.hasChanges(true);\n\t\t\tthis.events.update_editor();\n\t\t\tthis.controllers.start_autosave();\n\t\t},\n\n\t\tshim_paragraph: function(r) {\n\t\t\tr = r || $('#edit-area').data('redactor');\n\t\t\tr.air.hide();\n\t\t\tvar last = $('#edit-area').children().last();\n\t\t\tif (!last.length || last.get(0).tagName !== 'P') {\n\t\t\t\tvar empty = $('<p class=\"media-row\"></p>').html('<br />');\n\t\t\t\tempty.appendTo('#edit-area');\n\t\t\t}\n\t\t\tr.setFocusNode($('#edit-area p:last')[0]);\n\t\t},\n\n\t\tupdate_shortcode: function(el, parent) {\n\t\t\tvar code = this.observers.to_replace.find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code),\n\t\t\t\tself = this;\n\n\t\t\t$('.shortcode-settings input:visible, .shortcode-settings select:visible, .shortcode-settings textarea:visible').not('.fields-data').each(function() {\n\t\t\t\tvar $el = $(this),\n\t\t\t\t\tval = self.controllers.escape_code($el.val());\n\n\t\t\t\tif ($el.attr('type') === 'checkbox') {\n\t\t\t\t\tval = $el.is(':checked') ? 'true' : 'false';\n\t\t\t\t}\n\n\t\t\t\tobj.params[$el.attr('name')] = val;\n\t\t\t});\n\n\t\t\t$.each(this.observers.current_shortcode_data(), function(i, field) {\n\t\t\t\tif (field.type === 'fields_array') {\n\t\t\t\t\tobj.params[field.key] = self.controllers.escape_code(JSON.stringify(field.value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.insert_shortcode(obj.params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t},\n\n\t\tinsert_upload: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.shortcode_upload,\n\t\t\t\tparams = {\n\t\t\t\t\tfilename: o.filename(),\n\t\t\t\t\tlabel: o.filename()\n\t\t\t\t};\n\n\n\t\t\tif (!this.observers.to_replace) {\n\t\t\t\t$('#edit-area').data('redactor').restoreSelection();\n\t\t\t}\n\n\t\t\tthis.events.insert_shortcode(params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(o.filename());\n\t\t\t}\n\t\t},\n\n\t\tinsert_media: function(el, parent) {\n\n\t\t\tvar self = this,\n\t\t\t\tcurrRow = $('p.media-row');\n\n\t\t\t$.each(this.observers.load_content.selected.content(), function(i) {\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tcurrRow.after($('<p class=\"media-row\" />'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(this.observers.load_content.selected.content(), function(i, id) {\n\n\t\t\t\tvar media = ko.utils.arrayFirst( self.observers.load_content.content(), function(item) {\n\t\t\t\t\t\treturn item.id === id;\n\t\t\t\t\t}),\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tlabel: media.filename,\n\t\t\t\t\t\tid: media.id,\n\t\t\t\t\t\tmedia_type: media.file_type\n\t\t\t\t\t};\n\n\t\t\t\tif (media.filename === 'Vimeo') {\n\t\t\t\t\tparams.label = (media.title.length <= 0) ? 'Vimeo video' : media.title;\n\t\t\t\t}\n\n\t\t\t\tif (media.filename === 'Instagram') {\n\t\t\t\t\tparams.label = (media.title.length <= 0) ? 'Instagram photo' : media.title;\n\t\t\t\t}\n\n\t\t\t\tif (self.observers.sheets.shortcode_media.selected.view() === 'public_albums') {\n\t\t\t\t\tparams.link = 'album';\n\t\t\t\t\tparams.album = $('#album_select').val().match(/\\/albums\\/(\\d+)/)[1];\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (!self.observers.to_replace) {\n\t\t\t\t\t\tself.observers.to_replace = $($('p.media-row').get(0));\n\t\t\t\t\t}\n\t\t\t\t\tself.events.insert_shortcode(params);\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(this.observers.load_content.selected.content()[0]);\n\t\t\t}\n\t\t},\n\n\n\t\tassign_feature: function(el, parent) {\n\t\t\tvar code = el.parents('.entry-elem').find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code);\n\n\t\t\tif (obj.name === 'koken_oembed') {\n\t\t\t\tthis.controllers.featured_from_oembed(obj.params);\n\t\t\t} else {\n\t\t\t\tvar matches = el.parents('.entry-elem').find('.raw-code').text().match(/id=\"([0-9]+)\"/);\n\n\t\t\t\tif (!matches) {\n\t\t\t\t\tmatches = el.parents('.entry-elem').find('.raw-code').text().match(/filename=\"([^\"]+)\"/);\n\t\t\t\t}\n\n\t\t\t\tif (matches) {\n\t\t\t\t\tthis.events.save_feature(matches[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsave_feature: function(feature) {\n\t\t\tvar n = this.notify().wait('Assigning feature image');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/feature' + ( !isNaN(feature) ? '/' + feature : '' ),\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: isNaN(feature) ? 'file=' + feature : false,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(data.featured_image);\n\t\t\t\t\tn.success('Featured image assigned');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tdelete_feature: function() {\n\t\t\tvar n = this.notify().wait('Removing feature image');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/feature/' + this.observers.page_to_edit.__featured_image().id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(false);\n\t\t\t\t\tn.success('Featured image removed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclear_link: function() {\n\t\t\tvar l = this.observers.link,\n\t\t\t\tr = $(l.replace);\n\n\t\t\tl.redactor.restoreSelection();\n\t\t\tr.replaceWith(r.text());\n\n\t\t\tthis.events.toggle_sheet('insert_link');\n\t\t},\n\n\t\tinsert_link: function(el, parent) {\n\n\t\t\tvar data = this.observers.sheets.insert_link;\n\n\t\t\tif (data.state.url().length <= 0) {\n\t\t\t\tvar inp_val = parent.closest('.ui-sheet').find('input[type=\"text\"]').val();\n\t\t\t\tif (inp_val.length <= 0) {\n\t\t\t\t\tthis.notify().warn('Please enter a valid url to be inserted');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdata.state.url(inp_val);\n\t\t\t}\n\n\t\t\tvar url = data.state.url();\n\t\t\t\ta = $('<a/>');\n\n\t\t\tif (!/^(mailto|https?)/.test(url)) {\n\t\t\t\turl = 'http://' + url;\n\t\t\t}\n\n\t\t\tif (data.state.type() === 'internal') {\n\t\t\t\ta.attr('data-koken-album-id', data.state.album());\n\t\t\t\ta.attr('data-koken-album-type', data.state.album_type());\n\t\t\t\turl = url.replace(/lightbox\\/?$/, '');\n\t\t\t\tif (data.state.lightbox() && data.state.album_type() === 'standard') {\n\t\t\t\t\ta.attr('data-koken-lightbox', true);\n\t\t\t\t\turl += 'lightbox/';\n\t\t\t\t}\n\t\t\t\tif ($('#new_link_topic').is(':checked')) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + data.state.album(),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ta.attr('href', url);\n\n\t\t\tif (data.state.new_window()) {\n\t\t\t\ta.attr('target', '_blank');\n\t\t\t} else {\n\t\t\t\ta.attr('target', null);\n\t\t\t}\n\n\t\t\tvar l = this.observers.link;\n\n\t\t\tl.redactor.restoreSelection();\n\n\t\t\tif (l.replace) {\n\t\t\t\ta.text($(l.replace).text());\n\t\t\t\t$(l.replace).replaceWith(a);\n\t\t\t} else {\n\t\t\t\ta.text( l.redactor.getSelectedHtml() );\n\t\t\t\t$('#edit-area').insertHtml( $('<div/>').append(a).html() );\n\t\t\t}\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\t$('#edit-area').trigger('keyup');\n\t\t},\n\n\t\tedit_page: function(el) {\n\t\t\tvar id = el.parents('li').data('id');\n\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: id });\n\t\t},\n\n\t\tsidebar: function(el,parent) {\n\n\t\t\tvar id = el.data('drawer');\n\n\t\t\tif (id) {\n\n\t\t\t\tswitch(id) {\n\n\t\t\t\t\tcase 'edit_categories' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit categories');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_tags' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit tags');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_timestamp' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit date published');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_created' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit date created');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'text_status_edit' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit status');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'site_link_edit':\n\t\t\t\t\t\tthis.observers.drawer.title('Edit site link');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis.observers.drawer.template(id);\n\t\t\t\tthis.events.open_sidebar_drawer(el);\n\n\t\t\t}\n\n\t\t},\n\n\t\topen_sidebar_drawer: function(el) {\n\n\t\t\tif ( this.observers.drawer.state() === 'closed' ) {\n\n\t\t\t\tvar\tsidebar = $('#right-col-xtra'),\n\t\t\t\t\tself\t= this;\n\n\t\t\t\tthis.observers.drawer.state('open');\n\n\t\t\t\tif ( el.data('drawer') === 'edit_categories' ) {\n\t\t\t\t\tthis.pubsub( 'category.save', function(e,data) {\n\n\t\t\t\t\t\tvar catsToAdd = [],\n\t\t\t\t\t\t\tcatsToDelete = [];\n\n\t\t\t\t\t\t$('div#category_edit_drawer').find('input:checkbox').each(function(i, item) {\n\t\t\t\t\t\t\tvar id = parseInt($(item).closest('div[data-id]').data('id'), 10);\n\n\t\t\t\t\t\t\tif (!$(item).is(':visible') || isNaN(id)) return;\n\n\t\t\t\t\t\t\tif ($(item).is(':checked')) {\n\t\t\t\t\t\t\t\t$.inArray(id, catsToAdd) === -1 && catsToAdd.push(id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$.inArray(id, catsToDelete) === -1 && catsToDelete.push(id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t\tif (catsToDelete.length) {\n\t\t\t\t\t\t\tself.observers.selected_cats('Loading...');\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'categories/' + catsToDelete.join(',') + '/essays/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\tif (!catsToAdd.length) this.observers.get_selected_cats();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (catsToAdd.length) {\n\t\t\t\t\t\t\tself.observers.selected_cats('Loading...');\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'categories/' + catsToAdd.join(',') + '/essays/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\tthis.observers.get_selected_cats();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.events.close_sidebar_drawer();\n\t\t\t\t\t});\n\n\t\t\t\t\tvar curr_cats = this.observers.selected_cats();\n\t\t\t\t\t$('#right-col-xtra').find('.col-row input').prop('checked',false);\n\t\t\t\t\tif ($.isArray(curr_cats)) {\n\t\t\t\t\t\t$.each(this.observers.categories(), function(i, cat) {\n\t\t\t\t\t\t\t$.each(curr_cats, function(j,cc) {\n\t\t\t\t\t\t\t\tif ( cc.id == cat.id ) {\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra').find('.col-row:eq('+ i +') input').prop('checked',true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_tags' ) {\n\t\t\t\t\tthis.classes.autocomplete.text.tags($('#enterTagsInput input'), '#enterTagsInput', $('#tags_edit_drawer').find('button.create-tag'));\n\t\t\t\t\tthis.pubsub( 'tags.delete', function(e, data) {\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(updatedData) {\n\t\t\t\t\t\t\t\tthis.observers.page_to_edit.tags(updatedData.tags);\n\t\t\t\t\t\t\t\tthis.observers.list().forEach(function(item) {\n\t\t\t\t\t\t\t\t\titem.tags = $.grep(item.tags, function(tag) {\n\t\t\t\t\t\t\t\t\t\treturn tag.id !== data.id;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.pubsub( 'tags.save', function(e,data) {\n\n\t\t\t\t\t\tvar tags = [], s = this;\n\t\t\t\t\t\tdata = data.data.split(',');\n\n\t\t\t\t\t\t$.each( data, function(j,w) {\n\t\t\t\t\t\t\ttags = s.models.tags.add( w, tags );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'tags=' + tags.join(','),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.page_to_edit.tags(data.tags);\n\n\t\t\t\t\t\t\t\tvar el = $('#entry-' + data.id);\n\t\t\t\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\t\t\t\t\tthis.observers.list.splice(index, 1, data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_timestamp' ) {\n\t\t\t\t\tthis.pubsub( 'timestamp.save', function(e,data) {\n\n\t\t\t\t\t\tvar dt = data.trim(),\n\t\t\t\t\t\t\tts = moment(dt).unix();\n\n\t\t\t\t\t\tvar note = self.notify().wait('Changing timestamp');\n\n\t\t\t\t\t\tself.observers.page_to_edit.published_on.datetime(dt);\n\t\t\t\t\t\tself.observers.page_to_edit.published_on.timestamp(ts);\n\t\t\t\t\t\tself.observers.page_to_edit.published(true);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'published_on=' + ts,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tnote.success('Date published changed to ' + dt)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_created' ) {\n\t\t\t\t\tthis.pubsub( 'timestamp_created.save', function(e,data) {\n\n\t\t\t\t\t\tvar dt = data.trim(),\n\t\t\t\t\t\t\tts = moment(dt).unix();\n\n\t\t\t\t\t\tvar note = self.notify().wait('Changing timestamp');\n\n\t\t\t\t\t\tself.observers.page_to_edit.created_on.datetime(dt);\n\t\t\t\t\t\tself.observers.page_to_edit.created_on.timestamp(ts);\n\t\t\t\t\t\tself.observers.page_to_edit.published(true);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'created_on=' + ts,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tnote.success('Date created changed to ' + dt)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (el.data('drawer') === 'site_link_edit') {\n\t\t\t\t\tvar input = $('[data-submit=\"site_link\"]').find('input[type=\"text\"]'),\n\t\t\t\t\t\thidden = $('[data-submit=\"site_link\"]').find('input[type=\"hidden\"]');\n\n\t\t\t\t\tinput.val(hidden.val());\n\n\t\t\t\t\tinput.off('keyup.slug').on('keyup.slug', function(e) {\n\n\t\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t\t$(this).parents('[data-submit]').find('button').trigger('click');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t    var start = this.selectionStart,\n\t\t\t\t\t    \tend = this.selectionEnd;\n\n\t\t\t\t\t\tinput.val(input.val().toLowerCase().replace(/\\s/g, '-'));\n\n\t\t\t\t\t\tthis.setSelectionRange(start, end);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsidebar.show().animate({\n\t\t\t\t\tright: '0px'\n\t\t\t\t}, {\n\t\t\t\t\teasing: config.easing,\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$('#tags_edit_drawer input[placeholder=\"Enter tags\"]').focus();\n\t\t\t\t\t\t$('#category_edit_drawer input[placeholder=\"Enter categories\"]').focus();\n\t\t\t\t\t\t$('[data-submit=\"site_link\"] input[type=\"text\"]').focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$(window).trigger('resize');\n\n\t\t\t\t$('input.field').off('keydown.drawer_e').on('keydown.drawer_e', function(e) {\n\t\t\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t\t\tif ($(e.target).parents(['data-submit=\"site_link\"']).length) return;\n\n\t\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$(e.target).hasClass('autocompleting')) {\n\t\t\t\t\t\t\t$(e.target).parent().next().find('button').trigger('click');\n\t\t\t\t\t\t\t$(e.target).val('').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsave_and_close: function() {\n\t\t\tvar btn = $('#right-col-data button:contains(\"Done\")');\n\t\t\tif (btn.length) {\n\t\t\t\tbtn.trigger('click');\n\t\t\t} else {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\t\t},\n\n\t\tclose_sidebar_drawer: function() {\n\n\t\t\tthis.observers.drawer.state('closed');\n\n\t\t\t$('#right-col-xtra').animate({\n\t\t\t\tright: '-240px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\t$(this).height(1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\n\t\t\t\tif (!url) {\n\t\t\t\t\t$.bbq.pushState('/text/type:essay', 2);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.observers.dropdowns.sort.active(false);\n\t\t\t\tthis.observers.dropdowns.filter.active(false);\n\n\t\t\t\turl = 'text/' + url + '/render:0';\n\n\t\t\t\tvar final_url = url,\n\t\t\t\t\tregex = /\\/(selection|type|month|year|state|order_by|order_direction):([^\\/]+)/g,\n\t\t\t\t\tnon_api = [ \"selection\" ],\n\t\t\t\t\tmatches,\n\t\t\t\t\tobservers = {\n\t\t\t\t\t\t\"selection\": false,\n\t\t\t\t\t\t\"type\": 'essay',\n\t\t\t\t\t\t\"year\": false,\n\t\t\t\t\t\t\"month\": false,\n\t\t\t\t\t\t\"state\": 'none'\n\t\t\t\t\t},\n\t\t\t\t\tself = this,\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tcb: function() {\n\t\t\t\t\t\t\tfor (var i in observers) {\n\t\t\t\t\t\t\t\tif (i.indexOf('order_') === 0 && self.observers.is_sortable()) continue;\n\t\t\t\t\t\t\t\tself.observers[i]( observers[i] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tload_until: false\n\t\t\t\t\t};\n\n\t\t\t\tthis.observers.is_sortable(\n\t\t\t\t\turl.indexOf(':page') === -1 && url.indexOf('featured') === -1 && url.indexOf('year') === -1 && url.indexOf('drafts') === -1\n\t\t\t\t);\n\n\t\t\t\tvar order_by = url.indexOf('text/featured') === 0 ? 'manual' : 'published_on';\n\n\t\t\t\tif (url.indexOf('drafts') !== -1) {\n\t\t\t\t\torder_by = 'modified_on';\n\t\t\t\t}\n\n\t\t\t\tthis.observers.order_by(order_by);\n\t\t\t\tthis.observers.order_direction('desc');\n\n\t\t\t\twhile( (matches = regex.exec(url)) !== null) {\n\n\t\t\t\t\tvar ob = matches[1],\n\t\t\t\t\t\tval = matches[2];\n\n\t\t\t\t\tif (ob === 'selection') {\n\t\t\t\t\t\tobj.load_until = Number(val);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.inArray(ob, non_api) !== -1) {\n\t\t\t\t\t\tfinal_url = final_url.replace(matches[0], '');\n\t\t\t\t\t}\n\n\t\t\t\t\tobservers[ob] = val;\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.firstPageLoad(true);\n\n\t\t\t\tif (this.observers.editor_on()) {\n\t\t\t\t\tthis.events.toggle_editor();\n\t\t\t\t}\n\n\t\t\t\tif ( this.observers.api_url() !== final_url ) {\n\t\t\t\t\tthis.observers.loading(true);\n\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t$('#entries').empty();\n\n\t\t\t\t\tif (final_url.indexOf('text/featured') !== -1) {\n\t\t\t\t\t\tthis.controllers.featured_order();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#entries').hasClass('ui-sortable') && $('#entries').sortable('destroy');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.api_url( final_url );\n\t\t\t\t\tthis.controllers.load_text(obj);\n\t\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t\t} else {\n\t\t\t\t\tobj.cb();\n\t\t\t\t}\n\n\t\t\t\t// When the route changes we need to reset the shortcode_media sheet otherwise thumbnails will get wacky\n\t\t\t\tif (window.location.hash.indexOf('selection') == -1) {\n\t\t\t\t\t// Force the shortcode_media template to reload\n\t\t\t\t\tthis.observers.sheets.shortcode_media.id.valueHasMutated();\n\t\t\t\t\t// Reset for the sheet dropdowns\n\t\t\t\t\tthis.observers.sheet_media_chosen.primary('all_content');\n\t\t\t\t\tthis.observers.sheet_media_chosen.secondary('0');\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\n\t},\n\n\tviews: {\n\t\tclose_sidebar_drawer: function() {\n\t\t\tthis.events.close_sidebar_drawer()\n\t\t}\n\t},\n\n\tobservers: function() {\n\n\t\tvar cookies = {};\n\n\t\tcookies.theme = ( this.cookie('text:theme') === null ) ? 0 : this.helpers.clean( this.cookie('text:theme') );\n\t\tcookies.years = ( this.cookie('text:nav') === null ) ? [] : this.cookie('text:nav').split(',');\n\t\tcookies.grid  = ( this.cookie('text:view') === null ) ? 'rows' : this.cookie('text:view');\n\n\t\t$.each( cookies.years, function(k,v) {\n\t\t\tcookies.years[k] = parseInt(v,10);\n\t\t});\n\n\t\treturn {\n\t\t\tlist_index_to_delete: false,\n\t\t\tcurrent_shortcode: ko.observable({}),\n\t\t\tcurrent_shortcode_data: ko.observable([]),\n\t\t\texpand: ko.observable(false),\n\t\t\ttheme: ko.observable(cookies.theme),\n\t\t\tis_loading: false,\n\t\t\tnext_page: false,\n\t\t\tcalendar_data: {},\n\t\t\tyear: ko.observable(false),\n\t\t\topen_year: ko.observableArray(cookies.years),\n\t\t\tmonth: ko.observable(false),\n\t\t\tyears: ko.observableArray([]),\n\t\t\tthis_year: new Date().getFullYear(),\n\t\t\tthis_month: new Date().getMonth()+1,\n\t\t\tstate: ko.observable('none'),\n\t\t\tgrid: ko.observable(cookies.grid),\n\t\t\torder_by: ko.observable('modified_on'),\n\t\t\torder_direction: ko.observable('desc'),\n\t\t\tisalbumset: ko.observable(false),\n\t\t\tlast_edit: false,\n\t\t\tloading: ko.observable(true),\n\t\t\tselection: ko.observable(false),\n\t\t\tapi_url: ko.observable(''),\n\t\t\tlastexeccommand: ko.observable(''),\n\t\t\ttotal: ko.observable(false),\n\t\t\tview: ko.observable('list'),\n\t\t\ttype: ko.observable('essay'),\n\t\t\tlist: ko.observableArray( [] ),\n\t\t\tdrafts: ko.observableArray( [] ),\n\t\t\thasChanges: ko.observable(false),\n\t\t\tfirstPageLoad: ko.observable(true),\n\t\t\teditor_type: ko.observable('dock'),\n\t\t\teditor_on: ko.observable(false),\n\t\t\ttext_edit_full: ko.observable(false),\n\t\t\tis_autosaving: ko.observable(false),\n\t\t\tis_sortable: ko.observable(false),\n\t\t\tgetSelectSpacing: function(index, text) {\n\t\t\t\tif (!index) return text;\n\t\t\t\tvar _spacer = '&nbsp&nbsp;',\n\t\t\t\t\t_out = '';\n\t\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\t\t_out += _spacer;\n\t\t\t\t}\n\t\t\t\treturn _out + text;\n\t\t\t},\n\t\t\tsheet_media_chosen: {\n\t\t\t\tprimary: ko.observable('all_content'),\n\t\t\t\tsecondary: ko.observable('0')\n\t\t\t},\n\t\t\tselection_info: {\n\t\t\t\tselection: {},\n\t\t\t\trange: {}\n\t\t\t},\n\t\t\tto_replace: false,\n\t\t\tlink: {\n\t\t\t\tredactor: false,\n\t\t\t\tnoob: false\n\t\t\t},\n\t\t\tdrawer: {\n\t\t\t\ttemplate: ko.observable('default_edit'),\n\t\t\t\tstate: ko.observable('closed'),\n\t\t\t\ttitle: ko.observable('')\n\t\t\t},\n\t\t\tis_topic: function(id) {\n\t\t\t\tvar isTopic = false;\n\t\t\t\tif ($.isArray(this.selected_topics())) {\n\t\t\t\t\t$.each(this.selected_topics(), function(idx, item) {\n\t\t\t\t\t\tif (item.id == id) isTopic = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn isTopic;\n\t\t\t},\n\t\t\tyear_open: function(year) {\n\t\t\t\tif ( ! this.year() ) { return false; }\n\t\t\t\tif ( this.year() == year ) { return true; }\n\t\t\t\tif ( this.open_year.indexOf(year) >= 0 ) { return true; }\n\t\t\t},\n\t\t\thasEditedItems: function() {\n\t\t\t\tvar hasEdits = false;\n\t\t\t\t$.each(this.interfaces.text.observers.list(), function(i, item) {\n\t\t\t\t\tif (item.published && item.content !== item.draft) {\n\t\t\t\t\t\thasEdits = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn hasEdits;\n\t\t\t},\n\t\t\tselected_topics: ko.observable([]),\n\t\t\tget_selected_topics: function() {\n\t\t\t\tthis.selected_topics('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.page_to_edit.topics.url(),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.albums.length) {\n\t\t\t\t\t\t\tthis.selected_topics(data.albums);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_topics('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tselected_cats: ko.observable([]),\n\t\t\tget_selected_cats: function() {\n\t\t\t\tthis.selected_cats('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.page_to_edit.categories.url(),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.categories.length) {\n\t\t\t\t\t\t\tthis.selected_cats(data.categories);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_cats('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tautosave_timeout_id: false,\n\t\t\tautosave_text_id: false,\n\t\t\tpage_to_edit: {\n\t\t\t\t__loaded: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\tdraft_title: ko.observable(''),\n\t\t\t\texcerpt: ko.observable(''),\n\t\t\t\tpublished: ko.observable(false),\n\t\t\t\tmodified_on: {\n\t\t\t\t\ttimestamp: ko.observable(0)\n\t\t\t\t},\n\t\t\t\ttopics: ko.observableArray([]),\n\t\t\t\t__featured_image: ko.observable(false),\n\t\t\t\t__topic_str: ko.observable(''),\n\t\t\t\t__topic_ids: ko.observableArray([])\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tsort: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Manual',\n\t\t\t\t\t\t\tbind\t: \"visible: api_url().indexOf('text/featured') === 0, css: { check: order_by() === 'manual' }, click: function() { change_order_by('manual'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date created',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'created_on' }, click: function() { change_order_by('created_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date modified',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'modified_on' }, click: function() { change_order_by('modified_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date published',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'published_on' }, click: function() { change_order_by('published_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Title',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'title' }, click: function() { change_order_by('title'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'insert_break'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Ascending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results ascending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'asc' }, click: function() { change_order_direction('asc'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Descending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results descending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'desc' }, click: function() { change_order_direction('desc'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('sort'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\tposition: ko.observable('above'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle : 'None',\n\t\t\t\t\t\t\tbind  : \"css: { check: state() === 'none' }, click: function() { state('none'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle : 'Drafts',\n\t\t\t\t\t\t\tbind  : \"css: { check: state() === 'draft' }, click: function() { state('draft'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('filter'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '40px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '15px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tinsert_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('insert_link'),\n\t\t\t\t\tstate: {\n\t\t\t\t\t\ttype: ko.observable('external'),\n\t\t\t\t\t\turl: ko.observable(''),\n\t\t\t\t\t\talbum: ko.observable(false),\n\t\t\t\t\t\talbum_type: ko.observable('standard'),\n\t\t\t\t\t\tnew_window: ko.observable(false),\n\t\t\t\t\t\tlightbox: ko.observable(false),\n\t\t\t\t\t\texisting: ko.observable(false)\n\t\t\t\t\t},\n\t\t\t\t\t_reset: function() {\n\t\t\t\t\t\tthis.state.type('external');\n\t\t\t\t\t\tthis.state.album_type('standard');\n\t\t\t\t\t\tfor ( var k in this.state ) {\n\t\t\t\t\t\t\tif ( k !== 'type' && k !== 'album_type' ) {\n\t\t\t\t\t\t\t\tthis.state[k].reset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.find('input[type=\"text\"]').off('keydown').on( 'keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.keyCode == 13 ) {\n\t\t\t\t\t\t\t\tel.find('button[data-event=\"insert_link\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreate_text: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_text'),\n\t\t\t\t\ttype: ko.observable('essay'),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\twasCreated: ko.observable(false),\n\t\t\t\t\tonload: function(el) {\n\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tel.find('input').focus();\n\n\t\t\t\t\t\t$(document,el)\n\t\t\t\t\t\t\t.off('.textSheet')\n\t\t\t\t\t\t\t.on('click.textSheet', '.sheet-opt-types li', function() {\n\t\t\t\t\t\t\t\tself.classes.app.koken.lastFocused && self.classes.app.koken.lastFocused.focus();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tel.find( ($('#text-lcol .label-custompage').closest('li').hasClass('selected')) ? '.label-custompage' : '.label-essays' ).closest('li').trigger('click');\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_media: {\n\t\t\t\t\ttype: ko.observable('photo'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_media'),\n\t\t\t\t\tloaded: ko.observable(false),\n\t\t\t\t\tsheet_loaded: ko.observable(false),\n\t\t\t\t\tediting: ko.observable(false),\n\t\t\t\t\tisediting: ko.observable(false),\n\t\t\t\t\tisreplacing: ko.observable(false),\n\t\t\t\t\talbums: ko.observable([]),\n\t\t\t\t\talbum: ko.observable(0),\n\t\t\t\t\tcustom_url: ko.observable(''),\n\t\t\t\t\tlink: ko.observable('false'),\n\t\t\t\t\ttitle: ko.observable(false),\n\t\t\t\t\tcaption: ko.observable(false),\n\t\t\t\t\tselected: {\n\t\t\t\t\t\tview: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tonload: function(el) {\n\n\t\t\t\t\t\t$('#view_select').find( '.' + this.observers.sheet_media_chosen.primary() ).attr('selected','selected');\n\t\t\t\t\t\t$('#view_select').trigger('change');\n\t\t\t\t\t\t$('#media-browse-content').off().on( 'dblclick', 'li', function() {\n\t\t\t\t\t\t\t$('button[data-event=\"insert_media\"]').trigger('click');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#shortcode_media h1').text($('#shortcode_media h1').text().replace('Edit', 'Insert'));\n\t\t\t\t\t\t$('#album_select').find('[data-id=\"' + this.observers.sheet_media_chosen.secondary() + '\"]').attr('selected','selected');\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_custom: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_custom'),\n\t\t\t\t\tdata: ko.observable({}),\n\t\t\t\t\tfields: ko.observableArray([]),\n\t\t\t\t\tediting: ko.observable(false),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t$(document).off('.custom-fields').on('change.custom-fields', 'select.fields-data', function() {\n\t\t\t\t\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\t\tself.observers.current_shortcode_data(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$(document).off('.custom-fields');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_collection: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_collection'),\n\t\t\t\t\tfavorites: ko.observableArray([]),\n\t\t\t\t\tquick_collection: ko.observableArray([]),\n\t\t\t\t\tlast_upload: ko.observableArray([]),\n\t\t\t\t\tstate: {\n\t\t\t\t\t\tselected: ko.observable(''),\n\t\t\t\t\t\tselected_text: ko.observable('')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_edit: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_edit'),\n\t\t\t\t\tselected: ko.observable(''),\n\t\t\t\t\tlink: ko.observable('false'),\n\t\t\t\t\talbum: ko.observable(0),\n\t\t\t\t\tcustom_url: ko.observable(''),\n\t\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\thasChanged = false;\n\t\t\t\t\t\t$('#shortcode_edit select').off('.shortcode_edit').on('change.shortcode_edit', function() {\n\t\t\t\t\t\t\thasChanged = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#shortcode_edit input').off('.shortcode_edit').on('keyup.shortcode_edit', function() {\n\t\t\t\t\t\t\thasChanged = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('button[data-event=\"update_shortcode\"]').off('.shortcode_edit').on('click.shortcode_edit', function() {\n\t\t\t\t\t\t\tif (hasChanged) { self.notify().success('Media settings successfully assigned'); }\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$(document).off('.custom-fields').on('change.custom-fields', 'select.fields-data', function() {\n\t\t\t\t\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\t\tself.observers.current_shortcode_data(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$(document).off('.custom-fields');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tembed_item: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('embed_item')\n\t\t\t\t},\n\t\t\t\tshortcode_upload: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_upload'),\n\t\t\t\t\tstate: ko.observable('off'),\n\t\t\t\t\tfilename: ko.observable(''),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\tcaption: ko.observable(''),\n\t\t\t\t\tlink: ko.observable(''),\n\t\t\t\t\tnew_window: ko.observable(false),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\t$('#shortcode_upload .section-content').hide();\n\t\t\t\t\t},\n\t\t\t\t\t_reset: function() {\n\t\t\t\t\t\tthis.state('off');\n\t\t\t\t\t\tthis.title('');\n\t\t\t\t\t\tthis.caption('');\n\t\t\t\t\t\tthis.link('');\n\t\t\t\t\t\tthis.new_window(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tadd_topic: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('add_topic'),\n\t\t\t\t\tonload: function(sheet) {\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\thasBeenAltered = false;\n\n\t\t\t\t\t\tsheet\n\t\t\t\t\t\t\t.find('a[data-event=\"toggle_topic\"]')\n\t\t\t\t\t\t\t.off('.atns')\n\t\t\t\t\t\t\t.on('click.atns', function() {\n\t\t\t\t\t\t\t\thasBeenAltered = true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsheet\n\t\t\t\t\t\t\t.find('button[data-sheet=\"add_topic\"]')\n\t\t\t\t\t\t\t.off('.atns')\n\t\t\t\t\t\t\t.on('click.atns', function() {\n\t\t\t\t\t\t\t\tif (hasBeenAltered && self.observers.page_to_edit.published()) self.notify().success('\"' + self.observers.page_to_edit.title() + '\" has been published');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\n\t// /___INTERFACES___\n\n\t// Kick things off..\n\t__k = _Koken();\n\n\twindow.Koken = __Koken();\n\n})();","/*!\n* MediaElement.js\n* HTML5 <video> and <audio> shim and player\n* http://mediaelementjs.com/\n*\n* Creates a JavaScript object that mimics HTML5 MediaElement API\n* for browsers that don't understand HTML5 or can't play the provided codec\n* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3\n*\n* Copyright 2010-2013, John Dyer (http://j.hn)\n* License: MIT\n*\n*/var mejs=mejs||{};mejs.version=\"2.13.1\";mejs.meIndex=0;\nmejs.plugins={silverlight:[{version:[3,0],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/wmv\",\"audio/wma\",\"audio/m4a\",\"audio/mp3\",\"audio/wav\",\"audio/mpeg\"]}],flash:[{version:[9,0,124],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/flv\",\"video/rtmp\",\"video/x-flv\",\"audio/flv\",\"audio/x-flv\",\"audio/mp3\",\"audio/m4a\",\"audio/mpeg\",\"video/youtube\",\"video/x-youtube\"]}],youtube:[{version:null,types:[\"video/youtube\",\"video/x-youtube\",\"audio/youtube\",\"audio/x-youtube\"]}],vimeo:[{version:null,types:[\"video/vimeo\",\n\"video/x-vimeo\"]}]};\nmejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split('\"').join(\"&quot;\")},absolutizeUrl:function(a){var b=document.createElement(\"div\");b.innerHTML='<a href=\"'+this.escapeHTML(a)+'\">x</a>';return b.firstChild.href},getScriptPath:function(a){for(var b=0,c,d=\"\",e=\"\",f,g,h=document.getElementsByTagName(\"script\"),l=h.length,j=a.length;b<l;b++){f=h[b].src;c=f.lastIndexOf(\"/\");if(c>-1){g=f.substring(c+\n1);f=f.substring(0,c+1)}else{g=f;f=\"\"}for(c=0;c<j;c++){e=a[c];e=g.indexOf(e);if(e>-1){d=f;break}}if(d!==\"\")break}return d},secondsToTimeCode:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\"undefined\")d=25;var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60);a=Math.floor((a%1*d).toFixed(3));return(b||e>0?(e<10?\"0\"+e:e)+\":\":\"\")+(f<10?\"0\"+f:f)+\":\"+(g<10?\"0\"+g:g)+(c?\":\"+(a<10?\"0\"+a:a):\"\")},timeCodeToSeconds:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\n\"undefined\")d=25;a=a.split(\":\");b=parseInt(a[0],10);var e=parseInt(a[1],10),f=parseInt(a[2],10),g=0,h=0;if(c)g=parseInt(a[3])/d;return h=b*3600+e*60+f+g},convertSMPTEtoSeconds:function(a){if(typeof a!=\"string\")return false;a=a.replace(\",\",\".\");var b=0,c=a.indexOf(\".\")!=-1?a.split(\".\")[1].length:0,d=1;a=a.split(\":\").reverse();for(var e=0;e<a.length;e++){d=1;if(e>0)d=Math.pow(60,e);b+=Number(a[e])*d}return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);if(b&&/object|embed/i.test(b.nodeName))if(mejs.MediaFeatures.isIE){b.style.display=\n\"none\";(function(){b.readyState==4?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)})()}else b.parentNode.removeChild(b)},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)if(typeof a[b]==\"function\")a[b]=null;a.parentNode.removeChild(a)}}};\nmejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];b[1]=b[1]||0;b[2]=b[2]||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e=[0,0,0],f;if(typeof this.nav.plugins!=\"undefined\"&&typeof this.nav.plugins[a]==\"object\"){if((c=this.nav.plugins[a].description)&&\n!(typeof this.nav.mimeTypes!=\"undefined\"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){e=c.replace(a,\"\").replace(/^\\s+/,\"\").replace(/\\sr/gi,\".\").split(\".\");for(a=0;a<e.length;a++)e[a]=parseInt(e[a].match(/\\d+/),10)}}else if(typeof window.ActiveXObject!=\"undefined\")try{if(f=new ActiveXObject(c))e=d(f)}catch(g){}return e}};\nmejs.PluginDetector.addPlugin(\"flash\",\"Shockwave Flash\",\"application/x-shockwave-flash\",\"ShockwaveFlash.ShockwaveFlash\",function(a){var b=[];if(a=a.GetVariable(\"$version\")){a=a.split(\" \")[1].split(\",\");b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return b});\nmejs.PluginDetector.addPlugin(\"silverlight\",\"Silverlight Plug-In\",\"application/x-silverlight-2\",\"AgControl.AgControl\",function(a){var b=[0,0,0,0],c=function(d,e,f,g){for(;d.isVersionSupported(e[0]+\".\"+e[1]+\".\"+e[2]+\".\"+e[3]);)e[f]+=g;e[f]-=g};c(a,b,0,1);c(a,b,1,1);c(a,b,2,1E4);c(a,b,2,1E3);c(a,b,2,100);c(a,b,2,10);c(a,b,2,1);c(a,b,3,1);return b});\nmejs.MediaFeatures={init:function(){var a=this,b=document,c=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,f=[\"source\",\"track\",\"audio\",\"video\"];a.isiPad=d.match(/ipad/i)!==null;a.isiPhone=d.match(/iphone/i)!==null;a.isiOS=a.isiPhone||a.isiPad;a.isAndroid=d.match(/android/i)!==null;a.isBustedAndroid=d.match(/android 2\\.[12]/)!==null;a.isBustedNativeHTTPS=location.protocol===\"https:\"&&(d.match(/android [12]\\./)!==null||d.match(/macintosh.* version.* safari/)!==null);a.isIE=c.appName.toLowerCase().match(/trident/gi)!==\nnull;a.isChrome=d.match(/chrome/gi)!==null;a.isFirefox=d.match(/firefox/gi)!==null;a.isWebkit=d.match(/webkit/gi)!==null;a.isGecko=d.match(/gecko/gi)!==null&&!a.isWebkit&&!a.isIE;a.isOpera=d.match(/opera/gi)!==null;a.hasTouch=\"ontouchstart\"in window&&window.ontouchstart!=null;a.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect;for(c=0;c<f.length;c++)e=document.createElement(f[c]);a.supportsMediaTag=typeof e.canPlayType!==\"undefined\"||a.isBustedAndroid;\ntry{e.canPlayType(\"video/mp4\")}catch(g){a.supportsMediaTag=false}a.hasSemiNativeFullScreen=typeof e.webkitEnterFullscreen!==\"undefined\";a.hasNativeFullscreen=typeof e.requestFullscreen!==\"undefined\";a.hasWebkitNativeFullScreen=typeof e.webkitRequestFullScreen!==\"undefined\";a.hasMozNativeFullScreen=typeof e.mozRequestFullScreen!==\"undefined\";a.hasMsNativeFullScreen=typeof e.msRequestFullscreen!==\"undefined\";a.hasTrueNativeFullScreen=a.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen||a.hasMsNativeFullScreen;\na.nativeFullScreenEnabled=a.hasTrueNativeFullScreen;if(a.hasMozNativeFullScreen)a.nativeFullScreenEnabled=document.mozFullScreenEnabled;else if(a.hasMsNativeFullScreen)a.nativeFullScreenEnabled=document.msFullscreenEnabled;if(a.isChrome)a.hasSemiNativeFullScreen=false;if(a.hasTrueNativeFullScreen){a.fullScreenEventName=\"\";if(a.hasWebkitNativeFullScreen)a.fullScreenEventName=\"webkitfullscreenchange\";else if(a.hasMozNativeFullScreen)a.fullScreenEventName=\"mozfullscreenchange\";else if(a.hasMsNativeFullScreen)a.fullScreenEventName=\n\"MSFullscreenChange\";a.isFullScreen=function(){if(e.mozRequestFullScreen)return b.mozFullScreen;else if(e.webkitRequestFullScreen)return b.webkitIsFullScreen;else if(e.hasMsNativeFullScreen)return b.msFullscreenElement!==null};a.requestFullScreen=function(h){if(a.hasWebkitNativeFullScreen)h.webkitRequestFullScreen();else if(a.hasMozNativeFullScreen)h.mozRequestFullScreen();else a.hasMsNativeFullScreen&&h.msRequestFullscreen()};a.cancelFullScreen=function(){if(a.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();\nelse if(a.hasMozNativeFullScreen)document.mozCancelFullScreen();else a.hasMsNativeFullScreen&&document.msExitFullscreen()}}if(a.hasSemiNativeFullScreen&&d.match(/mac os x 10_5/i)){a.hasNativeFullScreen=false;a.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();\nmejs.HtmlMediaElement={pluginType:\"native\",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName(\"source\");b.length>0;)this.removeChild(b[0]);if(typeof a==\"string\")this.src=a;else{var c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.src=c.src;break}}}},setVideoSize:function(a,b){this.width=a;this.height=b}};\nmejs.PluginMediaElement=function(a,b,c){this.id=a;this.pluginType=b;this.src=c;this.events={};this.attributes={}};\nmejs.PluginMediaElement.prototype={pluginElement:null,pluginType:\"\",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:\"\",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!=\"youtube\"&&this.pluginApi.loadMedia();this.paused=\nfalse}},pause:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++){d=e[b];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return\"probably\"}return\"\"},\npositionFullscreenButton:function(a,b,c){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if(typeof a==\"string\"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));\nthis.src=mejs.Utility.absolutizeUrl(a);break}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.setVolume(a*100):this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType==\"youtube\"){a?this.pluginApi.mute():this.pluginApi.unMute();this.muted=a;this.dispatchEvent(\"volumechange\")}else this.pluginApi.setMuted(a);\nthis.muted=a}},setVideoSize:function(a,b){if(this.pluginElement.style){this.pluginElement.style.width=a+\"px\";this.pluginElement.style.height=b+\"px\"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&\nthis.setFullscreen(false)},addEventListener:function(a,b){this.events[a]=this.events[a]||[];this.events[a].push(b)},removeEventListener:function(a,b){if(!a){this.events={};return true}var c=this.events[a];if(!c)return true;if(!b){this.events[a]=[];return true}for(i=0;i<c.length;i++)if(c[i]===b){this.events[a].splice(i,1);return true}return false},dispatchEvent:function(a){var b,c,d=this.events[a];if(d){c=Array.prototype.slice.call(arguments,1);for(b=0;b<d.length;b++)d[b].apply(null,c)}},hasAttribute:function(a){return a in\nthis.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a))return this.attributes[a];return\"\"},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};\nmejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b;this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a];delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case \"flash\":b.pluginElement=b.pluginApi=document.getElementById(a);break;case \"silverlight\":b.pluginElement=document.getElementById(b.id);\nb.pluginApi=b.pluginElement.Content.MediaElementJS}b.pluginApi!=null&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c){a[d]=c[d];b[d]=c[d]}e=c.bufferedTime||0;b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1};a.dispatchEvent(b.type,b)}}};\nmejs.MediaElementDefaults={mode:\"auto\",plugins:[\"flash\",\"silverlight\",\"youtube\",\"vimeo\"],enablePluginDebug:false,httpsBasicAuthSite:false,type:\"\",pluginPath:mejs.Utility.getScriptPath([\"mediaelement.js\",\"mediaelement.min.js\",\"mediaelement-and-player.js\",\"mediaelement-and-player.min.js\"]),flashName:\"flashmediaelement.swf\",flashStreamer:\"\",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:\"start\",silverlightName:\"silverlightmediaelement.xap\",defaultVideoWidth:480,\ndefaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};\nmejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d=typeof a==\"string\"?document.getElementById(a):a,e=d.tagName.toLowerCase(),f=e===\"audio\"||e===\"video\",g=f?d.getAttribute(\"src\"):d.getAttribute(\"href\");e=d.getAttribute(\"poster\");var h=d.getAttribute(\"autoplay\"),l=d.getAttribute(\"preload\"),j=d.getAttribute(\"controls\"),k;for(k in b)c[k]=b[k];g=typeof g==\"undefined\"||g===null||g==\"\"?null:g;e=typeof e==\"undefined\"||e===null?\"\":e;l=typeof l==\"undefined\"||l===null||l===\"false\"?\n\"none\":l;h=!(typeof h==\"undefined\"||h===null||h===\"false\");j=!(typeof j==\"undefined\"||j===null||j===\"false\");k=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,f,g);k.url=k.url!==null?mejs.Utility.absolutizeUrl(k.url):\"\";if(k.method==\"native\"){if(mejs.MediaFeatures.isBustedAndroid){d.src=k.url;d.addEventListener(\"click\",function(){d.play()},false)}return this.updateNative(k,c,h,l)}else if(k.method!==\"\")return this.createPlugin(k,c,e,h,l,j);else{this.createErrorMessage(k,c,e);return this}},\ndeterminePlayback:function(a,b,c,d,e){var f=[],g,h,l,j={method:\"\",url:\"\",htmlMediaElement:a,isVideo:a.tagName.toLowerCase()!=\"audio\"},k;if(typeof b.type!=\"undefined\"&&b.type!==\"\")if(typeof b.type==\"string\")f.push({type:b.type,url:e});else for(g=0;g<b.type.length;g++)f.push({type:b.type[g],url:e});else if(e!==null){l=this.formatType(e,a.getAttribute(\"type\"));f.push({type:l,url:e})}else for(g=0;g<a.childNodes.length;g++){h=a.childNodes[g];if(h.nodeType==1&&h.tagName.toLowerCase()==\"source\"){e=h.getAttribute(\"src\");\nl=this.formatType(e,h.getAttribute(\"type\"));h=h.getAttribute(\"media\");if(!h||!window.matchMedia||window.matchMedia&&window.matchMedia(h).matches)f.push({type:l,url:e})}}if(!d&&f.length>0&&f[0].url!==null&&this.getTypeFromFile(f[0].url).indexOf(\"audio\")>-1)j.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=function(m){return m.match(/video\\/(mp4|m4v)/gi)!==null?\"maybe\":\"\"};if(c&&(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"native\")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&\nb.httpsBasicAuthSite===true)){if(!d){g=document.createElement(j.isVideo?\"video\":\"audio\");a.parentNode.insertBefore(g,a);a.style.display=\"none\";j.htmlMediaElement=a=g}for(g=0;g<f.length;g++)if(a.canPlayType(f[g].type).replace(/no/,\"\")!==\"\"||a.canPlayType(f[g].type.replace(/mp3/,\"mpeg\")).replace(/no/,\"\")!==\"\"){j.method=\"native\";j.url=f[g].url;break}if(j.method===\"native\"){if(j.url!==null)a.src=j.url;if(b.mode!==\"auto_plugin\")return j}}if(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"shim\")for(g=\n0;g<f.length;g++){l=f[g].type;for(a=0;a<b.plugins.length;a++){e=b.plugins[a];h=mejs.plugins[e];for(c=0;c<h.length;c++){k=h[c];if(k.version==null||mejs.PluginDetector.hasPluginVersion(e,k.version))for(d=0;d<k.types.length;d++)if(l==k.types[d]){j.method=e;j.url=f[g].url;return j}}}}if(b.mode===\"auto_plugin\"&&j.method===\"native\")return j;if(j.method===\"\"&&f.length>0)j.url=f[0].url;return j},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(\";\")?b.substr(0,b.indexOf(\";\")):b},\ngetTypeFromFile:function(a){a=a.split(\"?\")[0];a=a.substring(a.lastIndexOf(\".\")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?\"video\":\"audio\")+\"/\"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case \"mp4\":case \"m4v\":return\"mp4\";case \"webm\":case \"webma\":case \"webmv\":return\"webm\";case \"ogg\":case \"oga\":case \"ogv\":return\"ogg\";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement(\"div\");e.className=\n\"me-cannotplay\";try{e.style.width=d.width+\"px\";e.style.height=d.height+\"px\"}catch(f){}e.innerHTML=b.customError?b.customError:c!==\"\"?'<a href=\"'+a.url+'\"><img src=\"'+c+'\" width=\"100%\" height=\"100%\" /></a>':'<a href=\"'+a.url+'\"><span>'+mejs.i18n.t(\"Download File\")+\"</span></a>\";d.parentNode.insertBefore(e,d);d.style.display=\"none\";b.error(d)},createPlugin:function(a,b,c,d,e,f){c=a.htmlMediaElement;var g=1,h=1,l=\"me_\"+a.method+\"_\"+mejs.meIndex++,j=new mejs.PluginMediaElement(l,a.method,a.url),k=document.createElement(\"div\"),\nm;j.tagName=c.tagName;for(m=0;m<c.attributes.length;m++){var n=c.attributes[m];n.specified==true&&j.setAttribute(n.name,n.value)}for(m=c.parentNode;m!==null&&m.tagName.toLowerCase()!=\"body\";){if(m.parentNode.tagName.toLowerCase()==\"p\"){m.parentNode.parentNode.insertBefore(m,m.parentNode);break}m=m.parentNode}if(a.isVideo){g=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:c.getAttribute(\"width\")!==null?c.getAttribute(\"width\"):b.defaultVideoWidth;h=b.pluginHeight>0?b.pluginHeight:b.videoHeight>\n0?b.videoHeight:c.getAttribute(\"height\")!==null?c.getAttribute(\"height\"):b.defaultVideoHeight;g=mejs.Utility.encodeUrl(g);h=mejs.Utility.encodeUrl(h)}else if(b.enablePluginDebug){g=320;h=240}j.success=b.success;mejs.MediaPluginBridge.registerPluginElement(l,j,c);k.className=\"me-plugin\";k.id=l+\"_container\";a.isVideo?c.parentNode.insertBefore(k,c):document.body.insertBefore(k,document.body.childNodes[0]);d=[\"id=\"+l,\"isvideo=\"+(a.isVideo?\"true\":\"false\"),\"autoplay=\"+(d?\"true\":\"false\"),\"preload=\"+e,\"width=\"+\ng,\"startvolume=\"+b.startVolume,\"timerrate=\"+b.timerRate,\"flashstreamer=\"+b.flashStreamer,\"height=\"+h,\"pseudostreamstart=\"+b.pseudoStreamingStartQueryParam];if(a.url!==null)a.method==\"flash\"?d.push(\"file=\"+mejs.Utility.encodeUrl(a.url)):d.push(\"file=\"+a.url);b.enablePluginDebug&&d.push(\"debug=true\");b.enablePluginSmoothing&&d.push(\"smoothing=true\");b.enablePseudoStreaming&&d.push(\"pseudostreaming=true\");f&&d.push(\"controls=true\");if(b.pluginVars)d=d.concat(b.pluginVars);switch(a.method){case \"silverlight\":k.innerHTML=\n'<object data=\"data:application/x-silverlight-2,\" type=\"application/x-silverlight-2\" id=\"'+l+'\" name=\"'+l+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"><param name=\"initParams\" value=\"'+d.join(\",\")+'\" /><param name=\"windowless\" value=\"true\" /><param name=\"background\" value=\"black\" /><param name=\"minRuntimeVersion\" value=\"3.0.0.0\" /><param name=\"autoUpgrade\" value=\"true\" /><param name=\"source\" value=\"'+b.pluginPath+b.silverlightName+'\" /></object>';break;case \"flash\":if(mejs.MediaFeatures.isIE){a=\ndocument.createElement(\"div\");k.appendChild(a);a.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+l+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+b.pluginPath+b.flashName+\"?x=\"+new Date+'\" /><param name=\"flashvars\" value=\"'+d.join(\"&amp;\")+'\" /><param name=\"quality\" value=\"high\" /><param name=\"bgcolor\" value=\"#000000\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>'}else k.innerHTML=\n'<embed id=\"'+l+'\" name=\"'+l+'\" play=\"true\" loop=\"false\" quality=\"high\" bgcolor=\"#000000\" wmode=\"transparent\" allowScriptAccess=\"always\" allowFullScreen=\"true\" type=\"application/x-shockwave-flash\" pluginspage=\"//www.macromedia.com/go/getflashplayer\" src=\"'+b.pluginPath+b.flashName+'\" flashvars=\"'+d.join(\"&\")+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"></embed>';break;case \"youtube\":b=a.url.substr(a.url.lastIndexOf(\"=\")+1);youtubeSettings={container:k,containerId:k.id,pluginMediaElement:j,pluginId:l,\nvideoId:b,height:h,width:g};mejs.PluginDetector.hasPluginVersion(\"flash\",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case \"vimeo\":j.vimeoid=a.url.substr(a.url.lastIndexOf(\"/\")+1);k.innerHTML='<iframe src=\"http://player.vimeo.com/video/'+j.vimeoid+'?portrait=0&byline=0&title=0\" width=\"'+g+'\" height=\"'+h+'\" frameborder=\"0\" class=\"mejs-shim\"></iframe>'}c.style.display=\"none\";c.removeAttribute(\"autoplay\");return j},updateNative:function(a,\nb){var c=a.htmlMediaElement,d;for(d in mejs.HtmlMediaElement)c[d]=mejs.HtmlMediaElement[d];b.success(c,c);return c}};\nmejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement(\"script\");a.src=\"//www.youtube.com/player_api\";var b=document.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded)this.createIframe(a);else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,\n{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c;mejs.MediaPluginBridge.initPlugin(a.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(c,b,\"timeupdate\")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,c,b)}}})},createEvent:function(a,b,c){c={type:c,target:b};if(a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime();b.duration=c.duration=a.getDuration();c.paused=b.paused;\nc.ended=b.ended;c.muted=a.isMuted();c.volume=a.getVolume()/100;c.bytesTotal=a.getVideoBytesTotal();c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=\na;var b,c=\"//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid=\"+a.pluginId+\"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0\";if(mejs.MediaFeatures.isIE){b=document.createElement(\"div\");a.container.appendChild(b);b.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+a.pluginId+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+\nc+'\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>'}else a.container.innerHTML='<object type=\"application/x-shockwave-flash\" id=\"'+a.pluginId+'\" data=\"'+c+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" style=\"visibility: visible; \" class=\"mejs-shim\"><param name=\"allowScriptAccess\" value=\"always\"><param name=\"wmode\" value=\"transparent\"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=\ndocument.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c;mejs.MediaPluginBridge.initPlugin(a);c.cueVideoById(b.videoId);a=b.containerId+\"_callback\";window[a]=function(e){mejs.YouTubeApi.handleStateChange(e,c,d)};c.addEventListener(\"onStateChange\",a);setInterval(function(){mejs.YouTubeApi.createEvent(c,d,\"timeupdate\")},250)},handleStateChange:function(a,b,c){switch(a){case -1:c.paused=true;c.ended=true;mejs.YouTubeApi.createEvent(b,c,\"loadedmetadata\");break;case 0:c.paused=false;\nc.ended=true;mejs.YouTubeApi.createEvent(b,c,\"ended\");break;case 1:c.paused=false;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"play\");mejs.YouTubeApi.createEvent(b,c,\"playing\");break;case 2:c.paused=true;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"pause\");break;case 3:mejs.YouTubeApi.createEvent(b,c,\"progress\")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;\n(function(a,b){var c={locale:{language:\"\",strings:{}},methods:{}};c.locale.getLanguage=function(){return c.locale.language||navigator.language};if(typeof mejsL10n!=\"undefined\")c.locale.language=mejsL10n.language;c.locale.INIT_LANGUAGE=c.locale.getLanguage();c.methods.checkPlain=function(d){var e,f,g={\"&\":\"&amp;\",'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\"};d=String(d);for(e in g)if(g.hasOwnProperty(e)){f=RegExp(e,\"g\");d=d.replace(f,g[e])}return d};c.methods.formatString=function(d,e){for(var f in e){switch(f.charAt(0)){case \"@\":e[f]=\nc.methods.checkPlain(e[f]);break;case \"!\":break;default:e[f]='<em class=\"placeholder\">'+c.methods.checkPlain(e[f])+\"</em>\"}d=d.replace(f,e[f])}return d};c.methods.t=function(d,e,f){if(c.locale.strings&&c.locale.strings[f.context]&&c.locale.strings[f.context][d])d=c.locale.strings[f.context][d];if(e)d=c.methods.formatString(d,e);return d};c.t=function(d,e,f){if(typeof d===\"string\"&&d.length>0){var g=c.locale.getLanguage();f=f||{context:g};return c.methods.t(d,e,f)}else throw{name:\"InvalidArgumentException\",\nmessage:\"First argument is either not a string or empty.\"};};b.i18n=c})(document,mejs);(function(a){if(typeof mejsL10n!=\"undefined\")a[mejsL10n.language]=mejsL10n.strings})(mejs.i18n.locale.strings);(function(a){a.de={Fullscreen:\"Vollbild\",\"Go Fullscreen\":\"Vollbild an\",\"Turn off Fullscreen\":\"Vollbild aus\",Close:\"Schlie\\u00dfen\"}})(mejs.i18n.locale.strings);\n(function(a){a.zh={Fullscreen:\"\\u5168\\u87a2\\u5e55\",\"Go Fullscreen\":\"\\u5168\\u5c4f\\u6a21\\u5f0f\",\"Turn off Fullscreen\":\"\\u9000\\u51fa\\u5168\\u5c4f\\u6a21\\u5f0f\",Close:\"\\u95dc\\u9589\"}})(mejs.i18n.locale.strings);\n\n/*!\n * MediaElementPlayer\n * http://mediaelementjs.com/\n *\n * Creates a controller bar for HTML5 <video> add <audio> tags\n * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)\n *\n * Copyright 2010-2013, John Dyer (http://j.hn/)\n * License: MIT\n *\n */if(typeof jQuery!=\"undefined\")mejs.$=jQuery;else if(typeof ender!=\"undefined\")mejs.$=ender;\n(function(f){mejs.MepDefaults={poster:\"\",showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return a.duration*0.05},defaultSeekForwardInterval:function(a){return a.duration*0.05},audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,\nhideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:[\"playpause\",\"current\",\"progress\",\"duration\",\"tracks\",\"volume\",\"fullscreen\"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?b.play():b.pause()}},{keys:[38],action:function(a,b){b.setVolume(Math.min(b.volume+0.1,1))}},{keys:[40],action:function(a,b){b.setVolume(Math.max(b.volume-\n0.1,0))}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a){if(typeof a.enterFullScreen!=\n\"undefined\")a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(a,b){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(a,b);this.$media=this.$node=f(a);this.node=this.media=this.$media[0];if(typeof this.node.player!=\"undefined\")return this.node.player;else this.node.player=this;if(typeof b==\"undefined\")b=this.$node.data(\"mejsoptions\");this.options=f.extend({},mejs.MepDefaults,b);this.id=\"mep_\"+mejs.mepIndex++;\nmejs.players[this.id]=this;this.init();return this};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var a=this,b=mejs.MediaFeatures,c=f.extend(true,{},a.options,{success:function(d,g){a.meReady(d,g)},error:function(d){a.handleError(d)}}),e=a.media.tagName.toLowerCase();a.isDynamic=e!==\"audio\"&&e!==\"video\";a.isVideo=a.isDynamic?a.options.isVideo:e!==\"audio\"&&a.options.isVideo;if(b.isiPad&&a.options.iPadUseNativeControls||b.isiPhone&&a.options.iPhoneUseNativeControls){a.$media.attr(\"controls\",\n\"controls\");if(b.isiPad&&a.media.getAttribute(\"autoplay\")!==null){a.media.load();a.media.play()}}else if(!(b.isAndroid&&a.options.AndroidUseNativeControls)){a.$media.removeAttr(\"controls\");a.container=f('<div id=\"'+a.id+'\" class=\"mejs-container '+(mejs.MediaFeatures.svg?\"svg\":\"no-svg\")+'\"><div class=\"mejs-inner\"><div class=\"mejs-mediaelement\"></div><div class=\"mejs-layers\"></div><div class=\"mejs-controls\"></div><div class=\"mejs-clear\"></div></div></div>').addClass(a.$media[0].className).insertBefore(a.$media);\na.container.addClass((b.isAndroid?\"mejs-android \":\"\")+(b.isiOS?\"mejs-ios \":\"\")+(b.isiPad?\"mejs-ipad \":\"\")+(b.isiPhone?\"mejs-iphone \":\"\")+(a.isVideo?\"mejs-video \":\"mejs-audio \"));if(b.isiOS){b=a.$media.clone();a.container.find(\".mejs-mediaelement\").append(b);a.$media.remove();a.$node=a.$media=b;a.node=a.media=b[0]}else a.container.find(\".mejs-mediaelement\").append(a.$media);a.controls=a.container.find(\".mejs-controls\");a.layers=a.container.find(\".mejs-layers\");b=a.isVideo?\"video\":\"audio\";e=b.substring(0,\n1).toUpperCase()+b.substring(1);a.width=a.options[b+\"Width\"]>0||a.options[b+\"Width\"].toString().indexOf(\"%\")>-1?a.options[b+\"Width\"]:a.media.style.width!==\"\"&&a.media.style.width!==null?a.media.style.width:a.media.getAttribute(\"width\")!==null?a.$media.attr(\"width\"):a.options[\"default\"+e+\"Width\"];a.height=a.options[b+\"Height\"]>0||a.options[b+\"Height\"].toString().indexOf(\"%\")>-1?a.options[b+\"Height\"]:a.media.style.height!==\"\"&&a.media.style.height!==null?a.media.style.height:a.$media[0].getAttribute(\"height\")!==\nnull?a.$media.attr(\"height\"):a.options[\"default\"+e+\"Height\"];a.setPlayerSize(a.width,a.height);c.pluginWidth=a.width;c.pluginHeight=a.height}mejs.MediaElement(a.$media[0],c);typeof a.container!=\"undefined\"&&a.controlsAreVisible&&a.container.trigger(\"controlsshown\")},showControls:function(a){var b=this;a=typeof a==\"undefined\"||a;if(!b.controlsAreVisible){if(a){b.controls.css(\"visibility\",\"visible\").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true;b.container.trigger(\"controlsshown\")});\nb.container.find(\".mejs-control\").css(\"visibility\",\"visible\").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true})}else{b.controls.css(\"visibility\",\"visible\").css(\"display\",\"block\");b.container.find(\".mejs-control\").css(\"visibility\",\"visible\").css(\"display\",\"block\");b.controlsAreVisible=true;b.container.trigger(\"controlsshown\")}b.setControlsSize()}},hideControls:function(a){var b=this;a=typeof a==\"undefined\"||a;if(!(!b.controlsAreVisible||b.options.alwaysShowControls))if(a){b.controls.stop(true,\ntrue).fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.controlsAreVisible=false;b.container.trigger(\"controlshidden\")});b.container.find(\".mejs-control\").stop(true,true).fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\").css(\"display\",\"block\")})}else{b.controls.css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.container.find(\".mejs-control\").css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.controlsAreVisible=false;b.container.trigger(\"controlshidden\")}},\ncontrolsTimer:null,startControlsTimer:function(a){var b=this;a=typeof a!=\"undefined\"?a:1500;b.killControlsTimer(\"start\");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer(\"hide\")},a)},killControlsTimer:function(){if(this.controlsTimer!==null){clearTimeout(this.controlsTimer);delete this.controlsTimer;this.controlsTimer=null}},controlsEnabled:true,disableControls:function(){this.killControlsTimer();this.hideControls(false);this.controlsEnabled=false},enableControls:function(){this.showControls(false);\nthis.controlsEnabled=true},meReady:function(a,b){var c=this,e=mejs.MediaFeatures,d=b.getAttribute(\"autoplay\");d=!(typeof d==\"undefined\"||d===null||d===\"false\");var g;if(!c.created){c.created=true;c.media=a;c.domNode=b;if(!(e.isAndroid&&c.options.AndroidUseNativeControls)&&!(e.isiPad&&c.options.iPadUseNativeControls)&&!(e.isiPhone&&c.options.iPhoneUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media);c.buildkeyboard(c,c.controls,c.layers,c.media);c.buildoverlays(c,c.controls,c.layers,c.media);\nc.findTracks();for(g in c.options.features){e=c.options.features[g];if(c[\"build\"+e])try{c[\"build\"+e](c,c.controls,c.layers,c.media)}catch(k){}}c.container.trigger(\"controlsready\");c.setPlayerSize(c.width,c.height);c.setControlsSize();if(c.isVideo){if(mejs.MediaFeatures.hasTouch)c.$media.bind(\"touchstart\",function(){if(c.controlsAreVisible)c.hideControls(false);else c.controlsEnabled&&c.showControls(false)});else{mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){if(c.options.clickToPlayPause)c.media.paused?\nc.media.play():c.media.pause()};c.media.addEventListener(\"click\",c.clickToPlayPauseCallback,false);c.container.bind(\"mouseenter mouseover\",function(){if(c.controlsEnabled)if(!c.options.alwaysShowControls){c.killControlsTimer(\"enter\");c.showControls();c.startControlsTimer(2500)}}).bind(\"mousemove\",function(){if(c.controlsEnabled){c.controlsAreVisible||c.showControls();c.options.alwaysShowControls||c.startControlsTimer(2500)}}).bind(\"mouseleave\",function(){c.controlsEnabled&&!c.media.paused&&!c.options.alwaysShowControls&&\nc.startControlsTimer(1E3)})}c.options.hideVideoControlsOnLoad&&c.hideControls(false);d&&!c.options.alwaysShowControls&&c.hideControls();c.options.enableAutosize&&c.media.addEventListener(\"loadedmetadata\",function(j){if(c.options.videoHeight<=0&&c.domNode.getAttribute(\"height\")===null&&!isNaN(j.target.videoHeight)){c.setPlayerSize(j.target.videoWidth,j.target.videoHeight);c.setControlsSize();c.media.setVideoSize(j.target.videoWidth,j.target.videoHeight)}},false)}a.addEventListener(\"play\",function(){for(var j in mejs.players){var m=\nmejs.players[j];m.id!=c.id&&c.options.pauseOtherPlayers&&!m.paused&&!m.ended&&m.pause();m.hasFocus=false}c.hasFocus=true},false);c.media.addEventListener(\"ended\",function(){if(c.options.autoRewind)try{c.media.setCurrentTime(0)}catch(j){}c.media.pause();c.setProgressRail&&c.setProgressRail();c.setCurrentRail&&c.setCurrentRail();if(c.options.loop)c.media.play();else!c.options.alwaysShowControls&&c.controlsEnabled&&c.showControls()},false);c.media.addEventListener(\"loadedmetadata\",function(){c.updateDuration&&\nc.updateDuration();c.updateCurrent&&c.updateCurrent();if(!c.isFullScreen){c.setPlayerSize(c.width,c.height);c.setControlsSize()}},false);setTimeout(function(){c.setPlayerSize(c.width,c.height);c.setControlsSize()},50);c.globalBind(\"resize\",function(){c.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||c.setPlayerSize(c.width,c.height);c.setControlsSize()});c.media.pluginType==\"youtube\"&&c.container.find(\".mejs-overlay-play\").hide()}if(d&&a.pluginType==\"native\"){a.load();\na.play()}if(c.options.success)typeof c.options.success==\"string\"?window[c.options.success](c.media,c.domNode,c):c.options.success(c.media,c.domNode,c)}},handleError:function(a){this.controls.hide();this.options.error&&this.options.error(a)},setPlayerSize:function(a,b){if(typeof a!=\"undefined\")this.width=a;if(typeof b!=\"undefined\")this.height=b;if(this.height.toString().indexOf(\"%\")>0||this.$node.css(\"max-width\")===\"100%\"||parseInt(this.$node.css(\"max-width\").replace(/px/,\"\"),10)/this.$node.offsetParent().width()===\n1||this.$node[0].currentStyle&&this.$node[0].currentStyle.maxWidth===\"100%\"){var c=this.isVideo?this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth:this.options.defaultAudioWidth,e=this.isVideo?this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight:this.options.defaultAudioHeight,d=this.container.parent().closest(\":visible\").width();c=this.isVideo||!this.options.autosizeProgress?parseInt(d*e/c,10):e;if(this.container.parent()[0].tagName.toLowerCase()===\n\"body\"){d=f(window).width();c=f(window).height()}if(c!=0&&d!=0){this.container.width(d).height(c);this.$media.add(this.container.find(\".mejs-shim\")).width(\"100%\").height(\"100%\");this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(d,c);this.layers.children(\".mejs-layer\").width(\"100%\").height(\"100%\")}}else{this.container.width(this.width).height(this.height);this.layers.children(\".mejs-layer\").width(this.width).height(this.height)}d=this.layers.find(\".mejs-overlay-play\");c=d.find(\".mejs-overlay-button\");\nd.height(this.container.height()-this.controls.height());c.css(\"margin-top\",\"-\"+(c.height()/2-this.controls.height()/2).toString()+\"px\")},setControlsSize:function(){var a=0,b=0,c=this.controls.find(\".mejs-time-rail\"),e=this.controls.find(\".mejs-time-total\");this.controls.find(\".mejs-time-current\");this.controls.find(\".mejs-time-loaded\");var d=c.siblings();if(this.options&&!this.options.autosizeProgress)b=parseInt(c.css(\"width\"));if(b===0||!b){d.each(function(){var g=f(this);if(g.css(\"position\")!=\n\"absolute\"&&g.is(\":visible\"))a+=f(this).outerWidth(true)});b=this.controls.width()-a-(c.outerWidth(true)-c.width())}c.width(b);e.width(b-(e.outerWidth(true)-e.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(a,b,c,e){var d=f('<div class=\"mejs-poster mejs-layer\"></div>').appendTo(c);b=a.$media.attr(\"poster\");if(a.options.poster!==\"\")b=a.options.poster;b!==\"\"&&b!=null?this.setPoster(b):d.hide();e.addEventListener(\"play\",function(){d.hide()},\nfalse);a.options.showPosterWhenEnded&&a.options.autoRewind&&e.addEventListener(\"ended\",function(){d.show()},false)},setPoster:function(a){var b=this.container.find(\".mejs-poster\"),c=b.find(\"img\");if(c.length==0)c=f('<img width=\"100%\" height=\"100%\" />').appendTo(b);c.attr(\"src\",a);b.css({\"background-image\":\"url(\"+a+\")\"})},buildoverlays:function(a,b,c,e){var d=this;if(a.isVideo){var g=f('<div class=\"mejs-overlay mejs-layer\"><div class=\"mejs-overlay-loading\"><span></span></div></div>').hide().appendTo(c),\nk=f('<div class=\"mejs-overlay mejs-layer\"><div class=\"mejs-overlay-error\"></div></div>').hide().appendTo(c),j=f('<div class=\"mejs-overlay mejs-layer mejs-overlay-play\"><div class=\"mejs-overlay-button\"></div></div>').appendTo(c).click(function(){if(d.options.clickToPlayPause)e.paused?e.play():e.pause()});e.addEventListener(\"play\",function(){j.hide();g.hide();b.find(\".mejs-time-buffering\").hide();k.hide()},false);e.addEventListener(\"playing\",function(){j.hide();g.hide();b.find(\".mejs-time-buffering\").hide();\nk.hide()},false);e.addEventListener(\"seeking\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"seeked\",function(){g.hide();b.find(\".mejs-time-buffering\").hide()},false);e.addEventListener(\"pause\",function(){mejs.MediaFeatures.isiPhone||j.show()},false);e.addEventListener(\"waiting\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"loadeddata\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"canplay\",\nfunction(){g.hide();b.find(\".mejs-time-buffering\").hide()},false);e.addEventListener(\"error\",function(){g.hide();b.find(\".mejs-time-buffering\").hide();k.show();k.find(\"mejs-overlay-error\").html(\"Error loading this resource\")},false)}},buildkeyboard:function(a,b,c,e){this.globalBind(\"keydown\",function(d){if(a.hasFocus&&a.options.enableKeyboard)for(var g=0,k=a.options.keyActions.length;g<k;g++)for(var j=a.options.keyActions[g],m=0,q=j.keys.length;m<q;m++)if(d.keyCode==j.keys[m]){d.preventDefault();\nj.action(a,e,d.keyCode);return false}return true});this.globalBind(\"click\",function(d){if(f(d.target).closest(\".mejs-container\").length==0)a.hasFocus=false})},findTracks:function(){var a=this,b=a.$media.find(\"track\");a.tracks=[];b.each(function(c,e){e=f(e);a.tracks.push({srclang:e.attr(\"srclang\")?e.attr(\"srclang\").toLowerCase():\"\",src:e.attr(\"src\"),kind:e.attr(\"kind\"),label:e.attr(\"label\")||\"\",entries:[],isLoaded:false})})},changeSkin:function(a){this.container[0].className=\"mejs-container \"+a;this.setPlayerSize(this.width,\nthis.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.media.load()},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b;for(a in this.options.features){b=\nthis.options.features[a];if(this[\"clean\"+b])try{this[\"clean\"+b](this)}catch(c){}}if(this.isDynamic)this.$node.insertBefore(this.container);else{this.$media.prop(\"controls\",true);this.$node.clone().show().insertBefore(this.container);this.$node.remove()}this.media.pluginType!==\"native\"&&this.media.remove();delete mejs.players[this.id];this.container.remove();this.globalUnbind();delete this.node.player}};(function(){function a(c,e){var d={d:[],w:[]};f.each((c||\"\").split(\" \"),function(g,k){var j=k+\".\"+\ne;if(j.indexOf(\".\")===0){d.d.push(j);d.w.push(j)}else d[b.test(k)?\"w\":\"d\"].push(j)});d.d=d.d.join(\" \");d.w=d.w.join(\" \");return d}var b=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,e,d){c=a(c,this.id);c.d&&f(document).bind(c.d,e,d);c.w&&f(window).bind(c.w,e,d)};mejs.MediaElementPlayer.prototype.globalUnbind=function(c,e){c=a(c,this.id);c.d&&f(document).unbind(c.d,e);c.w&&f(window).unbind(c.w,\ne)}})();if(typeof jQuery!=\"undefined\")jQuery.fn.mediaelementplayer=function(a){a===false?this.each(function(){var b=jQuery(this).data(\"mediaelementplayer\");b&&b.remove();jQuery(this).removeData(\"mediaelementplayer\")}):this.each(function(){jQuery(this).data(\"mediaelementplayer\",new mejs.MediaElementPlayer(this,a))});return this};f(document).ready(function(){f(\".mejs-player\").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t(\"Play/Pause\")});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(a,b,c,e){var d=f('<div class=\"mejs-button mejs-playpause-button mejs-play\" ><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.playpauseText+'\" aria-label=\"'+this.options.playpauseText+'\"></button></div>').appendTo(b).click(function(g){g.preventDefault();e.paused?e.play():e.pause();return false});e.addEventListener(\"play\",function(){d.removeClass(\"mejs-play\").addClass(\"mejs-pause\")},\nfalse);e.addEventListener(\"playing\",function(){d.removeClass(\"mejs-play\").addClass(\"mejs-pause\")},false);e.addEventListener(\"pause\",function(){d.removeClass(\"mejs-pause\").addClass(\"mejs-play\")},false);e.addEventListener(\"paused\",function(){d.removeClass(\"mejs-pause\").addClass(\"mejs-play\")},false)}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{stopText:\"Stop\"});f.extend(MediaElementPlayer.prototype,{buildstop:function(a,b,c,e){f('<div class=\"mejs-button mejs-stop-button mejs-stop\"><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.stopText+'\" aria-label=\"'+this.options.stopText+'\"></button></div>').appendTo(b).click(function(){e.paused||e.pause();if(e.currentTime>0){e.setCurrentTime(0);e.pause();b.find(\".mejs-time-current\").width(\"0px\");b.find(\".mejs-time-handle\").css(\"left\",\n\"0px\");b.find(\".mejs-time-float-current\").html(mejs.Utility.secondsToTimeCode(0));b.find(\".mejs-currenttime\").html(mejs.Utility.secondsToTimeCode(0));c.find(\".mejs-poster\").show()}})}})})(mejs.$);\n(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(a,b,c,e){f('<div class=\"mejs-time-rail\"><span class=\"mejs-time-total\"><span class=\"mejs-time-buffering\"></span><span class=\"mejs-time-loaded\"></span><span class=\"mejs-time-current\"></span><span class=\"mejs-time-handle\"></span><span class=\"mejs-time-float\"><span class=\"mejs-time-float-current\">00:00</span><span class=\"mejs-time-float-corner\"></span></span></span></div>').appendTo(b);b.find(\".mejs-time-buffering\").hide();var d=\nthis,g=b.find(\".mejs-time-total\");c=b.find(\".mejs-time-loaded\");var k=b.find(\".mejs-time-current\"),j=b.find(\".mejs-time-handle\"),m=b.find(\".mejs-time-float\"),q=b.find(\".mejs-time-float-current\"),p=function(h){h=h.pageX;var l=g.offset(),r=g.outerWidth(true),n=0,o=n=0;if(e.duration){if(h<l.left)h=l.left;else if(h>r+l.left)h=r+l.left;o=h-l.left;n=o/r;n=n<=0.02?0:n*e.duration;t&&n!==e.currentTime&&e.setCurrentTime(n);if(!mejs.MediaFeatures.hasTouch){m.css(\"left\",o);q.html(mejs.Utility.secondsToTimeCode(n));\nm.show()}}},t=false;g.bind(\"mousedown\",function(h){if(h.which===1){t=true;p(h);d.globalBind(\"mousemove.dur\",function(l){p(l)});d.globalBind(\"mouseup.dur\",function(){t=false;m.hide();d.globalUnbind(\".dur\")});return false}}).bind(\"mouseenter\",function(){d.globalBind(\"mousemove.dur\",function(h){p(h)});mejs.MediaFeatures.hasTouch||m.show()}).bind(\"mouseleave\",function(){if(!t){d.globalUnbind(\".dur\");m.hide()}});e.addEventListener(\"progress\",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);\ne.addEventListener(\"timeupdate\",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);d.loaded=c;d.total=g;d.current=k;d.handle=j},setProgressRail:function(a){var b=a!=undefined?a.target:this.media,c=null;if(b&&b.buffered&&b.buffered.length>0&&b.buffered.end&&b.duration)c=b.buffered.end(0)/b.duration;else if(b&&b.bytesTotal!=undefined&&b.bytesTotal>0&&b.bufferedBytes!=undefined)c=b.bufferedBytes/b.bytesTotal;else if(a&&a.lengthComputable&&a.total!=0)c=a.loaded/a.total;if(c!==null){c=Math.min(1,\nMath.max(0,c));this.loaded&&this.total&&this.loaded.width(this.total.width()*c)}},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration)if(this.total&&this.handle){var a=Math.round(this.total.width()*this.media.currentTime/this.media.duration),b=a-Math.round(this.handle.outerWidth(true)/2);this.current.width(a);this.handle.css(\"left\",b)}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:\"<span> | </span>\"});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(a,b,c,e){f('<div class=\"mejs-time\"><span class=\"mejs-currenttime\">'+(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\")+\"</span></div>\").appendTo(b);this.currenttime=this.controls.find(\".mejs-currenttime\");e.addEventListener(\"timeupdate\",function(){a.updateCurrent()},false)},buildduration:function(a,b,\nc,e){if(b.children().last().find(\".mejs-currenttime\").length>0)f(this.options.timeAndDurationSeparator+'<span class=\"mejs-duration\">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\"))+\"</span>\").appendTo(b.find(\".mejs-time\"));else{b.find(\".mejs-currenttime\").parent().addClass(\"mejs-currenttime-container\");\nf('<div class=\"mejs-time mejs-duration-container\"><span class=\"mejs-duration\">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\"))+\"</span></div>\").appendTo(b)}this.durationD=this.controls.find(\".mejs-duration\");e.addEventListener(\"timeupdate\",function(){a.updateDuration()},\nfalse)},updateCurrent:function(){if(this.currenttime)this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.container.toggleClass(\"mejs-long-video\",this.media.duration>3600);if(this.durationD&&(this.options.duration>0||this.media.duration))this.durationD.html(mejs.Utility.secondsToTimeCode(this.options.duration>0?this.options.duration:\nthis.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{muteText:mejs.i18n.t(\"Mute Toggle\"),hideVolumeOnTouchDevices:true,audioVolume:\"horizontal\",videoVolume:\"vertical\"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(a,b,c,e){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){var d=this,g=d.isVideo?d.options.videoVolume:d.options.audioVolume,k=g==\"horizontal\"?f('<div class=\"mejs-button mejs-volume-button mejs-mute\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.muteText+\n'\" aria-label=\"'+d.options.muteText+'\"></button></div><div class=\"mejs-horizontal-volume-slider\"><div class=\"mejs-horizontal-volume-total\"></div><div class=\"mejs-horizontal-volume-current\"></div><div class=\"mejs-horizontal-volume-handle\"></div></div>').appendTo(b):f('<div class=\"mejs-button mejs-volume-button mejs-mute\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.muteText+'\" aria-label=\"'+d.options.muteText+'\"></button><div class=\"mejs-volume-slider\"><div class=\"mejs-volume-total\"></div><div class=\"mejs-volume-current\"></div><div class=\"mejs-volume-handle\"></div></div></div>').appendTo(b),\nj=d.container.find(\".mejs-volume-slider, .mejs-horizontal-volume-slider\"),m=d.container.find(\".mejs-volume-total, .mejs-horizontal-volume-total\"),q=d.container.find(\".mejs-volume-current, .mejs-horizontal-volume-current\"),p=d.container.find(\".mejs-volume-handle, .mejs-horizontal-volume-handle\"),t=function(n,o){if(!j.is(\":visible\")&&typeof o==\"undefined\"){j.show();t(n,true);j.hide()}else{n=Math.max(0,n);n=Math.min(n,1);n==0?k.removeClass(\"mejs-mute\").addClass(\"mejs-unmute\"):k.removeClass(\"mejs-unmute\").addClass(\"mejs-mute\");\nif(g==\"vertical\"){var s=m.height(),u=m.position(),v=s-s*n;p.css(\"top\",Math.round(u.top+v-p.height()/2));q.height(s-v);q.css(\"top\",u.top+v)}else{s=m.width();u=m.position();s=s*n;p.css(\"left\",Math.round(u.left+s-p.width()/2));q.width(Math.round(s))}}},h=function(n){var o=null,s=m.offset();if(g==\"vertical\"){o=m.height();parseInt(m.css(\"top\").replace(/px/,\"\"),10);o=(o-(n.pageY-s.top))/o;if(s.top==0||s.left==0)return}else{o=m.width();o=(n.pageX-s.left)/o}o=Math.max(0,o);o=Math.min(o,1);t(o);o==0?e.setMuted(true):\ne.setMuted(false);e.setVolume(o)},l=false,r=false;k.hover(function(){j.show();r=true},function(){r=false;!l&&g==\"vertical\"&&j.hide()});j.bind(\"mouseover\",function(){r=true}).bind(\"mousedown\",function(n){h(n);d.globalBind(\"mousemove.vol\",function(o){h(o)});d.globalBind(\"mouseup.vol\",function(){l=false;d.globalUnbind(\".vol\");!r&&g==\"vertical\"&&j.hide()});l=true;return false});k.find(\"button\").click(function(){e.setMuted(!e.muted)});e.addEventListener(\"volumechange\",function(){if(!l)if(e.muted){t(0);\nk.removeClass(\"mejs-mute\").addClass(\"mejs-unmute\")}else{t(e.volume);k.removeClass(\"mejs-unmute\").addClass(\"mejs-mute\")}},false);if(d.container.is(\":visible\")){t(a.options.startVolume);a.options.startVolume===0&&e.setMuted(true);e.pluginType===\"native\"&&e.setVolume(a.options.startVolume)}}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return\"\"},fullscreenText:mejs.i18n.t(\"Fullscreen\")});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,buildfullscreen:function(a,b,c,e){if(a.isVideo){a.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){c=function(){if(a.isFullScreen)if(mejs.MediaFeatures.isFullScreen()){a.isNativeFullScreen=true;a.setControlsSize()}else{a.isNativeFullScreen=\nfalse;a.exitFullScreen()}};mejs.MediaFeatures.hasMozNativeFullScreen?a.globalBind(mejs.MediaFeatures.fullScreenEventName,c):a.container.bind(mejs.MediaFeatures.fullScreenEventName,c)}var d=this,g=f('<div class=\"mejs-button mejs-fullscreen-button\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.fullscreenText+'\" aria-label=\"'+d.options.fullscreenText+'\"></button></div>').appendTo(b);if(d.media.pluginType===\"native\"||!d.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)g.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&\nmejs.MediaFeatures.isFullScreen()||a.isFullScreen?a.exitFullScreen():a.enterFullScreen()});else{var k=null;if(function(){var h=document.createElement(\"x\"),l=document.documentElement,r=window.getComputedStyle;if(!(\"pointerEvents\"in h.style))return false;h.style.pointerEvents=\"auto\";h.style.pointerEvents=\"x\";l.appendChild(h);r=r&&r(h,\"\").pointerEvents===\"auto\";l.removeChild(h);return!!r}()&&!mejs.MediaFeatures.isOpera){var j=false,m=function(){if(j){for(var h in q)q[h].hide();g.css(\"pointer-events\",\n\"\");d.controls.css(\"pointer-events\",\"\");d.media.removeEventListener(\"click\",d.clickToPlayPauseCallback);j=false}},q={};b=[\"top\",\"left\",\"right\",\"bottom\"];var p,t=function(){var h=g.offset().left-d.container.offset().left,l=g.offset().top-d.container.offset().top,r=g.outerWidth(true),n=g.outerHeight(true),o=d.container.width(),s=d.container.height();for(p in q)q[p].css({position:\"absolute\",top:0,left:0});q.top.width(o).height(l);q.left.width(h).height(n).css({top:l});q.right.width(o-h-r).height(n).css({top:l,\nleft:h+r});q.bottom.width(o).height(s-n-l).css({top:l+n})};d.globalBind(\"resize\",function(){t()});p=0;for(c=b.length;p<c;p++)q[b[p]]=f('<div class=\"mejs-fullscreen-hover\" />').appendTo(d.container).mouseover(m).hide();g.on(\"mouseover\",function(){if(!d.isFullScreen){var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,false);g.css(\"pointer-events\",\"none\");d.controls.css(\"pointer-events\",\"none\");d.media.addEventListener(\"click\",d.clickToPlayPauseCallback);for(p in q)q[p].show();\nt();j=true}});e.addEventListener(\"fullscreenchange\",function(){d.isFullScreen=!d.isFullScreen;d.isFullScreen?d.media.removeEventListener(\"click\",d.clickToPlayPauseCallback):d.media.addEventListener(\"click\",d.clickToPlayPauseCallback);m()});d.globalBind(\"mousemove\",function(h){if(j){var l=g.offset();if(h.pageY<l.top||h.pageY>l.top+g.outerHeight(true)||h.pageX<l.left||h.pageX>l.left+g.outerWidth(true)){g.css(\"pointer-events\",\"\");d.controls.css(\"pointer-events\",\"\");j=false}}})}else g.on(\"mouseover\",\nfunction(){if(k!==null){clearTimeout(k);delete k}var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,true)}).on(\"mouseout\",function(){if(k!==null){clearTimeout(k);delete k}k=setTimeout(function(){e.hideFullscreenButton()},1500)})}a.fullscreenBtn=g;d.globalBind(\"keydown\",function(h){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen)&&h.keyCode==27)a.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},\ncontainerSizeTimeout:null,enterFullScreen:function(){var a=this;if(!(a.media.pluginType!==\"native\"&&(mejs.MediaFeatures.isFirefox||a.options.usePluginFullScreen))){f(document.documentElement).addClass(\"mejs-fullscreen\");normalHeight=a.container.height();normalWidth=a.container.width();if(a.media.pluginType===\"native\")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(a.container[0]);a.isInIframe&&setTimeout(function c(){if(a.isNativeFullScreen)f(window).width()!==\nscreen.width?a.exitFullScreen():setTimeout(c,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){a.media.webkitEnterFullscreen();return}if(a.isInIframe){var b=a.options.newWindowCallback(this);if(b!==\"\")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!a.isNativeFullScreen){a.pause();window.open(b,a.id,\"top=0,left=0,width=\"+screen.availWidth+\",height=\"+screen.availHeight+\",resizable=yes,scrollbars=no,status=no,toolbar=no\")}},250);else{a.pause();window.open(b,a.id,\n\"top=0,left=0,width=\"+screen.availWidth+\",height=\"+screen.availHeight+\",resizable=yes,scrollbars=no,status=no,toolbar=no\");return}}a.container.addClass(\"mejs-container-fullscreen\").width(\"100%\").height(\"100%\");a.containerSizeTimeout=setTimeout(function(){a.container.css({width:\"100%\",height:\"100%\"});a.setControlsSize()},500);if(a.media.pluginType===\"native\")a.$media.width(\"100%\").height(\"100%\");else{a.container.find(\".mejs-shim\").width(\"100%\").height(\"100%\");a.media.setVideoSize(f(window).width(),\nf(window).height())}a.layers.children(\"div\").width(\"100%\").height(\"100%\");a.fullscreenBtn&&a.fullscreenBtn.removeClass(\"mejs-fullscreen\").addClass(\"mejs-unfullscreen\");a.setControlsSize();a.isFullScreen=true}},exitFullScreen:function(){clearTimeout(this.containerSizeTimeout);if(this.media.pluginType!==\"native\"&&mejs.MediaFeatures.isFirefox)this.media.setFullscreen(false);else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen))mejs.MediaFeatures.cancelFullScreen();\nf(document.documentElement).removeClass(\"mejs-fullscreen\");this.container.removeClass(\"mejs-container-fullscreen\").width(normalWidth).height(normalHeight);if(this.media.pluginType===\"native\")this.$media.width(normalWidth).height(normalHeight);else{this.container.find(\".mejs-shim\").width(normalWidth).height(normalHeight);this.media.setVideoSize(normalWidth,normalHeight)}this.layers.children(\"div\").width(normalWidth).height(normalHeight);this.fullscreenBtn.removeClass(\"mejs-unfullscreen\").addClass(\"mejs-fullscreen\");\nthis.setControlsSize();this.isFullScreen=false}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{startLanguage:\"\",tracksText:mejs.i18n.t(\"Captions/Subtitles\"),hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:\"\"});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(a,b,c,e){if(a.tracks.length!=0){var d;if(this.domNode.textTracks)for(d=this.domNode.textTracks.length-1;d>=0;d--)this.domNode.textTracks[d].mode=\"hidden\";a.chapters=f('<div class=\"mejs-chapters mejs-layer\"></div>').prependTo(c).hide();a.captions=\nf('<div class=\"mejs-captions-layer mejs-layer\"><div class=\"mejs-captions-position mejs-captions-position-hover\"><span class=\"mejs-captions-text\"></span></div></div>').prependTo(c).hide();a.captionsText=a.captions.find(\".mejs-captions-text\");a.captionsButton=f('<div class=\"mejs-button mejs-captions-button\"><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.tracksText+'\" aria-label=\"'+this.options.tracksText+'\"></button><div class=\"mejs-captions-selector\"><ul><li><input type=\"radio\" name=\"'+\na.id+'_captions\" id=\"'+a.id+'_captions_none\" value=\"none\" checked=\"checked\" /><label for=\"'+a.id+'_captions_none\">'+mejs.i18n.t(\"None\")+\"</label></li></ul></div></div>\").appendTo(b);for(d=b=0;d<a.tracks.length;d++)a.tracks[d].kind==\"subtitles\"&&b++;this.options.toggleCaptionsButtonWhenOnlyOne&&b==1?a.captionsButton.on(\"click\",function(){a.setTrack(a.selectedTrack==null?a.tracks[0].srclang:\"none\")}):a.captionsButton.hover(function(){f(this).find(\".mejs-captions-selector\").css(\"visibility\",\"visible\")},\nfunction(){f(this).find(\".mejs-captions-selector\").css(\"visibility\",\"hidden\")}).on(\"click\",\"input[type=radio]\",function(){lang=this.value;a.setTrack(lang)});a.options.alwaysShowControls?a.container.find(\".mejs-captions-position\").addClass(\"mejs-captions-position-hover\"):a.container.bind(\"controlsshown\",function(){a.container.find(\".mejs-captions-position\").addClass(\"mejs-captions-position-hover\")}).bind(\"controlshidden\",function(){e.paused||a.container.find(\".mejs-captions-position\").removeClass(\"mejs-captions-position-hover\")});\na.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=false;for(d=0;d<a.tracks.length;d++)a.tracks[d].kind==\"subtitles\"&&a.addTrackButton(a.tracks[d].srclang,a.tracks[d].label);a.loadNextTrack();e.addEventListener(\"timeupdate\",function(){a.displayCaptions()},false);if(a.options.slidesSelector!=\"\"){a.slidesContainer=f(a.options.slidesSelector);e.addEventListener(\"timeupdate\",function(){a.displaySlides()},false)}e.addEventListener(\"loadedmetadata\",function(){a.displayChapters()},false);a.container.hover(function(){if(a.hasChapters){a.chapters.css(\"visibility\",\n\"visible\");a.chapters.fadeIn(200).height(a.chapters.find(\".mejs-chapter\").outerHeight())}},function(){a.hasChapters&&!e.paused&&a.chapters.fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\");f(this).css(\"display\",\"block\")})});a.node.getAttribute(\"autoplay\")!==null&&a.chapters.css(\"visibility\",\"hidden\")}},setTrack:function(a){var b;if(a==\"none\"){this.selectedTrack=null;this.captionsButton.removeClass(\"mejs-captions-enabled\")}else for(b=0;b<this.tracks.length;b++)if(this.tracks[b].srclang==a){this.selectedTrack==\nnull&&this.captionsButton.addClass(\"mejs-captions-enabled\");this.selectedTrack=this.tracks[b];this.captions.attr(\"lang\",this.selectedTrack.srclang);this.displayCaptions();break}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else{this.isLoadingTrack=false;this.checkForTracks()}},loadTrack:function(a){var b=this,c=b.tracks[a];f.ajax({url:c.src,dataType:\"text\",success:function(e){c.entries=typeof e==\"string\"&&\n/<tt\\s+xml/ig.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvvt.parse(e);c.isLoaded=true;b.enableTrackButton(c.srclang,c.label);b.loadNextTrack();c.kind==\"chapters\"&&b.media.addEventListener(\"play\",function(){b.media.duration>0&&b.displayChapters(c)},false);c.kind==\"slides\"&&b.setupSlides(c)},error:function(){b.loadNextTrack()}})},enableTrackButton:function(a,b){if(b===\"\")b=mejs.language.codes[a]||a;this.captionsButton.find(\"input[value=\"+a+\"]\").prop(\"disabled\",false).siblings(\"label\").html(b);\nthis.options.startLanguage==a&&f(\"#\"+this.id+\"_captions_\"+a).click();this.adjustLanguageBox()},addTrackButton:function(a,b){if(b===\"\")b=mejs.language.codes[a]||a;this.captionsButton.find(\"ul\").append(f('<li><input type=\"radio\" name=\"'+this.id+'_captions\" id=\"'+this.id+\"_captions_\"+a+'\" value=\"'+a+'\" disabled=\"disabled\" /><label for=\"'+this.id+\"_captions_\"+a+'\">'+b+\" (loading)</label></li>\"));this.adjustLanguageBox();this.container.find(\".mejs-captions-translations option[value=\"+a+\"]\").remove()},\nadjustLanguageBox:function(){this.captionsButton.find(\".mejs-captions-selector\").height(this.captionsButton.find(\".mejs-captions-selector ul\").outerHeight(true)+this.captionsButton.find(\".mejs-captions-translations\").outerHeight(true))},checkForTracks:function(){var a=false;if(this.options.hideCaptionsButtonWhenEmpty){for(i=0;i<this.tracks.length;i++)if(this.tracks[i].kind==\"subtitles\"){a=true;break}if(!a){this.captionsButton.hide();this.setControlsSize()}}},displayCaptions:function(){if(typeof this.tracks!=\n\"undefined\"){var a,b=this.selectedTrack;if(b!=null&&b.isLoaded)for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop){this.captionsText.html(b.entries.text[a]);this.captions.show().height(0);return}this.captions.hide()}},setupSlides:function(a){this.slides=a;this.slides.entries.imgs=[this.slides.entries.text.length];this.showSlide(0)},showSlide:function(a){if(!(typeof this.tracks==\"undefined\"||typeof this.slidesContainer==\n\"undefined\")){var b=this,c=b.slides.entries.text[a],e=b.slides.entries.imgs[a];if(typeof e==\"undefined\"||typeof e.fadeIn==\"undefined\")b.slides.entries.imgs[a]=e=f('<img src=\"'+c+'\">').on(\"load\",function(){e.appendTo(b.slidesContainer).hide().fadeIn().siblings(\":visible\").fadeOut()});else!e.is(\":visible\")&&!e.is(\":animated\")&&e.fadeIn().siblings(\":visible\").fadeOut()}},displaySlides:function(){if(typeof this.slides!=\"undefined\"){var a=this.slides,b;for(b=0;b<a.entries.times.length;b++)if(this.media.currentTime>=\na.entries.times[b].start&&this.media.currentTime<=a.entries.times[b].stop){this.showSlide(b);break}}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if(this.tracks[a].kind==\"chapters\"&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]);this.hasChapters=true;break}},drawChapters:function(a){var b=this,c,e,d=e=0;b.chapters.empty();for(c=0;c<a.entries.times.length;c++){e=a.entries.times[c].stop-a.entries.times[c].start;e=Math.floor(e/b.media.duration*100);if(e+d>100||c==a.entries.times.length-\n1&&e+d<100)e=100-d;b.chapters.append(f('<div class=\"mejs-chapter\" rel=\"'+a.entries.times[c].start+'\" style=\"left: '+d.toString()+\"%;width: \"+e.toString()+'%;\"><div class=\"mejs-chapter-block'+(c==a.entries.times.length-1?\" mejs-chapter-block-last\":\"\")+'\"><span class=\"ch-title\">'+a.entries.text[c]+'</span><span class=\"ch-time\">'+mejs.Utility.secondsToTimeCode(a.entries.times[c].start)+\"&ndash;\"+mejs.Utility.secondsToTimeCode(a.entries.times[c].stop)+\"</span></div></div>\"));d+=e}b.chapters.find(\"div.mejs-chapter\").click(function(){b.media.setCurrentTime(parseFloat(f(this).attr(\"rel\")));\nb.media.paused&&b.media.play()});b.chapters.show()}});mejs.language={codes:{af:\"Afrikaans\",sq:\"Albanian\",ar:\"Arabic\",be:\"Belarusian\",bg:\"Bulgarian\",ca:\"Catalan\",zh:\"Chinese\",\"zh-cn\":\"Chinese Simplified\",\"zh-tw\":\"Chinese Traditional\",hr:\"Croatian\",cs:\"Czech\",da:\"Danish\",nl:\"Dutch\",en:\"English\",et:\"Estonian\",tl:\"Filipino\",fi:\"Finnish\",fr:\"French\",gl:\"Galician\",de:\"German\",el:\"Greek\",ht:\"Haitian Creole\",iw:\"Hebrew\",hi:\"Hindi\",hu:\"Hungarian\",is:\"Icelandic\",id:\"Indonesian\",ga:\"Irish\",it:\"Italian\",ja:\"Japanese\",\nko:\"Korean\",lv:\"Latvian\",lt:\"Lithuanian\",mk:\"Macedonian\",ms:\"Malay\",mt:\"Maltese\",no:\"Norwegian\",fa:\"Persian\",pl:\"Polish\",pt:\"Portuguese\",ro:\"Romanian\",ru:\"Russian\",sr:\"Serbian\",sk:\"Slovak\",sl:\"Slovenian\",es:\"Spanish\",sw:\"Swahili\",sv:\"Swedish\",tl:\"Tagalog\",th:\"Thai\",tr:\"Turkish\",uk:\"Ukrainian\",vi:\"Vietnamese\",cy:\"Welsh\",yi:\"Yiddish\"}};mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,\nparse:function(a){var b=0;a=mejs.TrackFormatParser.split2(a,/\\r?\\n/);for(var c={text:[],times:[]},e,d;b<a.length;b++)if(this.pattern_identifier.exec(a[b])){b++;if((e=this.pattern_timecode.exec(a[b]))&&b<a.length){b++;d=a[b];for(b++;a[b]!==\"\"&&b<a.length;){d=d+\"\\n\"+a[b];b++}d=f.trim(d).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\"<a href='$1' target='_blank'>$1</a>\");c.text.push(d);c.times.push({start:mejs.Utility.convertSMPTEtoSeconds(e[1])==0?0.2:mejs.Utility.convertSMPTEtoSeconds(e[1]),\nstop:mejs.Utility.convertSMPTEtoSeconds(e[3]),settings:e[5]})}}return c}},dfxp:{parse:function(a){a=f(a).filter(\"tt\");var b=0;b=a.children(\"div\").eq(0);var c=b.find(\"p\");b=a.find(\"#\"+b.attr(\"style\"));var e,d;a={text:[],times:[]};if(b.length){d=b.removeAttr(\"id\").get(0).attributes;if(d.length){e={};for(b=0;b<d.length;b++)e[d[b].name.split(\":\")[1]]=d[b].value}}for(b=0;b<c.length;b++){var g;d={start:null,stop:null,style:null};if(c.eq(b).attr(\"begin\"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr(\"begin\"));\nif(!d.start&&c.eq(b-1).attr(\"end\"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b-1).attr(\"end\"));if(c.eq(b).attr(\"end\"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr(\"end\"));if(!d.stop&&c.eq(b+1).attr(\"begin\"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b+1).attr(\"begin\"));if(e){g=\"\";for(var k in e)g+=k+\":\"+e[k]+\";\"}if(g)d.style=g;if(d.start==0)d.start=0.2;a.times.push(d);d=f.trim(c.eq(b).html()).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\n\"<a href='$1' target='_blank'>$1</a>\");a.text.push(d);if(a.times.start==0)a.times.start=2}return a}},split2:function(a,b){return a.split(b)}};if(\"x\\n\\ny\".split(/\\n/gi).length!=3)mejs.TrackFormatParser.split2=function(a,b){var c=[],e=\"\",d;for(d=0;d<a.length;d++){e+=a.substring(d,d+1);if(b.test(e)){c.push(e.replace(b,\"\"));e=\"\"}}c.push(e);return c}})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){if(typeof a.enterFullScreen==\"undefined\")return null;return a.isFullScreen?mejs.i18n.t(\"Turn off Fullscreen\"):mejs.i18n.t(\"Go Fullscreen\")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t(\"Unmute\"):mejs.i18n.t(\"Mute\")},click:function(a){a.media.muted?a.setMuted(false):a.setMuted(true)}},{isSeparator:true},{render:function(){return mejs.i18n.t(\"Download Video\")},\nclick:function(a){window.location.href=a.media.currentSrc}}]});f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(a){a.contextMenu=f('<div class=\"mejs-contextmenu\"></div>').appendTo(f(\"body\")).hide();a.container.bind(\"contextmenu\",function(b){if(a.isContextMenuEnabled){b.preventDefault();a.renderContextMenu(b.clientX-1,b.clientY-1);return false}});a.container.bind(\"click\",function(){a.contextMenu.hide()});a.contextMenu.bind(\"mouseleave\",function(){a.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},\nisContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer();a.contextMenuTimer=setTimeout(function(){a.hideContextMenu();a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;if(a!=null){clearTimeout(a);delete a}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(a,\nb){for(var c=this,e=\"\",d=c.options.contextMenuItems,g=0,k=d.length;g<k;g++)if(d[g].isSeparator)e+='<div class=\"mejs-contextmenu-separator\"></div>';else{var j=d[g].render(c);if(j!=null)e+='<div class=\"mejs-contextmenu-item\" data-itemindex=\"'+g+'\" id=\"element-'+Math.random()*1E6+'\">'+j+\"</div>\"}c.contextMenu.empty().append(f(e)).css({top:b,left:a}).show();c.contextMenu.find(\".mejs-contextmenu-item\").each(function(){var m=f(this),q=parseInt(m.data(\"itemindex\"),10),p=c.options.contextMenuItems[q];typeof p.show!=\n\"undefined\"&&p.show(m,c);m.click(function(){typeof p.click!=\"undefined\"&&p.click(c);c.contextMenu.hide()})});setTimeout(function(){c.killControlsTimer(\"rev3\")},100)}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t(\"Close\")});f.extend(MediaElementPlayer.prototype,{buildpostroll:function(a,b,c){var e=this.container.find('link[rel=\"postroll\"]').attr(\"href\");if(typeof e!==\"undefined\"){a.postroll=f('<div class=\"mejs-postroll-layer mejs-layer\"><a class=\"mejs-postroll-close\" onclick=\"$(this).parent().hide();return false;\">'+this.options.postrollCloseText+'</a><div class=\"mejs-postroll-layer-content\"></div></div>').prependTo(c).hide();this.media.addEventListener(\"ended\",\nfunction(){f.ajax({dataType:\"html\",url:e,success:function(d){c.find(\".mejs-postroll-layer-content\").html(d)}});a.postroll.show()},false)}}})})(mejs.$);\n","//! moment-timezone.js\n//! version : 0.1.0\n//! author : Tim Wood\n//! license : MIT\n//! github.com/moment/moment-timezone\n!function(a,b){\"use strict\";\"function\"==typeof define&&define.amd?define([\"moment\"],b):\"object\"==typeof exports?module.exports=b(require(\"moment\")):b(a.moment)}(this,function(a){\"use strict\";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split(\".\"),f=e[0],g=e[1]||\"\",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split(\"|\"),c=b[2].split(\" \"),g=b[3].split(\"\"),h=b[4].split(\" \");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(\" \"),g),offsets:f(c,g),untils:h}}function h(a){var b=g(a);this.name=b.name,this.abbrs=b.abbrs,this.untils=b.untils,this.offsets=b.offsets}function i(a){return(a||\"\").toLowerCase().replace(/\\//g,\"_\")}function j(a){var b,c;for(\"string\"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=new h(a[b]),u[i(c.name)]=c}function k(a){a=i(a);var b=v[a];return b&&u[b]&&(a=b),u[a]||null}function l(){var a,b=[];for(a in u)u.hasOwnProperty(a)&&u[a]&&b.push(u[a].name);return b.sort()}function m(a){var b,c;for(\"string\"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=i(a[b]).split(\"|\"),v[c[0]]=c[1],v[c[1]]=c[0]}function n(a){j(a.zones),m(a.links),q.dataVersion=a.version}function o(a){return o.didShowError||(o.didShowError=!0,\"undefined\"!=typeof console&&\"function\"==typeof console.error&&console.error(\"moment.tz.zoneExists('\"+a+\"') has been deprecated in favor of !moment.tz.zone('\"+a+\"')\")),!!k(a)}function p(a){return!(!a._a||void 0!==a._tzm)}function q(){var b=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],d=k(c),e=a.utc.apply(null,b);return d&&p(e)&&e.add(\"minutes\",d.parse(e)),e.tz(c),e}function r(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function s(a){return function(){return this._z=null,a.call(this)}}if(void 0!==a.tz)return a;var t=\"0.1.0\",u={},v={};h.prototype={_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c=+a,d=this.offsets,e=this.untils;for(b=0;b<e.length;b++)if(c<e[b]-6e4*d[b])return d[b]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},q.version=t,q.dataVersion=\"\",q._zones=u,q._links=v,q.add=j,q.link=m,q.load=n,q.zone=k,q.zoneExists=o,q.names=l,q.Zone=h,q.unpack=g,q.unpackBase60=c,q.needsOffset=p;var w=a.fn;return a.tz=q,a.updateOffset=function(a,b){var c;a._z&&(c=a._z.offset(a),Math.abs(c)<16&&(c/=60),a.zone(c,b))},w.tz=function(b){return b?(this._z=k(b),this._z&&a.updateOffset(this),this):this._z?this._z.name:void 0},w.zoneName=r(w.zoneName),w.zoneAbbr=r(w.zoneAbbr),w.utc=s(w.utc),a.momentProperties._z=null,n({version:\"2014e\",zones:[\"Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q\",\"Africa/Accra|LMT GMT GHST|.Q 0 -k|0121212121212121|-26BbX.8 JrbX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE\",\"Africa/Addis_Ababa|ADMT EAT|-2z.k -30|01|-1lVCz.k\",\"Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0\",\"Africa/Bamako|LMT GMT WAT|w 0 10|0121|-2ldXs RULs 144p0\",\"Africa/Bangui|LMT WAT|-1e.k -10|01|-2le1e.k\",\"Africa/Banjul|LMT BMT WAT GMT|16.A 16.A 10 0|0123|-2ldWR.o U0o0 1aALR.o\",\"Africa/Bissau|LMT WAT GMT|12.k 10 0|012|-2mFWV.E 2yQnV.E\",\"Africa/Blantyre|LMT CAT|-2k -20|01|-2GJek\",\"Africa/Brazzaville|LMT WAT|-11.8 -10|01|-2le11.8\",\"Africa/Bujumbura|CAT|-20|0|\",\"Africa/Cairo|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0 1wp0 TX0 1qN0 WL0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0\",\"Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|012121212121212121312121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00\",\"Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1y7p0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Africa/Conakry|LMT GMT WAT|S.Q 0 10|0121|-2ldX5.8 RUL5.8 12U10\",\"Africa/Dakar|LMT WAT GMT|19.I 10 0|012|-2ldWO.g 1bBzO.g\",\"Africa/Dar_es_Salaam|LMT EAT BEAUT|-2B.8 -30 -2J|0121|-1yW2B.8 FnzB.8 vDAf\",\"Africa/Djibouti|LMT EAT|-2Q.A -30|01|-2mrCQ.A\",\"Africa/Douala|LMT WAT|-C.M -10|01|-2le0C.M\",\"Africa/El_Aaiun|LMT WAT WET WEST|Q.M 10 0 -10|0123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00\",\"Africa/Freetown|FMT WAT SLST WAT SLST GMT|R 10 k 0 -10 0|0121212121212121213454545454545|-2hLb7 Ry07 MLk 1BAE MLk 1BcE MLk 1BcE MLk 1BcE MLk 1BAE MLk 1BcE MLk 1BcE MLk yGoE 10n0 AL0 1Nd0 AL0 1Nd0 AL0 1NB0 AL0 1Nd0 AL0 1Nd0 AL0\",\"Africa/Gaborone|SAST CAT CAST|-1u -20 -30|0121|-2GJdu 1CINu 1cL0\",\"Africa/Harare|LMT CAT|-24.c -20|01|-2GJe4.c\",\"Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0\",\"Africa/Juba|LMT CAT CAST EAT|-2a.8 -20 -30 -30|01212121212121212121212121212121213|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0\",\"Africa/Kampala|LMT EAT BEAT BEAUT|-29.E -30 -2u -2J|01231|-1F3C9.E 3Dz9.E HNAu lTbJ\",\"Africa/Kigali|LMT CAT|-20.g -20|01|-1ode0.g\",\"Africa/Kinshasa|WAT|-10|0|\",\"Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A\",\"Africa/Libreville|LMT WAT|-B.M -10|01|-2le0B.M\",\"Africa/Lome|GMT|0|0|\",\"Africa/Luanda|AOT WAT|-Q.4 -10|01|-2mG0Q.4\",\"Africa/Lusaka|LMT CAT|-1R.8 -20|01|-2GJdR.8\",\"Africa/Malabo|LMT GMT WAT|-z.8 0 -10|012|-2le0z.8 26uoz.8\",\"Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k\",\"Africa/Maseru|LMT SAST SAST|-1O -20 -30|0121|-2GJdO 1CINO 1cL0\",\"Africa/Mbabane|LMT SAST|-24.o -20|01|-2GJe4.o\",\"Africa/Mogadishu|EAT BEAT|-30 -2u|010|-1yW30 13iMu\",\"Africa/Monrovia|MMT LRT GMT|H.8 I.u 0|012|-23Lzg.Q 29s01.m\",\"Africa/Nairobi|LMT EAT BEAT BEAUT|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ\",\"Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0\",\"Africa/Niamey|LMT WAT GMT WAT|-8.s 10 0 -10|0123|-2le08.s RUN8.s 12TX0\",\"Africa/Nouakchott|LMT GMT WAT|13.M 0 10|0121|-2ldWU.c RUKU.c 158N0\",\"Africa/Ouagadougou|LMT GMT|6.4 0|01|-2ldXR.U\",\"Africa/Porto-Novo|LMT GMT WAT|-a.s 0 -10|012|-2le0a.s RUMa.s\",\"Africa/Sao_Tome|LMT GMT|A.w 0|01|-2ldXn.s\",\"Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00\",\"Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00\",\"Africa/Windhoek|SWAT SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|012134545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2GJdu 1Ajdu 1cL0 1SqL0 9NA0 11D0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0\",\"America/Adak|NST NWT NPT BST BDT AHST HAST HADT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Anchorage|CAT CAWT CAPT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Anguilla|LMT AST|46.4 40|01|-2kNvR.U\",\"America/Antigua|LMT EST AST|47.c 50 40|012|-2kNvQ.M 1yxAQ.M\",\"America/Araguaina|LMT BRT BRST|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0\",\"America/Argentina/Buenos_Aires|CMT ART ARST ART ARST|4g.M 40 30 30 20|0121212121212121212121212121212121212121213434343434343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0\",\"America/Argentina/Catamarca|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Cordoba|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0\",\"America/Argentina/Jujuy|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 g0p0 10M0 j3c0 uL0\",\"America/Argentina/La_Rioja|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Mendoza|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|0121212121212121212121212121212121212121213434345656543235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 g0p0 10M0 agM0 Op0 7TX0 uL0\",\"America/Argentina/Rio_Gallegos|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Salta|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0\",\"America/Argentina/San_Juan|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ak00 m10 8lb0 uL0\",\"America/Argentina/San_Luis|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456536353465653|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 kin0 10M0 ak00 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0\",\"America/Argentina/Tucuman|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|012121212121212121212121212121212121212121343434345434323534343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 4N0 8BX0 uL0 1qN0 WL0\",\"America/Argentina/Ushuaia|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ajA0 8p0 8zb0 uL0\",\"America/Aruba|LMT ANT AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d\",\"America/Asuncion|AMT PYT PYT PYST|3O.E 40 30 30|012131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0\",\"America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0\",\"America/Bahia|LMT BRT BRST|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0\",\"America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0\",\"America/Belem|LMT BRT BRST|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0\",\"America/Belize|LMT CST CHDT CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0\",\"America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0\",\"America/Boa_Vista|LMT AMT AMST|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0\",\"America/Bogota|BMT COT COST|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0\",\"America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Cambridge_Bay|zzz MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Campo_Grande|LMT AMT AMST|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Caracas|CMT VET VET|4r.E 4u 40|0121|-2kV7w.k 28KM2.k 1IwOu\",\"America/Cayenne|LMT GFT GFT|3t.k 40 30|012|-2mrwu.E 2gWou.E\",\"America/Cayman|KMT EST|57.b 50|01|-2l1uQ.N\",\"America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0\",\"America/Creston|MST PST|70 80|010|-29DR0 43B0\",\"America/Cuiaba|LMT AMT AMST|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Danmarkshavn|LMT WGT WGST GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0\",\"America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0\",\"America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|01234252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 Jy10 SL0 dnB0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Eirunepe|LMT ACT ACST AMT|4D.s 50 40 40|0121212121212121212121212121212131|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0\",\"America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0\",\"America/Ensenada|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Fortaleza|LMT BRT BRST|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0\",\"America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Godthab|LMT WGT WGST|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Grand_Turk|KMT EST EDT|57.b 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0\",\"America/Guayaquil|QMT ECT|5e 50|01|-1yVSK\",\"America/Guyana|LMT GBGT GYT GYT GYT|3Q.E 3J 3J 30 40|01234|-2dvU7.k 24JzQ.k mlc0 Bxbf\",\"America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0\",\"America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0\",\"America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Inuvik|zzz PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Iqaluit|zzz EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2vwNQ.N 1cL0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0\",\"America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/La_Paz|CMT BOST BOT|4w.A 3w.A 40|012|-1x37r.o 13b0\",\"America/Lima|LMT PET PEST|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0\",\"America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Maceio|LMT BRT BRST|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0\",\"America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0\",\"America/Manaus|LMT AMT AMST|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0\",\"America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0\",\"America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Metlakatla|PST PWT PPT PDT MeST|80 70 70 70 80|0120303030303030303030303030303034|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0\",\"America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Miquelon|LMT AST PMST PMDT|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Montevideo|MMT UYT UYHST UYST UYT UYHST|3I.I 3u 30 20 30 2u|012121212121212121212121213434343434345454543453434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10\",\"America/Montreal|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-28tR0 bV0 2m30 1in0 121u 1nb0 1g10 11z0 1o0u 11zu 1o0u 11zu 3VAu Rzu 1qMu WLu 1qMu WLu 1qKu WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kO0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Noronha|LMT FNT FNST|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0\",\"America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Panama|CMT EST|5j.A 50|01|-2uduE.o\",\"America/Pangnirtung|zzz AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Paramaribo|LMT PMT PMT NEGT SRT SRT|3E.E 3E.Q 3E.A 3u 3u 30|012345|-2nDUj.k Wqo0.c qanX.I 1dmLN.o lzc0\",\"America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0\",\"America/Port-au-Prince|PPMT EST EDT|4N 50 40|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Porto_Acre|LMT ACT ACST AMT|4v.c 50 40 40|01212121212121212121212121212131|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0\",\"America/Porto_Velho|LMT AMT AMST|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0\",\"America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0\",\"America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Rankin_Inlet|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Recife|LMT BRT BRST|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0\",\"America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0\",\"America/Resolute|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Santa_Isabel|LMT MST PST PDT PWT PPT|7D.s 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Santarem|LMT AMT AMST BRT|3C.M 40 30 30|0121212121212121212121212121213|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0\",\"America/Santiago|SMT CLT CLT CLST CLST|4G.K 50 40 40 30|010203131313131313124242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424|-2q5Th.e fNch.e 5gLG.K 21bh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9UK0 1Je0 Qen0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"America/Santo_Domingo|SDMT EST EDT EHDT AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00\",\"America/Sao_Paulo|LMT BRT BRST|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Scoresbysund|LMT CGT CGST EGST EGT|1r.Q 20 10 0 10|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0\",\"America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0\",\"America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 1Be0 xDz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Yellowknife|zzz MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Antarctica/Casey|zzz WST CAST|0 -80 -b0|012121|-2q00 1DjS0 T90 40P0 KL0\",\"Antarctica/Davis|zzz DAVT DAVT|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0\",\"Antarctica/DumontDUrville|zzz PMT DDUT|0 -a0 -a0|0102|-U0o0 cfq0 bFm0\",\"Antarctica/Macquarie|EST EST zzz MIST|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0\",\"Antarctica/Mawson|zzz MAWT MAWT|0 -60 -50|012|-CEo0 2fyk0\",\"Antarctica/McMurdo|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"Antarctica/Palmer|zzz ARST ART ART ARST CLT CLST|0 30 40 30 20 40 30|012121212123435656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"Antarctica/Rothera|zzz ROTT|0 30|01|gOo0\",\"Antarctica/Syowa|zzz SYOT|0 -30|01|-vs00\",\"Antarctica/Troll|zzz UTC CEST|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Antarctica/Vostok|zzz VOST|0 -60|01|-tjA0\",\"Arctic/Longyearbyen|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Aden|LMT AST|-2X.S -30|01|-MG2X.S\",\"Asia/Almaty|LMT ALMT ALMT ALMST|-57.M -50 -60 -70|0123232323232323232323232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3Cl0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0\",\"Asia/Anadyr|LMT ANAT ANAT ANAST ANAST ANAST ANAT|-bN.U -c0 -d0 -e0 -d0 -c0 -b0|01232414141414141414141561414141414141414141414141414141414141561|-1PcbN.U eUnN.U 23CL0 1db0 1cN0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Aqtau|LMT FORT FORT SHET SHET SHEST AQTT AQTST AQTST AQTT|-3l.4 -40 -50 -50 -60 -60 -50 -60 -50 -40|012345353535353535353536767676898989898989898989896|-1Pc3l.4 eUnl.4 1jcL0 JDc0 1cL0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cN0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0\",\"Asia/Aqtobe|LMT AKTT AKTT AKTST AKTT AQTT AQTST|-3M.E -40 -50 -60 -60 -50 -60|01234323232323232323232565656565656565656565656565|-1Pc3M.E eUnM.E 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Ashgabat|LMT ASHT ASHT ASHST ASHST TMT TMT|-3R.w -40 -50 -60 -50 -40 -50|012323232323232323232324156|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 ba0 xC0\",\"Asia/Baghdad|BMT AST ADT|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0\",\"Asia/Bahrain|LMT GST AST|-3m.k -40 -30|012|-21Jfm.k 27BXm.k\",\"Asia/Baku|LMT BAKT BAKT BAKST BAKST AZST AZT AZT AZST|-3j.o -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245657878787878787878787878787878787878787878787878787878787878787878787878787878787878787|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 10K0 c30 1cJ0 1cL0 8wu0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Bangkok|BMT ICT|-6G.4 -70|01|-218SG.4\",\"Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0\",\"Asia/Bishkek|LMT FRUT FRUT FRUST FRUST KGT KGST KGT|-4W.o -50 -60 -70 -60 -50 -60 -60|01232323232323232323232456565656565656565656565656567|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11c0 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 T8u\",\"Asia/Brunei|LMT BNT BNT|-7D.E -7u -80|012|-1KITD.E gDc9.E\",\"Asia/Calcutta|HMT BURT IST IST|-5R.k -6u -5u -6u|01232|-18LFR.k 1unn.k HB0 7zX0\",\"Asia/Choibalsan|LMT ULAT ULAT CHOST CHOT CHOT|-7C -70 -80 -a0 -90 -80|012343434343434343434343434343434343434343434345|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0\",\"Asia/Chongqing|LMT LONT CST CDT|-76.k -70 -80 -90|012323232323232|-1Ggv6.k 27pA6.k eBz0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Colombo|MMT IST IHST IST LKT LKT|-5j.w -5u -60 -6u -6u -60|01231451|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu\",\"Asia/Dacca|HMT BURT IST DACT BDT BDST|-5R.k -6u -5u -60 -60 -70|01213454|-18LFR.k 1unn.k HB0 m6n0 LqMu 1x6n0 1hXX\",\"Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0\",\"Asia/Dili|LMT TLT JST TLT WITA|-8m.k -80 -90 -90 -80|012343|-2le8m.k 1dnXm.k 8HA0 1ew00 Xld0\",\"Asia/Dubai|LMT GST|-3F.c -40|01|-21JfF.c\",\"Asia/Dushanbe|LMT DUST DUST DUSST DUSST TJT|-4z.c -50 -60 -70 -60 -50|0123232323232323232323245|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 14N0\",\"Asia/Gaza|EET EET EEST IST IDT|-20 -30 -30 -20 -30|010101010102020202020202020202023434343434343434343434343430202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0\",\"Asia/Harbin|LMT CHAT CST CHAT CDT|-8q.I -8u -80 -90 -90|012312424242424242|-1Ggwq.I a8nU.I j4Mu 146L0 y5Au eBAu Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Hebron|EET EET EEST IST IDT|-20 -30 -30 -20 -30|01010101010202020202020202020202343434343434343434343434343020202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0\",\"Asia/Ho_Chi_Minh|LMT SMT ICT ICT|-76.E -76.k -70 -80|01232|-2yKT6.E byo1.k 2KM5.k Kfz0\",\"Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0\",\"Asia/Hovd|LMT HOVT HOVT HOVST|-66.A -60 -70 -80|01232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0\",\"Asia/Irkutsk|IMT IRKT IRKT IRKST IRKST IRKT|-6V.k -70 -80 -90 -80 -90|01232323232323232323232412323232323232323232323232323232323232325|-21zGV.k pjXV.k 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Istanbul|IMT EET EEST TRST TRT|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1df0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Jakarta|BMT JAVT WIB JST WIB WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu\",\"Asia/Jayapura|LMT WIT CST|-9m.M -90 -9u|0121|-1uu9m.M sMMm.M L4nu\",\"Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0\",\"Asia/Kabul|AFT AFT|-40 -4u|01|-10Qs0\",\"Asia/Kamchatka|LMT PETT PETT PETST PETST|-ay.A -b0 -c0 -d0 -c0|01232323232323232323232412323232323232323232323232323232323232412|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Karachi|LMT IST IST KART PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy01 1cL0 dK0X 11b0 1610 1jX0\",\"Asia/Kashgar|LMT KAST KAST CST CDT|-53.U -5u -50 -80 -90|0123434343434343|-1Ggt3.U tdbx.U 1Ccou eBx0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Kathmandu|LMT IST NPT|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g\",\"Asia/Khandyga|LMT YAKT YAKT YAKST YAKST VLAT VLAST VLAT YAKT|-92.d -80 -90 -a0 -90 -a0 -b0 -b0 -a0|0123232323232323232323241232323232323232323232323256565656565656578|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0\",\"Asia/Krasnoyarsk|LMT KRAT KRAT KRAST KRAST KRAT|-6b.k -60 -70 -80 -70 -80|01232323232323232323232412323232323232323232323232323232323232325|-21Hib.k prAb.k 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Kuala_Lumpur|SMT MALT MALST MALT MALT JST MYT|-6T.p -70 -7k -7k -7u -90 -80|01234546|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu 1so1u\",\"Asia/Kuching|LMT BORT BORT BORTST JST MYT|-7l.k -7u -80 -8k -90 -80|01232323232323232425|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0 1so10\",\"Asia/Kuwait|LMT AST|-3b.U -30|01|-MG3b.U\",\"Asia/Macao|LMT MOT MOST CST|-7y.k -80 -90 -80|0121212121212121212121212121212121212121213|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0 KEp0\",\"Asia/Magadan|LMT MAGT MAGT MAGST MAGST MAGT|-a3.c -a0 -b0 -c0 -b0 -c0|01232323232323232323232412323232323232323232323232323232323232325|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Makassar|LMT MMT WITA JST|-7V.A -7V.A -80 -90|01232|-21JjV.A vfc0 myLV.A 8ML0\",\"Asia/Manila|PHT PHST JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0\",\"Asia/Muscat|LMT GST|-3S.o -40|01|-21JfS.o\",\"Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Novokuznetsk|NMT KRAT KRAT KRAST KRAST NOVST NOVT NOVT|-5M.M -60 -70 -80 -70 -70 -60 -70|01232323232323232323232412323232323232323232323232323232323232567|-21HhM.M przM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Novosibirsk|LMT NOVT NOVT NOVST NOVST|-5v.E -60 -70 -80 -70|012323232323232323232324123234141414141414141414141414141414141412|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Omsk|LMT OMST OMST OMSST OMSST OMST|-4R.A -50 -60 -70 -60 -70|01232323232323232323232412323232323232323232323232323232323232325|-224sR.A pMLR.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Oral|LMT URAT URAT URAST URAT URAST ORAT ORAST ORAT|-3p.o -40 -50 -60 -60 -50 -40 -50 -50|012343232323232323251516767676767676767676767676768|-1Pc3p.o eUnp.o 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0\",\"Asia/Phnom_Penh|LMT SMT ICT ICT|-6X.E -76.k -70 -80|01232|-2yKSX.E bynS.k 2KM5.k Kfz0\",\"Asia/Pontianak|LMT PMT WIB JST WIB WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu\",\"Asia/Pyongyang|KST KST KST|-8u -90 -80|010121|-2CsUu Ucnu 9Iou S5Xu hXB0\",\"Asia/Qatar|LMT GST AST|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8\",\"Asia/Qyzylorda|LMT KIZT KIZT KIZST KIZT QYZT QYZT QYZST|-4l.Q -40 -50 -60 -60 -50 -60 -70|012343232323232323232325676767676767676767676767676|-1Pc4l.Q eUol.Q 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 dC0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Rangoon|RMT BURT JST MMT|-6o.E -6u -90 -6u|0123|-21Jio.E SmnS.E 7j9u\",\"Asia/Riyadh|LMT AST|-36.Q -30|01|-MG36.Q\",\"Asia/Sakhalin|LMT CJT JST SAKT SAKST SAKST SAKT|-9u.M -90 -90 -b0 -c0 -b0 -a0|012343434343434343434343563434343434356565656565656565656565656563|-2AGVu.M 1iLAu.M iBc0 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o10 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Samarkand|LMT SAMT SAMT SAMST TAST UZST UZT|-4r.c -40 -50 -60 -60 -60 -50|01234323232323232323232356|-1Pc4r.c eUor.c 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11x0 bf0\",\"Asia/Seoul|KST KST KST KDT KDT|-8u -90 -80 -90 -a0|0101232014141|-2CsUu Ucnu 9Iou S5Xu eWN0 Mn0 2cp0 hnzu JhXu 11z0 1o10 11z0\",\"Asia/Shanghai|LMT CST CDT|-85.V -80 -90|012121212121212121|-1Ggw5.V ueM5.V LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Singapore|SMT MALT MALST MALT MALT JST SGT SGT|-6T.p -70 -7k -7k -7u -90 -7u -80|012345467|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu Mspu DTA0\",\"Asia/Taipei|CST CDT|-80 -90|01010101010101010101010101010101010101010|-104w0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97d0 AL0\",\"Asia/Tashkent|LMT TAST TAST TASST TASST UZST UZT|-4B.c -50 -60 -70 -60 -60 -50|01232323232323232323232456|-1Pc4B.c eUnB.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11y0 bf0\",\"Asia/Tbilisi|TBMT TBIT TBIT TBIST TBIST GEST GET GET GEST|-2X.g -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565787878787878787878567|-1Pc2X.g 1jUnX.g WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 3y0 19f0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cM0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0\",\"Asia/Tehran|LMT TMT IRST IRST IRDT IRDT|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0\",\"Asia/Thimbu|LMT IST BTT|-5W.A -5u -60|012|-Su5W.A 1BGMs.A\",\"Asia/Tokyo|CJT JST JDT|-90 -90 -a0|0121212121|-1hTl0 p9C0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0\",\"Asia/Ulaanbaatar|LMT ULAT ULAT ULAST|-77.w -70 -80 -90|01232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0\",\"Asia/Urumqi|LMT URUT CST CDT|-5O.k -60 -80 -90|012323232323232|-1GgtO.k 27pzO.k eBy0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Ust-Nera|LMT YAKT YAKT MAGST MAGT MAGST MAGT MAGT VLAT|-9w.S -80 -90 -c0 -b0 -b0 -a0 -c0 -b0|012343434343434343434345643434343434343434343434343434343434343478|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0\",\"Asia/Vientiane|LMT SMT ICT ICT|-6O.o -76.k -70 -80|01232|-2yKSO.o bynJ.4 2KM5.k Kfz0\",\"Asia/Vladivostok|LMT VLAT VLAT VLAST VLAST VLAT|-8L.I -90 -a0 -b0 -a0 -b0|01232323232323232323232412323232323232323232323232323232323232325|-1SJIL.I itXL.I 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yakutsk|LMT YAKT YAKT YAKST YAKST YAKT|-8C.E -80 -90 -a0 -90 -a0|01232323232323232323232412323232323232323232323232323232323232325|-21Q8C.E pAoC.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yekaterinburg|LMT SVET SVET SVEST SVEST YEKT YEKST YEKT|-42.o -40 -50 -60 -50 -50 -60 -60|01232323232323232323232415656565656565656565656565656565656565657|-22Rc2.o qBw2.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yerevan|LMT YERT YERT YERST YERST AMST AMT AMT AMST|-2W -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565657878787878787878787878787878787|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1am0 2r0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fb0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0\",\"Atlantic/Azores|HMT AZOT AZOST AZOMT AZOT AZOST WET|1S.w 20 10 0 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545456545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2mGK5.s ckL5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Atlantic/Canary|LMT CANT WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Cape_Verde|LMT CVT CVST CVT|1y.4 20 10 10|01213|-2xomp.U 1qOMp.U 7zX0 1djf0\",\"Atlantic/Faeroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Madeira|FMT MADT MADST MADMT WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2mGKQ.o ckKQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Reykjavik|RMT IST ISST GMT|1r.M 10 0 0|01212121212121212121212121212121212121212121212121212121212121213|-2uWmw.c mfaw.c 1Bd0 ML0 1LB0 NLX0 1pe0 zd0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0\",\"Atlantic/South_Georgia|GST|20|0|\",\"Atlantic/St_Helena|JMT GMT|m.M 0|01|-KfXB.c\",\"Atlantic/Stanley|SMT FKT FKST FKT FKST|3P.o 40 30 30 20|0121212121212134343212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 U10 1qM0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10\",\"Australia/ACT|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Adelaide|CST CST|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Brisbane|EST EST|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0\",\"Australia/Broken_Hill|CST CST|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Currie|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Darwin|CST CST|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0\",\"Australia/Eucla|CWST CWST|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0\",\"Australia/Hobart|EST EST|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/LHI|EST LHST LHST LHST|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu\",\"Australia/Lindeman|EST EST|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0\",\"Australia/Melbourne|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Perth|WST WST|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0\",\"CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Chile/EasterIsland|EMT EASST EAST EAST EASST|7h.s 60 70 60 50|012121212121212121212121212121213434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-1uSgG.w nHUG.w op0 9UK0 RXB0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"EST|EST|50|0|\",\"EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Eire|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g5X0 14p0 1wn0 17d0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Etc/GMT+1|GMT+1|10|0|\",\"Etc/GMT+10|GMT+10|a0|0|\",\"Etc/GMT+11|GMT+11|b0|0|\",\"Etc/GMT+12|GMT+12|c0|0|\",\"Etc/GMT+2|GMT+2|20|0|\",\"Etc/GMT+3|GMT+3|30|0|\",\"Etc/GMT+4|GMT+4|40|0|\",\"Etc/GMT+5|GMT+5|50|0|\",\"Etc/GMT+6|GMT+6|60|0|\",\"Etc/GMT+7|GMT+7|70|0|\",\"Etc/GMT+8|GMT+8|80|0|\",\"Etc/GMT+9|GMT+9|90|0|\",\"Etc/GMT-1|GMT-1|-10|0|\",\"Etc/GMT-10|GMT-10|-a0|0|\",\"Etc/GMT-11|GMT-11|-b0|0|\",\"Etc/GMT-12|GMT-12|-c0|0|\",\"Etc/GMT-13|GMT-13|-d0|0|\",\"Etc/GMT-14|GMT-14|-e0|0|\",\"Etc/GMT-2|GMT-2|-20|0|\",\"Etc/GMT-3|GMT-3|-30|0|\",\"Etc/GMT-4|GMT-4|-40|0|\",\"Etc/GMT-5|GMT-5|-50|0|\",\"Etc/GMT-6|GMT-6|-60|0|\",\"Etc/GMT-7|GMT-7|-70|0|\",\"Etc/GMT-8|GMT-8|-80|0|\",\"Etc/GMT-9|GMT-9|-90|0|\",\"Etc/UCT|UCT|0|0|\",\"Etc/UTC|UTC|0|0|\",\"Europe/Amsterdam|AMT NST NEST NET CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Belfast|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Bratislava|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Budapest|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 1cn0 1jd0 11b0 1ld0 1bb0 NVc0 3O00 WM0 1fA0 1cM0 1cM0 1oJ0 1e00 Xf0 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Busingen|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|0123232323232323232345454676767676767676767623232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1ty0 2bD0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Helsinki|HMT EET EEST|-1D.Q -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.Q OULD.Q 1db0 1xGP0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET FET|-10 -20 -20 -30 -30 -40 -30 -20 -30|010101010101023245454545454545454545467676767676767676767676767676767676767678|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.w 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.s aPWn.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|01010101010101010101010121212121234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-28dd0 11A0 1go0 19A0 1co0 1dA0 b1A0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 iyo0 Rc0 18o0 1hc0 1io0 1a00 14o0 5aL0 MM0 1vc0 17A0 1i00 1bc0 1eo0 17d0 1in0 17A0 6hA0 10N0 XIL0 1a10 1in0 17d0 19X0 1cN0 1fz0 1a10 1fX0 1cp0 1cO0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 1cM0 1cM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1cp0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Minsk|MMT EET MSK CEST CET MSD EEST FET|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cK0 1cM0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Moscow|MMT MMT MST MDST MSD MSK MSM EET EEST MSK|-2u -2u.M -3u.M -4u.M -40 -30 -50 -20 -30 -40|01213234546457545454545454545454545875454545454545454545454545454545454545459|-2ag2u 2pyX.c 1bA0 11X0 GN0 1Hb0 c20 imu.M 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.o -2A.o -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.o 11A0 1iM0 ko0 gWm0 yDXA.o 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 16K0 1iO0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1C10 Lz0 1zd0 On0 1C10 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Samara|LMT SAMT SAMT KUYT KUYST KUYST KUYT KUYST SAMST SAMST|-3k.A -30 -40 -40 -50 -40 -30 -30 -50 -40|012343434343434343435656762828282828282828282828282828282828282912|-22WNk.A qHak.A bcn0 1Qqo0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cN0 8o0 14j0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|01234343252525252525252525216161652525261616161616161616161616161616161617|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0\",\"Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646464647373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Volgograd|LMT TSAT STAT STAT VOLT VOLST VOLST VOLT|-2V.E -30 -30 -40 -40 -50 -40 -30|01234545454545454545467674676767676767676767676767676767676767674|-21IqV.E cLXV.E cEM0 1gqn0 Lco0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 2pz0 1cJ0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Zaporozhye|CUT EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"HST|HST|a0|0|\",\"Indian/Antananarivo|LMT EAT EAST|-3a.4 -30 -40|0121|-2mrDa.4 1HRba.4 Ao0\",\"Indian/Chagos|LMT IOT IOT|-4N.E -50 -60|012|-2xosN.E 3AGLN.E\",\"Indian/Christmas|CXT|-70|0|\",\"Indian/Cocos|CCT|-6u|0|\",\"Indian/Comoro|LMT EAT|-2R.4 -30|01|-2mrCR.4\",\"Indian/Kerguelen|zzz TFT|0 -50|01|-MG00\",\"Indian/Mahe|LMT SCT|-3F.M -40|01|-2yO3F.M\",\"Indian/Maldives|MMT MVT|-4S -50|01|-olgS\",\"Indian/Mauritius|LMT MUT MUST|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0\",\"Indian/Mayotte|LMT EAT|-30.U -30|01|-2mrD0.U\",\"Indian/Reunion|LMT RET|-3F.Q -40|01|-2mDDF.Q\",\"Kwajalein|MHT KWAT MHT|-b0 c0 -c0|012|-AX0 W9X0\",\"MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"MST|MST|70|0|\",\"MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"NZ-CHAT|LMT CHAST CHADT|-cd.M -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-vDod.M Hq2d.M IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Pacific/Apia|LMT SAMT WST WSDT WSDT WST|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"Pacific/Chuuk|CHUT|-a0|0|\",\"Pacific/Efate|LMT VUT VUST|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0\",\"Pacific/Enderbury|PHOT PHOT PHOT|c0 b0 -d0|012|nIc0 B8n0\",\"Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0\",\"Pacific/Fiji|LMT FJT FJST|-bT.I -c0 -d0|012121212121212121212121212121212121212121212121212121212121212|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10\",\"Pacific/Funafuti|TVT|-c0|0|\",\"Pacific/Galapagos|LMT ECT GALT|5W.o 50 60|012|-1yVS1.A 2dTz1.A\",\"Pacific/Gambier|LMT GAMT|8X.M 90|01|-2jof0.c\",\"Pacific/Guadalcanal|LMT SBT|-aD.M -b0|01|-2joyD.M\",\"Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0\",\"Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0\",\"Pacific/Kiritimati|LINT LINT LINT|aE a0 -e0|012|nIaE B8nk\",\"Pacific/Kosrae|KOST KOST|-b0 -c0|010|-AX0 1bdz0\",\"Pacific/Majuro|MHT MHT|-b0 -c0|01|-AX0\",\"Pacific/Marquesas|LMT MART|9i 9u|01|-2joeG\",\"Pacific/Midway|NST NDT BST SST|b0 a0 b0 b0|01023|-x3N0 An0 pJd0 EyM0\",\"Pacific/Nauru|LMT NRT JST NRT|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu\",\"Pacific/Niue|NUT NUT NUT|bk bu b0|012|-KfME 17y0a\",\"Pacific/Norfolk|NMT NFT|-bc -bu|01|-Kgbc\",\"Pacific/Noumea|LMT NCT NCST|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0\",\"Pacific/Pago_Pago|LMT SAMT NST BST SST|bm.M bu b0 b0 b0|01234|-2nDMB.c 1yW07.c FXzu EyM0\",\"Pacific/Palau|PWT|-90|0|\",\"Pacific/Pitcairn|PNT PST|8u 80|01|18Vku\",\"Pacific/Pohnpei|PONT|-b0|0|\",\"Pacific/Port_Moresby|PGT|-a0|0|\",\"Pacific/Rarotonga|CKT CKHST CKT|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu\",\"Pacific/Saipan|MPT MPT ChST|-90 -a0 -a0|012|-AV0 1g2n0\",\"Pacific/Tahiti|LMT TAHT|9W.g a0|01|-2joe1.I\",\"Pacific/Tarawa|GILT|-c0|0|\",\"Pacific/Tongatapu|TOT TOT TOST|-ck -d0 -e0|01212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0\",\"Pacific/Wake|WAKT|-c0|0|\",\"Pacific/Wallis|WFT|-c0|0|\",\"WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\"],links:[\"Africa/Addis_Ababa|Africa/Asmara\",\"Africa/Addis_Ababa|Africa/Asmera\",\"Africa/Bamako|Africa/Timbuktu\",\"Africa/Bujumbura|Africa/Lubumbashi\",\"Africa/Cairo|Egypt\",\"Africa/Juba|Africa/Khartoum\",\"Africa/Lome|Etc/GMT\",\"Africa/Lome|Etc/GMT+0\",\"Africa/Lome|Etc/GMT-0\",\"Africa/Lome|Etc/GMT0\",\"Africa/Lome|Etc/Greenwich\",\"Africa/Lome|GMT\",\"Africa/Lome|GMT+0\",\"Africa/Lome|GMT-0\",\"Africa/Lome|GMT0\",\"Africa/Lome|Greenwich\",\"Africa/Tripoli|Libya\",\"America/Adak|America/Atka\",\"America/Adak|US/Aleutian\",\"America/Anchorage|US/Alaska\",\"America/Anguilla|America/Dominica\",\"America/Anguilla|America/Grenada\",\"America/Anguilla|America/Guadeloupe\",\"America/Anguilla|America/Marigot\",\"America/Anguilla|America/Montserrat\",\"America/Anguilla|America/Port_of_Spain\",\"America/Anguilla|America/St_Barthelemy\",\"America/Anguilla|America/St_Kitts\",\"America/Anguilla|America/St_Lucia\",\"America/Anguilla|America/St_Thomas\",\"America/Anguilla|America/St_Vincent\",\"America/Anguilla|America/Tortola\",\"America/Anguilla|America/Virgin\",\"America/Argentina/Buenos_Aires|America/Buenos_Aires\",\"America/Argentina/Catamarca|America/Argentina/ComodRivadavia\",\"America/Argentina/Catamarca|America/Catamarca\",\"America/Argentina/Cordoba|America/Cordoba\",\"America/Argentina/Cordoba|America/Rosario\",\"America/Argentina/Jujuy|America/Jujuy\",\"America/Argentina/Mendoza|America/Mendoza\",\"America/Aruba|America/Curacao\",\"America/Aruba|America/Kralendijk\",\"America/Aruba|America/Lower_Princes\",\"America/Atikokan|America/Coral_Harbour\",\"America/Chicago|US/Central\",\"America/Denver|America/Shiprock\",\"America/Denver|Navajo\",\"America/Denver|US/Mountain\",\"America/Detroit|US/Michigan\",\"America/Edmonton|Canada/Mountain\",\"America/Ensenada|America/Tijuana\",\"America/Ensenada|Mexico/BajaNorte\",\"America/Fort_Wayne|America/Indiana/Indianapolis\",\"America/Fort_Wayne|America/Indianapolis\",\"America/Fort_Wayne|US/East-Indiana\",\"America/Halifax|Canada/Atlantic\",\"America/Havana|Cuba\",\"America/Indiana/Knox|America/Knox_IN\",\"America/Indiana/Knox|US/Indiana-Starke\",\"America/Jamaica|Jamaica\",\"America/Kentucky/Louisville|America/Louisville\",\"America/Los_Angeles|US/Pacific\",\"America/Los_Angeles|US/Pacific-New\",\"America/Manaus|Brazil/West\",\"America/Mazatlan|Mexico/BajaSur\",\"America/Mexico_City|Mexico/General\",\"America/New_York|US/Eastern\",\"America/Noronha|Brazil/DeNoronha\",\"America/Phoenix|US/Arizona\",\"America/Porto_Acre|America/Rio_Branco\",\"America/Porto_Acre|Brazil/Acre\",\"America/Regina|Canada/East-Saskatchewan\",\"America/Regina|Canada/Saskatchewan\",\"America/Santiago|Chile/Continental\",\"America/Sao_Paulo|Brazil/East\",\"America/St_Johns|Canada/Newfoundland\",\"America/Toronto|Canada/Eastern\",\"America/Vancouver|Canada/Pacific\",\"America/Whitehorse|Canada/Yukon\",\"America/Winnipeg|Canada/Central\",\"Antarctica/McMurdo|Antarctica/South_Pole\",\"Antarctica/McMurdo|NZ\",\"Antarctica/McMurdo|Pacific/Auckland\",\"Arctic/Longyearbyen|Atlantic/Jan_Mayen\",\"Arctic/Longyearbyen|Europe/Oslo\",\"Asia/Ashgabat|Asia/Ashkhabad\",\"Asia/Calcutta|Asia/Kolkata\",\"Asia/Chongqing|Asia/Chungking\",\"Asia/Dacca|Asia/Dhaka\",\"Asia/Ho_Chi_Minh|Asia/Saigon\",\"Asia/Hong_Kong|Hongkong\",\"Asia/Istanbul|Europe/Istanbul\",\"Asia/Istanbul|Turkey\",\"Asia/Jerusalem|Asia/Tel_Aviv\",\"Asia/Jerusalem|Israel\",\"Asia/Kathmandu|Asia/Katmandu\",\"Asia/Macao|Asia/Macau\",\"Asia/Makassar|Asia/Ujung_Pandang\",\"Asia/Nicosia|Europe/Nicosia\",\"Asia/Seoul|ROK\",\"Asia/Shanghai|PRC\",\"Asia/Singapore|Singapore\",\"Asia/Taipei|ROC\",\"Asia/Tehran|Iran\",\"Asia/Thimbu|Asia/Thimphu\",\"Asia/Tokyo|Japan\",\"Asia/Ulaanbaatar|Asia/Ulan_Bator\",\"Atlantic/Faeroe|Atlantic/Faroe\",\"Atlantic/Reykjavik|Iceland\",\"Australia/ACT|Australia/Canberra\",\"Australia/ACT|Australia/NSW\",\"Australia/ACT|Australia/Sydney\",\"Australia/Adelaide|Australia/South\",\"Australia/Brisbane|Australia/Queensland\",\"Australia/Broken_Hill|Australia/Yancowinna\",\"Australia/Darwin|Australia/North\",\"Australia/Hobart|Australia/Tasmania\",\"Australia/LHI|Australia/Lord_Howe\",\"Australia/Melbourne|Australia/Victoria\",\"Australia/Perth|Australia/West\",\"Chile/EasterIsland|Pacific/Easter\",\"Eire|Europe/Dublin\",\"Etc/UCT|UCT\",\"Etc/UTC|Etc/Universal\",\"Etc/UTC|Etc/Zulu\",\"Etc/UTC|UTC\",\"Etc/UTC|Universal\",\"Etc/UTC|Zulu\",\"Europe/Belfast|Europe/Guernsey\",\"Europe/Belfast|Europe/Isle_of_Man\",\"Europe/Belfast|Europe/Jersey\",\"Europe/Belfast|Europe/London\",\"Europe/Belfast|GB\",\"Europe/Belfast|GB-Eire\",\"Europe/Belgrade|Europe/Ljubljana\",\"Europe/Belgrade|Europe/Podgorica\",\"Europe/Belgrade|Europe/Sarajevo\",\"Europe/Belgrade|Europe/Skopje\",\"Europe/Belgrade|Europe/Zagreb\",\"Europe/Bratislava|Europe/Prague\",\"Europe/Busingen|Europe/Vaduz\",\"Europe/Busingen|Europe/Zurich\",\"Europe/Chisinau|Europe/Tiraspol\",\"Europe/Helsinki|Europe/Mariehamn\",\"Europe/Lisbon|Portugal\",\"Europe/Moscow|W-SU\",\"Europe/Rome|Europe/San_Marino\",\"Europe/Rome|Europe/Vatican\",\"Europe/Warsaw|Poland\",\"Kwajalein|Pacific/Kwajalein\",\"NZ-CHAT|Pacific/Chatham\",\"Pacific/Chuuk|Pacific/Truk\",\"Pacific/Chuuk|Pacific/Yap\",\"Pacific/Honolulu|Pacific/Johnston\",\"Pacific/Honolulu|US/Hawaii\",\"Pacific/Pago_Pago|Pacific/Samoa\",\"Pacific/Pago_Pago|US/Samoa\",\"Pacific/Pohnpei|Pacific/Ponape\"]}),a\n});","/*\n  piecon.js\n\n  https://github.com/lipka/piecon\n\n  Copyright (c) 2012 Lukas Lipka <lukaslipka@gmail.com>. All rights reserved.\n*/\n\n(function(){\n    var Piecon = {};\n\n    var currentFavicon = null;\n    var originalFavicon = null;\n    var originalTitle = null;\n    var canvas = null;\n    var options = {};\n    var defaults = {\n        color: '#ff0084',\n        background: '#bbb',\n        shadow: '#fff',\n        fallback: false\n    };\n\n    var ua = (function () {\n        var agent = navigator.userAgent.toLowerCase();\n        return function (browser) {\n            return agent.indexOf(browser) !== -1;\n        };\n    }());\n\n    var browser = {\n        ie: ua('msie'),\n        chrome: ua('chrome'),\n        webkit: ua('chrome') || ua('safari'),\n        safari: ua('safari') && !ua('chrome'),\n        mozilla: ua('mozilla') && !ua('chrome') && !ua('safari')\n    };\n\n    var getFaviconTag = function() {\n        var links = document.getElementsByTagName('link');\n\n        for (var i = 0, l = links.length; i < l; i++) {\n            if (typeof links[i] !== \"undefined\" && links[i] !== null && (links[i].getAttribute('rel') === 'icon' || links[i].getAttribute('rel') === 'shortcut icon')) {\n                return links[i];\n            }\n        }\n\n        return false;\n    };\n\n    var removeFaviconTag = function() {\n        var links = document.getElementsByTagName('link');\n        var head = document.getElementsByTagName('head')[0];\n\n        for (var i = 0, l = links.length; i < l; i++) {\n            if (typeof links[i] !== \"undefined\" && links[i] !== null && (links[i].getAttribute('rel') === 'icon' || links[i].getAttribute('rel') === 'shortcut icon')) {\n                head.removeChild(links[i]);\n            }\n        }\n    };\n\n    var setFaviconTag = function(url) {\n        removeFaviconTag();\n\n        var link = document.createElement('link');\n        link.type = 'image/x-icon';\n        link.rel = 'icon';\n        link.href = url;\n\n        document.getElementsByTagName('head')[0].appendChild(link);\n    };\n\n    var getCanvas = function () {\n        if (!canvas) {\n            canvas = document.createElement(\"canvas\");\n            canvas.width = 16;\n            canvas.height = 16;\n        }\n\n        return canvas;\n    };\n\n    var drawFavicon = function(percentage) {\n        var canvas = getCanvas();\n        var context = canvas.getContext(\"2d\");\n        var percentage = percentage || 0;\n        var src = currentFavicon;\n\n        var faviconImage = new Image();\n        faviconImage.onload = function() {\n            if (context) {\n                context.clearRect(0, 0, 16, 16);\n\n                // Draw shadow\n                context.beginPath();\n                context.moveTo(canvas.width / 2, canvas.height / 2);\n                context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2), 0, Math.PI * 2, false);\n                context.fillStyle = options.shadow;\n                context.fill();\n\n                // Draw background\n                context.beginPath();\n                context.moveTo(canvas.width / 2, canvas.height / 2);\n                context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2) - 2, 0, Math.PI * 2, false);\n                context.fillStyle = options.background;\n                context.fill();\n\n                // Draw pie\n                if (percentage > 0) {\n                    context.beginPath();\n                    context.moveTo(canvas.width / 2, canvas.height / 2);\n                    context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2) - 2, (-0.5) * Math.PI, (-0.5 + 2 * percentage / 100) * Math.PI, false);\n                    context.lineTo(canvas.width / 2, canvas.height / 2);\n                    context.fillStyle = options.color;\n                    context.fill();\n                }\n\n                setFaviconTag(canvas.toDataURL());\n            }\n        };\n\n        // allow cross origin resource requests if the image is not a data:uri\n        // as detailed here: https://github.com/mrdoob/three.js/issues/1305\n        if (!src.match(/^data/)) {\n            faviconImage.crossOrigin = 'anonymous';\n        }\n\n        faviconImage.src = src;\n    };\n\n    var updateTitle = function(percentage) {\n        if (percentage > 0) {\n            document.title = '(' + percentage + '%) ' + originalTitle;\n        } else {\n            document.title = originalTitle;\n        }\n    };\n\n    Piecon.setOptions = function(custom) {\n        options = {};\n\n        for (var key in defaults){\n            options[key] = custom.hasOwnProperty(key) ? custom[key] : defaults[key];\n        }\n\n        return this;\n    };\n\n    Piecon.setProgress = function(percentage) {\n        if (!originalTitle) {\n            originalTitle = document.title;\n        }\n\n        if (!originalFavicon || !currentFavicon) {\n            var tag = getFaviconTag();\n            originalFavicon = currentFavicon = tag ? tag.getAttribute('href') : '/favicon.ico';\n        }\n\n        if (!isNaN(parseFloat(percentage)) && isFinite(percentage)) {\n            if (!getCanvas().getContext || browser.ie || browser.safari || options.fallback == true) {\n                // Fallback to updating the browser title if unsupported\n                return updateTitle(percentage);\n            } else if (options.fallback === 'force') {\n                updateTitle(percentage);\n            }\n\n            return drawFavicon(percentage);\n        }\n\n        return false;\n    };\n\n    Piecon.reset = function() {\n        if (originalTitle) {\n            document.title = originalTitle;\n        }\n\n        if (originalFavicon) {\n            currentFavicon = originalFavicon;\n            setFaviconTag(currentFavicon);\n        }\n    };\n\n    Piecon.setOptions(defaults);\n    window.Piecon = Piecon;\n})();","/**\n * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill\n * v1.2.0\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-01-16\n */\n!function(e,t){\"use strict\";function n(e,t){for(var n,i=[],r=0;r<e.length;++r){if(n=s[e[r]]||o(e[r]),!n)throw\"module definition dependecy not found: \"+e[r];i.push(n)}t.apply(null,i)}function i(e,i,r){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(i===t)throw\"invalid module definition, dependencies must be specified\";if(r===t)throw\"invalid module definition, definition function must be specified\";n(i,function(){s[e]=r.apply(null,arguments)})}function r(e){return!!s[e]}function o(t){for(var n=e,i=t.split(/[.\\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function a(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],a=o.split(/[.\\/]/),u=0;u<a.length-1;++u)r[a[u]]===t&&(r[a[u]]={}),r=r[a[u]];r[a[a.length-1]]=s[o]}}var s={},u=\"moxie/core/utils/Basic\",c=\"moxie/core/I18n\",l=\"moxie/core/utils/Mime\",d=\"moxie/core/utils/Env\",f=\"moxie/core/utils/Dom\",p=\"moxie/core/Exceptions\",h=\"moxie/core/EventTarget\",m=\"moxie/core/utils/Encode\",g=\"moxie/runtime/Runtime\",v=\"moxie/runtime/RuntimeClient\",y=\"moxie/file/Blob\",w=\"moxie/file/File\",E=\"moxie/file/FileInput\",_=\"moxie/file/FileDrop\",x=\"moxie/runtime/RuntimeTarget\",R=\"moxie/file/FileReader\",b=\"moxie/core/utils/Url\",T=\"moxie/file/FileReaderSync\",S=\"moxie/xhr/FormData\",A=\"moxie/xhr/XMLHttpRequest\",O=\"moxie/runtime/Transporter\",I=\"moxie/image/Image\",D=\"moxie/runtime/html5/Runtime\",N=\"moxie/runtime/html5/file/Blob\",L=\"moxie/core/utils/Events\",M=\"moxie/runtime/html5/file/FileInput\",C=\"moxie/runtime/html5/file/FileDrop\",F=\"moxie/runtime/html5/file/FileReader\",H=\"moxie/runtime/html5/xhr/XMLHttpRequest\",P=\"moxie/runtime/html5/utils/BinaryReader\",k=\"moxie/runtime/html5/image/JPEGHeaders\",U=\"moxie/runtime/html5/image/ExifParser\",B=\"moxie/runtime/html5/image/JPEG\",z=\"moxie/runtime/html5/image/PNG\",G=\"moxie/runtime/html5/image/ImageInfo\",q=\"moxie/runtime/html5/image/MegaPixel\",X=\"moxie/runtime/html5/image/Image\",j=\"moxie/runtime/flash/Runtime\",V=\"moxie/runtime/flash/file/Blob\",W=\"moxie/runtime/flash/file/FileInput\",Y=\"moxie/runtime/flash/file/FileReader\",$=\"moxie/runtime/flash/file/FileReaderSync\",J=\"moxie/runtime/flash/xhr/XMLHttpRequest\",Z=\"moxie/runtime/flash/runtime/Transporter\",K=\"moxie/runtime/flash/image/Image\",Q=\"moxie/runtime/silverlight/Runtime\",et=\"moxie/runtime/silverlight/file/Blob\",tt=\"moxie/runtime/silverlight/file/FileInput\",nt=\"moxie/runtime/silverlight/file/FileDrop\",it=\"moxie/runtime/silverlight/file/FileReader\",rt=\"moxie/runtime/silverlight/file/FileReaderSync\",ot=\"moxie/runtime/silverlight/xhr/XMLHttpRequest\",at=\"moxie/runtime/silverlight/runtime/Transporter\",st=\"moxie/runtime/silverlight/image/Image\",ut=\"moxie/runtime/html4/Runtime\",ct=\"moxie/runtime/html4/file/FileInput\",lt=\"moxie/runtime/html4/file/FileReader\",dt=\"moxie/runtime/html4/xhr/XMLHttpRequest\",ft=\"moxie/runtime/html4/image/Image\";i(u,[],function(){var e=function(e){var t;return e===t?\"undefined\":null===e?\"null\":e.nodeType?\"node\":{}.toString.call(e).match(/\\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(i){var r;return n(arguments,function(o,s){s>0&&n(o,function(n,o){n!==r&&(e(i[o])===e(n)&&~a(e(n),[\"array\",\"object\"])?t(i[o],n):i[o]=n)})}),i},n=function(e,t){var n,i,r,o;if(e){try{n=e.length}catch(a){n=o}if(n===o){for(i in e)if(e.hasOwnProperty(i)&&t(e[i],i)===!1)return}else for(r=0;n>r;r++)if(t(e[r],r)===!1)return}},i=function(t){var n;if(!t||\"object\"!==e(t))return!0;for(n in t)return!1;return!0},r=function(t,n){function i(r){\"function\"===e(t[r])&&t[r](function(e){++r<o&&!e?i(r):n(e)})}var r=0,o=t.length;\"function\"!==e(n)&&(n=function(){}),t&&t.length||n(),i(r)},o=function(e,t){var i=0,r=e.length,o=new Array(r);n(e,function(e,n){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[n]=a,i++,i===r&&(o.unshift(null),t.apply(this,o))})})},a=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},s=function(t,n){var i=[];\"array\"!==e(t)&&(t=[t]),\"array\"!==e(n)&&(n=[n]);for(var r in t)-1===a(t[r],n)&&i.push(t[r]);return i.length?i:!1},u=function(e,t){var i=[];return n(e,function(e){-1!==a(e,t)&&i.push(e)}),i.length?i:null},c=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},l=function(){var e=0;return function(t){var n=(new Date).getTime().toString(32),i;for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||\"o_\")+n+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\\s*/,\"\").replace(/\\s*$/,\"\"):e},f=function(e){if(\"string\"!=typeof e)return e;var t={t:1099511627776,g:1073741824,m:1048576,k:1024},n;return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,\"\")),n=e[2],e=+e[1],t.hasOwnProperty(n)&&(e*=t[n]),e};return{guid:l,typeOf:e,extend:t,each:n,isEmptyObj:i,inSeries:r,inParallel:o,inArray:a,arrayDiff:s,arrayIntersect:u,toArray:c,trim:d,parseSizeStr:f}}),i(c,[u],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return\"undefined\"!==e.typeOf(t)?t:\"\"})}}}),i(l,[u,c],function(e,t){var n=\"application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe\",i={mimes:{},extensions:{},addMimeType:function(e){var t=e.split(/,/),n,i,r;for(n=0;n<t.length;n+=2){for(r=t[n+1].split(/ /),i=0;i<r.length;i++)this.mimes[r[i]]=t[n];this.extensions[t[n]]=r}},extList2mimes:function(t,n){var i=this,r,o,a,s,u=[];for(o=0;o<t.length;o++)for(r=t[o].extensions.split(/\\s*,\\s*/),a=0;a<r.length;a++){if(\"*\"===r[a])return[];if(s=i.mimes[r[a]])-1===e.inArray(s,u)&&u.push(s);else{if(!n||!/^\\w+$/.test(r[a]))return[];u.push(\".\"+r[a])}}return u},mimes2exts:function(t){var n=this,i=[];return e.each(t,function(t){if(\"*\"===t)return i=[],!1;var r=t.match(/^(\\w+)\\/(\\*|\\w+)$/);r&&(\"*\"===r[2]?e.each(n.extensions,function(e,t){new RegExp(\"^\"+r[1]+\"/\").test(t)&&[].push.apply(i,n.extensions[t])}):n.extensions[t]&&[].push.apply(i,n.extensions[t]))}),i},mimes2extList:function(n){var i=[],r=[];return\"string\"===e.typeOf(n)&&(n=e.trim(n).split(/\\s*,\\s*/)),r=this.mimes2exts(n),i.push({title:t.translate(\"Files\"),extensions:r.length?r.join(\",\"):\"*\"}),i.mimes=n,i},getFileExtension:function(e){var t=e&&e.match(/\\.([^.]+)$/);return t?t[1].toLowerCase():\"\"},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||\"\"}};return i.addMimeType(n),i}),i(d,[u],function(e){function t(e,t,n){var i=0,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,\"#\":-2,p:1,pl:1},s=function(e){return e=(\"\"+e).replace(/[_\\-+]/g,\".\"),e=e.replace(/([^.\\d]+)/g,\".$1.\").replace(/\\.{2,}/g,\".\"),e.length?e.split(\".\"):[-8]},u=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),i=0;r>i;i++)if(e[i]!=t[i]){if(e[i]=u(e[i]),t[i]=u(t[i]),e[i]<t[i]){o=-1;break}if(e[i]>t[i]){o=1;break}}if(!n)return o;switch(n){case\">\":case\"gt\":return o>0;case\">=\":case\"ge\":return o>=0;case\"<=\":case\"le\":return 0>=o;case\"==\":case\"=\":case\"eq\":return 0===o;case\"<>\":case\"!=\":case\"ne\":return 0!==o;case\"\":case\"<\":case\"lt\":return 0>o;default:return null}}var n=function(e){var t=\"\",n=\"?\",i=\"function\",r=\"undefined\",o=\"object\",a=\"major\",s=\"model\",u=\"name\",c=\"type\",l=\"vendor\",d=\"version\",f=\"architecture\",p=\"console\",h=\"mobile\",m=\"tablet\",g={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},v={rgx:function(){for(var t,n=0,a,s,u,c,l,d,f=arguments;n<f.length;n+=2){var p=f[n],h=f[n+1];if(typeof t===r){t={};for(u in h)c=h[u],typeof c===o?t[c[0]]=e:t[c]=e}for(a=s=0;a<p.length;a++)if(l=p[a].exec(this.getUA())){for(u=0;u<h.length;u++)d=l[++s],c=h[u],typeof c===o&&c.length>0?2==c.length?t[c[0]]=typeof c[1]==i?c[1].call(this,d):c[1]:3==c.length?t[c[0]]=typeof c[1]!==i||c[1].exec&&c[1].test?d?d.replace(c[1],c[2]):e:d?c[1].call(this,d,c[2]):e:4==c.length&&(t[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):e):t[c]=d?d:e;break}if(l)break}return t},str:function(t,i){for(var r in i)if(typeof i[r]===o&&i[r].length>0){for(var a=0;a<i[r].length;a++)if(g.has(i[r][a],t))return r===n?e:r}else if(g.has(i[r],t))return r===n?e:r;return t}},y={browser:{oldsafari:{major:{1:[\"/8\",\"/1\",\"/3\"],2:\"/4\",\"?\":\"/\"},version:{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}}},device:{sprint:{model:{\"Evo Shift 4G\":\"7373KT\"},vendor:{HTC:\"APA\",Sprint:\"Sprint\"}}},os:{windows:{version:{ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2000:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",RT:\"ARM\"}}}},w={browser:[[/(opera\\smini)\\/((\\d+)?[\\w\\.-]+)/i,/(opera\\s[mobiletab]+).+version\\/((\\d+)?[\\w\\.-]+)/i,/(opera).+version\\/((\\d+)?[\\w\\.]+)/i,/(opera)[\\/\\s]+((\\d+)?[\\w\\.]+)/i],[u,d,a],[/\\s(opr)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Opera\"],d,a],[/(kindle)\\/((\\d+)?[\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?((\\d+)?[\\w\\.]+)*/i,/(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?((\\d+)?[\\w\\.]*)/i,/(?:ms|\\()(ie)\\s((\\d+)?[\\w\\.]+)/i,/(rekonq)((?:\\/)[\\w\\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\\/((\\d+)?[\\w\\.-]+)/i],[u,d,a],[/(trident).+rv[:\\s]((\\d+)?[\\w\\.]+).+like\\sgecko/i],[[u,\"IE\"],d,a],[/(yabrowser)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Yandex\"],d,a],[/(comodo_dragon)\\/((\\d+)?[\\w\\.]+)/i],[[u,/_/g,\" \"],d,a],[/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?((\\d+)?[\\w\\.]+)/i],[u,d,a],[/(dolfin)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Dolphin\"],d,a],[/((?:android.+)crmo|crios)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Chrome\"],d,a],[/((?:android.+))version\\/((\\d+)?[\\w\\.]+)\\smobile\\ssafari/i],[[u,\"Android Browser\"],d,a],[/version\\/((\\d+)?[\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i],[d,a,[u,\"Mobile Safari\"]],[/version\\/((\\d+)?[\\w\\.]+).+?(mobile\\s?safari|safari)/i],[d,a,u],[/webkit.+?(mobile\\s?safari|safari)((\\/[\\w\\.]+))/i],[u,[a,v.str,y.browser.oldsafari.major],[d,v.str,y.browser.oldsafari.version]],[/(konqueror)\\/((\\d+)?[\\w\\.]+)/i,/(webkit|khtml)\\/((\\d+)?[\\w\\.]+)/i],[u,d,a],[/(navigator|netscape)\\/((\\d+)?[\\w\\.-]+)/i],[[u,\"Netscape\"],d,a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?((\\d+)?[\\w\\.\\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/((\\d+)?[\\w\\.-]+)/i,/(mozilla)\\/((\\d+)?[\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,/(uc\\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\\/\\s]?((\\d+)?[\\w\\.]+)/i,/(links)\\s\\(((\\d+)?[\\w\\.]+)/i,/(gobrowser)\\/?((\\d+)?[\\w\\.]+)*/i,/(ice\\s?browser)\\/v?((\\d+)?[\\w\\._]+)/i,/(mosaic)[\\/\\s]((\\d+)?[\\w\\.]+)/i],[u,d,a]],engine:[[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,/(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i],[u,d],[/rv\\:([\\w\\.]+).*(gecko)/i],[d,u]],os:[[/(windows)\\snt\\s6\\.2;\\s(arm)/i,/(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i],[u,[d,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i],[[u,\"Windows\"],[d,v.str,y.os.windows.version]],[/\\((bb)(10);/i],[[u,\"BlackBerry\"],d],[/(blackberry)\\w*\\/?([\\w\\.]+)*/i,/(tizen)\\/([\\w\\.]+)/i,/(android|webos|palm\\os|qnx|bada|rim\\stablet\\sos|meego)[\\/\\s-]?([\\w\\.]+)*/i],[u,d],[/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i],[[u,\"Symbian\"],d],[/mozilla.+\\(mobile;.+gecko.+firefox/i],[[u,\"Firefox OS\"],d],[/(nintendo|playstation)\\s([wids3portablevu]+)/i,/(mint)[\\/\\s\\(]?(\\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\\/\\s-]?([\\w\\.-]+)*/i,/(hurd|linux)\\s?([\\w\\.]+)*/i,/(gnu)\\s?([\\w\\.]+)*/i],[u,d],[/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i],[[u,\"Chromium OS\"],d],[/(sunos)\\s?([\\w\\.]+\\d)*/i],[[u,\"Solaris\"],d],[/\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i],[u,d],[/(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)/i],[[u,\"iOS\"],[d,/_/g,\".\"]],[/(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i],[u,[d,/_/g,\".\"]],[/(haiku)\\s(\\w+)/i,/(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos)/i,/(unix)\\s?([\\w\\.]+)*/i],[u,d]]},E=function(e){var n=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return v.rgx.apply(this,w.browser)},this.getEngine=function(){return v.rgx.apply(this,w.engine)},this.getOS=function(){return v.rgx.apply(this,w.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n)};return(new E).getResult()}(),i=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement(\"canvas\");return!(!e.getContext||!e.getContext(\"2d\"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,[\"\",\"text\",\"document\"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open(\"get\",\"/\"),\"responseType\"in n)return n.responseType=t,n.responseType!==t?!1:!0}}catch(i){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&(\"IE\"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement(\"input\");return e.setAttribute(\"type\",\"file\"),!e.disabled}};return function(n){var i=[].slice.call(arguments);return i.shift(),\"function\"===e.typeOf(t[n])?t[n].apply(this,i):!!t[n]}}(),r={can:i,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:\"../flash/Moxie.swf\",xap_url:\"../silverlight/Moxie.xap\",global_event_dispatcher:\"moxie.core.EventTarget.instance.dispatchEvent\"};return r.OS=r.os,r}),i(f,[d],function(e){var t=function(e){return\"string\"!=typeof e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var n=new RegExp(\"(^|\\\\s+)\"+t+\"(\\\\s+|$)\");return n.test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\\s+$/,\"\")+\" \"+t:t)},r=function(e,t){if(e.className){var n=new RegExp(\"(^|\\\\s+)\"+t+\"(\\\\s+|$)\");e.className=e.className.replace(n,function(e,t,n){return\" \"===t&&\" \"===n?\" \":\"\"})}},o=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t=\"CSS1Compat\"===s.compatMode?s.documentElement:s.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r=0,o=0,a,s=document,u,c;if(t=t,n=n||s.body,t&&t.getBoundingClientRect&&\"IE\"===e.browser&&(!s.documentMode||s.documentMode<8))return u=i(t),c=i(n),{x:u.x-c.x,y:u.y-c.y};for(a=t;a&&a!=n&&a.nodeType;)r+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=t.parentNode;a&&a!=n&&a.nodeType;)r-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;return{x:r,y:o}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:i,removeClass:r,getStyle:o,getPos:a,getSize:s}}),i(p,[u],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": RuntimeError \"+this.code}var i={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name=\"OperationNotAllowedException\"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": ImageError \"+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": FileException \"+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": DOMException \"+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name=\"EventException\"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),i(h,[p,u],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid(\"uid_\"))},addEventListener:function(e,i,r,o){var a=this,s;return e=t.trim(e),/\\s/.test(e)?(t.each(e.split(/\\s+/),function(e){a.addEventListener(e,i,r,o)}),void 0):(e=e.toLowerCase(),r=parseInt(r,10)||0,s=n[this.uid]&&n[this.uid][e]||[],s.push({fn:i,priority:r,scope:o||this}),n[this.uid]||(n[this.uid]={}),n[this.uid][e]=s,void 0)},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,i){e=e.toLowerCase();var r=n[this.uid]&&n[this.uid][e],o;if(r){if(i){for(o=r.length-1;o>=0;o--)if(r[o].fn===i){r.splice(o,1);break}}else r=[];r.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(i){var r,o,a,s,u={},c=!0,l;if(\"string\"!==t.typeOf(i)){if(s=i,\"string\"!==t.typeOf(s.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);i=s.type,s.total!==l&&s.loaded!==l&&(u.total=s.total,u.loaded=s.loaded),u.async=s.async||!1}if(-1!==i.indexOf(\"::\")?function(e){r=e[0],i=e[1]}(i.split(\"::\")):r=this.uid,i=i.toLowerCase(),o=n[r]&&n[r][i]){o.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),u.type=i,a.unshift(u);var d=[];t.each(o,function(e){a[0].target=e.scope,u.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),d.length&&t.inSeries(d,function(e){c=!e})}return c},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;\"array\"!==t.typeOf(e)&&(e=[e]);for(var i=0;i<e.length;i++)n=\"on\"+e[i],\"function\"===t.typeOf(this[n])?this.addEventListener(e[i],this[n]):\"undefined\"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),i(m,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if(\"function\"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",r,o,a,s,u,c,l,d,f=0,p=0,h=\"\",m=[];if(!e)return e;e+=\"\";do s=i.indexOf(e.charAt(f++)),u=i.indexOf(e.charAt(f++)),c=i.indexOf(e.charAt(f++)),l=i.indexOf(e.charAt(f++)),d=s<<18|u<<12|c<<6|l,r=255&d>>16,o=255&d>>8,a=255&d,m[p++]=64==c?String.fromCharCode(r):64==l?String.fromCharCode(r,o):String.fromCharCode(r,o,a);while(f<e.length);return h=m.join(\"\"),n?t(h):h},i=function(t,n){if(n&&e(t),\"function\"==typeof window.btoa)return window.btoa(t);var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",r,o,a,s,u,c,l,d,f=0,p=0,h=\"\",m=[];if(!t)return t;do r=t.charCodeAt(f++),o=t.charCodeAt(f++),a=t.charCodeAt(f++),d=r<<16|o<<8|a,s=63&d>>18,u=63&d>>12,c=63&d>>6,l=63&d,m[p++]=i.charAt(s)+i.charAt(u)+i.charAt(c)+i.charAt(l);while(f<t.length);h=m.join(\"\");var g=t.length%3;return(g?h.slice(0,g-3):h)+\"===\".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:i}}),i(g,[u,f,h],function(e,t,n){function i(n,r,a,s,u){var c=this,l,d=e.guid(r+\"_\"),f=u||\"browser\";n=n||{},o[d]=this,a=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},a),n.preferred_caps&&(f=i.getMode(s,n.preferred_caps,f)),l=function(){var t={};return{exec:function(e,n,i,r){return l[n]&&(t[e]||(t[e]={context:this,instance:new l[n]}),t[e].instance[i])?t[e].instance[i].apply(this,r):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,i){\"function\"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(i)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:i.getMode(s,n.required_caps,f),shimid:d+\"_container\",clients:0,options:n,can:function(t,n){var r=arguments[2]||a;if(\"string\"===e.typeOf(t)&&\"undefined\"===e.typeOf(n)&&(t=i.parseCaps(t)),\"object\"===e.typeOf(t)){for(var o in t)if(!this.can(o,t[o],r))return!1;return!0}return\"function\"===e.typeOf(r[t])?r[t].call(this,n):n===r[t]},getShimContainer:function(){var n,i=t.get(this.shimid);return i||(n=this.options.container?t.get(this.options.container):document.body,i=document.createElement(\"div\"),i.id=this.shimid,i.className=\"moxie-shim moxie-shim-\"+this.type,e.extend(i.style,{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"1px\",height:\"1px\",overflow:\"hidden\"}),n.appendChild(i),n=null),i},getShim:function(){return l},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return c[e]&&c[e][t]?c[e][t].apply(this,n):c.shimExec.apply(this,arguments)},destroy:function(){if(c){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete o[this.uid],this.uid=null,d=c=l=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var r={},o={};return i.order=\"html5,flash,silverlight,html4\",i.getRuntime=function(e){return o[e]?o[e]:!1},i.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},i.getConstructor=function(e){return r[e]||null},i.getInfo=function(e){var t=i.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},i.parseCaps=function(t){var n={};return\"string\"!==e.typeOf(t)?t||{}:(e.each(t.split(\",\"),function(e){n[e]=!0}),n)},i.can=function(e,t){var n,r=i.getConstructor(e),o;return r?(n=new r({required_caps:t}),o=n.mode,n.destroy(),!!o):!1},i.thatCan=function(e,t){var n=(t||i.order).split(/\\s*,\\s*/);for(var r in n)if(i.can(n[r],e))return n[r];return null},i.getMode=function(t,n,i){var r=null;if(\"undefined\"===e.typeOf(i)&&(i=\"browser\"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,i){if(t.hasOwnProperty(i)){var o=t[i](n);if(\"string\"==typeof o&&(o=[o]),r){if(!(r=e.arrayIntersect(r,o)))return r=!1}else r=o}}),r)return-1!==e.inArray(i,r)?i:r[0];if(r===!1)return!1}return i},i.capTrue=function(){return!0},i.capFalse=function(){return!1},i.capTest=function(e){return function(){return!!e}},i}),i(v,[p,u,g],function(e,t,n){return function i(){var i;t.extend(this,{connectRuntime:function(r){function o(t){var s,u;return t.length?(s=t.shift(),(u=n.getConstructor(s))?(i=new u(r),i.bind(\"Init\",function(){i.initialized=!0,setTimeout(function(){i.clients++,a.trigger(\"RuntimeInit\",i)},1)}),i.bind(\"Error\",function(){i.destroy(),o(t)}),i.mode?(i.init(),void 0):(i.trigger(\"Error\"),void 0)):(o(t),void 0)):(a.trigger(\"RuntimeError\",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),i=null,void 0)}var a=this,s;if(\"string\"===t.typeOf(r)?s=r:\"string\"===t.typeOf(r.ruid)&&(s=r.ruid),s){if(i=n.getRuntime(s))return i.clients++,i;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}o((r.runtime_order||n.order).split(/\\s*,\\s*/))},getRuntime:function(){return i&&i.uid?i:(i=null,null)},disconnectRuntime:function(){i&&--i.clients<=0&&(i.destroy(),i=null)}})}}),i(y,[u,m,v],function(e,t,n){function i(o,a){function s(t,n,o){var a,s=r[this.uid];return\"string\"===e.typeOf(s)&&s.length?(a=new i(null,{type:o,size:n-t}),a.detach(s.substr(t,a.size)),a):null}n.call(this),o&&this.connectRuntime(o),a?\"string\"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid(\"uid_\"),ruid:o,size:a.size||0,type:a.type||\"\",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,\"Blob\",\"slice\",this.getSource(),e,t,n)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,\"Blob\",\"destroy\",r[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||\"\";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf(\"base64,\")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&\"string\"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),a.data?this.detach(a.data):r[this.uid]=a}var r={};return i}),i(w,[u,l,y],function(e,t,n){function i(i,r){var o,a;if(r||(r={}),a=r.type&&\"\"!==r.type?r.type:t.getFileMime(r.name),r.name)o=r.name.replace(/\\\\/g,\"/\"),o=o.substr(o.lastIndexOf(\"/\")+1);else{var s=a.split(\"/\")[0];o=e.guid((\"\"!==s?s:\"file\")+\"_\"),t.extensions[a]&&(o+=\".\"+t.extensions[a][0])}n.apply(this,arguments),e.extend(this,{type:a||\"\",name:o||e.guid(\"file_\"),lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i}),i(E,[u,l,f,p,h,c,w,g,v],function(e,t,n,i,r,o,a,s,u){function c(r){var c=this,d,f,p;if(-1!==e.inArray(e.typeOf(r),[\"string\",\"node\"])&&(r={browse_button:r}),f=n.get(r.browse_button),!f)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);p={accept:[{title:o.translate(\"All Files\"),extensions:\"*\"}],name:\"file\",multiple:!1,required_caps:!1,container:f.parentNode||document.body},r=e.extend({},p,r),\"string\"==typeof r.required_caps&&(r.required_caps=s.parseCaps(r.required_caps)),\"string\"==typeof r.accept&&(r.accept=t.mimes2extList(r.accept)),d=n.get(r.container),d||(d=document.body),\"static\"===n.getStyle(d,\"position\")&&(d.style.position=\"relative\"),d=f=null,u.call(c),e.extend(c,{uid:e.guid(\"uid_\"),ruid:null,shimid:null,files:null,init:function(){c.convertEventPropsToHandlers(l),c.bind(\"RuntimeInit\",function(t,i){c.ruid=i.uid,c.shimid=i.shimid,c.bind(\"Ready\",function(){c.trigger(\"Refresh\")},999),c.bind(\"Change\",function(){var t=i.exec.call(c,\"FileInput\",\"getFiles\");c.files=[],e.each(t,function(e){return 0===e.size?!0:(c.files.push(new a(c.ruid,e)),void 0)})},999),c.bind(\"Refresh\",function(){var t,o,a,s;a=n.get(r.browse_button),s=n.get(i.shimid),a&&(t=n.getPos(a,n.get(r.container)),o=n.getSize(a),s&&e.extend(s.style,{top:t.y+\"px\",left:t.x+\"px\",width:o.w+\"px\",height:o.h+\"px\"})),s=a=null}),i.exec.call(c,\"FileInput\",\"init\",r)}),c.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,\"FileInput\",\"disable\",\"undefined\"===e.typeOf(t)?!0:t)},refresh:function(){c.trigger(\"Refresh\")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,\"FileInput\",\"destroy\"),this.disconnectRuntime()),\"array\"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var l=[\"ready\",\"change\",\"cancel\",\"mouseenter\",\"mouseleave\",\"mousedown\",\"mouseup\"];return c.prototype=r.instance,c}),i(_,[c,f,p,u,w,v,h,l],function(e,t,n,i,r,o,a,s){function u(n){var a=this,u;\"string\"==typeof n&&(n={drop_zone:n}),u={accept:[{title:e.translate(\"All Files\"),extensions:\"*\"}],required_caps:{drag_and_drop:!0}},n=\"object\"==typeof n?i.extend({},u,n):u,n.container=t.get(n.drop_zone)||document.body,\"static\"===t.getStyle(n.container,\"position\")&&(n.container.style.position=\"relative\"),\"string\"==typeof n.accept&&(n.accept=s.mimes2extList(n.accept)),o.call(a),i.extend(a,{uid:i.guid(\"uid_\"),ruid:null,files:null,init:function(){a.convertEventPropsToHandlers(c),a.bind(\"RuntimeInit\",function(e,t){a.ruid=t.uid,a.bind(\"Drop\",function(){var e=t.exec.call(a,\"FileDrop\",\"getFiles\");a.files=[],i.each(e,function(e){a.files.push(new r(a.ruid,e))})},999),t.exec.call(a,\"FileDrop\",\"init\",n),a.dispatchEvent(\"ready\")}),a.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,\"FileDrop\",\"destroy\"),this.disconnectRuntime()),this.files=null}})}var c=[\"ready\",\"dragenter\",\"dragleave\",\"drop\",\"error\"];return u.prototype=a.instance,u}),i(x,[u,v,h],function(e,t,n){function i(){this.uid=e.guid(\"uid_\"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i}),i(R,[u,m,p,h,y,w,x],function(e,t,n,i,r,o,a){function s(){function i(e,i){function l(e){o.readyState=s.DONE,o.error=e,o.trigger(\"error\"),d()}function d(){c.destroy(),c=null,o.trigger(\"loadend\")}function f(t){c.bind(\"Error\",function(e,t){l(t)}),c.bind(\"Progress\",function(e){o.result=t.exec.call(c,\"FileReader\",\"getResult\"),o.trigger(e)}),c.bind(\"Load\",function(e){o.readyState=s.DONE,o.result=t.exec.call(c,\"FileReader\",\"getResult\"),o.trigger(e),d()}),t.exec.call(c,\"FileReader\",\"read\",e,i)}if(c=new a,this.convertEventPropsToHandlers(u),this.readyState===s.LOADING)return l(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger(\"loadstart\"),i instanceof r)if(i.isDetached()){var p=i.getSource();switch(e){case\"readAsText\":case\"readAsBinaryString\":this.result=p;break;case\"readAsDataURL\":this.result=\"data:\"+i.type+\";base64,\"+t.btoa(p)}this.readyState=s.DONE,this.trigger(\"load\"),d()}else f(c.connectRuntime(i.ruid));else l(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var o=this,c;e.extend(this,{uid:e.guid(\"uid_\"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,\"readAsBinaryString\",e)},readAsDataURL:function(e){i.call(this,\"readAsDataURL\",e)},readAsText:function(e){i.call(this,\"readAsText\",e)\n},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),c&&c.getRuntime().exec.call(this,\"FileReader\",\"abort\"),this.trigger(\"abort\"),this.trigger(\"loadend\"))},destroy:function(){this.abort(),c&&(c.getRuntime().exec.call(this,\"FileReader\",\"destroy\"),c.disconnectRuntime()),o=c=null}})}var u=[\"loadstart\",\"progress\",\"load\",\"abort\",\"error\",\"loadend\"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),i(b,[],function(){var e=function(t,n){for(var i=[\"source\",\"scheme\",\"authority\",\"userInfo\",\"user\",\"pass\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],r=i.length,o={http:80,https:443},a={},s=/^(?:([^:\\/?#]+):)?(?:\\/\\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?()(?:(()(?:(?:[^?#\\/]*\\/)*)()(?:[^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,u=s.exec(t||\"\");r--;)u[r]&&(a[i[r]]=u[r]);if(!a.scheme){n&&\"string\"!=typeof n||(n=e(n||document.location.href)),a.scheme=n.scheme,a.host=n.host,a.port=n.port;var c=\"\";/^[^\\/]/.test(a.path)&&(c=n.path,/(\\/|\\/[^\\.]+)$/.test(c)?c+=\"/\":c=c.replace(/\\/[^\\/]+$/,\"/\")),a.path=c+(a.path||\"\")}return a.port||(a.port=o[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path=\"/\"),delete a.source,a},t=function(t){var n={http:80,https:443},i=e(t);return i.scheme+\"://\"+i.host+(i.port!==n[i.scheme]?\":\"+i.port:\"\")+i.path+(i.query?i.query:\"\")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join(\"/\")}return\"string\"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),i(T,[u,v,m],function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,\"FileReaderSync\",\"read\",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case\"readAsBinaryString\":return r;case\"readAsDataURL\":return\"data:\"+t.type+\";base64,\"+n.btoa(r);case\"readAsText\":for(var o=\"\",a=0,s=r.length;s>a;a++)o+=String.fromCharCode(r[a]);return o}}t.call(this),e.extend(this,{uid:e.guid(\"uid_\"),readAsBinaryString:function(e){return i.call(this,\"readAsBinaryString\",e)},readAsDataURL:function(e){return i.call(this,\"readAsDataURL\",e)},readAsText:function(e){return i.call(this,\"readAsText\",e)}})}}),i(S,[p,u,y],function(e,t,n){function i(){var e,i=[];t.extend(this,{append:function(r,o){var a=this,s=t.typeOf(o);o instanceof n?e={name:r,value:o}:\"array\"===s?(r+=\"[]\",t.each(o,function(e){a.append(r,e)})):\"object\"===s?t.each(o,function(e,t){a.append(r+\"[\"+t+\"]\",e)}):\"null\"===s||\"undefined\"===s||\"number\"===s&&isNaN(o)?a.append(r,\"false\"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}return i}),i(A,[u,p,h,m,b,g,x,y,T,S,d,l],function(e,t,n,i,r,o,a,s,u,c,l,d){function f(){this.uid=e.guid(\"uid_\")}function p(){function n(e,t){return y.hasOwnProperty(e)?1===arguments.length?l.can(\"define_property\")?y[e]:v[e]:(l.can(\"define_property\")?y[e]=t:v[e]=t,void 0):void 0}function u(t){function i(){k.destroy(),k=null,s.dispatchEvent(\"loadend\"),s=null}function r(r){k.bind(\"LoadStart\",function(e){n(\"readyState\",p.LOADING),s.dispatchEvent(\"readystatechange\"),s.dispatchEvent(e),I&&s.upload.dispatchEvent(e)}),k.bind(\"Progress\",function(e){n(\"readyState\")!==p.LOADING&&(n(\"readyState\",p.LOADING),s.dispatchEvent(\"readystatechange\")),s.dispatchEvent(e)}),k.bind(\"UploadProgress\",function(e){I&&s.upload.dispatchEvent({type:\"progress\",lengthComputable:!1,total:e.total,loaded:e.loaded})}),k.bind(\"Load\",function(t){n(\"readyState\",p.DONE),n(\"status\",Number(r.exec.call(k,\"XMLHttpRequest\",\"getStatus\")||0)),n(\"statusText\",h[n(\"status\")]||\"\"),n(\"response\",r.exec.call(k,\"XMLHttpRequest\",\"getResponse\",n(\"responseType\"))),~e.inArray(n(\"responseType\"),[\"text\",\"\"])?n(\"responseText\",n(\"response\")):\"document\"===n(\"responseType\")&&n(\"responseXML\",n(\"response\")),U=r.exec.call(k,\"XMLHttpRequest\",\"getAllResponseHeaders\"),s.dispatchEvent(\"readystatechange\"),n(\"status\")>0?(I&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(N=!0,s.dispatchEvent(\"error\")),i()}),k.bind(\"Abort\",function(e){s.dispatchEvent(e),i()}),k.bind(\"Error\",function(e){N=!0,n(\"readyState\",p.DONE),s.dispatchEvent(\"readystatechange\"),D=!0,s.dispatchEvent(e),i()}),r.exec.call(k,\"XMLHttpRequest\",\"send\",{url:E,method:_,async:w,user:R,password:b,headers:x,mimeType:S,encoding:T,responseType:s.responseType,withCredentials:s.withCredentials,options:P},t)}var s=this;M=(new Date).getTime(),k=new a,\"string\"==typeof P.required_caps&&(P.required_caps=o.parseCaps(P.required_caps)),P.required_caps=e.extend({},P.required_caps,{return_response_type:s.responseType}),t instanceof c&&(P.required_caps.send_multipart=!0),L||(P.required_caps.do_cors=!0),P.ruid?r(k.connectRuntime(P)):(k.bind(\"RuntimeInit\",function(e,t){r(t)}),k.bind(\"RuntimeError\",function(e,t){s.dispatchEvent(\"RuntimeError\",t)}),k.connectRuntime(P))}function g(){n(\"responseText\",\"\"),n(\"responseXML\",null),n(\"response\",null),n(\"status\",0),n(\"statusText\",\"\"),M=C=null}var v=this,y={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:\"\",responseType:\"\",responseXML:null,responseText:null,response:null},w=!0,E,_,x={},R,b,T=null,S=null,A=!1,O=!1,I=!1,D=!1,N=!1,L=!1,M,C,F=null,H=null,P={},k,U=\"\",B;e.extend(this,y,{uid:e.guid(\"uid_\"),upload:new f,open:function(o,a,s,u,c){var l;if(!o||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\\u0100-\\uffff]/.test(o)||i.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),[\"CONNECT\",\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\",\"TRACE\",\"TRACK\"])&&(_=o.toUpperCase()),~e.inArray(_,[\"CONNECT\",\"TRACE\",\"TRACK\"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=i.utf8_encode(a),l=r.parseUrl(a),L=r.hasSameOrigin(l),E=r.resolveUrl(a),(u||c)&&!L)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(R=u||l.user,b=c||l.pass,w=s||!0,w===!1&&(n(\"timeout\")||n(\"withCredentials\")||\"\"!==n(\"responseType\")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!w,O=!1,x={},g.call(this),n(\"readyState\",p.OPENED),this.convertEventPropsToHandlers([\"readystatechange\"]),this.dispatchEvent(\"readystatechange\")},setRequestHeader:function(r,o){var a=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"content-transfer-encoding\",\"date\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"user-agent\",\"via\"];if(n(\"readyState\")!==p.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\\u0100-\\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),~e.inArray(r,a)||/^(proxy\\-|sec\\-)/.test(r)?!1:(x[r]?x[r]+=\", \"+o:x[r]=o,!0)},getAllResponseHeaders:function(){return U||\"\"},getResponseHeader:function(t){return t=t.toLowerCase(),N||~e.inArray(t,[\"set-cookie\",\"set-cookie2\"])?null:U&&\"\"!==U&&(B||(B={},e.each(U.split(/\\r\\n/),function(t){var n=t.split(/:\\s+/);2===n.length&&(n[0]=e.trim(n[0]),B[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),B.hasOwnProperty(t))?B[t].header+\": \"+B[t].value:null},overrideMimeType:function(i){var r,o;if(~e.inArray(n(\"readyState\"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\\scharset\\=)?(.*)$/))&&(i=r[1],r[2]&&(o=r[2])),!d.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR);F=i,H=o},send:function(n,r){if(P=\"string\"===e.typeOf(r)?{ruid:r}:r?r:{},this.convertEventPropsToHandlers(m),this.upload.convertEventPropsToHandlers(m),this.readyState!==p.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)P.ruid=n.ruid,S=n.type||\"application/octet-stream\";else if(n instanceof c){if(n.hasBlob()){var o=n.getBlob();P.ruid=o.ruid,S=o.type||\"application/octet-stream\"}}else\"string\"==typeof n&&(T=\"UTF-8\",S=\"text/plain;charset=UTF-8\",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=P.required_caps&&P.required_caps.send_browser_cookies&&!L),I=!A&&this.upload.hasEventListener(),N=!1,D=!n,A||(O=!0),u.call(this,n)},abort:function(){if(N=!0,A=!1,~e.inArray(n(\"readyState\"),[p.UNSENT,p.OPENED,p.DONE]))n(\"readyState\",p.UNSENT);else{if(n(\"readyState\",p.DONE),O=!1,!k)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);k.getRuntime().exec.call(k,\"XMLHttpRequest\",\"abort\",D),D=!0}},destroy:function(){k&&(\"function\"===e.typeOf(k.destroy)&&k.destroy(),k=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var h={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"Reserved\",307:\"Temporary Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Request Entity Too Large\",414:\"Request-URI Too Long\",415:\"Unsupported Media Type\",416:\"Requested Range Not Satisfiable\",417:\"Expectation Failed\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",426:\"Upgrade Required\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",510:\"Not Extended\"};f.prototype=n.instance;var m=[\"loadstart\",\"progress\",\"abort\",\"error\",\"load\",\"timeout\",\"loadend\"],g=1,v=2;return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),i(O,[u,m,v,h],function(e,t,n,i){function r(){function i(){l=d=0,c=this.result=null}function o(t,n){var i=this;u=n,i.bind(\"TransportingProgress\",function(t){d=t.loaded,l>d&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&a.call(i)},999),i.bind(\"TransportingComplete\",function(){d=l,i.state=r.DONE,c=null,i.result=u.exec.call(i,\"Transporter\",\"getAsBlob\",t||\"\")},999),i.state=r.BUSY,i.trigger(\"TransportingStarted\"),a.call(i)}function a(){var e=this,n,i=l-d;f>i&&(f=i),n=t.btoa(c.substr(d,f)),u.exec.call(e,\"Transporter\",\"receive\",n,l)}var s,u,c,l,d,f;n.call(this),e.extend(this,{uid:e.guid(\"uid_\"),state:r.IDLE,result:null,transport:function(t,n,r){var a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),f=r.chunk_size,i.call(this),c=t,l=t.length,\"string\"===e.typeOf(r)||r.ruid)o.call(a,n,this.connectRuntime(r));else{var u=function(e,t){a.unbind(\"RuntimeInit\",u),o.call(a,n,t)};this.bind(\"RuntimeInit\",u),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,u&&(u.exec.call(e,\"Transporter\",\"clear\"),e.trigger(\"TransportingAborted\")),i.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),i(I,[u,f,p,T,A,g,v,O,d,h,y,w,m],function(e,t,n,i,r,o,a,s,u,c,l,d,f){function p(){function i(e){e||(e=this.getRuntime().exec.call(this,\"Image\",\"getInfo\")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,\"\"===this.name&&(this.name=e.name)}function c(t){var i=e.typeOf(t);try{if(t instanceof p){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,[\"image/jpeg\",\"image/png\"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(i,[\"blob\",\"file\"]))c.call(this,new d(null,t),arguments[1]);else if(\"string\"===i)/^data:[^;]*;base64,/.test(t)?c.call(this,new l(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if(\"node\"!==i||\"img\"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(r){this.trigger(\"error\",r)}}function m(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,\"Image\",\"loadFromImage\",t,\"undefined\"===e.typeOf(n)?!0:n)}function g(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,\"Image\",\"loadFromBlob\",t)}var r=this;r.name=t.name||\"\",t.isDetached()?(this.bind(\"RuntimeInit\",function(e,t){i(t)}),n&&\"string\"==typeof n.required_caps&&(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function v(e,t){var n=this,i;i=new r,i.open(\"get\",e),i.responseType=\"blob\",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind(\"RuntimeError\",function(e,t){n.trigger(\"RuntimeError\",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid(\"uid_\"),ruid:null,name:\"\",size:0,width:0,height:0,type:\"\",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind(\"Load Resize\",function(){i.call(this)},999),this.convertEventPropsToHandlers(h),c.apply(this,arguments)},downsize:function(t,i,r,o){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&&!i||\"undefined\"===e.typeOf(r))&&(r=!1),t=t||this.width,i=i||this.height,o=\"undefined\"===e.typeOf(o)?!0:!!o,this.getRuntime().exec.call(this,\"Image\",\"downsize\",t,i,r,o)}catch(a){this.trigger(\"error\",a)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!u.can(\"create_canvas\"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,\"Image\",\"getAsCanvas\")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e=\"image/jpeg\"),\"image/jpeg\"!==e||t||(t=90),this.getRuntime().exec.call(this,\"Image\",\"getAsBlob\",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,\"Image\",\"getAsDataURL\",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return f.atob(n.substring(n.indexOf(\"base64,\")+7))},embed:function(i){function r(){if(u.can(\"create_canvas\")){var t=a.getAsCanvas();if(t)return i.appendChild(t),t=null,a.destroy(),o.trigger(\"embedded\"),void 0}var r=a.getAsDataURL(c,l);if(!r)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(u.can(\"use_data_uri_of\",r.length))i.innerHTML='<img src=\"'+r+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" />',a.destroy(),o.trigger(\"embedded\");else{var d=new s;d.bind(\"TransportingComplete\",function(){v=o.connectRuntime(this.result.ruid),o.bind(\"Embedded\",function(){e.extend(v.getShimContainer().style,{top:\"0px\",left:\"0px\",width:a.width+\"px\",height:a.height+\"px\"}),v=null},999),v.exec.call(o,\"ImageView\",\"display\",this.result.uid,m,g),a.destroy()}),d.transport(f.atob(r.substring(r.indexOf(\"base64,\")+7)),c,e.extend({},h,{required_caps:{display_media:!0},runtime_order:\"flash,silverlight\",container:i}))}}var o=this,a,c,l,d,h=arguments[1]||{},m=this.width,g=this.height,v;try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(c=h.type||this.type||\"image/jpeg\",l=h.quality||90,d=\"undefined\"!==e.typeOf(h.crop)?h.crop:!1,h.width)m=h.width,g=h.height||m;else{var y=t.getSize(i);y.w&&y.h&&(m=y.w,g=y.h)}return a=new p,a.bind(\"Resize\",function(){r.call(o)}),a.bind(\"Load\",function(){a.downsize(m,g,d,!1)}),a.clone(this,!1),a}catch(w){this.trigger(\"error\",w)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,\"Image\",\"destroy\"),this.disconnectRuntime()),this.unbindAll()}})}var h=[\"progress\",\"load\",\"error\",\"resize\",\"embedded\"];return p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=c.instance,p}),i(D,[u,p,g,d],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue,c=e.extend({access_binary:s(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can(\"access_binary\")&&!!a.Image},display_media:s(i.can(\"create_canvas\")||i.can(\"use_data_uri_over32kb\")),do_cors:s(window.XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest),drag_and_drop:s(function(){var e=document.createElement(\"div\");return(\"draggable\"in e||\"ondragstart\"in e&&\"ondrop\"in e)&&(\"IE\"!==i.browser||i.version>9)}()),filter_by_extension:s(function(){return\"Chrome\"===i.browser&&i.version>=28||\"IE\"===i.browser&&i.version>=10}()),return_response_headers:u,return_response_type:function(e){return\"json\"===e&&window.JSON?!0:i.can(\"return_response_type\",e)},return_status_code:u,report_upload_progress:s(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can(\"access_binary\")&&i.can(\"create_canvas\")},select_file:function(){return i.can(\"use_fileinput\")&&window.File},select_folder:function(){return r.can(\"select_file\")&&\"Chrome\"===i.browser&&i.version>=21},select_multiple:function(){return!(!r.can(\"select_file\")||\"Safari\"===i.browser&&\"Windows\"===i.os||\"iOS\"===i.os&&i.verComp(i.osVersion,\"7.0.4\",\"<\"))},send_binary_string:s(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can(\"send_binary_string\")},slice_blob:s(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can(\"slice_blob\")&&r.can(\"send_multipart\")},summon_file_dialog:s(function(){return\"Firefox\"===i.browser&&i.version>=4||\"Opera\"===i.browser&&i.version>=12||\"IE\"===i.browser&&i.version>=10||!!~e.inArray(i.browser,[\"Chrome\",\"Safari\"])}()),upload_filesize:u},arguments[2]);n.call(this,t,arguments[1]||o,c),e.extend(this,{init:function(){this.trigger(\"Init\")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o=\"html5\",a={};return n.addConstructor(o,r),a}),i(N,[D,y],function(e,t){function n(){function e(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(r){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),i(L,[u],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r=\"moxie_\"+e.guid(),o=function(o,a,s,u){var c,l;a=a.toLowerCase(),o.addEventListener?(c=s,o.addEventListener(a,c,!1)):o.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},o.attachEvent(\"on\"+a,c)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),l=i[o[r]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:c,orig:s,key:u})},a=function(t,n,o){var a,s;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){a=i[t[r]][n];for(var u=a.length-1;u>=0&&(a[u].orig!==o&&a[u].key!==o||(t.removeEventListener?t.removeEventListener(n,a[u].func,!1):t.detachEvent&&t.detachEvent(\"on\"+n,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(c){t[r]=s}}}},s=function(t,n){t&&t[r]&&e.each(i[t[r]],function(e,i){a(t,i,n)})};return{addEvent:o,removeEvent:a,removeAllEvents:s}}),i(M,[D,u,f,L,l,d],function(e,t,n,i,r,o){function a(){var e=[],a;t.extend(this,{init:function(s){var u=this,c=u.getRuntime(),l,d,f,p,h,m;a=s,e=[],f=a.accept.mimes||r.extList2mimes(a.accept,c.can(\"filter_by_extension\")),d=c.getShimContainer(),d.innerHTML='<input id=\"'+c.uid+'\" type=\"file\" style=\"font-size:999px;opacity:0;\"'+(a.multiple&&c.can(\"select_multiple\")?\"multiple\":\"\")+(a.directory&&c.can(\"select_folder\")?\"webkitdirectory directory\":\"\")+(f?' accept=\"'+f.join(\",\")+'\"':\"\")+\" />\",l=n.get(c.uid),t.extend(l.style,{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),p=n.get(a.browse_button),c.can(\"summon_file_dialog\")&&(\"static\"===n.getStyle(p,\"position\")&&(p.style.position=\"relative\"),h=parseInt(n.getStyle(p,\"z-index\"),10)||1,p.style.zIndex=h,d.style.zIndex=h-1,i.addEvent(p,\"click\",function(e){var t=n.get(c.uid);t&&!t.disabled&&t.click(),e.preventDefault()},u.uid)),m=c.can(\"summon_file_dialog\")?p:d,i.addEvent(m,\"mouseover\",function(){u.trigger(\"mouseenter\")},u.uid),i.addEvent(m,\"mouseout\",function(){u.trigger(\"mouseleave\")},u.uid),i.addEvent(m,\"mousedown\",function(){u.trigger(\"mousedown\")},u.uid),i.addEvent(n.get(a.container),\"mouseup\",function(){u.trigger(\"mouseup\")},u.uid),l.onchange=function g(){if(e=[],a.directory?t.each(this.files,function(t){\".\"!==t.name&&e.push(t)}):e=[].slice.call(this.files),\"IE\"!==o.browser)this.value=\"\";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=g}u.trigger(\"change\")},u.trigger({type:\"ready\",async:!0}),d=null},getFiles:function(){return e},disable:function(e){var t=this.getRuntime(),i;(i=n.get(t.uid))&&(i.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),o=t.getShimContainer();i.removeAllEvents(o,this.uid),i.removeAllEvents(a&&n.get(a.container),this.uid),i.removeAllEvents(a&&n.get(a.browse_button),this.uid),o&&(o.innerHTML=\"\"),r.removeInstance(this.uid),e=a=o=r=null}})}return e.FileInput=a}),i(C,[D,u,f,L,l],function(e,t,n,i,r){function o(){function e(e){for(var n=[],i=0;i<e.length;i++)[].push.apply(n,e[i].extensions.split(/\\s*,\\s*/));return-1===t.inArray(\"*\",n)?n:[]}function o(e){var n=r.getFileExtension(e.name);return!n||!d.length||-1!==t.inArray(n,d)}function a(e,n){var i=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();o(n)&&l.push(n)}else i.push(t)}),i.length?s(i,n):n()}function s(e,n){var i=[];t.each(e,function(e){i.push(function(t){u(e,t)})}),t.inSeries(i,function(){n()})}function u(e,t){e.isFile?e.file(function(e){o(e)&&l.push(e),t()},function(){t()}):e.isDirectory?c(e,t):t()}function c(e,t){function n(e){r.readEntries(function(t){t.length?([].push.apply(i,t),n(e)):e()},e)}var i=[],r=e.createReader();n(function(){s(i,t)})}var l=[],d=[],f;t.extend(this,{init:function(n){var r=this,s;f=n,d=e(f.accept),s=f.container,i.addEvent(s,\"dragover\",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=\"copy\"},r.uid),i.addEvent(s,\"drop\",function(e){e.preventDefault(),e.stopPropagation(),l=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?a(e.dataTransfer.items,function(){r.trigger(\"drop\")}):(t.each(e.dataTransfer.files,function(e){o(e)&&l.push(e)}),r.trigger(\"drop\"))},r.uid),i.addEvent(s,\"dragenter\",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(\"dragenter\")},r.uid),i.addEvent(s,\"dragleave\",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(\"dragleave\")},r.uid)},getFiles:function(){return l},destroy:function(){i.removeAllEvents(f&&n.get(f.container),this.uid),l=d=f=null}})}return e.FileDrop=o}),i(F,[D,m,u],function(e,t,n){function i(){function e(e){return t.atob(e.substring(e.indexOf(\"base64,\")+7))}var i,r=!1;n.extend(this,{read:function(e,t){var o=this;i=new window.FileReader,i.addEventListener(\"progress\",function(e){o.trigger(e)}),i.addEventListener(\"load\",function(e){o.trigger(e)}),i.addEventListener(\"error\",function(e){o.trigger(e,i.error)}),i.addEventListener(\"loadend\",function(){i=null}),\"function\"===n.typeOf(i[e])?(r=!1,i[e](t.getSource())):\"readAsBinaryString\"===e&&(r=!0,i.readAsDataURL(t.getSource()))},getResult:function(){return i&&i.result?r?e(i.result):i.result:null},abort:function(){i&&i.abort()},destroy:function(){i=null}})}return e.FileReader=i}),i(H,[D,u,l,b,w,y,S,p,d],function(e,t,n,i,r,o,a,s,u){function c(){function e(e,t){var n=this,i,r;i=t.getBlob().getSource(),r=new window.FileReader,r.onload=function(){t.append(t.getBlobName(),new o(null,{type:i.type,data:r.result})),f.send.call(n,e,t)},r.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||\"IE\"===u.browser&&u.version<8?function(){for(var e=[\"Msxml2.XMLHTTP.6.0\",\"Microsoft.XMLHTTP\"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function l(e){var t=e.responseXML,n=e.responseText;return\"IE\"===u.browser&&n&&t&&!t.documentElement&&/[^\\/]+\\/[^\\+]+\\+xml/.test(e.getResponseHeader(\"Content-Type\"))&&(t=new window.ActiveXObject(\"Microsoft.XMLDOM\"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&(\"IE\"===u.browser&&0!==t.parseError||!t.documentElement||\"parsererror\"===t.documentElement.tagName)?null:t}function d(e){var t=\"----moxieboundary\"+(new Date).getTime(),n=\"--\",i=\"\\r\\n\",r=\"\",a=this.getRuntime();if(!a.can(\"send_binary_string\"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader(\"Content-Type\",\"multipart/form-data; boundary=\"+t),e.each(function(e,a){r+=e instanceof o?n+t+i+'Content-Disposition: form-data; name=\"'+a+'\"; filename=\"'+unescape(encodeURIComponent(e.name||\"blob\"))+'\"'+i+\"Content-Type: \"+(e.type||\"application/octet-stream\")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name=\"'+a+'\"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var f=this,p,h;t.extend(this,{send:function(n,r){var s=this,l=\"Mozilla\"===u.browser&&u.version>=4&&u.version<7,f=\"Android Browser\"===u.browser,m=!1;if(h=n.url.replace(/^.+?\\/([\\w\\-\\.]+)$/,\"$1\").toLowerCase(),p=c(),p.open(n.method,n.url,n.async,n.user,n.password),r instanceof o)r.isDetached()&&(m=!0),r=r.getSource();else if(r instanceof a){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),m=!0;else if((l||f)&&\"blob\"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return e.call(s,n,r),void 0;if(r instanceof a){var g=new window.FormData;r.each(function(e,t){e instanceof o?g.append(t,e.getSource()):g.append(t,e)}),r=g}}p.upload?(n.withCredentials&&(p.withCredentials=!0),p.addEventListener(\"load\",function(e){s.trigger(e)}),p.addEventListener(\"error\",function(e){s.trigger(e)}),p.addEventListener(\"progress\",function(e){s.trigger(e)}),p.upload.addEventListener(\"progress\",function(e){s.trigger({type:\"UploadProgress\",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function v(){switch(p.readyState){case 1:break;case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=p.getResponseHeader(\"Content-Length\")||0),p.responseText&&(t=p.responseText.length)}catch(r){e=t=0}s.trigger({type:\"progress\",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:p.onreadystatechange=function(){},0===p.status?s.trigger(\"error\"):s.trigger(\"load\")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),\"\"!==n.responseType&&\"responseType\"in p&&(p.responseType=\"json\"!==n.responseType||u.can(\"return_response_type\",\"json\")?n.responseType:\"text\"),m?p.sendAsBinary?p.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);p.send(e.buffer)}():p.send(r),s.trigger(\"loadstart\")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case\"blob\":var i=new r(t.uid,p.response),o=p.getResponseHeader(\"Content-Disposition\");if(o){var a=o.match(/filename=([\\'\\\"'])([^\\1]+)\\1/);a&&(h=a[2])}return i.name=h,i.type||(i.type=n.getFileMime(h)),i;case\"json\":return u.can(\"return_response_type\",\"json\")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case\"document\":return l(p);default:return\"\"!==p.responseText?p.responseText:null}}catch(s){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return\"\"},abort:function(){p&&p.abort()},destroy:function(){f=h=null}})}return e.XMLHttpRequest=c}),i(P,[],function(){return function(){function e(e,t){var n=r?0:-8*(t-1),i=0,a;for(a=0;t>a;a++)i|=o.charCodeAt(e+a)<<Math.abs(n+8*a);return i}function n(e,t,n){n=3===arguments.length?n:o.length-t-1,o=o.substr(0,t)+e+o.substr(n+t)}function i(e,t,i){var o=\"\",a=r?0:-8*(i-1),s;for(s=0;i>s;s++)o+=String.fromCharCode(255&t>>Math.abs(a+8*s));n(o,e,i)}var r=!1,o;return{II:function(e){return e===t?r:(r=e,void 0)},init:function(e){r=!1,o=e},SEGMENT:function(e,t,i){switch(arguments.length){case 1:return o.substr(e,o.length-e-1);case 2:return o.substr(e,t);case 3:n(i,e,t);break;default:return o}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,r){return r===t?e(n,4):(i(n,r,4),void 0)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i=\"\";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}}),i(k,[P],function(e){return function t(n){var i=[],r,o,a,s=0;if(r=new e,r.init(n),65496===r.SHORT(0)){for(o=2;o<=n.length;)if(a=r.SHORT(o),a>=65488&&65495>=a)o+=2;else{if(65498===a||65497===a)break;s=r.SHORT(o+2)+2,a>=65505&&65519>=a&&i.push({hex:a,name:\"APP\"+(15&a),start:o,length:s,segment:r.SEGMENT(o,s)}),o+=s}return r.init(null),{headers:i,restore:function(e){var t,n;for(r.init(e),o=65504==r.SHORT(2)?4+r.SHORT(4):2,n=0,t=i.length;t>n;n++)r.SEGMENT(o,0,i[n].segment),o+=i[n].length;return e=r.SEGMENT(),r.init(null),e},strip:function(e){var n,i,o;for(i=new t(e),n=i.headers,i.purge(),r.init(e),o=n.length;o--;)r.SEGMENT(n[o].start,n[o].length,\"\");return e=r.SEGMENT(),r.init(null),e},get:function(e){for(var t=[],n=0,r=i.length;r>n;n++)i[n].name===e.toUpperCase()&&t.push(i[n].segment);return t},set:function(e,t){var n=[],r,o,a;for(\"string\"==typeof t?n.push(t):n=t,r=o=0,a=i.length;a>r&&(i[r].name===e.toUpperCase()&&(i[r].segment=n[o],i[r].length=n[o].length,o++),!(o>=n.length));r++);},purge:function(){i=[],r.init(null),r=null}}}}}),i(U,[u,P],function(e,n){return function i(){function i(e,n){var i=a.SHORT(e),r,o,s,u,d,f,p,h,m=[],g={};for(r=0;i>r;r++)if(p=f=e+12*r+2,s=n[a.SHORT(p)],s!==t){switch(u=a.SHORT(p+=2),d=a.LONG(p+=2),p+=4,m=[],u){case 1:case 7:for(d>4&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.BYTE(p+o);break;case 2:d>4&&(p=a.LONG(p)+c.tiffHeader),g[s]=a.STRING(p,d-1);continue;case 3:for(d>2&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.SHORT(p+2*o);break;case 4:for(d>1&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.LONG(p+4*o);break;case 5:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.LONG(p+4*o)/a.LONG(p+4*o+4);break;case 9:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.SLONG(p+4*o);break;case 10:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.SLONG(p+4*o)/a.SLONG(p+4*o+4);break;default:continue}h=1==d?m[0]:m,g[s]=l.hasOwnProperty(s)&&\"object\"!=typeof h?l[s][h]:h}return g}function r(){var e=c.tiffHeader;return a.II(18761==a.SHORT(e)),42!==a.SHORT(e+=2)?!1:(c.IFD0=c.tiffHeader+a.LONG(e+=2),u=i(c.IFD0,s.tiff),\"ExifIFDPointer\"in u&&(c.exifIFD=c.tiffHeader+u.ExifIFDPointer,delete u.ExifIFDPointer),\"GPSInfoIFDPointer\"in u&&(c.gpsIFD=c.tiffHeader+u.GPSInfoIFDPointer,delete u.GPSInfoIFDPointer),!0)}function o(e,t,n){var i,r,o,u=0;if(\"string\"==typeof t){var l=s[e.toLowerCase()];for(var d in l)if(l[d]===t){t=d;break}}i=c[e.toLowerCase()+\"IFD\"],r=a.SHORT(i);for(var f=0;r>f;f++)if(o=i+12*f+2,a.SHORT(o)==t){u=o+8;break}return u?(a.LONG(u,n),!0):!1}var a,s,u,c={},l;return a=new n,s={tiff:{274:\"Orientation\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",305:\"Software\",34665:\"ExifIFDPointer\",34853:\"GPSInfoIFDPointer\"},exif:{36864:\"ExifVersion\",40961:\"ColorSpace\",40962:\"PixelXDimension\",40963:\"PixelYDimension\",36867:\"DateTimeOriginal\",33434:\"ExposureTime\",33437:\"FNumber\",34855:\"ISOSpeedRatings\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37383:\"MeteringMode\",37384:\"LightSource\",37385:\"Flash\",37386:\"FocalLength\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41990:\"SceneCaptureType\",41988:\"DigitalZoomRatio\",41992:\"Contrast\",41993:\"Saturation\",41994:\"Sharpness\"},gps:{0:\"GPSVersionID\",1:\"GPSLatitudeRef\",2:\"GPSLatitude\",3:\"GPSLongitudeRef\",4:\"GPSLongitude\"}},l={ColorSpace:{1:\"sRGB\",0:\"Uncalibrated\"},MeteringMode:{0:\"Unknown\",1:\"Average\",2:\"CenterWeightedAverage\",3:\"Spot\",4:\"MultiSpot\",5:\"Pattern\",6:\"Partial\",255:\"Other\"},LightSource:{1:\"Daylight\",2:\"Fliorescent\",3:\"Tungsten\",4:\"Flash\",9:\"Fine weather\",10:\"Cloudy weather\",11:\"Shade\",12:\"Daylight fluorescent (D 5700 - 7100K)\",13:\"Day white fluorescent (N 4600 -5400K)\",14:\"Cool white fluorescent (W 3900 - 4500K)\",15:\"White fluorescent (WW 3200 - 3700K)\",17:\"Standard light A\",18:\"Standard light B\",19:\"Standard light C\",20:\"D55\",21:\"D65\",22:\"D75\",23:\"D50\",24:\"ISO studio tungsten\",255:\"Other\"},Flash:{0:\"Flash did not fire.\",1:\"Flash fired.\",5:\"Strobe return light not detected.\",7:\"Strobe return light detected.\",9:\"Flash fired, compulsory flash mode\",13:\"Flash fired, compulsory flash mode, return light not detected\",15:\"Flash fired, compulsory flash mode, return light detected\",16:\"Flash did not fire, compulsory flash mode\",24:\"Flash did not fire, auto mode\",25:\"Flash fired, auto mode\",29:\"Flash fired, auto mode, return light not detected\",31:\"Flash fired, auto mode, return light detected\",32:\"No flash function\",65:\"Flash fired, red-eye reduction mode\",69:\"Flash fired, red-eye reduction mode, return light not detected\",71:\"Flash fired, red-eye reduction mode, return light detected\",73:\"Flash fired, compulsory flash mode, red-eye reduction mode\",77:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",79:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",89:\"Flash fired, auto mode, red-eye reduction mode\",93:\"Flash fired, auto mode, return light not detected, red-eye reduction mode\",95:\"Flash fired, auto mode, return light detected, red-eye reduction mode\"},ExposureMode:{0:\"Auto exposure\",1:\"Manual exposure\",2:\"Auto bracket\"},WhiteBalance:{0:\"Auto white balance\",1:\"Manual white balance\"},SceneCaptureType:{0:\"Standard\",1:\"Landscape\",2:\"Portrait\",3:\"Night scene\"},Contrast:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},Saturation:{0:\"Normal\",1:\"Low saturation\",2:\"High saturation\"},Sharpness:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},GPSLatitudeRef:{N:\"North latitude\",S:\"South latitude\"},GPSLongitudeRef:{E:\"East longitude\",W:\"West longitude\"}},{init:function(e){return c={tiffHeader:10},e!==t&&e.length?(a.init(e),65505===a.SHORT(0)&&\"EXIF\\0\"===a.STRING(4,5).toUpperCase()?r():!1):!1\n},TIFF:function(){return u},EXIF:function(){var t;if(t=i(c.exifIFD,s.exif),t.ExifVersion&&\"array\"===e.typeOf(t.ExifVersion)){for(var n=0,r=\"\";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}return t},GPS:function(){var t;return t=i(c.gpsIFD,s.gps),t.GPSVersionID&&\"array\"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(\".\")),t},setExif:function(e,t){return\"PixelXDimension\"!==e&&\"PixelYDimension\"!==e?!1:o(\"exif\",e,t)},getBinary:function(){return a.SEGMENT()},purge:function(){a.init(null),a=u=null,c={}}}}}),i(B,[u,p,k,P,U],function(e,t,n,i,r){function o(o){function a(){for(var e=0,t,n;e<=u.length;){if(t=c.SHORT(e+=2),t>=65472&&65475>=t)return e+=5,{height:c.SHORT(e),width:c.SHORT(e+=2)};n=c.SHORT(e+=2),e+=n-2}return null}function s(){d&&l&&c&&(d.purge(),l.purge(),c.init(null),u=f=l=d=c=null)}var u,c,l,d,f,p;if(u=o,c=new i,c.init(u),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(o),d=new r,p=!!d.init(l.get(\"app1\")[0]),f=a.call(this),e.extend(this,{type:\"image/jpeg\",size:u.length,width:f&&f.width||0,height:f&&f.height||0,setExif:function(t,n){return p?(\"object\"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),l.set(\"app1\",d.getBinary()),void 0):!1},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):u=l.restore(u)},stripHeaders:function(e){return l.strip(e)},purge:function(){s.call(this)}}),p&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return o}),i(z,[p,u,P],function(e,t,n){function i(i){function r(){var e,t;return e=a.call(this,8),\"IHDR\"==e.type?(t=e.start,{width:u.LONG(t),height:u.LONG(t+=4)}):null}function o(){u&&(u.init(null),s=d=c=l=u=null)}function a(e){var t,n,i,r;return t=u.LONG(e),n=u.STRING(e+=4,4),i=e+=4,r=u.LONG(e+t),{length:t,type:n,start:i,CRC:r}}var s,u,c,l,d;s=i,u=new n,u.init(s),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=u.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:\"image/png\",size:s.length,width:d.width,height:d.height,purge:function(){o.call(this)}}),o.call(this)}return i}),i(G,[u,p,B,z],function(e,t,n,i){return function(r){var o=[n,i],a;a=function(){for(var e=0;e<o.length;e++)try{return new o[e](r)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:\"\",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,a),this.purge=function(){a.purge(),a=null}}}),i(q,[],function(){function e(e,i,r){var o=e.naturalWidth,a=e.naturalHeight,s=r.width,u=r.height,c=r.x||0,l=r.y||0,d=i.getContext(\"2d\");t(e)&&(o/=2,a/=2);var f=1024,p=document.createElement(\"canvas\");p.width=p.height=f;for(var h=p.getContext(\"2d\"),m=n(e,o,a),g=0;a>g;){for(var v=g+f>a?a-g:f,y=0;o>y;){var w=y+f>o?o-y:f;h.clearRect(0,0,f,f),h.drawImage(e,-y,-g);var E=y*s/o+c<<0,_=Math.ceil(w*s/o),x=g*u/a/m+l<<0,R=Math.ceil(v*u/a/m);d.drawImage(p,0,0,w,v,E,x,_,R),y+=f}g+=f}p=h=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var i=document.createElement(\"canvas\");i.width=i.height=1;var r=i.getContext(\"2d\");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var i=document.createElement(\"canvas\");i.width=1,i.height=n;var r=i.getContext(\"2d\");r.drawImage(e,0,0);for(var o=r.getImageData(0,0,1,n).data,a=0,s=n,u=n;u>a;){var c=o[4*(u-1)+3];0===c?s=u:a=u,u=s+a>>1}i=null;var l=u/n;return 0===l?1:l}return{isSubsampled:t,renderTo:e}}),i(X,[D,u,p,m,w,G,q,l,d],function(e,t,n,i,r,o,a,s,u){function c(){function e(){if(!E&&!y)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return E||y}function c(e){return i.atob(e.substring(e.indexOf(\"base64,\")+7))}function l(e,t){return\"data:\"+(t||\"\")+\";base64,\"+i.btoa(e)}function d(e){var t=this;y=new Image,y.onerror=function(){g.call(this),t.trigger(\"error\",new n.ImageError(n.ImageError.WRONG_FORMAT))},y.onload=function(){t.trigger(\"load\")},y.src=/^data:[^;]*;base64,/.test(e)?e:l(e,x.type)}function f(e,t){var i=this,r;return window.FileReader?(r=new FileReader,r.onload=function(){t(this.result)},r.onerror=function(){i.trigger(\"error\",new n.FileException(n.FileException.NOT_READABLE_ERR))},r.readAsDataURL(e),void 0):t(e.getAsDataURL())}function p(n,i,r,o){var a=this,s,u,c=0,l=0,d,f,p,g;if(b=o,g=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(g,[5,6,7,8])){var v=n;n=i,i=v}return d=e(),u=r?Math.max:Math.min,s=u(n/d.width,i/d.height),s>1&&(!r||o)?(this.trigger(\"Resize\"),void 0):(E||(E=document.createElement(\"canvas\")),f=Math.round(d.width*s),p=Math.round(d.height*s),r?(E.width=n,E.height=i,f>n&&(c=Math.round((f-n)/2)),p>i&&(l=Math.round((p-i)/2))):(E.width=f,E.height=p),b||m(E.width,E.height,g),h.call(this,d,E,-c,-l,f,p),this.width=E.width,this.height=E.height,R=!0,a.trigger(\"Resize\"),void 0)}function h(e,t,n,i,r,o){if(\"iOS\"===u.OS)a.renderTo(e,t,{width:r,height:o,x:n,y:i});else{var s=t.getContext(\"2d\");s.drawImage(e,n,i,r,o)}}function m(e,t,n){switch(n){case 5:case 6:case 7:case 8:E.width=t,E.height=e;break;default:E.width=e,E.height=t}var i=E.getContext(\"2d\");switch(n){case 2:i.translate(e,0),i.scale(-1,1);break;case 3:i.translate(e,t),i.rotate(Math.PI);break;case 4:i.translate(0,t),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-t);break;case 7:i.rotate(.5*Math.PI),i.translate(e,-t),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-e,0)}}function g(){w&&(w.purge(),w=null),_=y=E=x=null,R=!1}var v=this,y,w,E,_,x,R=!1,b=!0;t.extend(this,{loadFromBlob:function(e){var t=this,i=t.getRuntime(),r=arguments.length>1?arguments[1]:!0;if(!i.can(\"access_binary\"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return x=e,e.isDetached()?(_=e.getSource(),d.call(this,_),void 0):(f.call(this,e.getSource(),function(e){r&&(_=c(e)),d.call(t,e)}),void 0)},loadFromImage:function(e,t){this.meta=e.meta,x=new r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?_=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t=this.getRuntime(),n;return!w&&_&&t.can(\"access_image_binary\")&&(w=new o(_)),n={width:e().width||0,height:e().height||0,type:x.type||s.getFileMime(x.name),size:_&&_.length||x.size||0,name:x.name||\"\",meta:w&&w.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return E&&(E.id=this.uid+\"_canvas\"),E},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new r(null,{name:x.name||\"\",type:e,data:v.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!R)return y.src;if(\"image/jpeg\"!==e)return E.toDataURL(\"image/png\");try{return E.toDataURL(\"image/jpeg\",t/100)}catch(n){return E.toDataURL(\"image/jpeg\")}},getAsBinaryString:function(e,t){if(!R)return _||(_=c(v.getAsDataURL(e,t))),_;if(\"image/jpeg\"!==e)_=c(v.getAsDataURL(e,t));else{var n;t||(t=90);try{n=E.toDataURL(\"image/jpeg\",t/100)}catch(i){n=E.toDataURL(\"image/jpeg\")}_=c(n),w&&(_=w.stripHeaders(_),b&&(w.meta&&w.meta.exif&&w.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),_=w.writeHeaders(_)),w.purge(),w=null)}return R=!1,_},destroy:function(){v=null,g.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),i(j,[u,d,f,p,g],function(e,t,n,i,r){function o(){var e;try{e=navigator.plugins[\"Shockwave Flash\"],e=e.description}catch(t){try{e=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\")}catch(n){e=\"0.0\"}}return e=e.match(/\\d+/g),parseFloat(e[0]+\".\"+e[1])}function a(a){var c=this,l;a=e.extend({swf_url:t.swf_url},a),r.call(this,a,s,{access_binary:function(e){return e&&\"browser\"===c.mode},access_image_binary:function(e){return e&&\"browser\"===c.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return\"client\"===c.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return\"json\"===t&&window.JSON?!0:!e.arrayDiff(t,[\"\",\"text\",\"document\"])||\"browser\"===c.mode},return_status_code:function(t){return\"browser\"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&\"browser\"===c.mode},send_browser_cookies:function(e){return e&&\"browser\"===c.mode},send_custom_headers:function(e){return e&&\"browser\"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:function(e){return e&&\"browser\"===c.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||\"client\"===c.mode},use_http_method:function(t){return!e.arrayDiff(t,[\"GET\",\"POST\"])}},{access_binary:function(e){return e?\"browser\":\"client\"},access_image_binary:function(e){return e?\"browser\":\"client\"},report_upload_progress:function(e){return e?\"browser\":\"client\"},return_response_type:function(t){return e.arrayDiff(t,[\"\",\"text\",\"json\",\"document\"])?\"browser\":[\"client\",\"browser\"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?\"browser\":[\"client\",\"browser\"]},send_binary_string:function(e){return e?\"browser\":\"client\"},send_browser_cookies:function(e){return e?\"browser\":\"client\"},send_custom_headers:function(e){return e?\"browser\":\"client\"},stream_upload:function(e){return e?\"client\":\"browser\"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?\"client\":\"browser\"}},\"client\"),o()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var n,r,o;o=this.getShimContainer(),e.extend(o.style,{position:\"absolute\",top:\"-8px\",left:\"-8px\",width:\"9px\",height:\"9px\",overflow:\"hidden\"}),n='<object id=\"'+this.uid+'\" type=\"application/x-shockwave-flash\" data=\"'+a.swf_url+'\" ',\"IE\"===t.browser&&(n+='classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" '),n+='width=\"100%\" height=\"100%\" style=\"outline:0\"><param name=\"movie\" value=\"'+a.swf_url+'\" />'+'<param name=\"flashvars\" value=\"uid='+escape(this.uid)+\"&target=\"+t.global_event_dispatcher+'\" />'+'<param name=\"wmode\" value=\"transparent\" />'+'<param name=\"allowscriptaccess\" value=\"always\" />'+\"</object>\",\"IE\"===t.browser?(r=document.createElement(\"div\"),o.appendChild(r),r.outerHTML=n,r=o=null):o.innerHTML=n,l=setTimeout(function(){c&&!c.initialized&&c.trigger(\"Error\",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var s=\"flash\",u={};return r.addConstructor(s,a),u}),i(V,[j,y],function(e,t){var n={slice:function(e,n,i,r){var o=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),e=o.shimExec.call(this,\"Blob\",\"slice\",n,i,r||\"\"),e&&(e=new t(o.uid,e)),e}};return e.Blob=n}),i(W,[j],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,\"FileInput\",\"init\",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger(\"ready\")}};return e.FileInput=t}),i(Y,[j,m],function(e,t){function n(e,n){switch(n){case\"readAsText\":return t.atob(e,\"utf8\");case\"readAsBinaryString\":return t.atob(e);case\"readAsDataURL\":return e}return null}var i=\"\",r={read:function(e,t){var r=this,o=r.getRuntime();return\"readAsDataURL\"===e&&(i=\"data:\"+(t.type||\"\")+\";base64,\"),r.bind(\"Progress\",function(t,r){r&&(i+=n(r,e))}),o.shimExec.call(this,\"FileReader\",\"readAsBase64\",t.uid)},getResult:function(){return i},destroy:function(){i=null}};return e.FileReader=r}),i($,[j,m],function(e,t){function n(e,n){switch(n){case\"readAsText\":return t.atob(e,\"utf8\");case\"readAsBinaryString\":return t.atob(e);case\"readAsDataURL\":return e}return null}var i={read:function(e,t){var i,r=this.getRuntime();return(i=r.shimExec.call(this,\"FileReaderSync\",\"readAsBase64\",t.uid))?(\"readAsDataURL\"===e&&(i=\"data:\"+(t.type||\"\")+\";base64,\"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i}),i(J,[j,u,y,w,T,S,O],function(e,t,n,i,r,o,a){var s={send:function(e,i){function r(){e.transport=l.mode,l.shimExec.call(c,\"XMLHttpRequest\",\"send\",e,i)}function s(e,t){l.shimExec.call(c,\"XMLHttpRequest\",\"appendBlob\",e,t.uid),i=null,r()}function u(e,t){var n=new a;n.bind(\"TransportingComplete\",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var c=this,l=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(c,\"XMLHttpRequest\",\"setRequestHeader\",t,e.toString())}),i instanceof o){var d;if(i.each(function(e,t){e instanceof n?d=t:l.shimExec.call(c,\"XMLHttpRequest\",\"append\",t,e)}),i.hasBlob()){var f=i.getBlob();f.isDetached()?u(f,function(e){f.destroy(),s(d,e)}):s(d,f)}else i=null,r()}else i instanceof n?i.isDetached()?u(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var n,o,a=this.getRuntime();if(o=a.shimExec.call(this,\"XMLHttpRequest\",\"getResponseAsBlob\")){if(o=new i(a.uid,o),\"blob\"===e)return o;try{if(n=new r,~t.inArray(e,[\"\",\"text\"]))return n.readAsText(o);if(\"json\"===e&&window.JSON)return JSON.parse(n.readAsText(o))}finally{o.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,\"XMLHttpRequest\",\"abort\"),this.dispatchEvent(\"readystatechange\"),this.dispatchEvent(\"abort\")}};return e.XMLHttpRequest=s}),i(Z,[j,y],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,\"Transporter\",\"getAsBlob\",e);return i?new t(n.uid,i):null}};return e.Transporter=n}),i(K,[j,u,O,y,T],function(e,t,n,i,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(i,\"Image\",\"loadFromBlob\",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var o=new n;o.bind(\"TransportingComplete\",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,\"Image\",\"loadFromImage\",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,\"Image\",\"getAsBlob\",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments),n;return t?(n=new r,n.readAsDataURL(t)):null}};return e.Image=o}),i(Q,[u,d,f,p,g],function(e,t,n,i,r){function o(e){var t=!1,n=null,i,r,o,a,s,u=0;try{try{n=new ActiveXObject(\"AgControl.AgControl\"),n.IsVersionSupported(e)&&(t=!0),n=null}catch(c){var l=navigator.plugins[\"Silverlight Plug-In\"];if(l){for(i=l.description,\"1.0.30226.2\"===i&&(i=\"2.0.30226.2\"),r=i.split(\".\");r.length>3;)r.pop();for(;r.length<4;)r.push(0);for(o=e.split(\".\");o.length>4;)o.pop();do a=parseInt(o[u],10),s=parseInt(r[u],10),u++;while(u<o.length&&a===s);s>=a&&!isNaN(a)&&(t=!0)}}}catch(d){t=!1}return t}function a(a){var c=this,l;a=e.extend({xap_url:t.xap_url},a),r.call(this,a,s,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&\"client\"===c.mode},return_response_type:function(e){return\"json\"!==e?!0:!!window.JSON},return_status_code:function(t){return\"client\"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&\"browser\"===c.mode},send_custom_headers:function(e){return e&&\"client\"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return\"client\"===c.mode||!e.arrayDiff(t,[\"GET\",\"POST\"])}},{return_response_headers:function(e){return e?\"client\":\"browser\"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?\"client\":[\"client\",\"browser\"]},send_browser_cookies:function(e){return e?\"browser\":\"client\"},send_custom_headers:function(e){return e?\"client\":\"browser\"},use_http_method:function(t){return e.arrayDiff(t,[\"GET\",\"POST\"])?\"client\":[\"client\",\"browser\"]}}),o(\"2.0.31005.0\")&&\"Opera\"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id=\"'+this.uid+'\" data=\"data:application/x-silverlight,\" type=\"application/x-silverlight-2\" width=\"100%\" height=\"100%\" style=\"outline:none;\">'+'<param name=\"source\" value=\"'+a.xap_url+'\"/>'+'<param name=\"background\" value=\"Transparent\"/>'+'<param name=\"windowless\" value=\"true\"/>'+'<param name=\"enablehtmlaccess\" value=\"true\"/>'+'<param name=\"initParams\" value=\"uid='+this.uid+\",target=\"+t.global_event_dispatcher+'\"/>'+\"</object>\",l=setTimeout(function(){c&&!c.initialized&&c.trigger(\"Error\",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},\"Windows\"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var s=\"silverlight\",u={};return r.addConstructor(s,a),u}),i(et,[Q,u,V],function(e,t,n){return e.Blob=t.extend({},n)}),i(tt,[Q],function(e){var t={init:function(e){function t(e){for(var t=\"\",n=0;n<e.length;n++)t+=(\"\"!==t?\"|\":\"\")+e[n].title+\" | *.\"+e[n].extensions.replace(/,/g,\";*.\");return t}this.getRuntime().shimExec.call(this,\"FileInput\",\"init\",t(e.accept),e.name,e.multiple),this.trigger(\"ready\")}};return e.FileInput=t}),i(nt,[Q,f,L],function(e,t,n){var i={init:function(){var e=this,i=e.getRuntime(),r;return r=i.getShimContainer(),n.addEvent(r,\"dragover\",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=\"copy\"},e.uid),n.addEvent(r,\"dragenter\",function(e){e.preventDefault();var n=t.get(i.uid).dragEnter(e);n&&e.stopPropagation()},e.uid),n.addEvent(r,\"drop\",function(e){e.preventDefault();var n=t.get(i.uid).dragDrop(e);n&&e.stopPropagation()},e.uid),i.shimExec.call(this,\"FileDrop\",\"init\")}};return e.FileDrop=i}),i(it,[Q,u,Y],function(e,t,n){return e.FileReader=t.extend({},n)}),i(rt,[Q,u,$],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),i(ot,[Q,u,J],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),i(at,[Q,u,Z],function(e,t,n){return e.Transporter=t.extend({},n)}),i(st,[Q,u,K],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=[\"tiff\",\"exif\",\"gps\"],i={meta:{}},r=e.shimExec.call(this,\"Image\",\"getInfo\");return r.meta&&t.each(n,function(e){var t=r.meta[e],n,o,a,s;if(t&&t.keys)for(i.meta[e]={},o=0,a=t.keys.length;a>o;o++)n=t.keys[o],s=t[n],s&&(/^(\\d|[1-9]\\d+)$/.test(s)?s=parseInt(s,10):/^\\d*\\.\\d+$/.test(s)&&(s=parseFloat(s)),i.meta[e][n]=s)}),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i}})}),i(ut,[u,p,g,d],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue;n.call(this,t,o,{access_binary:s(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:s(a.Image&&(i.can(\"create_canvas\")||i.can(\"use_data_uri_over32kb\"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return\"Chrome\"===i.browser&&i.version>=28||\"IE\"===i.browser&&i.version>=10}()),resize_image:function(){return a.Image&&r.can(\"access_binary\")&&i.can(\"create_canvas\")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return\"json\"===t&&window.JSON?!0:!!~e.inArray(t,[\"text\",\"document\",\"\"])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return i.can(\"use_fileinput\")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can(\"select_file\")},summon_file_dialog:s(function(){return\"Firefox\"===i.browser&&i.version>=4||\"Opera\"===i.browser&&i.version>=12||!!~e.inArray(i.browser,[\"Chrome\",\"Safari\"])}()),upload_filesize:u,use_http_method:function(t){return!e.arrayDiff(t,[\"GET\",\"POST\"])}}),e.extend(this,{init:function(){this.trigger(\"Init\")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o=\"html4\",a={};return n.addConstructor(o,r),a}),i(ct,[ut,u,f,L,l,d],function(e,t,n,i,r,o){function a(){function e(){var r=this,l=r.getRuntime(),d,f,p,h,m,g;g=t.guid(\"uid_\"),d=l.getShimContainer(),a&&(p=n.get(a+\"_form\"),p&&t.extend(p.style,{top:\"100%\"})),h=document.createElement(\"form\"),h.setAttribute(\"id\",g+\"_form\"),h.setAttribute(\"method\",\"post\"),h.setAttribute(\"enctype\",\"multipart/form-data\"),h.setAttribute(\"encoding\",\"multipart/form-data\"),t.extend(h.style,{overflow:\"hidden\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),m=document.createElement(\"input\"),m.setAttribute(\"id\",g),m.setAttribute(\"type\",\"file\"),m.setAttribute(\"name\",c.name||\"Filedata\"),m.setAttribute(\"accept\",u.join(\",\")),t.extend(m.style,{fontSize:\"999px\",opacity:0}),h.appendChild(m),d.appendChild(h),t.extend(m.style,{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),\"IE\"===o.browser&&o.version<10&&t.extend(m.style,{filter:\"progid:DXImageTransform.Microsoft.Alpha(opacity=0)\"}),m.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},s=[t],this.onchange=function(){},e.call(r),r.bind(\"change\",function i(){var e=n.get(g),t=n.get(g+\"_form\"),o;r.unbind(\"change\",i),r.files.length&&e&&t&&(o=r.files[0],e.setAttribute(\"id\",o.uid),t.setAttribute(\"id\",o.uid+\"_form\"),t.setAttribute(\"target\",o.uid+\"_iframe\")),e=t=null},998),m=h=null,r.trigger(\"change\"))},l.can(\"summon_file_dialog\")&&(f=n.get(c.browse_button),i.removeEvent(f,\"click\",r.uid),i.addEvent(f,\"click\",function(e){m&&!m.disabled&&m.click(),e.preventDefault()},r.uid)),a=g,d=p=f=null}var a,s=[],u=[],c;t.extend(this,{init:function(t){var o=this,a=o.getRuntime(),s;c=t,u=t.accept.mimes||r.extList2mimes(t.accept,a.can(\"filter_by_extension\")),s=a.getShimContainer(),function(){var e,r,u;e=n.get(t.browse_button),a.can(\"summon_file_dialog\")&&(\"static\"===n.getStyle(e,\"position\")&&(e.style.position=\"relative\"),r=parseInt(n.getStyle(e,\"z-index\"),10)||1,e.style.zIndex=r,s.style.zIndex=r-1),u=a.can(\"summon_file_dialog\")?e:s,i.addEvent(u,\"mouseover\",function(){o.trigger(\"mouseenter\")},o.uid),i.addEvent(u,\"mouseout\",function(){o.trigger(\"mouseleave\")},o.uid),i.addEvent(u,\"mousedown\",function(){o.trigger(\"mousedown\")},o.uid),i.addEvent(n.get(t.container),\"mouseup\",function(){o.trigger(\"mouseup\")},o.uid),e=null}(),e.call(this),s=null,o.trigger({type:\"ready\",async:!0})},getFiles:function(){return s},disable:function(e){var t;(t=n.get(a))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();i.removeAllEvents(r,this.uid),i.removeAllEvents(c&&n.get(c.container),this.uid),i.removeAllEvents(c&&n.get(c.browse_button),this.uid),r&&(r.innerHTML=\"\"),t.removeInstance(this.uid),a=s=u=c=r=t=null}})}return e.FileInput=a}),i(lt,[ut,F],function(e,t){return e.FileReader=t}),i(dt,[ut,u,f,b,p,L,y,S],function(e,t,n,i,r,o,a,s){function u(){function e(e){var t=this,i,r,a,s,u=!1;if(l){if(i=l.id.replace(/_iframe$/,\"\"),r=n.get(i+\"_form\")){for(a=r.getElementsByTagName(\"input\"),s=a.length;s--;)switch(a[s].getAttribute(\"type\")){case\"hidden\":a[s].parentNode.removeChild(a[s]);break;case\"file\":u=!0}a=[],u||r.parentNode.removeChild(r),r=null}setTimeout(function(){o.removeEvent(l,\"load\",t.uid),l.parentNode&&l.parentNode.removeChild(l);var n=t.getRuntime().getShimContainer();n.children.length||n.parentNode.removeChild(n),n=l=null,e()},1)}}var u,c,l;t.extend(this,{send:function(d,f){function p(){var n=m.getShimContainer()||document.body,r=document.createElement(\"div\");r.innerHTML='<iframe id=\"'+g+'_iframe\" name=\"'+g+'_iframe\" src=\"javascript:&quot;&quot;\" style=\"display:none\"></iframe>',l=r.firstChild,n.appendChild(l),o.addEvent(l,\"load\",function(){var n;try{n=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\\s/.test(n.title)?u=n.title.replace(/^(\\d+).*$/,\"$1\"):(u=200,c=t.trim(n.body.innerHTML),h.trigger({type:\"progress\",loaded:c.length,total:c.length}),w&&h.trigger({type:\"uploadprogress\",loaded:w.size||1025,total:w.size||1025}))}catch(r){if(!i.hasSameOrigin(d.url))return e.call(h,function(){h.trigger(\"error\")}),void 0;u=404}e.call(h,function(){h.trigger(\"load\")})},h.uid)}var h=this,m=h.getRuntime(),g,v,y,w;if(u=c=null,f instanceof s&&f.hasBlob()){if(w=f.getBlob(),g=w.uid,y=n.get(g),v=n.get(g+\"_form\"),!v)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else g=t.guid(\"uid_\"),v=document.createElement(\"form\"),v.setAttribute(\"id\",g+\"_form\"),v.setAttribute(\"method\",d.method),v.setAttribute(\"enctype\",\"multipart/form-data\"),v.setAttribute(\"encoding\",\"multipart/form-data\"),v.setAttribute(\"target\",g+\"_iframe\"),m.getShimContainer().appendChild(v);f instanceof s&&f.each(function(e,n){if(e instanceof a)y&&y.setAttribute(\"name\",n);else{var i=document.createElement(\"input\");t.extend(i,{type:\"hidden\",name:n,value:e}),y?v.insertBefore(i,y):v.appendChild(i)}}),v.setAttribute(\"action\",d.url),p(),v.submit(),h.trigger(\"loadstart\")},getStatus:function(){return u},getResponse:function(e){if(\"json\"===e&&\"string\"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\\s*<pre[^>]*>/,\"\").replace(/<\\/pre>\\s*$/,\"\"))}catch(n){return null}return c},abort:function(){var t=this;l&&l.contentWindow&&(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand(\"Stop\"):l.src=\"about:blank\"),e.call(this,function(){t.dispatchEvent(\"abort\")})}})}return e.XMLHttpRequest=u}),i(ft,[ut,X],function(e,t){return e.Image=t}),a([u,c,l,d,f,p,h,m,g,v,y,w,E,_,x,R,b,T,S,A,O,I,L])}(this);;(function(){\"use strict\";var e={},t=moxie.core.utils.Basic.inArray;return function n(r){var i,s;for(i in r)s=typeof r[i],s===\"object\"&&!~t(i,[\"Exceptions\",\"Env\",\"Mime\"])?n(r[i]):s===\"function\"&&(e[i]=r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e})();\n/**\n * Plupload - multi-runtime File Uploader\n * v2.1.1\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-01-16\n */\n;(function(e,t,n){function s(e){function r(e,t,r){var i={chunks:\"slice_blob\",jpgresize:\"send_binary_string\",pngresize:\"send_binary_string\",progress:\"report_upload_progress\",multi_selection:\"select_multiple\",dragdrop:\"drag_and_drop\",drop_element:\"drag_and_drop\",headers:\"send_custom_headers\",canSendBinary:\"send_binary\",triggerDialog:\"summon_file_dialog\"};i[e]?n[i[e]]=t:r||(n[e]=t)}var t=e.required_features,n={};return typeof t==\"string\"?o.each(t.split(/\\s*,\\s*/),function(e){r(e,!0)}):typeof t==\"object\"?o.each(t,function(e,t){r(t,e)}):t===!0&&(e.multipart||(n.send_binary_string=!0),e.chunk_size>0&&(n.slice_blob=!0),e.resize.enabled&&(n.send_binary_string=!0),o.each(e,function(e,t){r(t,!!e,!0)})),n}var r=e.setTimeout,i={},o={VERSION:\"2.1.1\",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(n){var r=[],i;t.typeOf(n)!==\"array\"&&(n=[n]);var s=n.length;while(s--)i=t.get(n[s]),i&&r.push(i);return r.length?r:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={\"<\":\"lt\",\">\":\"gt\",\"&\":\"amp\",'\"':\"quot\",\"'\":\"#39\"},n=/[<>&\\\"\\']/g;return e?(\"\"+e).replace(n,function(e){return t[e]?\"&\"+t[e]+\";\":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;n=[/[\\300-\\306]/g,\"A\",/[\\340-\\346]/g,\"a\",/\\307/g,\"C\",/\\347/g,\"c\",/[\\310-\\313]/g,\"E\",/[\\350-\\353]/g,\"e\",/[\\314-\\317]/g,\"I\",/[\\354-\\357]/g,\"i\",/\\321/g,\"N\",/\\361/g,\"n\",/[\\322-\\330]/g,\"O\",/[\\362-\\370]/g,\"o\",/[\\331-\\334]/g,\"U\",/[\\371-\\374]/g,\"u\"];for(t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\\s+/g,\"_\"),e=e.replace(/[^a-z0-9_\\-\\.]+/gi,\"\"),e},buildUrl:function(e,t){var n=\"\";return o.each(t,function(e,t){n+=(n?\"&\":\"\")+encodeURIComponent(t)+\"=\"+encodeURIComponent(e)}),n&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\\D/.test(e))return o.translate(\"N/A\");var r=Math.pow(1024,4);return e>r?t(e/r,1)+\" \"+o.translate(\"tb\"):e>(r/=1024)?t(e/r,1)+\" \"+o.translate(\"gb\"):e>(r/=1024)?t(e/r,1)+\" \"+o.translate(\"mb\"):e>1024?Math.round(e/1024)+\" \"+o.translate(\"kb\"):e+\" \"+o.translate(\"b\")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var r,i;return r=new o.Uploader(e),i=t.Runtime.thatCan(r.getOption().required_features,n||e.runtimes),r.destroy(),i},addFileFilter:function(e,t){i[e]=t}};o.addFileFilter(\"mime_types\",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger(\"Error\",{code:o.FILE_EXTENSION_ERROR,message:o.translate(\"File extension error.\"),file:t}),n(!1)):n(!0)}),o.addFileFilter(\"max_file_size\",function(e,t,n){var r;e=o.parseSize(e),t.size!==r&&e&&t.size>e?(this.trigger(\"Error\",{code:o.FILE_SIZE_ERROR,message:o.translate(\"File size error.\"),file:t}),n(!1)):n(!0)}),o.addFileFilter(\"prevent_duplicates\",function(e,t,n){if(e){var r=this.files.length;while(r--)if(t.name===this.files[r].name&&t.size===this.files[r].size){this.trigger(\"Error\",{code:o.FILE_DUPLICATE_ERROR,message:o.translate(\"Duplicate file error.\"),file:t}),n(!1);return}}n(!0)}),o.Uploader=function(e){function g(){var e,t=0,n;if(this.state==o.STARTED){for(n=0;n<f.length;n++)!e&&f[n].status==o.QUEUED?(e=f[n],this.trigger(\"BeforeUpload\",e)&&(e.status=o.UPLOADING,this.trigger(\"UploadFile\",e))):t++;t==f.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger(\"StateChanged\")),this.trigger(\"UploadComplete\",f))}}function y(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,b()}function b(){var e,t;d.reset();for(e=0;e<f.length;e++)t=f[e],t.size!==n?(d.size+=t.origSize,d.loaded+=t.loaded*t.origSize/t.size):d.size=n,t.status==o.DONE?d.uploaded++:t.status==o.FAILED?d.failed++:d.queued++;d.size===n?d.percent=f.length>0?Math.ceil(d.uploaded/f.length*100):0:(d.bytesPerSec=Math.ceil(d.loaded/((+(new Date)-p||1)/1e3)),d.percent=d.size>0?Math.ceil(d.loaded/d.size*100):0)}function w(){var e=c[0]||h[0];return e?e.getRuntime().uid:!1}function E(e,n){if(e.ruid){var r=t.Runtime.getInfo(e.ruid);if(r)return r.can(n)}return!1}function S(){this.bind(\"FilesAdded\",C),this.bind(\"CancelUpload\",M),this.bind(\"BeforeUpload\",k),this.bind(\"UploadFile\",L),this.bind(\"UploadProgress\",A),this.bind(\"StateChanged\",O),this.bind(\"QueueChanged\",b),this.bind(\"Error\",D),this.bind(\"FileUploaded\",_),this.bind(\"Destroy\",P)}function x(e,n){var r=this,i=0,s=[],u={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:l,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\\s*,\\s*/),function(t){e[t]&&(u[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(n){s.push(function(s){var a=new t.FileInput(o.extend({},u,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));a.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(r.features,{chunks:e.can(\"slice_blob\"),multipart:e.can(\"send_multipart\"),multi_selection:e.can(\"select_multiple\")}),i++,c.push(this),s()},a.onchange=function(){r.addFile(this.files)},a.bind(\"mouseenter mouseleave mousedown mouseup\",function(r){v||(e.browse_button_hover&&(\"mouseenter\"===r.type?t.addClass(n,e.browse_button_hover):\"mouseleave\"===r.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&(\"mousedown\"===r.type?t.addClass(n,e.browse_button_active):\"mouseup\"===r.type&&t.removeClass(n,e.browse_button_active)))}),a.bind(\"error runtimeerror\",function(){a=null,s()}),a.init()})}),e.drop_element&&o.each(e.drop_element,function(e){s.push(function(n){var s=new t.FileDrop(o.extend({},u,{drop_zone:e}));s.onready=function(){var e=t.Runtime.getInfo(this.ruid);r.features.dragdrop=e.can(\"drag_and_drop\"),i++,h.push(this),n()},s.ondrop=function(){r.addFile(this.files)},s.bind(\"error runtimeerror\",function(){s=null,n()}),s.init()})}),t.inSeries(s,function(){typeof n==\"function\"&&n(i)})}function T(e,n,r){var i=new t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(s){r(e)}}function N(e,n,r){function f(e,t,n){var r=a[e];switch(e){case\"max_file_size\":e===\"max_file_size\"&&(a.max_file_size=a.filters.max_file_size=t);break;case\"chunk_size\":if(t=o.parseSize(t))a[e]=t;break;case\"filters\":o.typeOf(t)===\"array\"&&(t={mime_types:t}),n?o.extend(a.filters,t):a.filters=t,t.mime_types&&(a.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\\s*\\*\\s*$/.test(e)?t.push(\"\\\\.*\"):t.push(\"\\\\.\"+e.replace(new RegExp(\"[\"+\"/^$.*+?|()[]{}\\\\\".replace(/./g,\"\\\\$&\")+\"]\",\"g\"),\"\\\\$&\"))})}),new RegExp(\"(\"+t.join(\"|\")+\")$\",\"i\")}(a.filters.mime_types));break;case\"resize\":n?o.extend(a.resize,t,{enabled:!0}):a.resize=t;break;case\"prevent_duplicates\":a.prevent_duplicates=a.filters.prevent_duplicates=!!t;break;case\"browse_button\":case\"drop_element\":t=o.get(t);case\"container\":case\"runtimes\":case\"multi_selection\":case\"flash_swf_url\":case\"silverlight_xap_url\":a[e]=t,n||(u=!0);break;default:a[e]=t}n||i.trigger(\"OptionChanged\",e,t,r)}var i=this,u=!1;typeof e==\"object\"?o.each(e,function(e,t){f(t,e,r)}):f(e,n,r),r?(a.required_features=s(o.extend({},a)),l=s(o.extend({},a,{required_features:!0}))):u&&(i.trigger(\"Destroy\"),x.call(i,a,function(e){e?(i.runtime=t.Runtime.getInfo(w()).type,i.trigger(\"Init\",{runtime:i.runtime}),i.trigger(\"PostInit\")):i.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")})}))}function C(e,t){[].push.apply(f,t),e.trigger(\"QueueChanged\"),e.refresh()}function k(e,t){if(a.unique_names){var n=t.name.match(/\\.([^.]+)$/),r=\"part\";n&&(r=n[1]),t.target_name=t.id+\".\"+r}}function L(e,n){function h(){u-->0?r(p,1e3):(n.loaded=f,e.trigger(\"Error\",{code:o.HTTP_ERROR,message:o.translate(\"HTTP Error.\"),file:n,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}))}function p(){var d,v,g,y;if(n.status==o.DONE||n.status==o.FAILED||e.state==o.STOPPED)return;g={name:n.target_name||n.name},s&&a.chunks&&c.size>s?(y=Math.min(s,c.size-f),d=c.slice(f,f+y)):(y=c.size,d=c),s&&a.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/s),g.chunks=Math.ceil(c.size/s)):(g.offset=f,g.total=c.size)),m=new t.XMLHttpRequest,m.upload&&(m.upload.onprogress=function(t){n.loaded=Math.min(n.size,f+t.loaded),e.trigger(\"UploadProgress\",n)}),m.onload=function(){if(m.status>=400){h();return}u=e.settings.max_retries,y<c.size?(d.destroy(),f+=y,n.loaded=Math.min(f,c.size),e.trigger(\"ChunkUploaded\",n,{offset:n.loaded,total:c.size,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}),t.Env.browser===\"Android Browser\"&&e.trigger(\"UploadProgress\",n)):n.loaded=n.size,d=v=null,!f||f>=c.size?(n.size!=n.origSize&&(c.destroy(),c=null),e.trigger(\"UploadProgress\",n),n.status=o.DONE,e.trigger(\"FileUploaded\",n,{response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()})):r(p,1)},m.onerror=function(){h()},m.onloadend=function(){this.destroy(),m=null},e.settings.multipart&&a.multipart?(g.name=n.target_name||n.name,m.open(\"post\",i,!0),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),v=new t.FormData,o.each(o.extend(g,e.settings.multipart_params),function(e,t){v.append(t,e)}),v.append(e.settings.file_data_name,d),m.send(v,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(i=o.buildUrl(e.settings.url,o.extend(g,e.settings.multipart_params)),m.open(\"post\",i,!0),m.setRequestHeader(\"Content-Type\",\"application/octet-stream\"),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),m.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url}))}var i=e.settings.url,s=e.settings.chunk_size,u=e.settings.max_retries,a=e.features,f=0,c;n.loaded&&(f=n.loaded=s*Math.floor(n.loaded/s)),c=n.getSource(),e.settings.resize.enabled&&E(c,\"send_binary_string\")&&!!~t.inArray(c.type,[\"image/jpeg\",\"image/png\"])?T.call(this,c,e.settings.resize,function(e){c=e,n.size=e.size,p()}):p()}function A(e,t){y(t)}function O(e){if(e.state==o.STARTED)p=+(new Date);else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,b())}function M(){m&&m.abort()}function _(e){b(),r(function(){g.call(e)},1)}function D(e,t){t.file&&(t.file.status=o.FAILED,y(t.file),e.state==o.STARTED&&(e.trigger(\"CancelUpload\"),r(function(){g.call(e)},1)))}function P(e){e.stop(),o.each(f,function(e){e.destroy()}),f=[],c.length&&(o.each(c,function(e){e.destroy()}),c=[]),h.length&&(o.each(h,function(e){e.destroy()}),h=[]),l={},v=!1,p=m=null,d.reset()}var u=o.guid(),a,f=[],l={},c=[],h=[],p,d,v=!1,m;a={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:\"file\",flash_swf_url:\"js/Moxie.swf\",silverlight_xap_url:\"js/Moxie.xap\",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},N.call(this,e,null,!0),d=new o.QueueProgress,o.extend(this,{id:u,uid:u,state:o.STOPPED,features:{},runtime:null,files:f,settings:a,total:d,init:function(){var e=this;typeof a.preinit==\"function\"?a.preinit(e):o.each(a.preinit,function(t,n){e.bind(n,t)});if(!a.browse_button||!a.url){this.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")});return}S.call(this),x.call(this,a,function(n){typeof a.init==\"function\"?a.init(e):o.each(a.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(w()).type,e.trigger(\"Init\",{runtime:e.runtime}),e.trigger(\"PostInit\")):e.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")})})},setOption:function(e,t){N.call(this,e,t,!this.runtime)},getOption:function(e){return e?a[e]:a},refresh:function(){c.length&&o.each(c,function(e){e.trigger(\"Refresh\")}),this.trigger(\"Refresh\")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger(\"StateChanged\"),g.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger(\"StateChanged\"),this.trigger(\"CancelUpload\"))},disableBrowse:function(){v=arguments[0]!==n?arguments[0]:!0,c.length&&o.each(c,function(e){e.disable(v)}),this.trigger(\"DisableBrowse\",v)},getFile:function(e){var t;for(t=f.length-1;t>=0;t--)if(f[t].id===e)return f[t]},addFile:function(e,n){function l(e,n){var r=[];t.each(s.settings.filters,function(t,n){i[n]&&r.push(function(r){i[n].call(s,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function c(e){var i=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!f)return!1;e.ruid=f,e.connectRuntime(f)}c(new o.File(e))}else e instanceof t.Blob?(c(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),u.push(function(t){l(e,function(n){n||(a.push(e),s.trigger(\"FileFiltered\",e)),r(t,1)})})):t.inArray(i,[\"file\",\"blob\"])!==-1?c(new t.File(null,e)):i===\"node\"&&t.typeOf(e.files)===\"filelist\"?t.each(e.files,c):i===\"array\"&&(n=null,t.each(e,c))}var s=this,u=[],a=[],f;f=w(),c(e),u.length&&t.inSeries(u,function(){a.length&&s.trigger(\"FilesAdded\",a)})},removeFile:function(e){var t=typeof e==\"string\"?e:e.id;for(var n=f.length-1;n>=0;n--)if(f[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var r=f.splice(e===n?0:e,t===n?f.length:t),i=!1;return this.state==o.STARTED&&(i=!0,this.stop()),this.trigger(\"FilesRemoved\",r),o.each(r,function(e){e.destroy()}),this.trigger(\"QueueChanged\"),this.refresh(),i&&this.start(),r},bind:function(e,t,n){var r=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,r),t.apply(this,e)},0,n)},destroy:function(){this.trigger(\"Destroy\"),a=d=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function n(n){o.extend(this,{id:o.guid(),name:n.name||n.fileName,type:n.type||\"\",size:n.size||n.fileSize,origSize:n.size||n.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:n.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return t.inArray(t.typeOf(e),[\"blob\",\"file\"])!==-1?e:null},getSource:function(){return e[this.id]?e[this.id]:null},destroy:function(){var t=this.getSource();t&&(t.destroy(),delete e[this.id])}}),e[this.id]=n}var e={};return n}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o})(window,mOxie);","/*\n\tRedactor v8.0.3\n\tUpdated: September 3, 2012\n\n\thttp://redactorjs.com/\n\n\tCopyright (c) 2009-2012, Imperavi Inc.\n\tLicense: http://redactorjs.com/license/\n\n\tUsage: $('#content').redactor();\n*/\n\nvar _0xf6db=[\"(6(){11 49=24;11 14={50:6(8,10){5 10.58(8)\\x2692},57:6(8,10){7(8.58!=12){5 8.58(10)\\x2616}46{5 8.57(10)}},55:6(8,18,10,20){7(8===10){5 18\\x3C=20}7(14.29(8)\\x26\\x2614.29(10)){5 14.50(8,10)}7(14.29(8)\\x26\\x26!14.29(10)){5!14.55(10,20,8,18)}7(!14.57(8,10)){5 14.50(8,10)}7(8.47.85\\x3C=18){5 40}7(8.47[18]===10){5 0\\x3C=20}5 14.50(8.47[18],10)},29:6(61){5(61!=12?61.93==3:40)},81:6(41){11 62=0;88(41=41.59){62++}5 62}};11 4=49.4=(6(){6 4(2){24.2=2}4.34.31=6(){5 4.31(24.2)};4.34.37=6(){5 4.37(24.2)};4.34.38=6(){5 4.38(24.2)};4.34.45=6(){5 4.45(24.2)};4.34.44=6(){5 4.44(24.2)};4.34.52=6(25,26,23,22){5 4.52(24.2,25,26,23,22)};4.34.51=6(){5 4.51(24.2)};5 4})();7(49.35){4.67=43;4.31=6(2){11 9;5(9=2.35())\\x26\\x26(9.63!=12)\\x26\\x26(9.36!=12)};4.37=6(2){11 9;7(!((9=2.35())\\x26\\x26(9.36!=12))){5 12}5[9.36,9.97]};4.38=6(2){11 9;7(!((9=2.35())\\x26\\x26(9.63!=12))){5 12}5[9.63,9.91]};4.45=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[8,18]}5[10,20]};4.44=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[10,20]}5[8,18]};4.52=6(2,25,26,23,22){11 9=2.35();7(!9){5}7(23==12){23=25}7(22==12){22=26}7(9.60\\x26\\x269.79){9.60(25,26);9.79(23,22)}46{54=2.15.56();54.106(25,26);54.107(23,22);71{9.73()}80(41){}9.98(54)}};4.51=6(2){71{11 9=2.35();7(!9){5}9.73()}80(41){}}}46 7(49.15.39){11 69=6(42,32,30){11 19,13,21,33,64;13=42.90(\\x2789\\x27);19=32.103();19.60(30);64=19.77();88(43){64.86(13,13.59);19.82(13);7(!(19.87((30?\\x2766\\x27:\\x2783\\x27),32)\\x3E0\\x26\\x26(13.59!=12))){99}}7(19.87((30?\\x2766\\x27:\\x2783\\x27),32)===-1\\x26\\x2613.84){19.74((30?\\x27100\\x27:\\x2778\\x27),32);21=13.84;33=19.101.85}46{21=13.48;33=14.81(13)}13.48.72(13);5[21,33]};11 68=6(42,32,30,21,33){11 36,65,19,13,53;53=0;36=14.29(21)?21:21.47[33];65=14.29(21)?21.48:21;7(14.29(21)){53=33}13=42.90(\\x2789\\x27);65.86(13,36||12);19=42.76.75();19.82(13);13.48.72(13);32.74((30?\\x2766\\x27:\\x2778\\x27),19);5 32[30?\\x27105\\x27:\\x27104\\x27](\\x27102\\x27,53)};4.67=43;4.31=6(2){11 17;2.70();7(!2.15.39){5 40}17=2.15.39.56();5 17\\x26\\x2617.77().15===2.15};4.45=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,43)};4.44=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,40)};4.37=6(2){5 4.45(2)};4.38=6(2){5 4.44(2)};4.52=6(2,25,26,23,22){7(23==12){23=25}7(22==12){22=26}11 17=2.15.76.75();68(2.15,17,40,23,22);68(2.15,17,43,25,26);5 17.96()};4.51=6(2){5 2.15.39.95()}}46{4.67=40}}).94(24);\",\"|\",\"split\",\"||win||Selection|return|function|if|n1|sel|n2|var|null|cursorNode|Dom|document||range|o1|cursor|o2|node|foco|focn|this|orgn|orgo|_ref|_ref2|isText|bStart|hasSelection|textRange|offset|prototype|getSelection|anchorNode|getOrigin|getFocus|selection|false|e|doc|true|getEnd|getStart|else|childNodes|parentNode|root|isPreceding|clearSelection|setSelection|textOffset|r|isCursorPreceding|createRange|contains|compareDocumentPosition|previousSibling|collapse|d|k|focusNode|parent|anchorParent|StartToStart|supported|moveBoundary|getBoundary|focus|try|removeChild|removeAllRanges|setEndPoint|createTextRange|body|parentElement|EndToEnd|extend|catch|getChildIndex|moveToElementText|StartToEnd|nextSibling|length|insertBefore|compareEndPoints|while|a|createElement|focusOffset|0x02|nodeType|call|empty|select|anchorOffset|addRange|break|EndToStart|text|character|duplicate|moveEnd|moveStart|setStart|setEnd\",\"replace\",\"\",\"\\x5Cw+\",\"\\x5Cb\",\"g\"];eval(function (p,a,c,k,e,d){e=function (c){return c;} ;if(!_0xf6db[5][_0xf6db[4]](/^/,String)){while(c--){d[c]=k[c]||c;} ;k=[function (e){return d[e];} ];e=function (){return _0xf6db[6];} ;c=1;} ;while(c--){if(k[c]){p=p[_0xf6db[4]]( new RegExp(_0xf6db[7]+e(c)+_0xf6db[7],_0xf6db[8]),k[c]);} ;} ;return p;} (_0xf6db[0],10,108,_0xf6db[3][_0xf6db[2]](_0xf6db[1]),0,{}));\n\nif (typeof RELANG === 'undefined')\n{\n\tvar RELANG = {};\n}\n\nvar RLANG = {\n\thtml: 'HTML',\n\tvideo: 'Insert Video...',\n\timage: 'Insert Image...',\n\ttable: 'Table',\n\tlink: 'Link',\n\tlink_insert: 'Insert Link ...',\n\tunlink: 'Unlink',\n\tformatting: 'Formatting',\n\tparagraph: 'Paragraph',\n\tquote: 'Quote',\n\tcode: 'Code',\n\theader1: 'Header 1',\n\theader2: 'Header 2',\n\theader3: 'Header 3',\n\theader4: 'Header 4',\n\tbold:  'Bold',\n\titalic: 'Italic',\n\tfontcolor: 'Font Color',\n\tbackcolor: 'Back Color',\n\tunorderedlist: 'Unordered List',\n\torderedlist: 'Ordered List',\n\toutdent: 'Outdent',\n\tindent: 'Indent',\n\tcancel: 'Cancel',\n\tinsert: 'Insert',\n\tsave: 'Save',\n\t_delete: 'Delete',\n\tinsert_table: 'Insert Table...',\n\tinsert_row_above: 'Add Row Above',\n\tinsert_row_below: 'Add Row Below',\n\tinsert_column_left: 'Add Column Left',\n\tinsert_column_right: 'Add Column Right',\n\tdelete_column: 'Delete Column',\n\tdelete_row: 'Delete Row',\n\tdelete_table: 'Delete Table',\n\trows: 'Rows',\n\tcolumns: 'Columns',\n\tadd_head: 'Add Head',\n\tdelete_head: 'Delete Head',\n\ttitle: 'Title',\n\timage_position: 'Position',\n\tnone: 'None',\n\tleft: 'Left',\n\tright: 'Right',\n\timage_web_link: 'Image Web Link',\n\ttext: 'Text',\n\tmailto: 'Email',\n\tweb: 'URL',\n\tvideo_html_code: 'Video Embed Code',\n\tfile: 'Insert File...',\n\tupload: 'Upload',\n\tdownload: 'Download',\n\tchoose: 'Choose',\n\tor_choose: 'Or choose',\n\tdrop_file_here: 'Drop file here',\n\talign_left:\t'Align Left',\n\talign_center: 'Align Center',\n\talign_right: 'Align Right',\n\talign_justify: 'Justify',\n\thorizontalrule: 'Insert Horizontal Rule',\n\tdeleted: 'Deleted',\n\tanchor: 'Anchor',\n\tlink_new_tab: 'Open link in new tab'\n};\n\n(function($){\n\n\t// Plugin\n\tjQuery.fn.redactor = function(option)\n\t{\n\t\treturn this.each(function()\n\t\t{\n\t\t\tvar $obj = $(this);\n\n\t\t\tvar data = $obj.data('redactor');\n\t\t\tif (!data)\n\t\t\t{\n\t\t\t\t$obj.data('redactor', (data = new Redactor(this, option)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Initialization\n\tvar Redactor = function(element, options)\n\t{\n\t\t// Element\n\t\tthis.$el = $(element);\n\n\t\t// Lang\n\t\tif (typeof options !== 'undefined' && typeof options.lang !== 'undefined' && options.lang !== 'en' && typeof RELANG[options.lang] !== 'undefined')\n\t\t{\n\t\t\tRLANG = RELANG[options.lang];\n\t\t}\n\n\t\t// Options\n\t\tthis.opts = $.extend({\n\n\t\t\tlang: 'en',\n\t\t\tdirection: 'ltr', // ltr or rtl\n\n\t\t\tcallback: false, // function\n\t\t\tkeyupCallback: false, // function\n\t\t\tkeydownCallback: false, // function\n\t\t\texecCommandCallback: false, // function\n\n\t\t\tcleanup: true,\n\n\t\t\tfocus: false,\n\t\t\ttabindex: false,\n\t\t\tautoresize: true,\n\t\t\tminHeight: false,\n\t\t\tfixed: false,\n\t\t\tfixedTop: 0, // pixels\n\t\t\tfixedBox: false,\n\t\t\tsource: true,\n\t\t\tshortcuts: true,\n\n\t\t\tmobile: true,\n\t\t\tair: false,\n\t\t\twym: false,\n\n\t\t\tparagraphy: true,\n\t\t\tconvertLinks: true,\n\t\t\tconvertDivs: false,\n\t\t\tprotocol: 'http://', // for links http or https\n\n\t\t\tautosave: false, // false or url\n\t\t\tautosaveCallback: false, // function\n\t\t\tinterval: 60, // seconds\n\n\t\t\timageGetJson: false, // url (ex. /folder/images.json ) or false\n\n\t\t\timageUpload: false, // url\n\t\t\timageUploadCallback: false, // function\n\n\t\t\tfileUpload: false, // url\n\t\t\tfileUploadCallback: false, // function\n\n\t\t\tuploadCrossDomain: false,\n\t\t\tuploadFields: false,\n\n\t\t\tobserveImages: true,\n\t\t\toverlay: true, // modal overlay\n\n\t\t\tallowedTags: [\"code\", \"span\", \"div\", \"label\", \"a\", \"br\", \"p\", \"b\", \"i\", \"del\", \"strike\", \"u\",\n\t\t\t\t\t\"img\", \"video\", \"audio\", \"iframe\", \"object\", \"embed\", \"param\", \"blockquote\",\n\t\t\t\t\t\"mark\", \"cite\", \"small\", \"ul\", \"ol\", \"li\", \"hr\", \"dl\", \"dt\", \"dd\", \"sup\", \"sub\",\n\t\t\t\t\t\"big\", \"pre\", \"code\", \"figure\", \"figcaption\", \"strong\", \"em\", \"table\", \"tr\", \"td\",\n\t\t\t\t\t\"th\", \"tbody\", \"thead\", \"tfoot\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"ins\"],\n\n\t\t\tbuttonsCustom: {},\n\t\t\tbuttonsAdd: [],\n\t\t\tbuttons: ['html', '|', 'formatting', '|', 'bold', 'italic', 'deleted', '|', 'unorderedlist', 'orderedlist', 'outdent', 'indent', '|',\n\t\t\t\t\t'image', 'video', 'file', 'table', 'link', '|',\n\t\t\t\t\t'fontcolor', 'backcolor', '|', 'alignleft', 'aligncenter', 'alignright', 'justify', '|', 'horizontalrule'],\n\n\t\t\tairButtons: ['formatting', '|', 'bold', 'italic', 'deleted', '|', 'unorderedlist', 'orderedlist', 'outdent', 'indent', '|', 'fontcolor', 'backcolor'],\n\n\t\t\tcolors: [\n\t\t\t\t'#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\n\t\t\t\t'#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\n\t\t\t\t'#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\n\t\t\t\t'#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\n\t\t\t\t'#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\n\t\t\t\t'#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#31859b', '#974806', '#7f6000'],\n\n\t\t\t// private\n\t\t\tallEmptyHtml: '<p><br /></p>',\n\t\t\tmozillaEmptyHtml: '<p>&nbsp;</p>',\n\t\t\tbuffer: false,\n\t\t\tvisual: true,\n\n\t\t\t// modal windows container\n\t\t\tmodal_file: String() +\n\t\t\t\t'<form id=\"redactorUploadFileForm\" method=\"post\" action=\"\" enctype=\"multipart/form-data\">' +\n\t\t\t\t\t'<label>Name (optional)</label>' +\n\t\t\t\t\t'<input type=\"text\" id=\"redactor_filename\" class=\"redactor_input\" />' +\n\t\t\t\t\t'<div style=\"margin-top: 7px;\">' +\n\t\t\t\t\t\t'<input type=\"file\" id=\"redactor_file\" name=\"file\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>',\n\n\t\t\tmodal_image_edit: String() +\n\t\t\t\t'<label>' + RLANG.title + '</label>' +\n\t\t\t\t'<input id=\"redactor_file_alt\" class=\"redactor_input\" />' +\n\t\t\t\t'<label>' + RLANG.link + '</label>' +\n\t\t\t\t'<input id=\"redactor_file_link\" class=\"redactor_input\" />' +\n\t\t\t\t'<label>' + RLANG.image_position + '</label>' +\n\t\t\t\t'<select id=\"redactor_form_image_align\">' +\n\t\t\t\t\t'<option value=\"none\">' + RLANG.none + '</option>' +\n\t\t\t\t\t'<option value=\"left\">' + RLANG.left + '</option>' +\n\t\t\t\t\t'<option value=\"right\">' + RLANG.right + '</option>' +\n\t\t\t\t'</select>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_image_delete_btn\" style=\"color: #000;\">' + RLANG._delete + '</a>' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" name=\"save\" id=\"redactorSaveBtn\" value=\"' + RLANG.save + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_image: String() +\n\t\t\t\t'<div id=\"redactor_tabs\">' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\" class=\"redactor_tabs_act\">' + RLANG.upload + '</a>' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.choose + '</a>' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.link + '</a>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<form id=\"redactorInsertImageForm\" method=\"post\" action=\"\" enctype=\"multipart/form-data\">' +\n\t\t\t\t\t'<div id=\"redactor_tab1\" class=\"redactor_tab\">' +\n\t\t\t\t\t\t'<input type=\"file\" id=\"redactor_file\" name=\"file\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div id=\"redactor_tab2\" class=\"redactor_tab\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<div id=\"redactor_image_box\"></div>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_tab3\" class=\"redactor_tab\" style=\"display: none;\">' +\n\t\t\t\t\t'<label>' + RLANG.image_web_link + '</label>' +\n\t\t\t\t\t'<input name=\"redactor_file_link\" id=\"redactor_file_link\" class=\"redactor_input\"  />' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" name=\"upload\" id=\"redactor_upload_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_link: String() +\n\t\t\t\t'<form id=\"redactorInsertLinkForm\" method=\"post\" action=\"\">' +\n\t\t\t\t\t'<div id=\"redactor_tabs\">' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" class=\"redactor_tabs_act\">URL</a>' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\">Email</a>' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.anchor + '</a>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<input type=\"hidden\" id=\"redactor_tab_selected\" value=\"1\" />' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab1\">' +\n\t\t\t\t\t\t'<label>URL</label><input id=\"redactor_link_url\" class=\"redactor_input\"  />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_url_text\" />' +\n\t\t\t\t\t\t'<label><input type=\"checkbox\" id=\"redactor_link_blank\"> ' + RLANG.link_new_tab +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab2\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<label>Email</label><input id=\"redactor_link_mailto\" class=\"redactor_input\" />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_mailto_text\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab3\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<label>' + RLANG.anchor + '</label><input class=\"redactor_input\" id=\"redactor_link_anchor\"  />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_anchor_text\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" id=\"redactor_insert_link_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_table: String() +\n\t\t\t\t\t'<label>' + RLANG.rows + '</label>' +\n\t\t\t\t\t'<input size=\"5\" value=\"2\" id=\"redactor_table_rows\" />' +\n\t\t\t\t\t'<label>' + RLANG.columns + '</label>' +\n\t\t\t\t\t'<input size=\"5\" value=\"3\" id=\"redactor_table_columns\" />' +\n\t\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t\t'<input type=\"button\" name=\"upload\" id=\"redactor_insert_table_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>',\n\n\t\t\tmodal_video: String() +\n\t\t\t\t'<form id=\"redactorInsertVideoForm\">' +\n\t\t\t\t\t'<label>' + RLANG.video_html_code + '</label>' +\n\t\t\t\t\t'<textarea id=\"redactor_insert_video_area\" style=\"width: 99%; height: 160px;\"></textarea>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" id=\"redactor_insert_video_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\n\t\t\ttoolbar: {\n\t\t\t\thtml:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.html,\n\t\t\t\t\tfunc: 'toggle'\n\t\t\t\t},\n\t\t\t\tformatting:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.formatting,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tp:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.paragraph,\n\t\t\t\t\t\t\texec: 'formatblock'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tblockquote:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.quote,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_blockquote'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpre:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.code,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_pre'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th1:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header1,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h1'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th2:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header2,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h2'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th3:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header3,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h3'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th4:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header4,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h4'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbold:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.bold,\n\t\t\t\t\texec: 'bold'\n\t\t\t\t},\n\t\t\t\titalic:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.italic,\n\t\t\t\t\texec: 'italic'\n\t\t\t\t},\n\t\t\t\tdeleted:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.deleted,\n\t\t\t\t\texec: 'strikethrough'\n\t\t\t\t},\n\t\t\t\tunorderedlist:\n\t\t\t\t{\n\t\t\t\t\ttitle: '&bull; ' + RLANG.unorderedlist,\n\t\t\t\t\texec: 'insertunorderedlist'\n\t\t\t\t},\n\t\t\t\torderedlist:\n\t\t\t\t{\n\t\t\t\t\ttitle: '1. ' + RLANG.orderedlist,\n\t\t\t\t\texec: 'insertorderedlist'\n\t\t\t\t},\n\t\t\t\toutdent:\n\t\t\t\t{\n\t\t\t\t\ttitle: '< ' + RLANG.outdent,\n\t\t\t\t\texec: 'outdent'\n\t\t\t\t},\n\t\t\t\tindent:\n\t\t\t\t{\n\t\t\t\t\ttitle: '> ' + RLANG.indent,\n\t\t\t\t\texec: 'indent'\n\t\t\t\t},\n\t\t\t\timage:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.image,\n\t\t\t\t\tfunc: 'showImage'\n\t\t\t\t},\n\t\t\t\tvideo:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.video,\n\t\t\t\t\tfunc: 'showVideo'\n\t\t\t\t},\n\t\t\t\tfile:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.file,\n\t\t\t\t\tfunc: 'showFile'\n\t\t\t\t},\n\t\t\t\ttable:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.table,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tinsert_table:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_table,\n\t\t\t\t\t\t\tfunc: 'showTable'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop1:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_row_above:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_row_above,\n\t\t\t\t\t\t\tfunc: 'insertRowAbove'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_row_below:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_row_below,\n\t\t\t\t\t\t\tfunc: 'insertRowBelow'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_column_left:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_column_left,\n\t\t\t\t\t\t\tfunc: 'insertColumnLeft'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_column_right:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_column_right,\n\t\t\t\t\t\t\tfunc: 'insertColumnRight'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop2:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadd_head:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.add_head,\n\t\t\t\t\t\t\tfunc: 'addHead'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_head:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_head,\n\t\t\t\t\t\t\tfunc: 'deleteHead'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop3:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_column:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_column,\n\t\t\t\t\t\t\tfunc: 'deleteColumn'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_row:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_row,\n\t\t\t\t\t\t\tfunc: 'deleteRow'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_table:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_table,\n\t\t\t\t\t\t\tfunc: 'deleteTable'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlink:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.link,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tlink:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.link_insert,\n\t\t\t\t\t\t\tfunc: 'showLink'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tunlink:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.unlink,\n\t\t\t\t\t\t\texec: 'unlink'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfontcolor:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.fontcolor,\n\t\t\t\t\tfunc: 'show'\n\t\t\t\t},\n\t\t\t\tbackcolor:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.backcolor,\n\t\t\t\t\tfunc: 'show'\n\t\t\t\t},\n\t\t\t\talignleft:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyLeft',\n\t\t\t\t\ttitle: RLANG.align_left\n\t\t\t\t},\n\t\t\t\taligncenter:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyCenter',\n\t\t\t\t\ttitle: RLANG.align_center\n\t\t\t\t},\n\t\t\t\talignright:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyRight',\n\t\t\t\t\ttitle: RLANG.align_right\n\t\t\t\t},\n\t\t\t\tjustify:\n\t\t\t\t{\n\t\t\t\t\texec: 'justifyfull',\n\t\t\t\t\ttitle: RLANG.align_justify\n\t\t\t\t},\n\t\t\t\thorizontalrule:\n\t\t\t\t{\n\t\t\t\t\texec: 'inserthorizontalrule',\n\t\t\t\t\ttitle: RLANG.horizontalrule\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}, options, this.$el.data());\n\n\t\tthis.dropdowns = [];\n\n\t\t// Init\n\t\tthis.init();\n\t};\n\n\t// Functionality\n\tRedactor.prototype = {\n\n\n\t\t// Initialization\n\t\tinit: function()\n\t\t{\n\n\t\t\t// get dimensions\n\t\t\tthis.height = this.$el.css('height');\n\t\t\tthis.width = this.$el.css('width');\n\n\t\t\t// mobile\n\t\t\tif (this.opts.mobile === false && this.isMobile())\n\t\t\t{\n\t\t\t\tthis.build(true);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.opts.paragraphy === false)\n\t\t\t{\n\t\t\t\tthis.opts.convertDivs = false;\n\t\t\t}\n\n\t\t\t// extend buttons\n\t\t\tif (this.opts.air)\n\t\t\t{\n\t\t\t\tthis.opts.buttons = this.opts.airButtons;\n\t\t\t}\n\t\t\t// else if (this.opts.toolbar !== false)\n\t\t\t// {\n\t\t\t\tif (this.opts.source === false)\n\t\t\t\t{\n\t\t\t\t\tvar index = this.opts.buttons.indexOf('html');\n\t\t\t\t\tvar next = this.opts.buttons[index+1];\n\t\t\t\t\tthis.opts.buttons.splice(index, 1);\n\t\t\t\t\tif (typeof next !== 'undefined' && next === '|')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.opts.buttons.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.extend(this.opts.toolbar, this.opts.buttonsCustom);\n\t\t\t\t$.each(this.opts.buttonsAdd, $.proxy(function(i,s)\n\t\t\t\t{\n\t\t\t\t\tthis.opts.buttons.push(s);\n\n\t\t\t\t}, this));\n\t\t\t//}\n\n\t\t\t// construct editor\n\t\t\tthis.build();\n\n\t\t\t// air enable\n\t\t\tthis.enableAir();\n\n\t\t\t// toolbar\n\t\t\tthis.buildToolbar();\n\n\t\t\t// paste\n\t\t\tvar oldsafari = false;\n\t\t\tif ($.browser.webkit && navigator.userAgent.indexOf('Chrome') === -1)\n\t\t\t{\n\t\t\t\tvar arr = $.browser.version.split('.');\n\t\t\t\tif (arr[0] < 536) oldsafari = true;\n\t\t\t}\n\n\t\t\tif (this.isMobile(true) === false && oldsafari === false)\n\t\t\t{\n\t\t\t\tthis.$editor.bind('paste', $.proxy(function(e)\n\t\t\t\t{\n\t\t\t\t\tif (this.opts.cleanup === false)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setBuffer();\n\n\t\t\t\t\tif (this.opts.autoresize === true)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.saveScroll = document.body.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.saveScroll = this.$editor.scrollTop();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (e.originalEvent.clipboardData) {\n\n\t\t\t\t\t\tvar pasted;\n\n\t\t\t\t\t\t// if (/text\\/html/.test(e.originalEvent.clipboardData.types)) {\n\t\t\t\t\t\t// \tpasted = e.originalEvent.clipboardData.getData('text/html');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// else if (/text\\/plain/.test(e.originalEvent.clipboardData.types)) {\n\t\t\t\t\t\t\tpasted = e.originalEvent.clipboardData.getData('text/plain');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// else {\n\t\t\t\t\t\t\t// pasted = \"\";\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tthis.restoreSelection();\n\t\t\t\t\t\tthis.pasteCleanUp(pasted);\n\n\t\t\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar frag = this.extractContent();\n\n\t\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar pastedFrag = this.extractContent();\n\t\t\t\t\t\t\tthis.$editor.append(frag);\n\t\t\t\t\t\t\tthis.restoreSelection();\n\n\t\t\t\t\t\t\tvar html = this.getFragmentHtml(pastedFrag);\n\t\t\t\t\t\t\tthis.pasteCleanUp(html);\n\t\t\t\t\t\t}, this), 1);\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// var frag = this.extractContent();\n\n\t\t\t\t\t// setTimeout($.proxy(function()\n\t\t\t\t\t// {\n\t\t\t\t\t// \tvar pastedFrag = this.extractContent();\n\t\t\t\t\t// \tthis.$editor.append(frag);\n\t\t\t\t\t// \tthis.restoreSelection();\n\n\t\t\t\t\t// \tvar html = this.getFragmentHtml(pastedFrag);\n\t\t\t\t\t// \tthis.pasteCleanUp(html);\n\n\t\t\t\t\t// }, this), 1);\n\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\t// key handlers\n\t\t\tthis.keyup();\n\t\t\tthis.keydown();\n\n\t\t\t// autosave\n\t\t\tif (this.opts.autosave !== false)\n\t\t\t{\n\t\t\t\tthis.autoSave();\n\t\t\t}\n\n\t\t\t// observers\n\t\t\tthis.observeImages();\n\t\t\tthis.observeTables();\n\n\t\t\t// FF fix\n\t\t\tif ($.browser.mozilla)\n\t\t\t{\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t\t\tdocument.execCommand('enableInlineTableEditing', false, false);\n\t\t\t}\n\n\t\t\t// focus\n\t\t\tif (this.opts.focus)\n\t\t\t{\n\t\t\t\tthis.$editor.focus();\n\t\t\t}\n\n\t\t\t// fixed\n\t\t\tif (this.opts.fixed)\n\t\t\t{\n\t\t\t\tthis.observeScroll();\n\t\t\t\t$(document).scroll($.proxy(this.observeScroll, this));\n\t\t\t}\n\n\t\t\t// callback\n\t\t\tif (typeof this.opts.callback === 'function')\n\t\t\t{\n\t\t\t\tthis.opts.callback(this);\n\t\t\t}\n\n\t\t},\n\t\tshortcuts: function(e, cmd)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tthis.execCommand(cmd, false);\n\t\t},\n\t\tkeyup: function()\n\t\t{\n\t\t\tthis.$editor.keyup($.proxy(function(e)\n\t\t\t{\n\t\t\t\tvar key = e.keyCode || e.which;\n\n\t\t\t\t// callback as you type\n\t\t\t\tif (typeof this.opts.keyupCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.keyupCallback(this, e);\n\t\t\t\t}\n\n\t\t\t\t// if empty\n\t\t\t\tif (key === 8 || key === 46)\n\t\t\t\t{\n\t\t\t\t\tthis.observeImages();\n\t\t\t\t\treturn this.formatEmpty(e);\n\t\t\t\t}\n\n\t\t\t\t// new line p\n\t\t\t\tif (key === 13 && !e.shiftKey && !e.ctrlKey && !e.metaKey)\n\t\t\t\t{\n\t\t\t\t\tif ($.browser.webkit && this.opts.paragraphy)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.formatNewLine(e);\n\t\t\t\t\t}\n\n\t\t\t\t\t// convert links\n\t\t\t\t\tif (this.opts.convertLinks)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.linkify();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.syncCode();\n\n\t\t\t}, this));\n\t\t},\n\t\tkeydown: function()\n\t\t{\n\t\t\tthis.$editor.keydown($.proxy(function(e)\n\t\t\t{\n\t\t\t\tthis.air.hide();\n\t\t\t\tvar key = e.keyCode || e.which;\n\t\t\t\tvar parent = this.getParentNode();\n\t\t\t\tvar pre = false;\n\t\t\t\tvar ctrl = e.ctrlKey || e.metaKey;\n\n\t\t\t\tif (parent && $(parent).get(0).tagName === 'PRE')\n\t\t\t\t{\n\t\t\t\t\tpre = true;\n\t\t\t\t}\n\n\t\t\t\t// callback keydown\n\t\t\t\tif (typeof this.opts.keydownCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.keydownCallback(this, e);\n\t\t\t\t}\n\n\t\t\t\t// breakline\n\t\t\t\tif (this.opts.paragraphy === false && $.browser.webkit && key === 13 && !e.shiftKey && !e.ctrlKey && !e.metaKey)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.insertNodeAtCaret($('<span class=\"redactor-breakline\"><br></span>').get(0));\n\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.find('span.redactor-breakline').replaceWith('<br>');\n\t\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.syncCode();\n\t\t\t\t\t\t}, this), 10);\n\n\t\t\t\t\t}, this), 10);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (ctrl && this.opts.shortcuts)\n\t\t\t\t{\n\t\t\t\t\tif (key === 90)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.opts.buffer !== false)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.getBuffer();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (e.shiftKey)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.shortcuts(e, 'redo');\t// Ctrl + Shift + z\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.shortcuts(e, 'undo'); // Ctrl + z\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 77)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'removeFormat'); // Ctrl + m\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 66)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'bold'); // Ctrl + b\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 73)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'italic'); // Ctrl + i\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 74)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'insertunorderedlist'); // Ctrl + j\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 75)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'insertorderedlist'); // Ctrl + k\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 76)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'superscript'); // Ctrl + l\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 72)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'subscript'); // Ctrl + h\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// clear undo buffer\n\t\t\t\tif (!ctrl && key !== 90)\n\t\t\t\t{\n\t\t\t\t\tthis.opts.buffer = false;\n\t\t\t\t}\n\n\t\t\t\t// enter\n\t\t\t\tif (pre === true && key === 13)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.insertNodeAtCaret(document.createTextNode('\\r\\n'));\n\t\t\t\t}\n\n\t\t\t\t// tab\n\t\t\t\tif (this.opts.shortcuts && !e.shiftKey && key === 9)\n\t\t\t\t{\n\t\t\t\t\tif (pre === false)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'indent'); // Tab\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.insertNodeAtCaret(document.createTextNode('\\t'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this.opts.shortcuts && e.shiftKey && key === 9 )\n\t\t\t\t{\n\t\t\t\t\tthis.shortcuts(e, 'outdent'); // Shift + tab\n\t\t\t\t}\n\n\t\t\t\t// safari shift key + enter\n\t\t\t\tif ($.browser.webkit && navigator.userAgent.indexOf('Chrome') === -1)\n\t\t\t\t{\n\t\t\t\t\treturn this.safariShiftKeyEnter(e, key);\n\t\t\t\t}\n\t\t\t}, this));\n\t\t},\n\t\tbuild: function(mobile)\n\t\t{\n\t\t\tif (mobile !== true)\n\t\t\t{\n\t\t\t\t// container\n\t\t\t\tthis.$box = $('<div class=\"redactor_box\"></div>');\n\n\t\t\t\t// air box\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tthis.air = $('<div class=\"redactor_air\" style=\"display: none;\"></div>');\n\t\t\t\t}\n\n\t\t\t\t// editor\n\t\t\t\tthis.textareamode = true;\n\t\t\t\tif (this.$el.get(0).tagName === 'TEXTAREA')\n\t\t\t\t{\n\t\t\t\t\tthis.$editor = $('<div></div>');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.textareamode = false;\n\t\t\t\t\tthis.$editor = this.$el;\n\t\t\t\t\tthis.$el = $('<textarea name=\"' + this.$editor.attr('id') + '\"></textarea>').css('height', this.height);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.addClass('redactor_editor').attr('contenteditable', true).attr('dir', this.opts.direction);\n\n\t\t\t\tif (this.opts.tabindex !== false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.attr('tabindex', this.opts.tabindex);\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.minHeight !== false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.css('min-height', this.opts.minHeight + 'px');\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.wym === true)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.addClass('redactor_editor_wym');\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.autoresize === false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.css('height', this.height);\n\t\t\t\t}\n\n\t\t\t\t// hide textarea\n\t\t\t\tthis.$el.hide();\n\n\t\t\t\t// append box and frame\n\t\t\t\tvar html = '';\n\t\t\t\tif (this.textareamode)\n\t\t\t\t{\n\t\t\t\t\t// get html\n\t\t\t\t\thtml = this.$el.val();\n\n\t\t\t\t\tthis.$box.insertAfter(this.$el).append(this.$editor).append(this.$el);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// get html\n\t\t\t\t\thtml = this.$editor.html();\n\n\t\t\t\t\tthis.$box.insertAfter(this.$editor).append(this.$el).append(this.$editor);\n\n\t\t\t\t}\n\n\t\t\t\t// conver newlines to p\n\t\t\t\tif (this.opts.paragraphy)\n\t\t\t\t{\n\t\t\t\t\thtml = this.paragraphy(html);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace(/<p>([\\w\\W]*?)<\\/p>/gi, '$1<br><br>');\n\t\t\t\t}\n\n\t\t\t\t// enable\n\t\t\t\tthis.$editor.html(html);\n\n\t\t\t\tif (this.textareamode === false)\n\t\t\t\t{\n\t\t\t\t\tthis.syncCode();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.$el.get(0).tagName !== 'TEXTAREA')\n\t\t\t\t{\n\t\t\t\t\tvar html = this.$el.val();\n\t\t\t\t\tvar textarea = $('<textarea name=\"' + this.$editor.attr('id') + '\"></textarea>').css('height', this.height).val(html);\n\t\t\t\t\tthis.$el.hide();\n\t\t\t\t\tthis.$el.after(textarea);\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tenableAir: function()\n\t\t{\n\t\t\tif (this.opts.air === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.air.hide();\n\n\t\t\tthis.$editor.bind('click', $.proxy(function(e)\n\t\t\t{\n\t\t\t\tvar p = this.getSelection();\n\t\t\t\tif (!p || !p.anchorNode) {\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar a = p.anchorNode.tagName && p.anchorNode.tagName === 'P' ? p.anchorNode : ( p.anchorNode.parentNode.tagName === 'P' ? p.anchorNode.parentNode : false );\n\t\t\t\tif (a && e.target === a && $(a).hasClass('media-row')) {\n\t\t\t\t\t$('.redactor_air').addClass('media');\n\t\t\t\t\tthis.showAir(e);\n\t\t\t\t\t$('.redactor_air li a:hidden').parent().hide();\n\t\t\t\t} else if (p.type === 'Caret') {\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\tthis.$editor.bind('textselect', $.proxy(function(e)\n\t\t\t{\n\t\t\t\t$('.redactor_air').removeClass('media');\n\t\t\t\t$('.redactor_air li').show();\n\t\t\t\tthis.showAir(e);\n\n\t\t\t}, this));\n\n\t\t\tthis.$editor.bind('textunselect', $.proxy(function()\n\t\t\t{\n\t\t\t\tthis.air.hide();\n\n\t\t\t}, this));\n\n\t\t},\n\t\tshowAir: function(e)\n\t\t{\n\t\t\t$('.redactor_air').hide();\n\n\t\t\tvar width = this.air.innerWidth();\n\t\t\tvar left = e.clientX - 15;\n\n\t\t\tif ($(document).width() < (left + width))\n\t\t\t{\n\t\t\t\tleft = left - width;\n\t\t\t}\n\n\t\t\tthis.air.css({ left: left + 'px', top: (e.clientY + $(document).scrollTop() + 14) + 'px' }).show();\n\t\t},\n\t\tsyncCode: function()\n\t\t{\n\t\t\tthis.$el.val(this.$editor.html());\n\t\t},\n\n\t\t// API functions\n\t\tsetCode: function(html)\n\t\t{\n\t\t\tthis.$editor.html(html).focus();\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\tgetCode: function()\n\t\t{\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\treturn this.$editor.html()\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn this.$el.val();\n\t\t\t}\n\t\t},\n\t\tinsertHtml: function(html)\n\t\t{\n\t\t\tthis.$editor.focus();\n\t\t\tthis.execCommand('inserthtml', html);\n\t\t\tthis.observeImages();\n\t\t},\n\t\tdestroy: function()\n\t\t{\n\t\t\tvar html = this.getCode();\n\n\t\t\tif (this.textareamode)\n\t\t\t{\n\t\t\t\tthis.$box.after(this.$el);\n\t\t\t\tthis.$box.remove();\n\t\t\t\tthis.$el.height(this.height).val(html).show();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$box.after(this.$editor);\n\t\t\t\tthis.$box.remove();\n\t\t\t\tthis.$editor.removeClass('redactor_editor').removeClass('redactor_editor_wym').attr('contenteditable', false).html(html).show();\n\t\t\t}\n\n\t\t\t$('.redactor_air').remove();\n\n\t\t\tfor (var i = 0; i < this.dropdowns.length; i++)\n\t\t\t{\n\t\t\t\tthis.dropdowns[i].remove();\n\t\t\t\tdelete(this.dropdowns[i]);\n\t\t\t}\n\n\t\t},\n\t\t// end API functions\n\n\t\t// OBSERVERS\n\t\tobserveImages: function()\n\t\t{\n\t\t\tif (this.opts.observeImages === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$editor.find('img').each($.proxy(function(i,s)\n\t\t\t{\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\t$(s).attr('unselectable', 'on');\n\t\t\t\t}\n\n\t\t\t\tthis.resizeImage(s);\n\n\t\t\t}, this));\n\n\t\t},\n\t\tobserveTables: function()\n\t\t{\n\t\t\tthis.$editor.find('table').click($.proxy(this.tableObserver, this));\n\t\t},\n\t\tobserveScroll: function()\n\t\t{\n\t\t\tvar scrolltop = $(document).scrollTop();\n\t\t\tvar boxtop = this.$box.offset().top;\n\t\t\tvar left = 0;\n\n\t\t\tif (scrolltop > boxtop)\n\t\t\t{\n\t\t\t\tvar width = '100%';\n\t\t\t\tif (this.opts.fixedBox)\n\t\t\t\t{\n\t\t\t\t\tleft = this.$editor.offset().left;\n\t\t\t\t\twidth = this.$editor.innerWidth();\n\t\t\t\t}\n\n\t\t\t\tthis.fixed = true;\n\t\t\t\tthis.$toolbar.css({ position: 'fixed', width: width, zIndex: 100, top: this.opts.fixedTop + 'px', left: left });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.fixed = false;\n\t\t\t\tthis.$toolbar.css({ position: 'relative', width: 'auto', zIndex: 1, top: 0, left: left });\n\t\t\t}\n\t\t},\n\n\t\t// BUFFER\n\t\tsetBuffer: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\t\t\tthis.opts.buffer = this.$editor.html();\n\t\t},\n\t\tgetBuffer: function()\n\t\t{\n\t\t\tif (this.opts.buffer === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$editor.html(this.opts.buffer);\n\n\t\t\tif (!$.browser.msie)\n\t\t\t{\n\t\t\t\tthis.restoreSelection();\n\t\t\t}\n\n\t\t\tthis.opts.buffer = false;\n\t\t},\n\n\t\t// EXECCOMMAND\n\t\texecCommand: function(cmd, param)\n\t\t{\n\t\t\tif (this.opts.visual == false)\n\t\t\t{\n\t\t\t\tthis.$el.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar parent;\n\n\t\t\t\tif (cmd === 'inserthtml' && $.browser.msie)\n\t\t\t\t{\n\t\t\t\t\t /*** IE-Insertion-Fix by Fabio Poloni ***/\n\t\t\t\t\tif (!this.$editor.is(\":focus\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tdocument.selection.createRange().pasteHTML(param);\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && $.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tdocument.execCommand(cmd, false, '<' + param + '>');\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'unlink')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(parent).replaceWith($(parent).text());\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && param === 'blockquote')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'BLOCKQUOTE')\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, 'p');\n\t\t\t\t\t}\n\t\t\t\t\telse if ($(parent).get(0).tagName === 'P')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar parent2 = $(parent).parent();\n\t\t\t\t\t\tif ($(parent2).get(0).tagName === 'BLOCKQUOTE')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar node = $('<p>' + $(parent).html() + '</p>');\n\t\t\t\t\t\t\t$(parent2).replaceWith(node);\n\t\t\t\t\t\t\tthis.setFocusNode(node.get(0));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && param === 'pre')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'PRE')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(parent).replaceWith('<p>' + $(parent).text() + '</p>');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t}\n\n\t\t\t\tif (cmd === 'inserthorizontalrule')\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.find('hr').removeAttr('id');\n\t\t\t\t}\n\n\t\t\t\tthis.syncCode();\n\n\t\t\t\tif (this.oldIE())\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t}\n\n\t\t\t\tif (typeof this.opts.execCommandCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.execCommandCallback(this, cmd);\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) { }\n\t\t},\n\n\t\t// FORMAT NEW LINE\n\t\tformatNewLine: function(e)\n\t\t{\n\t\t\tvar parent = this.getParentNode();\n\n\t\t\tif (parent.nodeName === 'DIV' && parent.className === 'redactor_editor')\n\t\t\t{\n\t\t\t\tvar element = $(this.getCurrentNode());\n\n\t\t\t\tif (element.get(0).tagName === 'DIV' && (element.html() === '' || element.html() === '<br>'))\n\t\t\t\t{\n\t\t\t\t\tvar newElement = $('<p>').append(element.clone().get(0).childNodes);\n\t\t\t\t\telement.replaceWith(newElement);\n\t\t\t\t\tnewElement.html('<br />');\n\t\t\t\t\tthis.setFocusNode(newElement.get(0));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// SAFARI SHIFT KEY + ENTER\n\t\tsafariShiftKeyEnter: function(e, key)\n\t\t{\n\t\t\tif (e.shiftKey && key === 13)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.insertNodeAtCaret($('<span><br /></span>').get(0));\n\t\t\t\tthis.syncCode();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t// FORMAT EMPTY\n\t\tformatEmpty: function(e)\n\t\t{\n\t\t\tvar html = $.trim(this.$editor.html());\n\n\t\t\tif ($.browser.mozilla)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<br>/i, '');\n\t\t\t}\n\n\t\t\tif (html === '')\n\t\t\t{\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar nodehtml = this.opts.allEmptyHtml;\n\t\t\t\tif ($.browser.mozilla)\n\t\t\t\t{\n\t\t\t\t\tnodehtml = this.opts.mozillaEmptyHtml;\n\t\t\t\t}\n\n\t\t\t\tvar node = $(nodehtml).get(0);\n\t\t\t\tthis.$editor.html(node);\n\t\t\t\tthis.setFocusNode(node);\n\n\t\t\t\tthis.syncCode();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.syncCode();\n\t\t\t}\n\t\t},\n\n\t\t// PARAGRAPHY\n\t\tparagraphy: function (str)\n\t\t{\n\n\n\t\t\tstr = $.trim(str);\n\t\t\tif (str === '')\n\t\t\t{\n\t\t\t\tif (!$.browser.mozilla)\n\t\t\t\t{\n\t\t\t\t\treturn this.opts.allEmptyHtml;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn this.opts.mozillaEmptyHtml;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// convert div to p\n\t\t\tif (this.opts.convertDivs)\n\t\t\t{\n\n\t\t\t\tstr = str.replace(/<div(.*?)>([\\w\\W]*?)<\\/div>/gi, '<p>$2</p>');\n\t\t\t}\n\n\t\t\t// inner functions\n\t\t\tvar X = function(x, a, b) { return x.replace(new RegExp(a, 'g'), b); };\n\t\t\tvar R = function(a, b) { return X(str, a, b); };\n\n\t\t\t// block elements\n\t\t\tvar blocks = '(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])';\n\n\t\t\t//str = '<p>' + str;\n\t\t\tstr += '\\n';\n\n\t\t\tR('<br />\\\\s*<br />', '\\n\\n');\n\t\t\tR('(<' + blocks + '[^>]*>)', '\\n$1');\n\t\t\tR('(</' + blocks + '>)', '$1\\n\\n');\n\t\t\tR('\\r\\n|\\r', '\\n'); // newlines\n\t\t\tR('\\n\\n+', '\\n\\n'); // remove duplicates\n\t\t\tR('\\n?((.|\\n)+?)$', '<p>$1</p>\\n'); // including one at the end\n\t\t\tR('<p>\\\\s*?</p>', ''); // remove empty p\n\t\t\tR('<p>(<div[^>]*>\\\\s*)', '$1<p>');\n\t\t\tR('<p>([^<]+)\\\\s*?(</(div|address|form)[^>]*>)', '<p>$1</p>$2');\n\t\t\tR('<p>\\\\s*(</?' + blocks + '[^>]*>)\\\\s*</p>', '$1');\n\t\t\tR('<p>(<li.+?)</p>', '$1');\n\t\t\tR('<p>\\\\s*(</?' + blocks + '[^>]*>)', '$1');\n\t\t\tR('(</?' + blocks + '[^>]*>)\\\\s*</p>', '$1');\n\t\t\tR('(</?' + blocks + '[^>]*>)\\\\s*<br />', '$1');\n\t\t\tR('<br />(\\\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)', '$1');\n\n\t\t\t// pre\n\t\t\tif (str.indexOf('<pre') != -1)\n\t\t\t{\n\t\t\t\tR('(<pre(.|\\n)*?>)((.|\\n)*?)</pre>', function(m0, m1, m2, m3)\n\t\t\t\t{\n\t\t\t\t\treturn X(m1, '\\\\\\\\([\\'\\\"\\\\\\\\])', '$1') + X(X(X(m3, '<p>', '\\n'), '</p>|<br />', ''), '\\\\\\\\([\\'\\\"\\\\\\\\])', '$1') + '</pre>';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn R('\\n</p>$', '</p>');\n\t\t},\n\n\t\t// REMOVE TAGS\n\t\tstripTags: function(html)\n\t\t{\n\t\t\tvar allowed = this.opts.allowedTags;\n\t\t\tvar tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\n\t\t\treturn html.replace(tags, function ($0, $1)\n\t\t\t{\n\t\t\t\treturn $.inArray($1.toLowerCase(), allowed) > '-1' ? $0 : '';\n\t\t\t});\n\t\t},\n\n\n\t\t// PASTE CLEANUP\n\t\tpasteCleanUp: function(html)\n\t\t{\n\t\t\t// remove comments and php tags\n\t\t\thtml = html.replace(/<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi, '');\n\n\t\t\t// remove nbsp\n\t\t\thtml = html.replace(/(&nbsp;){1,}/gi, '&nbsp;');\n\n\t\t\t// remove google docs marker\n\t\t\thtml = html.replace(/<b\\sid=\"internal-source-marker(.*?)\">([\\w\\W]*?)<\\/b>/gi, \"$2\");\n\n\t\t\t// strip tags\n\t\t\thtml = this.stripTags(html);\n\n\t\t\t// prevert\n\t\t\thtml = html.replace(/<td><br><\\/td>/gi, '[td]');\n\t\t\thtml = html.replace(/<a(.*?)>([\\w\\W]*?)<\\/a>/gi, '[a$1]$2[/a]');\n\t\t\thtml = html.replace(/<iframe(.*?)>([\\w\\W]*?)<\\/iframe>/gi, '[iframe$1]$2[/iframe]');\n\t\t\thtml = html.replace(/<video(.*?)>([\\w\\W]*?)<\\/video>/gi, '[video$1]$2[/video]');\n\t\t\thtml = html.replace(/<audio(.*?)>([\\w\\W]*?)<\\/audio>/gi, '[audio$1]$2[/audio]');\n\t\t\thtml = html.replace(/<embed(.*?)>([\\w\\W]*?)<\\/embed>/gi, '[embed$1]$2[/embed]');\n\t\t\thtml = html.replace(/<object(.*?)>([\\w\\W]*?)<\\/object>/gi, '[object$1]$2[/object]');\n\t\t\thtml = html.replace(/<param(.*?)>/gi, '[param$1]');\n\t\t\thtml = html.replace(/<img(.*?)>/gi, '[img$1]');\n\n\t\t\t// remove attributes\n\t\t\thtml = html.replace(/<(\\w+)([\\w\\W]*?)>/gi, '<$1>');\n\n\t\t\t// remove empty\n\t\t\thtml = html.replace(/<[^\\/>][^>]*>(\\s*|\\t*|\\n*|&nbsp;|<br>)<\\/[^>]+>/gi, '');\n\t\t\thtml = html.replace(/<[^\\/>][^>]*>(\\s*|\\t*|\\n*|&nbsp;|<br>)<\\/[^>]+>/gi, '');\n\n\t\t\t// revert\n\t\t\thtml = html.replace(/\\[td\\]/gi, '<td><br></td>');\n\t\t\thtml = html.replace(/\\[a(.*?)\\]([\\w\\W]*?)\\[\\/a\\]/gi, '<a$1>$2</a>');\n\t\t\thtml = html.replace(/\\[iframe(.*?)\\]([\\w\\W]*?)\\[\\/iframe\\]/gi, '<iframe$1>$2</iframe>');\n\t\t\thtml = html.replace(/\\[video(.*?)\\]([\\w\\W]*?)\\[\\/video\\]/gi, '<video$1>$2</video>');\n\t\t\thtml = html.replace(/\\[audio(.*?)\\]([\\w\\W]*?)\\[\\/audio\\]/gi, '<audio$1>$2</audio>');\n\t\t\thtml = html.replace(/\\[embed(.*?)\\]([\\w\\W]*?)\\[\\/embed\\]/gi, '<embed$1>$2</embed>');\n\t\t\thtml = html.replace(/\\[object(.*?)\\]([\\w\\W]*?)\\[\\/object\\]/gi, '<object$1>$2</object>');\n\t\t\thtml = html.replace(/\\[param(.*?)\\]/gi, '<param$1>');\n\t\t\thtml = html.replace(/\\[img(.*?)\\]/gi, '<img$1>');\n\n\t\t\t// convert div to p\n\t\t\tif (this.opts.convertDivs)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<div(.*?)>([\\w\\W]*?)<\\/div>/gi, '<p>$2</p>');\n\t\t\t}\n\n\t\t\tif (this.opts.paragraphy === false)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<p>([\\w\\W]*?)<\\/p>/gi, '$1<br>');\n\t\t\t}\n\n\t\t\t// remove span\n\t\t\thtml = html.replace(/<span>([\\w\\W]*?)<\\/span>/gi, '$1');\n\n\t\t\thtml = html.replace(/\\n{3,}/gi, '\\n');\n\n\t\t\t// remove dirty p\n\t\t\thtml = html.replace(/<p><p>/g, '<p>');\n\t\t\thtml = html.replace(/<\\/p><\\/p>/g, '</p>');\n\n\t\t\tthis.execCommand('inserthtml', html);\n\n\t\t\tif (this.opts.autoresize === true)\n\t\t\t{\n\t\t\t\t$(document.body).scrollTop(this.saveScroll);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$editor.scrollTop(this.saveScroll);\n\t\t\t}\n\n\t\t},\n\n\n\t\t// TEXTAREA CODE FORMATTING\n\t\tformattingRemove: function(html)\n\t\t{\n\t\t\t// save pre\n\t\t\tvar prebuffer = [];\n\t\t\tvar pre = html.match(/<pre(.*?)>([\\w\\W]*?)<\\/pre>/gi);\n\t\t\tif (pre !== null)\n\t\t\t{\n\t\t\t\t$.each(pre, function(i,s)\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace(s, 'prebuffer_' + i);\n\t\t\t\t\tprebuffer.push(s);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thtml = html.replace(/\\s{2,}/g, ' ');\n\t\t\thtml = html.replace(/\\n/g, ' ');\n\t\t\thtml = html.replace(/[\\t]*/g, '');\n\t\t\thtml = html.replace(/\\n\\s*\\n/g, \"\\n\");\n\t\t\thtml = html.replace(/^[\\s\\n]*/g, '');\n\t\t\thtml = html.replace(/[\\s\\n]*$/g, '');\n\t\t\thtml = html.replace(/>\\s+</g, '><');\n\n\t\t\tif (prebuffer)\n\t\t\t{\n\t\t\t\t$.each(prebuffer, function(i,s)\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace('prebuffer_' + i, s);\n\t\t\t\t});\n\n\t\t\t\tprebuffer = [];\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingIndenting: function(html)\n\t\t{\n\t\t\thtml = html.replace(/<li/g, \"\\t<li\");\n\t\t\thtml = html.replace(/<tr/g, \"\\t<tr\");\n\t\t\thtml = html.replace(/<td/g, \"\\t\\t<td\");\n\t\t\thtml = html.replace(/<\\/tr>/g, \"\\t</tr>\");\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingEmptyTags: function(html)\n\t\t{\n\t\t\tvar etags = [\"<pre></pre>\",\"<blockquote>\\\\s*</blockquote>\",\"<em>\\\\s*</em>\",\"<ul></ul>\",\"<ol></ol>\",\"<li></li>\",\"<table></table>\",\"<tr></tr>\",\"<span>\\\\s*<span>\", \"<span>&nbsp;<span>\", \"<b>\\\\s*</b>\", \"<b>&nbsp;</b>\", \"<p>\\\\s*</p>\", \"<p>&nbsp;</p>\",  \"<p>\\\\s*<br>\\\\s*</p>\", \"<div>\\\\s*</div>\", \"<div>\\\\s*<br>\\\\s*</div>\"];\n\t\t\tfor (var i = 0; i < etags.length; ++i)\n\t\t\t{\n\t\t\t\tvar bbb = etags[i];\n\t\t\t\thtml = html.replace(new RegExp(bbb,'gi'), \"\");\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingAddBefore: function(html)\n\t\t{\n\t\t\tvar lb = '\\r\\n';\n\t\t\tvar btags = [\"<p\", \"<form\",\"</ul>\", '</ol>', \"<fieldset\",\"<legend\",\"<object\",\"<embed\",\"<select\",\"<option\",\"<input\",\"<textarea\",\"<pre\",\"<blockquote\",\"<ul\",\"<ol\",\"<li\",\"<dl\",\"<dt\",\"<dd\",\"<table\", \"<thead\",\"<tbody\",\"<caption\",\"</caption>\",\"<th\",\"<tr\",\"<td\",\"<figure\"];\n\t\t\tfor (var i = 0; i < btags.length; ++i)\n\t\t\t{\n\t\t\t\tvar eee = btags[i];\n\t\t\t\thtml = html.replace(new RegExp(eee,'gi'),lb+eee);\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingAddAfter: function(html)\n\t\t{\n\t\t\tvar lb = '\\r\\n';\n\t\t\tvar atags = ['</p>', '</div>', '</h1>', '</h2>', '</h3>', '</h4>', '</h5>', '</h6>', '<br>', '<br />', '</dl>', '</dt>', '</dd>', '</form>', '</blockquote>', '</pre>', '</legend>', '</fieldset>', '</object>', '</embed>', '</textarea>', '</select>', '</option>', '</table>', '</thead>', '</tbody>', '</tr>', '</td>', '</th>', '</figure>'];\n\t\t\tfor (var i = 0; i < atags.length; ++i)\n\t\t\t{\n\t\t\t\tvar aaa = atags[i];\n\t\t\t\thtml = html.replace(new RegExp(aaa,'gi'),aaa+lb);\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformatting: function(html)\n\t\t{\n\t\t\thtml = this.formattingRemove(html);\n\n\t\t\t// empty tags\n\t\t\thtml = this.formattingEmptyTags(html);\n\n\t\t\t// add formatting before\n\t\t\thtml = this.formattingAddBefore(html);\n\n\t\t\t// add formatting after\n\t\t\thtml = this.formattingAddAfter(html);\n\n\t\t\t// indenting\n\t\t\thtml = this.formattingIndenting(html);\n\n\t\t\treturn html;\n\t\t},\n\n\t\thide: function() {\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.$editor.hide();\n\n\t\t\t\thtml = this.$editor.html();\n\t\t\t\thtml = $.trim(this.formatting(html));\n\n\t\t\t\tthis.$el.height(this.$editor.innerHeight()).val(html).show().focus();\n\n\t\t\t\tthis.setBtnActive('html');\n\t\t\t\tthis.opts.visual = false;\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar html;\n\n\t\t\tif (!this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.$el.hide();\n\n\n\t\t\t\tvar html = this.stripTags(this.$el.val());\n\t\t\t\tthis.$editor.html(html);\n\t\t\t\tthis.$editor.show();\n\n\t\t\t\tif (this.$editor.html() === '')\n\t\t\t\t{\n\t\t\t\t\tif (!$.browser.mozilla)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = this.opts.allEmptyHtml;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = this.opts.mozillaEmptyHtml;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCode(html);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.focus();\n\n\t\t\t\tthis.setBtnInactive('html');\n\t\t\t\tthis.opts.visual = true;\n\n\t\t\t\tthis.observeImages();\n\t\t\t\tthis.observeTables();\n\t\t\t}\n\t\t},\n\n\t\t// TOGGLE\n\t\ttoggle: function()\n\t\t{\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t},\n\n\t\t// AUTOSAVE\n\t\tautoSave: function()\n\t\t{\n\t\t\tsetInterval($.proxy(function()\n\t\t\t{\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: this.opts.autosave,\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\tdata: this.$el.attr('name') + '=' + this.getCode(),\n\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t{\n\t\t\t\t\t\t// callback\n\t\t\t\t\t\tif (typeof this.opts.autosaveCallback === 'function')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.opts.autosaveCallback(data, this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this)\n\t\t\t\t});\n\n\n\t\t\t}, this), this.opts.interval*1000);\n\t\t},\n\n\t\t// TOOLBAR\n\t\tbuildToolbar: function()\n\t\t{\n\t\t\tif (this.opts.toolbar === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$toolbar = $('<ul>').addClass('redactor_toolbar');\n\n\t\t\tif (this.opts.air)\n\t\t\t{\n\t\t\t\t$(this.air).append(this.$toolbar);\n\t\t\t\t$('body').prepend(this.air);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$box.prepend(this.$toolbar);\n\t\t\t}\n\n\t\t\t$.each(this.opts.buttons, $.proxy(function(i,key)\n\t\t\t{\n\n\t\t\t\tif (key !== '|' && typeof this.opts.toolbar[key] !== 'undefined')\n\t\t\t\t{\n\t\t\t\t\tvar s = this.opts.toolbar[key];\n\n\t\t\t\t\tif (this.opts.fileUpload === false && key === 'file')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar li = $('<li>');\n\t\t\t\t\tvar a = this.buildButton(key, s);\n\n\t\t\t\t\t// dropdown\n\t\t\t\t\tif (key === 'backcolor' || key === 'fontcolor' || typeof(s.dropdown) !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar dropdown = $('<div class=\"redactor_dropdown\" style=\"display: none;\">');\n\n\t\t\t\t\t\tif (key === 'backcolor' || key === 'fontcolor')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdropdown = this.buildColorPicker(dropdown, key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdropdown = this.buildDropdown(dropdown, s.dropdown);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.dropdowns.push(dropdown.appendTo($(document.body)));\n\n\t\t\t\t\t\t// observing dropdown\n\t\t\t\t\t\tthis.hdlHideDropDown = $.proxy(function(e) { this.hideDropDown(e, dropdown, key); }, this);\n\t\t\t\t\t\tthis.hdlShowDropDown = $.proxy(function(e) { this.showDropDown(e, dropdown, key); }, this);\n\n\t\t\t\t\t\ta.click(this.hdlShowDropDown);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$toolbar.append($(li).append(a));\n\t\t\t\t}\n\n\n\t\t\t\tif (key === '|')\n\t\t\t\t{\n\t\t\t\t\tthis.$toolbar.append($('<li class=\"redactor_separator\"></li>'));\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\t$(document).click(this.hdlHideDropDown);\n\t\t\tthis.$editor.click(this.hdlHideDropDown);\n\n\t\t},\n\t\tbuildButton: function(key, s)\n\t\t{\n\t\t\tvar button = $('<a href=\"javascript:void(null);\" title=\"' + s.title + '\" class=\"redactor_btn_' + key + '\"></a>');\n\n\t\t\tif (typeof s.func === 'undefined')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function() { this.execCommand(s.exec, key); $('#edit-area').trigger('keyup'); }, this));\n\t\t\t}\n\t\t\telse if (s.func !== 'show')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function(e) {\n\n\t\t\t\t\tthis[s.func](e);\n\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\tif (typeof s.callback !== 'undefined')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function(e) { s.callback(this, e, key); }, this));\n\t\t\t}\n\n\t\t\treturn button;\n\t\t},\n\t\tbuildDropdown: function(dropdown, obj)\n\t\t{\n\t\t\t$.each(obj, $.proxy(\n\t\t\t\tfunction (x, d)\n\t\t\t\t{\n\t\t\t\t\tif (typeof(d.className) === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\td.className = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar drop_a;\n\t\t\t\t\tif (typeof d.name !== 'undefined' && d.name === 'separator')\n\t\t\t\t\t{\n\t\t\t\t\t\tdrop_a = $('<a class=\"redactor_separator_drop\">');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdrop_a = $('<a href=\"javascript:void(null);\" class=\"' + d.className + '\">' + d.title + '</a>');\n\n\t\t\t\t\t\tif (typeof(d.func) === 'undefined')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(drop_a).click($.proxy(function() { this.execCommand(d.exec, x); }, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(drop_a).click($.proxy(function(e) { this[d.func](e); }, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$(dropdown).append(drop_a);\n\n\t\t\t\t}, this)\n\t\t\t);\n\n\t\t\treturn dropdown;\n\n\t\t},\n\t\tbuildColorPicker: function(dropdown, key)\n\t\t{\n\t\t\tvar mode;\n\t\t\tif (key === 'backcolor')\n\t\t\t{\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tmode = 'BackColor';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmode = 'hilitecolor';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmode = 'forecolor';\n\t\t\t}\n\n\t\t\t$(dropdown).width(210);\n\n\t\t\tvar len = this.opts.colors.length;\n\t\t\tfor (var i = 0; i < len; ++i)\n\t\t\t{\n\t\t\t\tvar color = this.opts.colors[i];\n\n\t\t\t\tvar swatch = $('<a rel=\"' + color + '\" href=\"javascript:void(null);\" class=\"redactor_color_link\"></a>').css({ 'backgroundColor': color });\n\t\t\t\t$(dropdown).append(swatch);\n\n\t\t\t\tvar _self = this;\n\t\t\t\t$(swatch).click(function()\n\t\t\t\t{\n\t\t\t\t\t_self.execCommand(mode, $(this).attr('rel'));\n\n\t\t\t\t\tif (mode === 'forecolor')\n\t\t\t\t\t{\n\t\t\t\t\t\t_self.$editor.find('font').replaceWith(function() {\n\n\t\t\t\t\t\t\treturn $('<span style=\"color: ' + $(this).attr('color') + ';\">' + $(this).html() + '</span>');\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.browser.msie && mode === 'BackColor')\n\t\t\t\t\t{\n\t\t\t\t\t\t_self.$editor.find('font').replaceWith(function() {\n\n\t\t\t\t\t\t\treturn $('<span style=\"' + $(this).attr('style') + '\">' + $(this).html() + '</span>');\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar elnone = $('<a href=\"javascript:void(null);\" class=\"redactor_color_none\"></a>').html(RLANG.none);\n\n\t\t\tif (key === 'backcolor')\n\t\t\t{\n\t\t\t\telnone.click($.proxy(this.setBackgroundNone, this));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telnone.click($.proxy(this.setColorNone, this));\n\t\t\t}\n\n\t\t\t$(dropdown).append(elnone);\n\n\t\t\treturn dropdown;\n\t\t},\n\t\tsetBackgroundNone: function()\n\t\t{\n\t\t\t$(this.getParentNode()).css('background-color', 'transparent');\n\t\t\tthis.syncCode();\n\t\t},\n\t\tsetColorNone: function()\n\t\t{\n\t\t\t$(this.getParentNode()).attr('color', '').css('color', '');\n\t\t\tthis.syncCode();\n\t\t},\n\n\n\t\t// DROPDOWNS\n\t\tshowDropDown: function(e, dropdown, key)\n\t\t{\n\t\t\tif (this.getBtn(key).hasClass('dropact'))\n\t\t\t{\n\t\t\t\tthis.hideAllDropDown();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideAllDropDown();\n\n\t\t\t\tthis.setBtnActive(key);\n\t\t\t\tthis.getBtn(key).addClass('dropact');\n\n\t\t\t\tvar left = this.getBtn(key).offset().left;\n\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tvar air_top = this.air.offset().top;\n\n\t\t\t\t\t$(dropdown).css({ position: 'absolute', left: left + 'px', top: air_top+30 + 'px' }).show();\n\t\t\t\t}\n\t\t\t\telse if (this.opts.fixed && this.fixed)\n\t\t\t\t{\n\t\t\t\t\t$(dropdown).css({ position: 'fixed', left: left + 'px', top: '30px' }).show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar top = this.$toolbar.offset().top + 30;\n\t\t\t\t\t$(dropdown).css({ position: 'absolute', left: left + 'px', top: top + 'px' }).show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\thideAllDropDown: function()\n\t\t{\n\t\t\tthis.$toolbar.find('a.dropact').removeClass('act').removeClass('dropact');\n\t\t\t$('.redactor_dropdown').hide();\n\t\t},\n\t\thideDropDown: function(e, dropdown, key)\n\t\t{\n\t\t\tif (!$(e.target).hasClass('dropact'))\n\t\t\t{\n\t\t\t\t$(dropdown).removeClass('act');\n\t\t\t\tthis.showedDropDown = false;\n\t\t\t\tthis.hideAllDropDown();\n\t\t\t}\n\t\t},\n\n\t\t// SELECTION AND NODE MANIPULATION\n\t\tgetSelection: function ()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn document.getSelection();\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn document.selection.createRange();\n\t\t\t}\n\t\t},\n\t\tgetFragmentHtml: function (fragment)\n\t\t{\n\t\t\tvar cloned = fragment.cloneNode(true);\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.appendChild(cloned);\n\t\t\treturn div.innerHTML;\n\t\t},\n\t\textractContent: function()\n\t\t{\n\t\t\tvar node = this.$editor.get(0);\n\t\t\tvar frag = document.createDocumentFragment(), child;\n\t\t\twhile ((child = node.firstChild))\n\t\t\t{\n\t\t\t\tfrag.appendChild(child);\n\t\t\t}\n\n\t\t\treturn frag;\n\t\t},\n\t\tsaveSelection: function()\n\t\t{\n\t\t\tthis.savedSel = null;\n\t\t\tthis.savedSelObj = null;\n\n\t\t\tif ($.browser.msie && parseInt($.browser.version, 10) < 9)\n\t\t\t{\n\t\t\t\tvar node = this.$editor.get(0);\n\t\t\t\tthis.savedSel = window.Selection.getOrigin(node);\n\t\t\t\tthis.savedSelObj = window.Selection.getFocus(node);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.savedSel = window.Selection.getOrigin(window);\n\t\t\t\tthis.savedSelObj = window.Selection.getFocus(window);\n\t\t\t}\n\t\t},\n\t\trestoreSelection: function()\n\t\t{\n\t\t\tif (this.savedSel !== null && this.savedSelObj !== null && this.savedSel[0].tagName !== 'BODY')\n\t\t\t{\n\t\t\t\tif ($(this.savedSel[0]).closest('.redactor_editor').size() == 0)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.Selection.setSelection(window, this.savedSel[0], this.savedSel[1], this.savedSelObj[0], this.savedSelObj[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$editor.focus();\n\t\t\t}\n\t\t},\n\t\tgetParentNode: function()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\tvar s = window.getSelection();\n\t\t\t\tif (s.rangeCount > 0)\n\t\t\t\t{\n\t\t\t\t\treturn this.getSelection().getRangeAt(0).startContainer.parentNode;\n\t\t\t\t}\n\t\t\t\telse return false;\n\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection().parentElement();\n\t\t\t}\n\t\t},\n\t\tgetCurrentNode: function()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection().getRangeAt(0).startContainer;\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection();\n\t\t\t}\n\t\t},\n\t\tsetFocusNode: function(node)\n\t\t{\n\t\t\tif (typeof node === 'undefined')\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar range = document.createRange();\n\t\t\t\tvar selection = this.getSelection();\n\n\t\t\t\tif (selection !== null)\n\t\t\t\t{\n\t\t\t\t\trange.selectNodeContents(node);\n\t\t\t\t\tselection.addRange(range);\n\t\t\t\t\tselection.collapse(node, 0);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.focus();\n\n\t\t\t} catch (e) { }\n\n\t\t},\n\t\tinsertNodeAtCaret: function (node)\n\t\t{\n\t\t\tif (window.getSelection)\n\t\t\t{\n\t\t\t\tvar sel = this.getSelection();\n\t\t\t\tif (sel.rangeCount)\n\t\t\t\t{\n\t\t\t\t\tvar range = sel.getRangeAt(0);\n\t\t\t\t\trange.collapse(false);\n\t\t\t\t\trange.insertNode(node);\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.selectNodeContents(node);\n\t\t\t\t\trange.collapse(false);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (document.selection)\n\t\t\t{\n\t\t\t\tvar html = (node.nodeType === 1) ? node.outerHTML : node.data;\n\t\t\t\tvar id = \"marker_\" + (\"\" + Math.random()).slice(2);\n\t\t\t\thtml += '<span id=\"' + id + '\"></span>';\n\t\t\t\tvar textRange = this.getSelection();\n\t\t\t\ttextRange.collapse(false);\n\t\t\t\ttextRange.pasteHTML(html);\n\t\t\t\tvar markerSpan = document.getElementById(id);\n\t\t\t\ttextRange.moveToElementText(markerSpan);\n\t\t\t\ttextRange.select();\n\t\t\t\tmarkerSpan.parentNode.removeChild(markerSpan);\n\t\t\t}\n\t\t},\n\t\tgetSelectedHtml: function()\n\t\t{\n\t\t\tvar html = '';\n\t\t\tif (window.getSelection)\n\t\t\t{\n\t\t\t\tvar sel = window.getSelection();\n\t\t\t\tif (sel.rangeCount)\n\t\t\t\t{\n\t\t\t\t\tvar container = document.createElement(\"div\");\n\t\t\t\t\tfor (var i = 0, len = sel.rangeCount; i < len; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontainer.appendChild(sel.getRangeAt(i).cloneContents());\n\t\t\t\t\t}\n\n\t\t\t\t\thtml = container.innerHTML;\n\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (document.selection)\n\t\t\t{\n\t\t\t\tif (document.selection.type === \"Text\")\n\t\t\t\t{\n\t\t\t\t\thtml = document.selection.createRange().htmlText;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\n\t\t// BUTTONS MANIPULATIONS\n\t\tgetBtn: function(key)\n\t\t{\n\t\t\treturn $(this.$toolbar.find('a.redactor_btn_' + key));\n\t\t},\n\t\tsetBtnActive: function(key)\n\t\t{\n\t\t\tthis.getBtn(key).addClass('act');\n\t\t},\n\t\tsetBtnInactive: function(key)\n\t\t{\n\t\t\tthis.getBtn(key).removeClass('act');\n\t\t},\n\n\t\t// RESIZE IMAGES\n\t\tresizeImage: function(resize)\n\t\t{\n\t\t\tvar clicked = false;\n\t\t\tvar clicker = false;\n\t\t\tvar start_x;\n\t\t\tvar start_y;\n\t\t\tvar ratio = $(resize).width()/$(resize).height();\n\t\t\tvar min_w = 10;\n\t\t\tvar min_h = 10;\n\n\t\t\t$(resize).hover(function() { $(resize).css('cursor', 'nw-resize'); }, function() { $(resize).css('cursor','default'); clicked = false; });\n\n\t\t\t$(resize).mousedown(function(e)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\n\t\t\t\tratio = $(resize).width()/$(resize).height();\n\n\t\t\t\tclicked = true;\n\t\t\t\tclicker = true;\n\n\t\t\t\tstart_x = Math.round(e.pageX - $(resize).eq(0).offset().left);\n\t\t\t\tstart_y = Math.round(e.pageY - $(resize).eq(0).offset().top);\n\t\t\t});\n\n\t\t\t$(resize).mouseup($.proxy(function(e)\n\t\t\t{\n\t\t\t\tclicked = false;\n\t\t\t\tthis.syncCode();\n\n\t\t\t}, this));\n\n\t\t\t$(resize).click($.proxy(function(e)\n\t\t\t{\n\t\t\t\tif (clicker)\n\t\t\t\t{\n\t\t\t\t\tthis.imageEdit(e);\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\t$(resize).mousemove(function(e)\n\t\t\t{\n\t\t\t\tif (clicked)\n\t\t\t\t{\n\t\t\t\t\tclicker = false;\n\n\t\t\t\t\tvar mouse_x = Math.round(e.pageX - $(this).eq(0).offset().left) - start_x;\n\t\t\t\t\tvar mouse_y = Math.round(e.pageY - $(this).eq(0).offset().top) - start_y;\n\n\t\t\t\t\tvar div_h = $(resize).height();\n\n\t\t\t\t\tvar new_h = parseInt(div_h, 10) + mouse_y;\n\t\t\t\t\tvar new_w = new_h*ratio;\n\n\t\t\t\t\tif (new_w > min_w)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(resize).width(new_w);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (new_h > min_h)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(resize).height(new_h);\n\t\t\t\t\t}\n\n\t\t\t\t\tstart_x = Math.round(e.pageX - $(this).eq(0).offset().left);\n\t\t\t\t\tstart_y = Math.round(e.pageY - $(this).eq(0).offset().top);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// TABLE\n\t\tshowTable: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tthis.modalInit(RLANG.table, 'table', 300, $.proxy(function()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_table_btn').click($.proxy(this.insertTable, this));\n\t\t\t\t}, this),\n\n\t\t\t\tfunction()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_table_rows').focus();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tinsertTable: function()\n\t\t{\n\t\t\tvar rows = $('#redactor_table_rows').val();\n\t\t\tvar columns = $('#redactor_table_columns').val();\n\n\t\t\tvar table_box = $('<div></div>');\n\n\t\t\tvar tableid = Math.floor(Math.random() * 99999);\n\t\t\tvar table = $('<table id=\"table' + tableid + '\"><tbody></tbody></table>');\n\n\t\t\tfor (var i = 0; i < rows; i++)\n\t\t\t{\n\t\t\t\tvar row = $('<tr></tr>');\n\t\t\t\tfor (var z = 0; z < columns; z++)\n\t\t\t\t{\n\t\t\t\t\tvar column = $('<td><br></td>');\n\t\t\t\t\t$(row).append(column);\n\t\t\t\t}\n\t\t\t\t$(table).append(row);\n\t\t\t}\n\n\t\t\t$(table_box).append(table);\n\t\t\tvar html = $(table_box).html() + '<p></p>';\n\n\t\t\tthis.restoreSelection();\n\t\t\tthis.execCommand('inserthtml', html);\n\t\t\tthis.modalClose();\n\t\t\tthis.observeTables();\n\n\t\t},\n\t\ttableObserver: function(e)\n\t\t{\n\t\t\tthis.$table = $(e.target).closest('table');\n\n\t\t\tthis.$table_tr = this.$table.find('tr');\n\t\t\tthis.$table_td = this.$table.find('td');\n\n\t\t\tthis.$table_td.removeClass('redactor-current-td');\n\n\t\t\tthis.$tbody = $(e.target).closest('tbody');\n\t\t\tthis.$thead = $(this.$table).find('thead');\n\n\t\t\tthis.$current_td = $(e.target);\n\t\t\tthis.$current_td.addClass('redactor-current-td');\n\n\t\t\tthis.$current_tr = $(e.target).closest('tr');\n\t\t},\n\t\tdeleteTable: function()\n\t\t{\n\t\t\t$(this.$table).remove();\n\t\t\tthis.$table = false;\n\t\t\tthis.syncCode();\n\t\t},\n\t\tdeleteRow: function()\n\t\t{\n\t\t\t$(this.$current_tr).remove();\n\t\t\tthis.syncCode();\n\t\t},\n\t\tdeleteColumn: function()\n\t\t{\n\t\t\tvar index = $(this.$current_td).get(0).cellIndex;\n\n\t\t\t$(this.$table).find('tr').each(function()\n\t\t\t{\n\t\t\t\t$(this).find('td').eq(index).remove();\n\t\t\t});\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\taddHead: function()\n\t\t{\n\t\t\tif ($(this.$table).find('thead').size() !== 0)\n\t\t\t{\n\t\t\t\tthis.deleteHead();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar tr = $(this.$table).find('tr').first().clone();\n\t\t\t\ttr.find('td').html('&nbsp;');\n\t\t\t\tthis.$thead = $('<thead></thead>');\n\t\t\t\tthis.$thead.append(tr);\n\t\t\t\t$(this.$table).prepend(this.$thead);\n\t\t\t\tthis.syncCode();\n\t\t\t}\n\t\t},\n\t\tdeleteHead: function()\n\t\t{\n\t\t\t$(this.$thead).remove();\n\t\t\tthis.$thead = false;\n\t\t\tthis.syncCode();\n\t\t},\n\t\tinsertRowAbove: function()\n\t\t{\n\t\t\tthis.insertRow('before');\n\t\t},\n\t\tinsertRowBelow: function()\n\t\t{\n\t\t\tthis.insertRow('after');\n\t\t},\n\t\tinsertColumnLeft: function()\n\t\t{\n\t\t\tthis.insertColumn('before');\n\t\t},\n\t\tinsertColumnRight: function()\n\t\t{\n\t\t\tthis.insertColumn('after');\n\t\t},\n\t\tinsertRow: function(type)\n\t\t{\n\t\t\tvar new_tr = $(this.$current_tr).clone();\n\t\t\tnew_tr.find('td').html('&nbsp;');\n\t\t\tif (type === 'after')\n\t\t\t{\n\t\t\t\t$(this.$current_tr).after(new_tr);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(this.$current_tr).before(new_tr);\n\t\t\t}\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\tinsertColumn: function(type)\n\t\t{\n\t\t\tvar index = 0;\n\n\t\t\tthis.$current_td.addClass('redactor-current-td');\n\n\t\t\tthis.$current_tr.find('td').each(function(i,s)\n\t\t\t{\n\t\t\t\tif ($(s).hasClass('redactor-current-td'))\n\t\t\t\t{\n\t\t\t\t\tindex = i;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$table_tr.each(function(i,s)\n\t\t\t{\n\t\t\t\tvar current = $(s).find('td').eq(index);\n\n\t\t\t\tvar td = current.clone();\n\t\t\t\ttd.html('&nbsp;');\n\n\t\t\t\tif (type === 'after')\n\t\t\t\t{\n\t\t\t\t\t$(current).after(td);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$(current).before(td);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.syncCode();\n\t\t},\n\n\t\t// INSERT VIDEO\n\t\tshowVideo: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\t\t\tthis.modalInit(RLANG.video, 'video', 600, $.proxy(function()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_video_btn').click($.proxy(this.insertVideo, this));\n\t\t\t\t}, this),\n\n\t\t\t\tfunction()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_video_area').focus();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tinsertVideo: function()\n\t\t{\n\t\t\tvar data = $('#redactor_insert_video_area').val();\n\t\t\tdata = this.stripTags(data);\n\n\t\t\tthis.restoreSelection();\n\t\t\tthis.execCommand('inserthtml', data);\n\t\t\tthis.modalClose();\n\t\t},\n\n\t\t// INSERT IMAGE\n\t\timageEdit: function(e)\n\t\t{\n\t\t\tvar $el = $(e.target);\n\t\t\tvar parent = $el.parent();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\t$('#redactor_file_alt').val($el.attr('alt'));\n\t\t\t\t$('#redactor_image_edit_src').attr('href', $el.attr('src'));\n\t\t\t\t$('#redactor_form_image_align').val($el.css('float'));\n\n\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file_link').val($(parent).attr('href'));\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_image_delete_btn').click($.proxy(function() { this.imageDelete($el); }, this));\n\t\t\t\t$('#redactorSaveBtn').click($.proxy(function() { this.imageSave($el); }, this));\n\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.image, 'image_edit', 380,  handler);\n\n\t\t},\n\t\timageDelete: function(el)\n\t\t{\n\t\t\t$(el).remove();\n\t\t\tthis.modalClose();\n\t\t\tthis.syncCode();\n\t\t},\n\t\timageSave: function(el)\n\t\t{\n\t\t\tvar parent = $(el).parent();\n\n\t\t\t$(el).attr('alt', $('#redactor_file_alt').val());\n\n\t\t\tvar floating = $('#redactor_form_image_align').val();\n\n\t\t\tif (floating === 'left')\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'left', margin: '0 10px 10px 0' });\n\t\t\t}\n\t\t\telse if (floating === 'right')\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'right', margin: '0 0 10px 10px' });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'none', margin: '0' });\n\t\t\t}\n\n\t\t\t// as link\n\t\t\tvar link = $.trim($('#redactor_file_link').val());\n\t\t\tif (link !== '')\n\t\t\t{\n\t\t\t\tif ($(parent).get(0).tagName !== 'A')\n\t\t\t\t{\n\t\t\t\t\t$(el).replaceWith('<a href=\"' + link + '\">' + this.outerHTML(el) + '</a>');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$(parent).attr('href', link);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t{\n\t\t\t\t\t$(parent).replaceWith(this.outerHTML(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t\tthis.observeImages();\n\t\t\tthis.syncCode();\n\n\t\t},\n\t\tshowImage: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\t// json\n\t\t\t\tif (this.opts.imageGetJson !== false)\n\t\t\t\t{\n\t\t\t\t\t$.getJSON(this.opts.imageGetJson, $.proxy(function(data) {\n\n\t\t\t\t\t\tvar folders = {};\n\t\t\t\t\t\tvar z = 0;\n\n\t\t\t\t\t\t// folders\n\t\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (typeof val.folder !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tz++;\n\t\t\t\t\t\t\t\tfolders[val.folder] = z;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}, this));\n\n\t\t\t\t\t\tvar folderclass = false;\n\t\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// title\n\t\t\t\t\t\t\tvar thumbtitle = '';\n\t\t\t\t\t\t\tif (typeof val.title !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthumbtitle = val.title;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar folderkey = 0;\n\t\t\t\t\t\t\tif (!$.isEmptyObject(folders) && typeof val.folder !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfolderkey = folders[val.folder];\n\t\t\t\t\t\t\t\tif (folderclass === false)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfolderclass = '.redactorfolder' + folderkey;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar img = $('<img src=\"' + val.thumb + '\" class=\"redactorfolder redactorfolder' + folderkey + '\" rel=\"' + val.image + '\" title=\"' + thumbtitle + '\" />');\n\t\t\t\t\t\t\t$('#redactor_image_box').append(img);\n\t\t\t\t\t\t\t$(img).click($.proxy(this.imageSetThumb, this));\n\n\n\t\t\t\t\t\t}, this));\n\n\t\t\t\t\t\t// folders\n\t\t\t\t\t\tif (!$.isEmptyObject(folders))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('.redactorfolder').hide();\n\t\t\t\t\t\t\t$(folderclass).show();\n\n\t\t\t\t\t\t\tvar onchangeFunc = function(e)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$('.redactorfolder').hide();\n\t\t\t\t\t\t\t\t$('.redactorfolder' + $(e.target).val()).show();\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar select = $('<select id=\"redactor_image_box_select\">');\n\t\t\t\t\t\t\t$.each(folders, function(k,v)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tselect.append($('<option value=\"' + v + '\">' + k + '</option>'));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$('#redactor_image_box').before(select);\n\t\t\t\t\t\t\tselect.change(onchangeFunc);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_tabs a').eq(1).remove();\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.imageUpload !== false)\n\t\t\t\t{\n\n\t\t\t\t\t// dragupload\n\t\t\t\t\tif (this.opts.uploadCrossDomain === false && this.isMobile() === false)\n\t\t\t\t\t{\n\n\t\t\t\t\t\tif ($('#redactor_file').size() !== 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('#redactor_file').dragupload(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: this.opts.imageUpload,\n\t\t\t\t\t\t\t\tuploadFields: this.opts.uploadFields,\n\t\t\t\t\t\t\t\tsuccess: $.proxy(this.imageUploadCallback, this)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ajax upload\n\t\t\t\t\tthis.uploadInit('redactor_file', { auto: true, url: this.opts.imageUpload, success: $.proxy(this.imageUploadCallback, this)  });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('.redactor_tab').hide();\n\t\t\t\t\tif (this.opts.imageGetJson === false)\n\t\t\t\t\t{\n\t\t\t\t\t\t$('#redactor_tabs').remove();\n\t\t\t\t\t\t$('#redactor_tab3').show();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tabs = $('#redactor_tabs a');\n\t\t\t\t\t\ttabs.eq(0).remove();\n\t\t\t\t\t\ttabs.eq(1).addClass('redactor_tabs_act');\n\t\t\t\t\t\t$('#redactor_tab2').show();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_upload_btn').click($.proxy(this.imageUploadCallbackLink, this));\n\n\t\t\t}, this);\n\n\t\t\tvar endCallback = $.proxy(function()\n\t\t\t{\n\t\t\t\tif (this.opts.imageUpload === false && this.opts.imageGetJson === false)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file_link').focus();\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.image, 'image', 570, handler, endCallback, true);\n\n\t\t},\n\t\timageSetThumb: function(e)\n\t\t{\n\t\t\tthis._imageSet('<img src=\"' + $(e.target).attr('rel') + '\" alt=\"' + $(e.target).attr('title') + '\" />', true);\n\t\t},\n\t\timageUploadCallbackLink: function()\n\t\t{\n\t\t\tif ($('#redactor_file_link').val() !== '')\n\t\t\t{\n\t\t\t\tvar data = '<img src=\"' + $('#redactor_file_link').val() + '\" />';\n\t\t\t\tthis._imageSet(data, true);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.modalClose();\n\t\t\t}\n\t\t},\n\t\timageUploadCallback: function(data)\n\t\t{\n\t\t\tthis._imageSet(data);\n\t\t},\n\t\t_imageSet: function(json, link)\n\t\t{\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (json !== false)\n\t\t\t{\n\t\t\t\tvar html = '', data = '';\n\t\t\t\tif (link !== true)\n\t\t\t\t{\n\t\t\t\t\tdata = $.parseJSON(json);\n\t\t\t\t\thtml = '<p><img src=\"' + data.filelink + '\" /></p>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thtml = json;\n\t\t\t\t}\n\n\t\t\t\tthis.execCommand('inserthtml', html);\n\n\t\t\t\t// upload image callback\n\t\t\t\tif (link !== true && typeof this.opts.imageUploadCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.imageUploadCallback(this, data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t\tthis.observeImages();\n\t\t},\n\n\t\t// INSERT LINK\n\t\tshowLink: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\tthis.insert_link_node = false;\n\t\t\t\tvar sel = this.getSelection();\n\t\t\t\tvar url = '', text = '', target = '';\n\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tvar parent = this.getParentNode();\n\t\t\t\t\tif (parent.nodeName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.insert_link_node = $(parent);\n\t\t\t\t\t\ttext = this.insert_link_node.text();\n\t\t\t\t\t\turl = this.insert_link_node.attr('href');\n\t\t\t\t\t\ttarget = this.insert_link_node.attr('target');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.oldIE())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext = sel.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext = sel.toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (sel && sel.anchorNode && sel.anchorNode.parentNode.tagName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\turl = sel.anchorNode.parentNode.href;\n\t\t\t\t\t\ttext = sel.anchorNode.parentNode.text;\n\t\t\t\t\t\ttarget = sel.anchorNode.parentNode.target;\n\n\t\t\t\t\t\tif (sel.toString() === '')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.insert_link_node = sel.anchorNode.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttext = sel.toString();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$('.redactor_link_text').val(text);\n\n\t\t\t\tvar turl = url.replace(self.location.href, '');\n\n\t\t\t\tif (url.search('mailto:') === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.setModalTab(2);\n\n\t\t\t\t\t$('#redactor_tab_selected').val(2);\n\t\t\t\t\t$('#redactor_link_mailto').val(url.replace('mailto:', ''));\n\t\t\t\t}\n\t\t\t\telse if (turl.search(/^#/gi) === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.setModalTab(3);\n\n\t\t\t\t\t$('#redactor_tab_selected').val(3);\n\t\t\t\t\t$('#redactor_link_anchor').val(turl.replace(/^#/gi, ''));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_link_url').val(url);\n\t\t\t\t}\n\n\t\t\t\tif (target === '_blank')\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_link_blank').attr('checked', true);\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_insert_link_btn').click($.proxy(this.insertLink, this));\n\n\n\t\t\t}, this);\n\n\t\t\tvar endCallback = function(url)\n\t\t\t{\n\t\t\t\t$('#redactor_link_url').focus();\n\t\t\t};\n\n\n\t\t\tthis.modalInit(RLANG.link, 'link', 460, handler, endCallback);\n\n\t\t},\n\t\tinsertLink: function()\n\t\t{\n\t\t\tvar tab_selected = $('#redactor_tab_selected').val();\n\t\t\tvar link = '', text = '', target = '';\n\n\t\t\tif (tab_selected === '1') // url\n\t\t\t{\n\t\t\t\tlink = $('#redactor_link_url').val();\n\t\t\t\ttext = $('#redactor_link_url_text').val();\n\n\t\t\t\tif ($('#redactor_link_blank').attr('checked'))\n\t\t\t\t{\n\t\t\t\t\ttarget = '_blank';\n\t\t\t\t}\n\n\t\t\t\t// test http\n\t\t\t\tvar re = new RegExp('^https?://', 'i');\n\t\t\t\tif (link.search(re) == -1 && link.indexOf('mailto:') !== 0)\n\t\t\t\t{\n\t\t\t\t\tlink = this.opts.protocol + link;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tab_selected === '2') // mailto\n\t\t\t{\n\t\t\t\tlink = 'mailto:' + $('#redactor_link_mailto').val();\n\t\t\t\ttext = $('#redactor_link_mailto_text').val();\n\t\t\t}\n\t\t\telse if (tab_selected === '3') // anchor\n\t\t\t{\n\t\t\t\tlink = '#' + $('#redactor_link_anchor').val();\n\t\t\t\ttext = $('#redactor_link_anchor_text').val();\n\t\t\t}\n\n\t\t\tthis._insertLink('<a href=\"' + link + '\" target=\"' + target + '\">' +  text + '</a>&nbsp;', $.trim(text), link, target);\n\n\t\t},\n\t\t_insertLink: function(a, text, link, target)\n\t\t{\n\t\t\tthis.$editor.focus();\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (text !== '')\n\t\t\t{\n\t\t\t\tif (this.insert_link_node)\n\t\t\t\t{\n\t\t\t\t\t$(this.insert_link_node).text(text);\n\t\t\t\t\t$(this.insert_link_node).attr('href', link);\n\t\t\t\t\tif (target !== '')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(this.insert_link_node).attr('target', target);\n\t\t\t\t\t}\n\t\t\t\t\tthis.syncCode();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.execCommand('inserthtml', a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t},\n\n\t\t// INSERT FILE\n\t\tshowFile: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\tvar sel = this.getSelection();\n\n\t\t\t\tvar text = '';\n\n\t\t\t\tif (this.oldIE())\n\t\t\t\t{\n\t\t\t\t\ttext = sel.text;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttext = sel.toString();\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_filename').val(text);\n\n\t\t\t\t// dragupload\n\t\t\t\tif (this.opts.uploadCrossDomain === false && this.isMobile() === false)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file').dragupload(\n\t\t\t\t\t{\n\t\t\t\t\t\turl: this.opts.fileUpload,\n\t\t\t\t\t\tuploadFields: this.opts.uploadFields,\n\t\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.fileUploadCallback(data);\n\t\t\t\t\t\t}, this)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.uploadInit('redactor_file', { auto: true, url: this.opts.fileUpload, success: $.proxy(function(data) {\n\n\t\t\t\t\tthis.fileUploadCallback(data);\n\n\t\t\t\t}, this)});\n\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.file, 'file', 500, handler);\n\t\t},\n\t\tfileUploadCallback: function(json)\n\t\t{\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (json !== false)\n\t\t\t{\n\t\t\t\tvar data = $.parseJSON(json);\n\t\t\t\tvar text = $('#redactor_filename').val();\n\n\t\t\t\tif (text === '')\n\t\t\t\t{\n\t\t\t\t\ttext = data.filename;\n\t\t\t\t}\n\n\t\t\t\tvar link = '<a href=\"' + data.filelink + '\">' + text + '</a>';\n\n\t\t\t\t// chrome fix\n\t\t\t\tif ($.browser.webkit && !!window.chrome)\n\t\t\t\t{\n\t\t\t\t\tlink = link + '&nbsp;';\n\t\t\t\t}\n\n\t\t\t\tthis.execCommand('inserthtml', link);\n\n\t\t\t\t// file upload callback\n\t\t\t\tif (typeof this.opts.fileUploadCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.fileUploadCallback(this, data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t},\n\n\n\n\t\t// MODAL\n\t\tmodalInit: function(title, url, width, handler, endCallback)\n\t\t{\n\t\t\t// modal overlay\n\t\t\tif ($('#redactor_modal_overlay').size() === 0)\n\t\t\t{\n\t\t\t\tthis.overlay = $('<div id=\"redactor_modal_overlay\" style=\"display: none;\"></div>');\n\t\t\t\t$('body').prepend(this.overlay);\n\t\t\t}\n\n\t\t\tif (this.opts.overlay)\n\t\t\t{\n\t\t\t\t$('#redactor_modal_overlay').show();\n\t\t\t\t$('#redactor_modal_overlay').click($.proxy(this.modalClose, this));\n\t\t\t}\n\n\t\t\tif ($('#redactor_modal').size() === 0)\n\t\t\t{\n\t\t\t\tthis.modal = $('<div id=\"redactor_modal\" style=\"display: none;\"><div id=\"redactor_modal_close\">&times;</div><div id=\"redactor_modal_header\"></div><div id=\"redactor_modal_inner\"></div></div>');\n\t\t\t\t$('body').append(this.modal);\n\t\t\t}\n\n\t\t\t$('#redactor_modal_close').click($.proxy(this.modalClose, this));\n\n\t\t\tthis.hdlModalClose = $.proxy(function(e) { if ( e.keyCode === 27) { this.modalClose(); } }, this);\n\n\t\t\t$(document).keyup(this.hdlModalClose);\n\t\t\tthis.$editor.keyup(this.hdlModalClose);\n\n\t\t\t$('#redactor_modal_inner').html(this.opts['modal_' + url]);\n\t\t\t$('#redactor_modal_header').html(title);\n\n\t\t\t// tabs\n\t\t\tif ($('#redactor_tabs').size() !== 0)\n\t\t\t{\n\t\t\t\tvar that = this;\n\t\t\t\t$('#redactor_tabs a').each(function(i,s)\n\t\t\t\t{\n\t\t\t\t\ti++;\n\t\t\t\t\t$(s).click(function()\n\t\t\t\t\t{\n\t\t\t\t\t\t$('#redactor_tabs a').removeClass('redactor_tabs_act');\n\t\t\t\t\t\t$(this).addClass('redactor_tabs_act');\n\t\t\t\t\t\t$('.redactor_tab').hide();\n\t\t\t\t\t\t$('#redactor_tab' + i).show();\n\t\t\t\t\t\t$('#redactor_tab_selected').val(i);\n\n\t\t\t\t\t\tif (that.isMobile() === false)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar height = $('#redactor_modal').outerHeight();\n\t\t\t\t\t\t\t$('#redactor_modal').css('margin-top', '-' + (height+10)/2 + 'px');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#redactor_btn_modal_close').click($.proxy(this.modalClose, this));\n\n\t\t\t// callback\n\t\t\tif (typeof(handler) === 'function')\n\t\t\t{\n\t\t\t\thandler();\n\t\t\t}\n\n\t\t\t// setup\n\t\t\tvar height = $('#redactor_modal').outerHeight();\n\n\t\t\tif (this.isMobile() === false)\n\t\t\t{\n\t\t\t\t$('#redactor_modal').css({ position: 'fixed', top: '50%', left: '50%', width: width + 'px', height: 'auto', minHeight: 'auto', marginTop: '-' + (height+10)/2 + 'px', marginLeft: '-' + (width+60)/2 + 'px' }).fadeIn('fast');\n\n\t\t\t\tthis.modalSaveBodyOveflow = $(document.body).css('overflow');\n\t\t\t\t$(document.body).css('overflow', 'hidden');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#redactor_modal').css({ position: 'fixed', width: '100%', height: '100%', top: '0', left: '0', margin: '0', minHeight: '300px' }).show();\n\t\t\t}\n\n\t\t\t// end callback\n\t\t\tif (typeof(endCallback) === 'function')\n\t\t\t{\n\t\t\t\tendCallback();\n\t\t\t}\n\n\t\t},\n\t\tmodalClose: function()\n\t\t{\n\n\t\t\t$('#redactor_modal_close').unbind('click', this.modalClose);\n\t\t\t$('#redactor_modal').fadeOut('fast', $.proxy(function()\n\t\t\t{\n\t\t\t\t$('#redactor_modal_inner').html('');\n\n\t\t\t\tif (this.opts.overlay)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_modal_overlay').hide();\n\t\t\t\t\t$('#redactor_modal_overlay').unbind('click', this.modalClose);\n\t\t\t\t}\n\n\t\t\t\t$(document).unbind('keyup', this.hdlModalClose);\n\t\t\t\tthis.$editor.unbind('keyup', this.hdlModalClose);\n\n\t\t\t}, this));\n\n\t\t\tif (this.isMobile() === false)\n\t\t\t{\n\t\t\t\t$(document.body).css('overflow', this.modalSaveBodyOveflow);\n\t\t\t}\n\n\t\t},\n\t\tsetModalTab: function(num)\n\t\t{\n\t\t\t$('.redactor_tab').hide();\n\t\t\tvar tabs = $('#redactor_tabs a');\n\t\t\ttabs.removeClass('redactor_tabs_act');\n\t\t\ttabs.eq(num-1).addClass('redactor_tabs_act');\n\t\t\t$('#redactor_tab' + num).show();\n\t\t},\n\n\t\t// UPLOAD\n\t\tuploadInit: function(element, options)\n\t\t{\n\t\t\t// Upload Options\n\t\t\tthis.uploadOptions = {\n\t\t\t\turl: false,\n\t\t\t\tsuccess: false,\n\t\t\t\tstart: false,\n\t\t\t\ttrigger: false,\n\t\t\t\tauto: false,\n\t\t\t\tinput: false\n\t\t\t};\n\n\t\t\t$.extend(this.uploadOptions, options);\n\n\t\t\t// Test input or form\n\t\t\tif ($('#' + element).size() !== 0 && $('#' + element).get(0).tagName === 'INPUT')\n\t\t\t{\n\t\t\t\tthis.uploadOptions.input = $('#' + element);\n\t\t\t\tthis.element = $($('#' + element).get(0).form);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.element = $('#' + element);\n\t\t\t}\n\n\t\t\tthis.element_action = this.element.attr('action');\n\n\t\t\t// Auto or trigger\n\t\t\tif (this.uploadOptions.auto)\n\t\t\t{\n\t\t\t\t$(this.uploadOptions.input).change($.proxy(function()\n\t\t\t\t{\n\t\t\t\t\tthis.element.submit(function(e) { return false; });\n\t\t\t\t\tthis.uploadSubmit();\n\t\t\t\t}, this));\n\n\t\t\t}\n\t\t\telse if (this.uploadOptions.trigger)\n\t\t\t{\n\t\t\t\t$('#' + this.uploadOptions.trigger).click($.proxy(this.uploadSubmit, this));\n\t\t\t}\n\t\t},\n\t\tuploadSubmit : function()\n\t\t{\n\t\t\tthis.uploadForm(this.element, this.uploadFrame());\n\t\t},\n\t\tuploadFrame : function()\n\t\t{\n\t\t\tthis.id = 'f' + Math.floor(Math.random() * 99999);\n\n\t\t\tvar d = document.createElement('div');\n\t\t\tvar iframe = '<iframe style=\"display:none\" id=\"'+this.id+'\" name=\"'+this.id+'\"></iframe>';\n\t\t\td.innerHTML = iframe;\n\t\t\tdocument.body.appendChild(d);\n\n\t\t\t// Start\n\t\t\tif (this.uploadOptions.start)\n\t\t\t{\n\t\t\t\tthis.uploadOptions.start();\n\t\t\t}\n\n\t\t\t$('#' + this.id).load($.proxy(this.uploadLoaded, this));\n\n\t\t\treturn this.id;\n\t\t},\n\t\tuploadForm : function(f, name)\n\t\t{\n\t\t\tif (this.uploadOptions.input)\n\t\t\t{\n\t\t\t\tvar formId = 'redactorUploadForm' + this.id;\n\t\t\t\tvar fileId = 'redactorUploadFile' + this.id;\n\t\t\t\tthis.form = $('<form  action=\"' + this.uploadOptions.url + '\" method=\"POST\" target=\"' + name + '\" name=\"' + formId + '\" id=\"' + formId + '\" enctype=\"multipart/form-data\"></form>');\n\n\t\t\t\t// append hidden fields\n\t\t\t\tif (this.opts.uploadFields !== false && typeof this.opts.uploadFields === 'object')\n\t\t\t\t{\n\t\t\t\t\t$.each(this.opts.uploadFields, $.proxy(function(k,v)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (v.indexOf('#') === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tv = $(v).val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar hidden = $('<input type=\"hidden\" name=\"' + k + '\" value=\"' + v + '\">');\n\t\t\t\t\t\t$(this.form).append(hidden);\n\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\n\t\t\t\tvar oldElement = this.uploadOptions.input;\n\t\t\t\tvar newElement = $(oldElement).clone();\n\t\t\t\t$(oldElement).attr('id', fileId);\n\t\t\t\t$(oldElement).before(newElement);\n\t\t\t\t$(oldElement).appendTo(this.form);\n\t\t\t\t$(this.form).css('position', 'absolute');\n\t\t\t\t$(this.form).css('top', '-2000px');\n\t\t\t\t$(this.form).css('left', '-2000px');\n\t\t\t\t$(this.form).appendTo('body');\n\n\t\t\t\tthis.form.submit();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tf.attr('target', name);\n\t\t\t\tf.attr('method', 'POST');\n\t\t\t\tf.attr('enctype', 'multipart/form-data');\n\t\t\t\tf.attr('action', this.uploadOptions.url);\n\n\t\t\t\tthis.element.submit();\n\t\t\t}\n\n\t\t},\n\t\tuploadLoaded : function()\n\t\t{\n\t\t\tvar i = $('#' + this.id);\n\t\t\tvar d;\n\n\t\t\tif (i.contentDocument)\n\t\t\t{\n\t\t\t\td = i.contentDocument;\n\t\t\t}\n\t\t\telse if (i.contentWindow)\n\t\t\t{\n\t\t\t\td = i.contentWindow.document;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\td = window.frames[this.id].document;\n\t\t\t}\n\n\t\t\t// Success\n\t\t\tif (this.uploadOptions.success)\n\t\t\t{\n\t\t\t\tif (typeof d !== 'undefined')\n\t\t\t\t{\n\t\t\t\t\t// Remove bizarre <pre> tag wrappers around our json data:\n\t\t\t\t\tvar rawString = d.body.innerHTML;\n\t\t\t\t\tvar jsonString = rawString.match(/\\{.*\\}/)[0];\n\t\t\t\t\tthis.uploadOptions.success(jsonString);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\talert('Upload failed!');\n\t\t\t\t\tthis.uploadOptions.success(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.element.attr('action', this.element_action);\n\t\t\tthis.element.attr('target', '');\n\n\t\t},\n\n\t\t// UTILITY\n\t\toldIE: function()\n\t\t{\n\t\t\tif ($.browser.msie && parseInt($.browser.version, 10) < 9)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\touterHTML: function(s)\n\t\t{\n\t\t\treturn $(\"<p>\").append($(s).eq(0).clone()).html();\n\t\t},\n\t\tnormalize: function(str)\n\t\t{\n\t\t\treturn parseInt(str.replace('px',''), 10);\n\t\t},\n\t\tisMobile: function(ipad)\n\t\t{\n\t\t\tif (ipad === true && /(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t};\n\n\n\t// API\n\t$.fn.getEditor = function()\n\t{\n\t\treturn this.data('redactor').$editor;\n\t};\n\n\t$.fn.getCode = function()\n\t{\n\t\treturn this.data('redactor').getCode();\n\t};\n\n\t$.fn.getText = function()\n\t{\n\t\treturn this.data('redactor').$editor.text();\n\t};\n\n\t$.fn.getSelected = function()\n\t{\n\t\treturn this.data('redactor').getSelectedHtml();\n\t};\n\n\t$.fn.setCode = function(html)\n\t{\n\t\tthis.data('redactor').setCode(html);\n\t};\n\n\t$.fn.insertHtml = function(html)\n\t{\n\t\tthis.data('redactor').insertHtml(html);\n\t};\n\n\t$.fn.destroyEditor = function()\n\t{\n\t\tthis.data('redactor').destroy();\n\t\tthis.removeData('redactor');\n\t};\n\n\t$.fn.setFocus = function()\n\t{\n\t\tthis.data('redactor').$editor.focus();\n\t};\n\n\t$.fn.execCommand = function(cmd, param)\n\t{\n\t\tthis.data('redactor').execCommand(cmd, param);\n\t};\n\n})(jQuery);\n\n/*\n\tPlugin Drag and drop Upload v1.0.2\n\thttp://imperavi.com/\n\tCopyright 2012, Imperavi Inc.\n*/\n(function($){\n\n\t\"use strict\";\n\n\t// Initialization\n\t$.fn.dragupload = function(options)\n\t{\n\t\treturn this.each(function() {\n\t\t\tvar obj = new Construct(this, options);\n\t\t\tobj.init();\n\t\t});\n\t};\n\n\t// Options and variables\n\tfunction Construct(el, options) {\n\n\t\tthis.opts = $.extend({\n\n\t\t\turl: false,\n\t\t\tsuccess: false,\n\t\t\tpreview: false,\n\t\t\tuploadFields: false,\n\n\t\t\ttext: RLANG.drop_file_here,\n\t\t\tatext: RLANG.or_choose\n\n\t\t}, options);\n\n\t\tthis.$el = $(el);\n\t}\n\n\t// Functionality\n\tConstruct.prototype = {\n\t\tinit: function()\n\t\t{\n\t\t\tif (!$.browser.msie)\n\t\t\t{\n\t\t\t\tthis.droparea = $('<div class=\"redactor_droparea\"></div>');\n\t\t\t\tthis.dropareabox = $('<div class=\"redactor_dropareabox\">' + this.opts.text + '</div>');\n\t\t\t\tthis.dropalternative = $('<div class=\"redactor_dropalternative\">' + this.opts.atext + '</div>');\n\n\t\t\t\tthis.droparea.append(this.dropareabox);\n\n\t\t\t\tthis.$el.before(this.droparea);\n\t\t\t\tthis.$el.before(this.dropalternative);\n\n\t\t\t\t// drag over\n\t\t\t\tthis.dropareabox.bind('dragover', $.proxy(function() { return this.ondrag(); }, this));\n\n\t\t\t\t// drag leave\n\t\t\t\tthis.dropareabox.bind('dragleave', $.proxy(function() { return this.ondragleave(); }, this));\n\n\t\t\t\tvar uploadProgress = $.proxy(function(e)\n\t\t\t\t{\n\t\t\t\t\tvar percent = parseInt(e.loaded / e.total * 100, 10);\n\t\t\t\t\tthis.dropareabox.text('Loading ' + percent + '%');\n\n\t\t\t\t}, this);\n\n\t\t\t\tvar xhr = jQuery.ajaxSettings.xhr();\n\n\t\t\t\tif (xhr.upload)\n\t\t\t\t{\n\t\t\t\t\txhr.upload.addEventListener('progress', uploadProgress, false);\n\t\t\t\t}\n\n\t\t\t\tvar provider = function () { return xhr; };\n\n\t\t\t\t// drop\n\t\t\t\tthis.dropareabox.get(0).ondrop = $.proxy(function(event)\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tthis.dropareabox.removeClass('hover').addClass('drop');\n\n\t\t\t\t\tvar file = event.dataTransfer.files[0];\n\t\t\t\t\tvar fd = new FormData();\n\n\t\t\t\t\t// append hidden fields\n\t\t\t\t\tif (this.opts.uploadFields !== false && typeof this.opts.uploadFields === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\t$.each(this.opts.uploadFields, $.proxy(function(k,v)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (v.indexOf('#') === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tv = $(v).val();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfd.append(k, v);\n\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}\n\n\t\t\t\t\t// append file data\n\t\t\t\t\tfd.append('file', file);\n\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\turl: this.opts.url,\n\t\t\t\t\t\tdata: fd,\n\t\t\t\t\t\txhr: provider,\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tcontentType: false,\n\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.opts.success !== false)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.opts.success(data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.opts.preview === true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.dropareabox.html(data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}, this)\n\t\t\t\t\t});\n\n\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\t\tondrag: function()\n\t\t{\n\t\t\tthis.dropareabox.addClass('hover');\n\t\t\treturn false;\n\t\t},\n\t\tondragleave: function()\n\t\t{\n\t\t\tthis.dropareabox.removeClass('hover');\n\t\t\treturn false;\n\t\t}\n\t};\n\n})(jQuery);\n\n\n// Define: Linkify plugin from stackoverflow\n(function($){\n\n\t\"use strict\";\n\n\tvar protocol = 'http://';\n\tvar url1 = /(^|&lt;|\\s)(www\\..+?\\..+?)(\\s|&gt;|$)/g,\n\turl2 = /(^|&lt;|\\s)(((https?|ftp):\\/\\/|mailto:).+?)(\\s|&gt;|$)/g,\n\n\t\tlinkifyThis = function ()\n\t\t{\n\t\t\tvar childNodes = this.childNodes,\n\t\t\ti = childNodes.length;\n\t\t\twhile(i--)\n\t\t\t{\n\t\t\t\tvar n = childNodes[i];\n\t\t\t\tif (n.nodeType === 3)\n\t\t\t\t{\n\t\t\t\t\tvar html = n.nodeValue;\n\t\t\t\t\tif (html)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = html.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t\t\t.replace(url1, '$1<a href=\"' + protocol + '$2\">$2</a>$3')\n\t\t\t\t\t\t\t\t\t.replace(url2, '$1<a href=\"$2\">$2</a>$5');\n\n\t\t\t\t\t\t$(n).after(html).remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (n.nodeType === 1  &&  !/^(a|button|textarea)$/i.test(n.tagName))\n\t\t\t\t{\n\t\t\t\t\tlinkifyThis.call(n);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t$.fn.linkify = function ()\n\t{\n\t\tthis.each(linkifyThis);\n\t};\n\n})(jQuery);\n\n\n\n\n/* jQuery plugin textselect\n * version: 0.9\n * author: Josef Moravec, josef.moravec@gmail.com\n * updated: Imperavi Inc.\n *\n */\n(function($){$.event.special.textselect={setup:function(data,namespaces){$(this).data(\"textselected\",false);$(this).data(\"ttt\",data);$(this).bind('mouseup',$.event.special.textselect.handler)},teardown:function(data){$(this).unbind('mouseup',$.event.special.textselect.handler)},handler:function(event){var data=$(this).data(\"ttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if(text!=''){$(this).data(\"textselected\",true);event.type=\"textselect\";event.text=text;$.event.handle.apply(this,arguments)}},getSelectedText:function(data){var text='';if(window.getSelection)text=window.getSelection();else if(document.getSelection){text=document.getSelection();}else if(document.selection){text=document.selection.createRange().text;}return text}};$.event.special.textunselect={setup:function(data,namespaces){$(this).data(\"rttt\",data);$(this).data(\"textselected\",false);$(this).bind('mouseup',$.event.special.textunselect.handler);$(this).bind('keyup',$.event.special.textunselect.handlerKey)},teardown:function(data){$(this).unbind('mouseup',$.event.special.textunselect.handler)},handler:function(event){if($(this).data(\"textselected\")){var data=$(this).data(\"rttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if(text==''){$(this).data(\"textselected\",false);event.type=\"textunselect\";$.event.handle.apply(this,arguments)}}},handlerKey:function(event){if($(this).data(\"textselected\")){var data=$(this).data(\"rttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if((event.keyCode=27)&&(text=='')){$(this).data(\"textselected\",false);event.type=\"textunselect\";$.event.handle.apply(this,arguments)}}}}})(jQuery);","/*\n    Spectrum: The No Hassle Colorpicker\n    https://github.com/bgrins/spectrum\n    Author: Brian Grinstead\n    License: MIT\n    Requires: jQuery, spectrum.css\n*/\n\n(function(window, $, undefined) {\n    var defaultOpts = {\n        color: false,\n        flat: false,\n        showInput: false,\n        showButtons: false,\n        changeOnMove: true,\n        showInitial: false,\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n        showPalette: false,\n        showPaletteOnly: false,\n        addSelectionToPalette: true,\n        maxPaletteSize: 7,\n        theme: 'sp-dark',\n        palette: ['fff', '000']\n    },\n    spectrums = [],\n    IE = $.browser.msie,\n    replaceInput = [\n        \"<div class='sp-replacer sp-cf'>\",\n            \"<div class='sp-preview'></div>\",\n            \"<div class='sp-dd'>&#9660;</div>\",\n        \"</div>\"\n    ].join(''),\n    markup = (function() {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = \"\";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n            }\n        }\n\n        return [\n            \"<div class='sp-container'>\",\n                \"<div class='sp-top sp-cf'>\",\n                    \"<div class='sp-fill'></div>\",\n                    \"<div class='sp-top-inner'>\",\n                        \"<div class='sp-color'>\",\n                            \"<div class='sp-sat'>\",\n                                \"<div class='sp-val'>\",\n                                    \"<div class='sp-dragger'></div>\",\n                                \"</div>\",\n                            \"</div>\",\n                        \"</div>\",\n                        \"<div class='sp-hue'>\",\n                            \"<div class='sp-slider'></div>\",\n                            gradientFix,\n                        \"</div>\",\n                    \"</div>\",\n                \"</div>\",\n                \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                \"<div class='sp-input-container sp-cf'>\",\n                    \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                    \"<div>\",\n                        \"<button class='sp-cancel sp-hide-small'>Cancel</button>\",\n                        \"<button class='sp-choose sp-hide-small'>Choose</button>\",\n                        \"<button class='sp-cancel sp-show-small'>X</button>\",\n                        \"<button class='sp-choose sp-show-small'></button>\",\n                    \"</div>\",\n                \"</div>\",\n            \"</div>\"\n        ].join(\"\");\n    })(),\n    paletteTemplate = function(p, active) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var c = i == active ? \" class='sp-thumb-active' \" : \"\";\n            html.push('<span title=\"' + tinycolor(p[i]).toHexString() + '\" style=\"background-color:' + tinycolor(p[i]).toHexString() + ';\"' + c + '></span>');\n        }\n        return html.join('');\n    };\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({ }, defaultOpts, o);\n        opts.callbacks = {\n            'move': bind(opts.move, callbackContext),\n            'change': bind(opts.change, callbackContext),\n            'show': bind(opts.show, callbackContext),\n            'hide': bind(opts.hide, callbackContext),\n            'beforeShow': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showPaletteOnly = opts.showPaletteOnly,\n            showPalette = opts.showPalette || showPaletteOnly,\n            showInitial = opts.showInitial && !flat,\n            addSelectionToPalette = opts.addSelectionToPalette,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            palette = opts.palette.slice(0),\n            draggingClass = \"sp-dragging\",\n            paletteLookup = { };\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            container = $(markup, doc).addClass(theme),\n            dragger = container.find(\".sp-color\"),\n            dragHelper = container.find(\".sp-dragger\"),\n            slider = container.find(\".sp-hue\"),\n            slideHelper = container.find(\".sp-slider\"),\n            textInput = container.find(\".sp-input\"),\n            paletteContainer = container.find(\".sp-palette\"),\n            initialColorContainer = container.find(\".sp-initial\"),\n            cancelButton = container.find(\".sp-cancel\"),\n            chooseButton = container.find(\".sp-choose\"),\n            isInput = boundElement.is(\"input\"),\n            changeOnMove = (opts.changeOnMove || flat),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(\".sp-preview\"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            isInitialized = false;\n\n        function initialize() {\n\n            if (IE) {\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n            }\n\n            container.toggleClass(\"sp-flat\", flat);\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\n            container.toggleClass(\"sp-palette-disabled\", !showPalette);\n            container.toggleClass(\"sp-palette-only\", showPaletteOnly);\n            container.toggleClass(\"sp-initial-disabled\", !showInitial);\n\n            if (shouldReplace) {\n                boundElement.hide().after(replacer);\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n                $(body).append(container.hide());\n            }\n\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function(e) {\n                toggle();\n\n                e.stopPropagation();\n\n                if (!$(e.target).is(\"input\")) {\n                    e.preventDefault();\n                }\n            });\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.keydown(function(e) { if (e.keyCode == 13) { setFromTextInput(); } } );\n\n            cancelButton.bind(\"click touchstart\", function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n                cancel();\n                hide();\n            });\n\n            chooseButton.bind(\"click touchstart\", function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n                hide();\n            });\n\n            draggable(slider, function(dragX, dragY) {\n                currentHue = (dragY / slideHeight);\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function(dragX, dragY) {\n                currentSaturation = dragX / dragWidth;\n                currentValue = (dragHeight - dragY) / dragHeight;\n                move();\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n                if (addSelectionToPalette) {\n                    palette.push(initialColor);\n                }\n            }\n\n            setPalette(palette);\n\n            if (flat) {\n                show();\n            }\n\n            function palletElementClick(e) {\n                set($(this).css(\"background-color\"));\n                e.stopPropagation();\n            }\n            paletteContainer.delegate(\"span\", \"click touchstart\", palletElementClick);\n            initialColorContainer.delegate(\"span\", \"click touchstart\", palletElementClick);\n\n            isInitialized = true;\n        }\n\n        function setPalette(p) {\n            if (showPalette) {\n                var unique = [];\n                paletteLookup = { };\n                for (var i = 0; i < p.length; i++) {\n                    var hex = tinycolor(p[i]).toHexString();\n                    if (!paletteLookup.hasOwnProperty(hex)) {\n                        paletteLookup[hex] = unique.push(p[i]) - 1;\n                    }\n                }\n                palette = unique.slice(0, opts.maxPaletteSize);\n                drawPalette();\n            }\n        }\n        function drawPalette(active) {\n            paletteContainer.html(paletteTemplate(palette, active));\n        }\n        function drawInitial() {\n            if (showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                var activeIndex = 0;\n                if (!tinycolor.equals(initial, current)) {\n                    activeIndex = 1;\n                }\n                initialColorContainer.html(paletteTemplate([initial, current], activeIndex));\n            }\n        }\n        function dragStart() {\n            if (dragHeight === 0 || dragWidth === 0 || slideHeight === 0) {\n                reflow();\n            }\n            container.addClass(draggingClass);\n        }\n        function dragStop() {\n          container.removeClass(draggingClass);\n        }\n        function setFromTextInput() {\n            set(textInput.val());\n        }\n\n        function toggle() {\n            (visible) ? hide() : show();\n        }\n\n        function show() {\n            if (visible) { return; }\n            if (callbacks.beforeShow(get()) === false) return;\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind(\"click touchstart\", hide);\n            $(window).bind(\"resize\", resize);\n            replacer.addClass(\"sp-active\");\n            container.show();\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n            drawInitial();\n            callbacks.show(get());\n        }\n\n        function cancel() {\n            set(colorOnShow);\n        }\n\n        function hide() {\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind(\"click touchstart\", hide);\n            $(window).unbind(\"resize\", resize);\n\n            replacer.removeClass(\"sp-active\");\n            container.hide();\n\n            var realColor = get();\n\n            // Update the palette with the current color\n            if (addSelectionToPalette) {\n                palette.push(realColor.toHexString());\n                setPalette(palette);\n            }\n\n            // Change hasn't been called yet, so call it now that the picker has closed\n            if (!changeOnMove) {\n                updateOriginalInput();\n            }\n\n            callbacks.hide(realColor);\n        }\n\n        function set(color) {\n            var newColor = tinycolor(color);\n            var newHsv = newColor.toHsv();\n\n            currentHue = newHsv.h;\n            currentSaturation = newHsv.s;\n            currentValue = newHsv.v;\n\n            updateUI();\n\n            // set can be called from a default value,  don't want to trigger a change in that case\n            if (isInitialized) {\n                updateOriginalInput();\n            }\n        }\n\n        function get() {\n            return tinycolor({ h: currentHue, s: currentSaturation, v: currentValue });\n        }\n\n        function move() {\n            updateUI();\n\n            if (changeOnMove) {\n                updateOriginalInput();\n            }\n\n            callbacks.move(get());\n        }\n\n        function updateUI() {\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor({ h: currentHue, s: \"1.0\", v: \"1.0\"});\n            dragger.css(\"background-color\", flatColor.toHexString());\n\n            var realColor = get(),\n                realHex = realColor.toHexString();\n\n            // Update the replaced elements background color (with actual selected color)\n            previewElement.css(\"background-color\", realHex);\n\n            // Update the text entry input as it changes happen\n            if (isInput) {\n                textInput.val(realHex);\n            }\n\n            if (showPalette) {\n                drawPalette(paletteLookup[realHex]);\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var h = currentHue;\n            var s = currentSaturation;\n            var v = currentValue;\n\n            // Where to show the little circle in that displays your current selected color\n            var dragX = s * dragWidth;\n            var dragY = dragHeight - (v * dragHeight);\n            dragX = Math.max(\n                -dragHelperHeight,\n                Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n            );\n            dragY = Math.max(\n                -dragHelperHeight,\n                Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n            );\n            dragHelper.css({\n                \"top\": dragY+6,\n                \"left\": dragX+6\n            });\n\n            // Where to show the bar that displays your current selected hue\n            var slideY = (currentHue) * slideHeight;\n            slideHelper.css({\n                \"top\": (slideY - slideHelperHeight) - 3\n            });\n        }\n\n        function updateOriginalInput() {\n            var color = get();\n            if (isInput) {\n                boundElement.val(color.toHexString());\n            }\n\n            callbacks.change(color);\n        }\n\n        function reflow() {\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHelperHeight = slideHelper.height();\n\n            if (!flat) {\n                container.offset(getOffset(container, offsetElement));\n            }\n\n            updateHelperLocations();\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            set: set,\n            get: get,\n            destroy: destroy\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return  spect;\n    }\n\n    /**\n     * checkOffset - get the offset below/above and left/right element depending on screen position\n     * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n     */\n    function getOffset(picker, input) {\n        var extraY = -5;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputWidth = input.outerWidth();\n        var inputHeight =  input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY)  );\n\n        return offset;\n    }\n\n    /**\n     * noop - do nothing\n     */\n    function noop() {\n\n    }\n\n    /**\n     * stopPropagation - makes the code only doing this a little easier to read in line\n     */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n     * Create a function bound to a given object\n     * Thanks to underscore.js\n     */\n    function bind (func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function() {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        }\n    }\n\n    /**\n     * Lightweight drag helper.  Handles containment within the element, so that\n     * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n     */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function() { };\n        onstart = onstart || function() { };\n        onstop = onstop || function() { };\n        var doc = element.ownerDocument || document;\n        var dragging = false;\n        var offset = { };\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var IE = $.browser.msie;\n        var hasTouch = ('ontouchstart' in window);\n\n        var duringDragEvents = { };\n        duringDragEvents[\"selectstart\"] = prevent;\n        duringDragEvents[\"dragstart\"] = prevent;\n        duringDragEvents[(hasTouch ? \"touchmove\" : \"mousemove\")] = move;\n        duringDragEvents[(hasTouch ? \"touchend\" : \"mouseup\")] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && !(document.documentMode >= 9) && !e.button) {\n                    return stop();\n                }\n\n                var touches =  e.originalEvent.touches;\n                var pageX = touches ? touches[0].pageX : e.pageX;\n                var pageY = touches ? touches[0].pageY : e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY]);\n            }\n        }\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n            var touches =  e.originalEvent.touches;\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n\n                    if (!hasTouch) {\n                        move(e);\n                    }\n                    else {\n                        prevent(e);\n                    }\n                }\n            }\n        }\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                onstop.apply(element, arguments);\n            }\n            dragging = false;\n        }\n\n        $(element).bind(hasTouch ? \"touchstart\" : \"mousedown\", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function() {\n          var context = this, args = arguments;\n          var throttler = function() {\n            timeout = null;\n            func.apply(context, args);\n          };\n          if (debounce) clearTimeout(timeout);\n          if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n\n    /**\n     * Define a jQuery plugin\n     */\n    var dataID = \"spectrum.id\";\n    $.fn.spectrum = function(opts, extra) {\n        if (typeof opts == \"string\") {\n            if (opts == \"get\") {\n                return spectrums[this.eq(0).data(dataID)].get();\n            }\n\n            return this.each(function() {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    if (opts == \"show\") { spect.show(); }\n                    if (opts == \"hide\") { spect.hide(); }\n                    if (opts == \"set\")  { spect.set(extra); }\n                    if (opts == \"destroy\")  {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                }\n            });\n        }\n\n        // Initializing a new one\n        return this.spectrum(\"destroy\").each(function() {\n            var spect = spectrum(this, opts);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = { };\n    $.fn.spectrum.draggable = draggable;\n\n    $(function() {\n        if ($.fn.spectrum.load) {\n            $(\"input[type=spectrum]\").each(function() {\n                var existing = spectrums[$(this).data(dataID)];\n                if (!existing) {\n                    $(this).spectrum($.fn.spectrum.loadOpts);\n                }\n            });\n        }\n    });\n\n})(this, jQuery);\n\n// TinyColor.js - https://github.com/bgrins/TinyColor - 2011 Brian Grinstead - v0.5\n(function(s){function d(b,a){if(typeof b==\"object\"&&b.hasOwnProperty(\"_tc_id\"))return b;if(typeof b==\"object\"&&(!a||!a.skipRatio))for(var c in b)b[c]===1&&(b[c]=\"1.0\");c=v(b);var k=c.r,f=c.g,d=c.b,h=n(c.a);k<1&&(k=e(k));f<1&&(f=e(f));d<1&&(d=e(d));return{ok:c.ok,_tc_id:w++,alpha:h,toHsv:function(){return t(k,f,d)},toHsvString:function(){var a=t(k,f,d),b=e(a.h*360),c=e(a.s*100);a=e(a.v*100);return\"hsv(\"+b+\", \"+c+\"%, \"+a+\"%)\"},toHsl:function(){return u(k,f,d)},toHslString:function(){var a=u(k,f,d),\nb=e(a.h*360),c=e(a.s*100);a=e(a.l*100);return h==1?\"hsl(\"+b+\", \"+c+\"%, \"+a+\"%)\":\"hsla(\"+b+\", \"+c+\"%, \"+a+\"%, \"+h+\")\"},toHex:function(){return q(k,f,d)},toHexString:function(){return\"#\"+q(k,f,d)},toRgb:function(){return{r:e(k),g:e(f),b:e(d)}},toRgbString:function(){return h==1?\"rgb(\"+e(k)+\", \"+e(f)+\", \"+e(d)+\")\":\"rgba(\"+e(k)+\", \"+e(f)+\", \"+e(d)+\", \"+h+\")\"},toName:function(){return x[q(k,d,f)]||!1},toFilter:function(){var a=q(k,f,d),b=Math.round(n(h)*255).toString(16);return\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#\"+\nb+a+\",endColorstr=#\"+b+a+\")\"}}}function v(b){var a={r:255,g:255,b:255},c=1,d=!1;typeof b==\"string\"&&(b=y(b));if(typeof b==\"object\"){if(b.hasOwnProperty(\"r\")&&b.hasOwnProperty(\"g\")&&b.hasOwnProperty(\"b\"))a={r:j(b.r,255)*255,g:j(b.g,255)*255,b:j(b.b,255)*255},d=!0;else if(b.hasOwnProperty(\"h\")&&b.hasOwnProperty(\"s\")&&b.hasOwnProperty(\"v\")){var f=b.h,g=b.s;a=b.v;var h,e,o;f=j(f,360);g=j(g,100);a=j(a,100);d=p.floor(f*6);var i=f*6-d;f=a*(1-g);var n=a*(1-i*g);g=a*(1-(1-i)*g);switch(d%6){case 0:h=a;e=g;\no=f;break;case 1:h=n;e=a;o=f;break;case 2:h=f;e=a;o=g;break;case 3:h=f;e=n;o=a;break;case 4:h=g;e=f;o=a;break;case 5:h=a,e=f,o=n}a={r:h*255,g:e*255,b:o*255};d=!0}else b.hasOwnProperty(\"h\")&&b.hasOwnProperty(\"s\")&&b.hasOwnProperty(\"l\")&&(a=z(b.h,b.s,b.l),d=!0);if(b.hasOwnProperty(\"a\"))c=b.a}return{ok:d,r:l(255,m(a.r,0)),g:l(255,m(a.g,0)),b:l(255,m(a.b,0)),a:c}}function u(b,a,c){b=j(b,255);a=j(a,255);c=j(c,255);var d=m(b,a,c),f=l(b,a,c),g,e=(d+f)/2;if(d==f)g=f=0;else{var i=d-f;f=e>0.5?i/(2-d-f):i/(d+\nf);switch(d){case b:g=(a-c)/i+(a<c?6:0);break;case a:g=(c-b)/i+2;break;case c:g=(b-a)/i+4}g/=6}return{h:g,s:f,l:e}}function z(b,a,c){function d(a,b,c){c<0&&(c+=1);c>1&&(c-=1);if(c<1/6)return a+(b-a)*6*c;if(c<0.5)return b;if(c<2/3)return a+(b-a)*(2/3-c)*6;return a}b=j(b,360);a=j(a,100);c=j(c,100);if(a==0)c=a=b=c;else{var f=c<0.5?c*(1+a):c+a-c*a,e=2*c-f;c=d(e,f,b+1/3);a=d(e,f,b);b=d(e,f,b-1/3)}return{r:c*255,g:a*255,b:b*255}}function t(b,a,c){b=j(b,255);a=j(a,255);c=j(c,255);var d=m(b,a,c),f=l(b,a,\nc),e,h=d-f;if(d==f)e=0;else{switch(d){case b:e=(a-c)/h+(a<c?6:0);break;case a:e=(c-b)/h+2;break;case c:e=(b-a)/h+4}e/=6}return{h:e,s:d==0?0:h/d,v:d}}function q(b,a,c){function d(a){return a.length==1?\"0\"+a:a}return[d(e(b).toString(16)),d(e(a).toString(16)),d(e(c).toString(16))].join(\"\")}function j(b,a){typeof b==\"string\"&&b.indexOf(\".\")!=-1&&n(b)===1&&(b=\"100%\");var c=typeof b===\"string\"&&b.indexOf(\"%\")!=-1;b=l(a,m(0,n(b)));c&&(b*=a/100);if(p.abs(b-a)<1.0E-6)return 1;else if(b>=1)return b%a/n(a);\nreturn b}function y(b){b=b.replace(A,\"\").replace(B,\"\").toLowerCase();r[b]&&(b=r[b]);if(b==\"transparent\")return{r:0,g:0,b:0,a:0};var a;if(a=i.rgb.exec(b))return{r:a[1],g:a[2],b:a[3]};if(a=i.rgba.exec(b))return{r:a[1],g:a[2],b:a[3],a:a[4]};if(a=i.hsl.exec(b))return{h:a[1],s:a[2],l:a[3]};if(a=i.hsla.exec(b))return{h:a[1],s:a[2],l:a[3],a:a[4]};if(a=i.hsv.exec(b))return{h:a[1],s:a[2],v:a[3]};if(a=i.hex6.exec(b))return{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)};if(a=i.hex3.exec(b))return{r:parseInt(a[1]+\n\"\"+a[1],16),g:parseInt(a[2]+\"\"+a[2],16),b:parseInt(a[3]+\"\"+a[3],16)};return!1}var A=/^[\\s,#]+/,B=/\\s+$/,w=0,p=Math,e=p.round,l=p.min,m=p.max,n=s.parseFloat;d.equals=function(b,a){return d(b).toHex()==d(a).toHex()};d.desaturate=function(b,a){var c=d(b).toHsl();c.s-=(a||10)/100;c.s=l(1,m(0,c.s));return d(c)};d.saturate=function(b,a){var c=d(b).toHsl();c.s+=(a||10)/100;c.s=l(1,m(0,c.s));return d(c)};d.greyscale=function(b){return d.desaturate(b,100)};d.lighten=function(b,a){var c=d(b).toHsl();c.l+=(a||\n10)/100;c.l=l(1,m(0,c.l));return d(c)};d.darken=function(b,a){var c=d(b).toHsl();c.l-=(a||10)/100;c.l=l(1,m(0,c.l));return d(c)};d.complement=function(b){b=d(b).toHsl();b.h=(b.h+0.5)%1;return d(b)};d.triad=function(b){var a=d(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+120)%360,s:a.s,l:a.l}),d({h:(c+240)%360,s:a.s,l:a.l})]};d.tetrad=function(b){var a=d(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+90)%360,s:a.s,l:a.l}),d({h:(c+180)%360,s:a.s,l:a.l}),d({h:(c+270)%360,s:a.s,l:a.l})]};d.splitcomplement=function(b){var a=\nd(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+72)%360,s:a.s,l:a.l}),d({h:(c+216)%360,s:a.s,l:a.l})]};d.analogous=function(b,a,c){a=a||6;c=c||30;var e=d(b).toHsl();c=360/c;b=[d(b)];e.h*=360;for(e.h=(e.h-(c*a>>1)+720)%360;--a;)e.h=(e.h+c)%360,b.push(d(e));return b};d.monochromatic=function(b,a){a=a||6;var c=d(b).toHsv(),e=c.h,f=c.s;c=c.v;for(var g=[];a--;)g.push(d({h:e,s:f,v:c})),c=(c+0.2)%1;return g};d.readable=function(b,a){var c=d(b).toRgb(),e=d(a).toRgb();return(e.r-c.r)*(e.r-c.r)+(e.g-c.g)*(e.g-c.g)+\n(e.b-c.b)*(e.b-c.b)>10404};var r=d.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",\ndarkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",\ngold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",\nlightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",\nolive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",\nslategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},x=function(b){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[b[c]]=c);return a}(r),i={rgb:RegExp(\"rgb[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),\nrgba:RegExp(\"rgba[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hsl:RegExp(\"hsl[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hsla:RegExp(\"hsla[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),\nhsv:RegExp(\"hsv[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};s.tinycolor=d})(this);"],"sourceRoot":"/source/"}